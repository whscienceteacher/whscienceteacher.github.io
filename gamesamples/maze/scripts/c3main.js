// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let P=function(t){bh=t},k=function(t){return t*Ph},F=function(t,s){return Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},j=function(){var t=new bh(4);return bh!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},z=function(t){var s=new bh(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},B=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},U=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},W=function(t,s,i,e){var h=new bh(4);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h},Q=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},J=function(t,s){var i;return t===s?(i=s[1],t[1]=s[2],t[2]=i):(t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3]),t},V=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=i*s-h*e;return r?(t[0]=s*(r=1/r),t[1]=-e*r,t[2]=-h*r,t[3]=i*r,t):null},Y=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},H=function(t){return t[0]*t[3]-t[2]*t[1]},t=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*n+r*o,t[1]=h*n+s*o,t[2]=e*a+r*i,t[3]=h*a+s*i,t},q=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=Math.sin(i),i=Math.cos(i);return t[0]=e*i+r*n,t[1]=h*i+s*n,t[2]=e*-n+r*i,t[3]=h*-n+s*i,t},Z=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=i[0],i=i[1];return t[0]=e*n,t[1]=h*n,t[2]=r*i,t[3]=s*i,t},X=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t},K=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},$=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},tt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},st=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},it=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},s=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},et=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},ht=function(t,s){var i=t[0],e=t[1],h=t[2],t=t[3],r=s[0],n=s[1],o=s[2],s=s[3];return Math.abs(i-r)<=Th*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(e-n)<=Th*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(h-o)<=Th*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},rt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},nt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},ot=function(){var t=new bh(6);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},at=function(t){var s=new bh(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},ut=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},lt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},ct=function(t,s,i,e,h,r){var n=new bh(6);return n[0]=t,n[1]=s,n[2]=i,n[3]=e,n[4]=h,n[5]=r,n},ft=function(t,s,i,e,h,r,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=r,t[5]=n,t},dt=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],s=s[5],o=i*r-e*h;return o?(t[0]=r*(o=1/o),t[1]=-e*o,t[2]=-h*o,t[3]=i*o,t[4]=(h*s-r*n)*o,t[5]=(e*n-i*s)*o,t):null},pt=function(t){return t[0]*t[3]-t[1]*t[2]},i=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],s=s[5],a=i[0],u=i[1],l=i[2],c=i[3],f=i[4],i=i[5];return t[0]=e*a+r*u,t[1]=h*a+n*u,t[2]=e*l+r*c,t[3]=h*l+n*c,t[4]=e*f+r*i+o,t[5]=h*f+n*i+s,t},mt=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],s=s[5],a=Math.sin(i),i=Math.cos(i);return t[0]=e*i+r*a,t[1]=h*i+n*a,t[2]=e*-a+r*i,t[3]=h*-a+n*i,t[4]=o,t[5]=s,t},gt=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e*a,t[1]=h*a,t[2]=r*i,t[3]=n*i,t[4]=o,t[5]=s,t},yt=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e,t[1]=h,t[2]=r,t[3]=n,t[4]=e*a+r*i+o,t[5]=h*a+n*i+s,t},Mt=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t[4]=0,t[5]=0,t},wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},St=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},Tt=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},bt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},xt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},e=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},vt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},Ct=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},Gt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},It=function(t,s){var i=t[0],e=t[1],h=t[2],r=t[3],n=t[4],t=t[5],o=s[0],a=s[1],u=s[2],l=s[3],c=s[4],s=s[5];return Math.abs(i-o)<=Th*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(e-a)<=Th*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(h-u)<=Th*Math.max(1,Math.abs(h),Math.abs(u))&&Math.abs(r-l)<=Th*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=Th*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},h=function(){var t=new bh(9);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},Et=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},_t=function(t){var s=new bh(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Dt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Nt=function(t,s,i,e,h,r,n,o,a){var u=new bh(9);return u[0]=t,u[1]=s,u[2]=i,u[3]=e,u[4]=h,u[5]=r,u[6]=n,u[7]=o,u[8]=a,u},At=function(t,s,i,e,h,r,n,o,a,u){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=r,t[5]=n,t[6]=o,t[7]=a,t[8]=u,t},Lt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ot=function(t,s){var i,e,h;return t===s?(i=s[1],e=s[2],h=s[5],t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=h):(t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8]),t},Rt=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],o=s[5],a=s[6],u=s[7],s=s[8],l=s*n-o*u,c=-s*r+o*a,f=u*r-n*a,d=i*l+e*c+h*f;return d?(t[0]=l*(d=1/d),t[1]=(-s*e+h*u)*d,t[2]=(o*e-h*n)*d,t[3]=c*d,t[4]=(s*i-h*a)*d,t[5]=(-o*i+h*r)*d,t[6]=f*d,t[7]=(-u*i+e*a)*d,t[8]=(n*i-e*r)*d,t):null},Pt=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],o=s[5],a=s[6],u=s[7],s=s[8];return t[0]=n*s-o*u,t[1]=h*u-e*s,t[2]=e*o-h*n,t[3]=o*a-r*s,t[4]=i*s-h*a,t[5]=h*r-i*o,t[6]=r*u-n*a,t[7]=e*a-i*u,t[8]=i*n-e*r,t},kt=function(t){var s=t[0],i=t[3],e=t[4],h=t[5],r=t[6],n=t[7],o=t[8];return s*(o*e-h*n)+t[1]*(-o*i+h*r)+t[2]*(n*i-e*r)},r=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=i[0],f=i[1],d=i[2],p=i[3],m=i[4],g=i[5],y=i[6],M=i[7],i=i[8];return t[0]=c*e+f*n+d*u,t[1]=c*h+f*o+d*l,t[2]=c*r+f*a+d*s,t[3]=p*e+m*n+g*u,t[4]=p*h+m*o+g*l,t[5]=p*r+m*a+g*s,t[6]=y*e+M*n+i*u,t[7]=y*h+M*o+i*l,t[8]=y*r+M*a+i*s,t},Ft=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=i[0],i=i[1];return t[0]=e,t[1]=h,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t[6]=c*e+i*n+u,t[7]=c*h+i*o+l,t[8]=c*r+i*a+s,t},jt=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=Math.sin(i),i=Math.cos(i);return t[0]=i*e+c*n,t[1]=i*h+c*o,t[2]=i*r+c*a,t[3]=i*n-c*e,t[4]=i*o-c*h,t[5]=i*a-c*r,t[6]=u,t[7]=l,t[8]=s,t},zt=function(t,s,i){var e=i[0],i=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=i*s[3],t[4]=i*s[4],t[5]=i*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Bt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},Ut=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=-i,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Qt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},Jt=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=i+i,n=e+e,o=h+h,i=i*r,a=e*r,e=e*n,u=h*r,l=h*n,h=h*o,r=s*r,n=s*n,s=s*o;return t[0]=1-e-h,t[3]=a-s,t[6]=u+n,t[1]=a+s,t[4]=1-i-h,t[7]=l-r,t[2]=u-n,t[5]=l+r,t[8]=1-i-e,t},Vt=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],s=s[15],y=i*o-e*n,M=i*a-h*n,w=i*u-r*n,S=e*a-h*o,T=e*u-r*o,b=h*u-r*a,x=l*m-c*p,v=l*g-f*p,l=l*s-d*p,C=c*g-f*m,c=c*s-d*m,f=f*s-d*g,d=y*f-M*c+w*C+S*l-T*v+b*x;return d?(t[0]=(o*f-a*c+u*C)*(d=1/d),t[1]=(a*l-n*f-u*v)*d,t[2]=(n*c-o*l+u*x)*d,t[3]=(h*c-e*f-r*C)*d,t[4]=(i*f-h*l+r*v)*d,t[5]=(e*l-i*c-r*x)*d,t[6]=(m*b-g*T+s*S)*d,t[7]=(g*w-p*b-s*M)*d,t[8]=(p*T-m*w+s*y)*d,t):null},Yt=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Ht=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},qt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Zt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},n=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},Xt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Kt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},$t=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},ts=function(t,s){var i=t[0],e=t[1],h=t[2],r=t[3],n=t[4],o=t[5],a=t[6],u=t[7],t=t[8],l=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7],s=s[8];return Math.abs(i-l)<=Th*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(e-c)<=Th*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(h-f)<=Th*Math.max(1,Math.abs(h),Math.abs(f))&&Math.abs(r-d)<=Th*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-p)<=Th*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-m)<=Th*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=Th*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-y)<=Th*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},ss=function(){var t=new bh(16);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},is=function(t){var s=new bh(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},es=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},hs=function(t,s,i,e,h,r,n,o,a,u,l,c,f,d,p,m){var g=new bh(16);return g[0]=t,g[1]=s,g[2]=i,g[3]=e,g[4]=h,g[5]=r,g[6]=n,g[7]=o,g[8]=a,g[9]=u,g[10]=l,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},rs=function(t,s,i,e,h,r,n,o,a,u,l,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=r,t[5]=n,t[6]=o,t[7]=a,t[8]=u,t[9]=l,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},p=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ns=function(t,s){var i,e,h,r,n,o;return t===s?(i=s[1],e=s[2],h=s[3],r=s[6],n=s[7],o=s[11],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=r,t[11]=s[14],t[12]=h,t[13]=n,t[14]=o):(t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15]),t},os=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],s=s[15],y=i*o-e*n,M=i*a-h*n,w=i*u-r*n,S=e*a-h*o,T=e*u-r*o,b=h*u-r*a,x=l*m-c*p,v=l*g-f*p,C=l*s-d*p,G=c*g-f*m,I=c*s-d*m,E=f*s-d*g,_=y*E-M*I+w*G+S*C-T*v+b*x;return _?(t[0]=(o*E-a*I+u*G)*(_=1/_),t[1]=(h*I-e*E-r*G)*_,t[2]=(m*b-g*T+s*S)*_,t[3]=(f*T-c*b-d*S)*_,t[4]=(a*C-n*E-u*v)*_,t[5]=(i*E-h*C+r*v)*_,t[6]=(g*w-p*b-s*M)*_,t[7]=(l*b-f*w+d*M)*_,t[8]=(n*I-o*C+u*x)*_,t[9]=(e*C-i*I-r*x)*_,t[10]=(p*T-m*w+s*y)*_,t[11]=(c*w-l*T-d*y)*_,t[12]=(o*v-n*G-a*x)*_,t[13]=(i*G-e*v+h*x)*_,t[14]=(m*M-p*S-g*y)*_,t[15]=(l*S-c*M+f*y)*_,t):null},as=function(t,s){var i=s[0],e=s[1],h=s[2],r=s[3],n=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],s=s[15],y=i*o-e*n,M=i*a-h*n,w=i*u-r*n,S=e*a-h*o,T=e*u-r*o,b=h*u-r*a,x=l*m-c*p,v=l*g-f*p,C=l*s-d*p,G=c*g-f*m,I=c*s-d*m,E=f*s-d*g;return t[0]=o*E-a*I+u*G,t[1]=h*I-e*E-r*G,t[2]=m*b-g*T+s*S,t[3]=f*T-c*b-d*S,t[4]=a*C-n*E-u*v,t[5]=i*E-h*C+r*v,t[6]=g*w-p*b-s*M,t[7]=l*b-f*w+d*M,t[8]=n*I-o*C+u*x,t[9]=e*C-i*I-r*x,t[10]=p*T-m*w+s*y,t[11]=c*w-l*T-d*y,t[12]=o*v-n*G-a*x,t[13]=i*G-e*v+h*x,t[14]=m*M-p*S-g*y,t[15]=l*S-c*M+f*y,t},us=function(t){var s=t[0],i=t[1],e=t[2],h=t[4],r=t[5],n=t[6],o=t[8],a=t[9],u=t[10],l=t[12],c=t[13],f=t[14],d=s*r-i*h,p=s*n-e*h,m=i*n-e*r,g=o*c-a*l,y=o*f-u*l,M=a*f-u*c;return t[7]*(s*M-i*y+e*g)-t[3]*(h*M-r*y+n*g)+t[15]*(o*m-a*p+u*d)-t[11]*(l*m-c*p+f*d)},o=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],s=s[15],M=i[0],w=i[1],S=i[2],T=i[3];return t[0]=M*e+w*o+S*c+T*m,t[1]=M*h+w*a+S*f+T*g,t[2]=M*r+w*u+S*d+T*y,t[3]=M*n+w*l+S*p+T*s,t[4]=(M=i[4])*e+(w=i[5])*o+(S=i[6])*c+(T=i[7])*m,t[5]=M*h+w*a+S*f+T*g,t[6]=M*r+w*u+S*d+T*y,t[7]=M*n+w*l+S*p+T*s,t[8]=(M=i[8])*e+(w=i[9])*o+(S=i[10])*c+(T=i[11])*m,t[9]=M*h+w*a+S*f+T*g,t[10]=M*r+w*u+S*d+T*y,t[11]=M*n+w*l+S*p+T*s,t[12]=(M=i[12])*e+(w=i[13])*o+(S=i[14])*c+(T=i[15])*m,t[13]=M*h+w*a+S*f+T*g,t[14]=M*r+w*u+S*d+T*y,t[15]=M*n+w*l+S*p+T*s,t},ls=function(t,s,i){var e,h,r,n,o,a,u,l,c,f,d,p,m=i[0],g=i[1],i=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*i+s[12],t[13]=s[1]*m+s[5]*g+s[9]*i+s[13],t[14]=s[2]*m+s[6]*g+s[10]*i+s[14],t[15]=s[3]*m+s[7]*g+s[11]*i+s[15]):(e=s[0],h=s[1],r=s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=h,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t[6]=u,t[7]=l,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*i+s[12],t[13]=h*m+a*g+f*i+s[13],t[14]=r*m+u*g+d*i+s[14],t[15]=n*m+l*g+p*i+s[15]),t},cs=function(t,s,i){var e=i[0],h=i[1],i=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*h,t[5]=s[5]*h,t[6]=s[6]*h,t[7]=s[7]*h,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fs=function(t,s,i,e){var h,r,n,o,a,u,l,c,f,d,p,m,g,y,M,w,S,T,b,x,v=e[0],C=e[1],e=e[2],G=Math.hypot(v,C,e);return G<Th?null:(v*=G=1/G,C*=G,e*=G,G=Math.sin(i),i=Math.cos(i),r=s[0],n=s[1],o=s[2],a=s[3],l=s[5],c=s[6],f=s[7],p=s[9],m=s[10],g=s[11],M=v*C*(h=1-i)-e*G,w=C*C*h+i,S=e*C*h+v*G,T=v*e*h+C*G,b=C*e*h-v*G,x=e*e*h+i,t[0]=r*(i=v*v*h+i)+(u=s[4])*(y=C*v*h+e*G)+(d=s[8])*(e=e*v*h-C*G),t[1]=n*i+l*y+p*e,t[2]=o*i+c*y+m*e,t[3]=a*i+f*y+g*e,t[4]=r*M+u*w+d*S,t[5]=n*M+l*w+p*S,t[6]=o*M+c*w+m*S,t[7]=a*M+f*w+g*S,t[8]=r*T+u*b+d*x,t[9]=n*T+l*b+p*x,t[10]=o*T+c*b+m*x,t[11]=a*T+f*b+g*x,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},ds=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[4],r=s[5],n=s[6],o=s[7],a=s[8],u=s[9],l=s[10],c=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=h*i+a*e,t[5]=r*i+u*e,t[6]=n*i+l*e,t[7]=o*i+c*e,t[8]=a*i-h*e,t[9]=u*i-r*e,t[10]=l*i-n*e,t[11]=c*i-o*e,t},ps=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[0],r=s[1],n=s[2],o=s[3],a=s[8],u=s[9],l=s[10],c=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=h*i-a*e,t[1]=r*i-u*e,t[2]=n*i-l*e,t[3]=o*i-c*e,t[8]=h*e+a*i,t[9]=r*e+u*i,t[10]=n*e+l*i,t[11]=o*e+c*i,t},ms=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[0],r=s[1],n=s[2],o=s[3],a=s[4],u=s[5],l=s[6],c=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=h*i+a*e,t[1]=r*i+u*e,t[2]=n*i+l*e,t[3]=o*i+c*e,t[4]=a*i-h*e,t[5]=u*i-r*e,t[6]=l*i-n*e,t[7]=c*i-o*e,t},gs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ys=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ms=function(t,s,i){var e,h=i[0],r=i[1],i=i[2],n=Math.hypot(h,r,i);return n<Th?null:(h*=n=1/n,r*=n,i*=n,n=Math.sin(s),s=Math.cos(s),t[0]=h*h*(e=1-s)+s,t[1]=r*h*e+i*n,t[2]=i*h*e-r*n,t[3]=0,t[4]=h*r*e-i*n,t[5]=r*r*e+s,t[6]=i*r*e+h*n,t[7]=0,t[8]=h*i*e+r*n,t[9]=r*i*e-h*n,t[10]=i*i*e+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},ws=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ss=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ts=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=e+e,o=h+h,a=r+r,u=e*n,l=e*o,e=e*a,c=h*o,h=h*a,r=r*a,n=s*n,o=s*o,s=s*a;return t[0]=1-(c+r),t[1]=l+s,t[2]=e-o,t[3]=0,t[4]=l-s,t[5]=1-(u+r),t[6]=h+n,t[7]=0,t[8]=e+o,t[9]=h-n,t[10]=1-(u+c),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},bs=function(t,s){var i=new bh(3),e=-s[0],h=-s[1],r=-s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=e*e+h*h+r*r+n*n;return 0<c?(i[0]=2*(o*n+l*e+a*r-u*h)/c,i[1]=2*(a*n+l*h+u*e-o*r)/c,i[2]=2*(u*n+l*r+o*h-a*e)/c):(i[0]=2*(o*n+l*e+a*r-u*h),i[1]=2*(a*n+l*h+u*e-o*r),i[2]=2*(u*n+l*r+o*h-a*e)),f(t,s,i),t},a=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},d=function(t,s){var i=s[0],e=s[4],h=s[5],r=s[6],n=s[8],o=s[9],a=s[10];return t[0]=Math.hypot(i,s[1],s[2]),t[1]=Math.hypot(e,h,r),t[2]=Math.hypot(n,o,a),t},u=function(t,s){var i=new bh(3),e=(d(i,s),1/i[0]),h=1/i[1],i=1/i[2],r=s[0]*e,n=s[1]*h,o=s[2]*i,a=s[4]*e,u=s[5]*h,l=s[6]*i,e=s[8]*e,h=s[9]*h,s=s[10]*i,i=r+u+s,c=0;return 0<i?(c=2*Math.sqrt(1+i),t[3]=.25*c,t[0]=(l-h)/c,t[1]=(e-o)/c,t[2]=(n-a)/c):u<r&&s<r?(c=2*Math.sqrt(1+r-u-s),t[3]=(l-h)/c,t[0]=.25*c,t[1]=(n+a)/c,t[2]=(e+o)/c):s<u?(c=2*Math.sqrt(1+u-r-s),t[3]=(e-o)/c,t[0]=(n+a)/c,t[1]=.25*c,t[2]=(l+h)/c):(c=2*Math.sqrt(1+s-r-u),t[3]=(n-a)/c,t[0]=(e+o)/c,t[1]=(l+h)/c,t[2]=.25*c),t},xs=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var s=e[0],h=e[1],r=e[2],n=e[4],o=e[5],a=e[6],u=e[8],l=e[9],e=e[10],c=(i[0]=Math.hypot(s,h,r),i[1]=Math.hypot(n,o,a),i[2]=Math.hypot(u,l,e),1/i[0]),f=1/i[1],i=1/i[2],s=s*c,h=h*f,r=r*i,n=n*c,o=o*f,a=a*i,u=u*c,c=l*f,l=e*i,f=s+o+l,e=0;return 0<f?(e=2*Math.sqrt(1+f),t[3]=.25*e,t[0]=(a-c)/e,t[1]=(u-r)/e,t[2]=(h-n)/e):o<s&&l<s?(e=2*Math.sqrt(1+s-o-l),t[3]=(a-c)/e,t[0]=.25*e,t[1]=(h+n)/e,t[2]=(u+r)/e):l<o?(e=2*Math.sqrt(1+o-s-l),t[3]=(u-r)/e,t[0]=(h+n)/e,t[1]=.25*e,t[2]=(a+c)/e):(e=2*Math.sqrt(1+l-s-o),t[3]=(h-n)/e,t[0]=(u+r)/e,t[1]=(a+c)/e,t[2]=.25*e),t},vs=function(t,s,i,e){var h=s[0],r=s[1],n=s[2],s=s[3],o=h+h,a=r+r,u=n+n,l=h*o,c=h*a,h=h*u,f=r*a,r=r*u,n=n*u,o=s*o,a=s*a,s=s*u,u=e[0],d=e[1],e=e[2];return t[0]=(1-(f+n))*u,t[1]=(c+s)*u,t[2]=(h-a)*u,t[3]=0,t[4]=(c-s)*d,t[5]=(1-(l+n))*d,t[6]=(r+o)*d,t[7]=0,t[8]=(h+a)*e,t[9]=(r-o)*e,t[10]=(1-(l+f))*e,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},Cs=function(t,s,i,e,h){var r=s[0],n=s[1],o=s[2],s=s[3],a=r+r,u=n+n,l=o+o,c=r*a,f=r*u,r=r*l,d=n*u,n=n*l,o=o*l,a=s*a,u=s*u,s=s*l,l=e[0],p=e[1],e=e[2],m=h[0],g=h[1],h=h[2],y=(1-(d+o))*l,M=(f+s)*l,l=(r-u)*l,f=(f-s)*p,s=(1-(c+o))*p,o=(n+a)*p,p=(r+u)*e,r=(n-a)*e,u=(1-(c+d))*e;return t[0]=y,t[1]=M,t[2]=l,t[3]=0,t[4]=f,t[5]=s,t[6]=o,t[7]=0,t[8]=p,t[9]=r,t[10]=u,t[11]=0,t[12]=i[0]+m-(y*m+f*g+p*h),t[13]=i[1]+g-(M*m+s*g+r*h),t[14]=i[2]+h-(l*m+o*g+u*h),t[15]=1,t},Gs=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=i+i,n=e+e,o=h+h,i=i*r,a=e*r,e=e*n,u=h*r,l=h*n,h=h*o,r=s*r,n=s*n,s=s*o;return t[0]=1-e-h,t[1]=a+s,t[2]=u-n,t[3]=0,t[4]=a-s,t[5]=1-i-h,t[6]=l+r,t[7]=0,t[8]=u+n,t[9]=l-r,t[10]=1-i-e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Is=function(t,s,i,e,h,r,n){var o=1/(i-s),a=1/(h-e),u=1/(r-n);return t[0]=2*r*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(h+e)*a,t[10]=(n+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r*2*u,t[15]=0,t},l=function(t,s,i,e,h){s=1/Math.tan(s/2);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0?(t[10]=(h+e)*(i=1/(e-h)),t[14]=2*h*e*i):(t[10]=-1,t[14]=-2*e),t},Es=function(t,s,i,e,h){s=1/Math.tan(s/2);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0?(t[10]=h*(i=1/(e-h)),t[14]=h*e*i):(t[10]=-1,t[14]=-e),t},_s=function(t,s,i,e){var h=Math.tan(s.upDegrees*Math.PI/180),r=Math.tan(s.downDegrees*Math.PI/180),n=Math.tan(s.leftDegrees*Math.PI/180),s=Math.tan(s.rightDegrees*Math.PI/180),o=2/(n+s),a=2/(h+r);return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=-(n-s)*o*.5,t[9]=(h-r)*a*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},c=function(t,s,i,e,h,r,n){var o=1/(s-i),a=1/(e-h),u=1/(r-n);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=(n+r)*u,t[15]=1,t},Ds=function(t,s,i,e,h,r,n){var o=1/(s-i),a=1/(e-h),n=1/(r-n);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=r*n,t[15]=1,t},Ns=function(t,s,i,e){var h,r,n,o,a=s[0],u=s[1],s=s[2],l=e[0],c=e[1],e=e[2],f=i[0],d=i[1],i=i[2];return Math.abs(a-f)<Th&&Math.abs(u-d)<Th&&Math.abs(s-i)<Th?p(t):(f=a-f,d=u-d,i=s-i,h=c*(i*=o=1/Math.hypot(f,d,i))-e*(d*=o),e=e*(f*=o)-l*i,l=l*d-c*f,(o=Math.hypot(h,e,l))?(h*=o=1/o,e*=o,l*=o):l=e=h=0,c=d*l-i*e,r=i*h-f*l,n=f*e-d*h,(o=Math.hypot(c,r,n))?(c*=o=1/o,r*=o,n*=o):n=r=c=0,t[0]=h,t[1]=c,t[2]=f,t[3]=0,t[4]=e,t[5]=r,t[6]=d,t[7]=0,t[8]=l,t[9]=n,t[10]=i,t[11]=0,t[12]=-(h*a+e*u+l*s),t[13]=-(c*a+r*u+n*s),t[14]=-(f*a+d*u+i*s),t[15]=1,t)},As=function(t,s,i,e){var h=s[0],r=s[1],s=s[2],n=e[0],o=e[1],e=e[2],a=h-i[0],u=r-i[1],i=s-i[2],l=a*a+u*u+i*i,c=(0<l&&(a*=l=1/Math.sqrt(l),u*=l,i*=l),o*i-e*u),e=e*a-n*i,n=n*u-o*a;return 0<(l=c*c+e*e+n*n)&&(c*=l=1/Math.sqrt(l),e*=l,n*=l),t[0]=c,t[1]=e,t[2]=n,t[3]=0,t[4]=u*n-i*e,t[5]=i*c-a*n,t[6]=a*e-u*c,t[7]=0,t[8]=a,t[9]=u,t[10]=i,t[11]=0,t[12]=h,t[13]=r,t[14]=s,t[15]=1,t},Ls=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},Os=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Rs=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Ps=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},ks=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Fs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},js=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},zs=function(t,s){var i=t[0],e=t[1],h=t[2],r=t[3],n=t[4],o=t[5],a=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],t=t[15],y=s[0],M=s[1],w=s[2],S=s[3],T=s[4],b=s[5],x=s[6],v=s[7],C=s[8],G=s[9],I=s[10],E=s[11],_=s[12],D=s[13],N=s[14],s=s[15];return Math.abs(i-y)<=Th*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(e-M)<=Th*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(h-w)<=Th*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(r-S)<=Th*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(n-T)<=Th*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(o-b)<=Th*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-x)<=Th*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-v)<=Th*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-C)<=Th*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(c-G)<=Th*Math.max(1,Math.abs(c),Math.abs(G))&&Math.abs(f-I)<=Th*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-E)<=Th*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-_)<=Th*Math.max(1,Math.abs(p),Math.abs(_))&&Math.abs(m-D)<=Th*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(g-N)<=Th*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},m=function(){var t=new bh(3);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},Bs=function(t){var s=new bh(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},Us=function(t){var s=t[0];return Math.hypot(s,t[1],t[2])},g=function(t,s,i){var e=new bh(3);return e[0]=t,e[1]=s,e[2]=i,e},Ws=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Qs=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},Js=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},Vs=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},Ys=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},Hs=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},qs=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Zs=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},Xs=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},Ks=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},$s=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},ti=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},si=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},ii=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2])},ei=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],s=s[2]-t[2];return i*i+e*e+s*s},hi=function(t){var s=t[0],i=t[1],t=t[2];return s*s+i*i+t*t},ri=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},ni=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},y=function(t,s){var i=s[0],e=s[1],h=s[2],i=i*i+e*e+h*h;return 0<i&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},M=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},w=function(t,s,i){var e=s[0],h=s[1],s=s[2],r=i[0],n=i[1],i=i[2];return t[0]=h*i-s*n,t[1]=s*r-e*i,t[2]=e*n-h*r,t},oi=function(t,s,i,e){var h=s[0],r=s[1],s=s[2];return t[0]=h+e*(i[0]-h),t[1]=r+e*(i[1]-r),t[2]=s+e*(i[2]-s),t},ai=function(t,s,i,e){var h=Math.acos(Math.min(Math.max(M(s,i),-1),1)),r=Math.sin(h),n=Math.sin((1-e)*h)/r,e=Math.sin(e*h)/r;return t[0]=n*s[0]+e*i[0],t[1]=n*s[1]+e*i[1],t[2]=n*s[2]+e*i[2],t},ui=function(t,s,i,e,h,r){var n=r*r,o=n*(2*r-3)+1,a=n*(r-2)+r,u=n*(r-1),n=n*(3-2*r);return t[0]=s[0]*o+i[0]*a+e[0]*u+h[0]*n,t[1]=s[1]*o+i[1]*a+e[1]*u+h[1]*n,t[2]=s[2]*o+i[2]*a+e[2]*u+h[2]*n,t},li=function(t,s,i,e,h,r){var n=1-r,o=n*n,a=r*r,u=o*n,o=3*r*o,n=3*a*n,a=a*r;return t[0]=s[0]*u+i[0]*o+e[0]*n+h[0]*a,t[1]=s[1]*u+i[1]*o+e[1]*n+h[1]*a,t[2]=s[2]*u+i[2]*o+e[2]*n+h[2]*a,t},ci=function(t,s){s=s||1;var i=2*Oh()*Math.PI,e=2*Oh()-1,h=Math.sqrt(1-e*e)*s;return t[0]=Math.cos(i)*h,t[1]=Math.sin(i)*h,t[2]=e*s,t},fi=function(t,s,i){var e=s[0],h=s[1],s=s[2],r=i[3]*e+i[7]*h+i[11]*s+i[15];return t[0]=(i[0]*e+i[4]*h+i[8]*s+i[12])/(r=r||1),t[1]=(i[1]*e+i[5]*h+i[9]*s+i[13])/r,t[2]=(i[2]*e+i[6]*h+i[10]*s+i[14])/r,t},di=function(t,s,i){var e=s[0],h=s[1],s=s[2];return t[0]=e*i[0]+h*i[3]+s*i[6],t[1]=e*i[1]+h*i[4]+s*i[7],t[2]=e*i[2]+h*i[5]+s*i[8],t},pi=function(t,s,i){var e=i[0],h=i[1],r=i[2],n=s[0],o=s[1],s=s[2],a=h*s-r*o,u=r*n-e*s,l=e*o-h*n,c=h*l-r*u,r=r*a-e*l,e=e*u-h*a,h=2*i[3];return u*=h,l*=h,r*=2,e*=2,t[0]=n+(a*=h)+(c*=2),t[1]=o+u+r,t[2]=s+l+e,t},mi=function(t,s,i,e){var h=[],r=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],r[0]=h[0],r[1]=h[1]*Math.cos(e)-h[2]*Math.sin(e),r[2]=h[1]*Math.sin(e)+h[2]*Math.cos(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},gi=function(t,s,i,e){var h=[],r=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],r[0]=h[2]*Math.sin(e)+h[0]*Math.cos(e),r[1]=h[1],r[2]=h[2]*Math.cos(e)-h[0]*Math.sin(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},yi=function(t,s,i,e){var h=[],r=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],r[0]=h[0]*Math.cos(e)-h[1]*Math.sin(e),r[1]=h[0]*Math.sin(e)+h[1]*Math.cos(e),r[2]=h[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},Mi=function(t,s){var i=t[0],e=t[1],h=t[2],r=s[0],n=s[1],o=s[2],i=Math.sqrt((i*i+e*e+h*h)*(r*r+n*n+o*o)),e=i&&M(t,s)/i;return Math.acos(Math.min(Math.max(e,-1),1))},wi=function(t){return t[0]=0,t[1]=0,t[2]=0,t},Si=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},Ti=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},bi=function(t,s){var i=t[0],e=t[1],t=t[2],h=s[0],r=s[1],s=s[2];return Math.abs(i-h)<=Th*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(e-r)<=Th*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},S=function(){var t=new bh(4);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},xi=function(t){var s=new bh(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},vi=function(t,s,i,e){var h=new bh(4);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h},Ci=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Gi=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},Ii=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},Ei=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},_i=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},Di=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},Ni=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Ai=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Li=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Oi=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},Ri=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},Pi=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},ki=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Fi=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2],s[3]-t[3])},ji=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2],s=s[3]-t[3];return i*i+e*e+h*h+s*s},T=function(t){var s=t[0];return Math.hypot(s,t[1],t[2],t[3])},b=function(t){var s=t[0],i=t[1],e=t[2],t=t[3];return s*s+i*i+e*e+t*t},zi=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},Bi=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},Ui=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=i*i+e*e+h*h+s*s;return 0<r&&(r=1/Math.sqrt(r)),t[0]=i*r,t[1]=e*r,t[2]=h*r,t[3]=s*r,t},x=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Wi=function(t,s,i,e){var h=i[0]*e[1]-i[1]*e[0],r=i[0]*e[2]-i[2]*e[0],n=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],i=i[2]*e[3]-i[3]*e[2],e=s[0],u=s[1],l=s[2],s=s[3];return t[0]=u*i-l*a+s*o,t[1]=-e*i+l*n-s*r,t[2]=e*a-u*n+s*h,t[3]=-e*o+u*r-l*h,t},Qi=function(t,s,i,e){var h=s[0],r=s[1],n=s[2],s=s[3];return t[0]=h+e*(i[0]-h),t[1]=r+e*(i[1]-r),t[2]=n+e*(i[2]-n),t[3]=s+e*(i[3]-s),t},Ji=function(t,s){var i,e,h,r,n,o;for(s=s||1;1<=(n=(i=2*Oh()-1)*i+(e=2*Oh()-1)*e););for(;1<=(o=(h=2*Oh()-1)*h+(r=2*Oh()-1)*r););var a=Math.sqrt((1-n)/o);return t[0]=s*i,t[1]=s*e,t[2]=s*h*a,t[3]=s*r*a,t},Vi=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3];return t[0]=i[0]*e+i[4]*h+i[8]*r+i[12]*s,t[1]=i[1]*e+i[5]*h+i[9]*r+i[13]*s,t[2]=i[2]*e+i[6]*h+i[10]*r+i[14]*s,t[3]=i[3]*e+i[7]*h+i[11]*r+i[15]*s,t},Yi=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=i[0],o=i[1],a=i[2],i=i[3],u=i*e+o*r-a*h,l=i*h+a*e-n*r,c=i*r+n*h-o*e,e=-n*e-o*h-a*r;return t[0]=u*i+e*-n+l*-a-c*-o,t[1]=l*i+e*-o+c*-n-u*-a,t[2]=c*i+e*-a+u*-o-l*-n,t[3]=s[3],t},Hi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},qi=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Zi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Xi=function(t,s){var i=t[0],e=t[1],h=t[2],t=t[3],r=s[0],n=s[1],o=s[2],s=s[3];return Math.abs(i-r)<=Th*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(e-n)<=Th*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(h-o)<=Th*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},v=function(){var t=new bh(4);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Ki=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},C=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},$i=function(t,s){var i=2*Math.acos(s[3]),e=Math.sin(i/2);return Th<e?(t[0]=s[0]/e,t[1]=s[1]/e,t[2]=s[2]/e):(t[0]=1,t[1]=0,t[2]=0),i},te=function(t,s){t=Jh(t,s);return Math.acos(2*t*t-1)},se=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*i+s*n+h*a-r*o,t[1]=h*i+s*o+r*n-e*a,t[2]=r*i+s*a+e*o-h*n,t[3]=s*i-e*n-h*o-r*a,t},G=function(t,s,i){i*=.5;var e=s[0],h=s[1],r=s[2],s=s[3],n=Math.sin(i),i=Math.cos(i);return t[0]=e*i+s*n,t[1]=h*i+r*n,t[2]=r*i-h*n,t[3]=s*i-e*n,t},I=function(t,s,i){i*=.5;var e=s[0],h=s[1],r=s[2],s=s[3],n=Math.sin(i),i=Math.cos(i);return t[0]=e*i-r*n,t[1]=h*i+s*n,t[2]=r*i+e*n,t[3]=s*i-h*n,t},E=function(t,s,i){i*=.5;var e=s[0],h=s[1],r=s[2],s=s[3],n=Math.sin(i),i=Math.cos(i);return t[0]=e*i+h*n,t[1]=h*i-e*n,t[2]=r*i+s*n,t[3]=s*i-r*n,t},ie=function(t,s){var i=s[0],e=s[1],s=s[2];return t[0]=i,t[1]=e,t[2]=s,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-s*s)),t},_=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=Math.sqrt(i*i+e*e+h*h),s=Math.exp(s),n=0<r?s*Math.sin(r)/r:0;return t[0]=i*n,t[1]=e*n,t[2]=h*n,t[3]=s*Math.cos(r),t},D=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=Math.sqrt(i*i+e*e+h*h),r=0<r?Math.atan2(r,s)/r:0;return t[0]=i*r,t[1]=e*r,t[2]=h*r,t[3]=.5*Math.log(i*i+e*e+h*h+s*s),t},ee=function(t,s,i){return D(t,s),Qh(t,t,i),_(t,t),t},N=function(t,s,i,e){var h,r,n=s[0],o=s[1],a=s[2],s=s[3],u=i[0],l=i[1],c=i[2],i=i[3],f=n*u+o*l+a*c+s*i;return f<0&&(f=-f,u=-u,l=-l,c=-c,i=-i),f=Th<1-f?(f=Math.acos(f),h=Math.sin(f),r=Math.sin((1-e)*f)/h,Math.sin(e*f)/h):(r=1-e,e),t[0]=r*n+f*u,t[1]=r*o+f*l,t[2]=r*a+f*c,t[3]=r*s+f*i,t},he=function(t){var s=Oh(),i=Oh(),e=Oh(),h=Math.sqrt(1-s),s=Math.sqrt(s);return t[0]=h*Math.sin(2*Math.PI*i),t[1]=h*Math.cos(2*Math.PI*i),t[2]=s*Math.sin(2*Math.PI*e),t[3]=s*Math.cos(2*Math.PI*e),t},re=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],r=i*i+e*e+h*h+s*s,r=r?1/r:0;return t[0]=-i*r,t[1]=-e*r,t[2]=-h*r,t[3]=s*r,t},ne=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},A=function(t,s){var i,e,h,r=s[0]+s[4]+s[8];return 0<r?(h=Math.sqrt(r+1),t[3]=.5*h,t[0]=(s[5]-s[7])*(h=.5/h),t[1]=(s[6]-s[2])*h,t[2]=(s[1]-s[3])*h):(i=((r=s[3*(r=s[4]>s[r=0]?1:r)+r]<s[8]?2:r)+1)%3,e=(r+2)%3,h=Math.sqrt(s[3*r+r]-s[3*i+i]-s[3*e+e]+1),t[r]=.5*h,t[3]=(s[3*i+e]-s[3*e+i])*(h=.5/h),t[i]=(s[3*i+r]+s[3*r+i])*h,t[e]=(s[3*e+r]+s[3*r+e])*h),t},oe=function(t,s,i,e){var h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Rh,r=Math.PI/360,n=(e*=r,i*=r,Math.sin(s*=r)),o=Math.cos(s),a=Math.sin(i),u=Math.cos(i),l=Math.sin(e),c=Math.cos(e);switch(h){case"xyz":t[0]=n*u*c+o*a*l,t[1]=o*a*c-n*u*l,t[2]=o*u*l+n*a*c,t[3]=o*u*c-n*a*l;break;case"xzy":t[0]=n*u*c-o*a*l,t[1]=o*a*c-n*u*l,t[2]=o*u*l+n*a*c,t[3]=o*u*c+n*a*l;break;case"yxz":t[0]=n*u*c+o*a*l,t[1]=o*a*c-n*u*l,t[2]=o*u*l-n*a*c,t[3]=o*u*c+n*a*l;break;case"yzx":t[0]=n*u*c+o*a*l,t[1]=o*a*c+n*u*l,t[2]=o*u*l-n*a*c,t[3]=o*u*c-n*a*l;break;case"zxy":t[0]=n*u*c-o*a*l,t[1]=o*a*c+n*u*l,t[2]=o*u*l+n*a*c,t[3]=o*u*c-n*a*l;break;case"zyx":t[0]=n*u*c-o*a*l,t[1]=o*a*c+n*u*l,t[2]=o*u*l-n*a*c,t[3]=o*u*c+n*a*l;break;default:throw new Error("Unknown angle order "+h)}return t},ae=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},ue=function(t,s){return Math.abs(x(t,s))>=1-Th},le=function(){var t=new bh(8);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},ce=function(t){var s=new bh(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},fe=function(t,s,i,e,h,r,n,o){var a=new bh(8);return a[0]=t,a[1]=s,a[2]=i,a[3]=e,a[4]=h,a[5]=r,a[6]=n,a[7]=o,a},de=function(t,s,i,e,h,r,n){var o=new bh(8),h=(o[0]=t,o[1]=s,o[2]=i,o[3]=e,.5*h),r=.5*r,n=.5*n;return o[4]=h*e+r*i-n*s,o[5]=r*e+n*t-h*i,o[6]=n*e+h*s-r*t,o[7]=-h*t-r*s-n*i,o},L=function(t,s,i){var e=.5*i[0],h=.5*i[1],i=.5*i[2],r=s[0],n=s[1],o=s[2],s=s[3];return t[0]=r,t[1]=n,t[2]=o,t[3]=s,t[4]=e*s+h*o-i*n,t[5]=h*s+i*r-e*o,t[6]=i*s+e*n-h*r,t[7]=-e*r-h*n-i*o,t},pe=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},me=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},ge=function(t,s){var i=v(),e=(u(i,s),new bh(3));return a(e,s),L(t,i,e),t},O=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},ye=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Me=function(t,s,i,e,h,r,n,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=r,t[5]=n,t[6]=o,t[7]=a,t},we=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},Se=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},Te=function(t,s){var i=s[4],e=s[5],h=s[6],r=s[7],n=-s[0],o=-s[1],a=-s[2],s=s[3];return t[0]=2*(i*s+r*n+e*a-h*o),t[1]=2*(e*s+r*o+h*n-i*a),t[2]=2*(h*s+r*a+i*o-e*n),t},be=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=.5*i[0],a=.5*i[1],i=.5*i[2],u=s[4],l=s[5],c=s[6],s=s[7];return t[0]=e,t[1]=h,t[2]=r,t[3]=n,t[4]=n*o+h*i-r*a+u,t[5]=n*a+r*o-e*i+l,t[6]=n*i+e*a-h*o+c,t[7]=-e*o-h*a-r*i+s,t},xe=function(t,s,i){var e=-s[0],h=-s[1],r=-s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*n+l*e+a*r-u*h,f=a*n+l*h+u*e-o*r,d=u*n+l*r+o*h-a*e,l=l*n-o*e-a*h-u*r;return G(t,s,i),e=t[0],t[4]=c*(n=t[3])+l*e+f*(r=t[2])-d*(h=t[1]),t[5]=f*n+l*h+d*e-c*r,t[6]=d*n+l*r+c*h-f*e,t[7]=l*n-c*e-f*h-d*r,t},ve=function(t,s,i){var e=-s[0],h=-s[1],r=-s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*n+l*e+a*r-u*h,f=a*n+l*h+u*e-o*r,d=u*n+l*r+o*h-a*e,l=l*n-o*e-a*h-u*r;return I(t,s,i),e=t[0],t[4]=c*(n=t[3])+l*e+f*(r=t[2])-d*(h=t[1]),t[5]=f*n+l*h+d*e-c*r,t[6]=d*n+l*r+c*h-f*e,t[7]=l*n-c*e-f*h-d*r,t},Ce=function(t,s,i){var e=-s[0],h=-s[1],r=-s[2],n=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*n+l*e+a*r-u*h,f=a*n+l*h+u*e-o*r,d=u*n+l*r+o*h-a*e,l=l*n-o*e-a*h-u*r;return E(t,s,i),e=t[0],t[4]=c*(n=t[3])+l*e+f*(r=t[2])-d*(h=t[1]),t[5]=f*n+l*h+d*e-c*r,t[6]=d*n+l*r+c*h-f*e,t[7]=l*n-c*e-f*h-d*r,t},Ge=function(t,s,i){var e=i[0],h=i[1],r=i[2],i=i[3],n=s[0],o=s[1],a=s[2],u=s[3];return t[0]=n*i+u*e+o*r-a*h,t[1]=o*i+u*h+a*e-n*r,t[2]=a*i+u*r+n*h-o*e,t[3]=u*i-n*e-o*h-a*r,t[4]=(n=s[4])*i+(u=s[7])*e+(o=s[5])*r-(a=s[6])*h,t[5]=o*i+u*h+a*e-n*r,t[6]=a*i+u*r+n*h-o*e,t[7]=u*i-n*e-o*h-a*r,t},Ie=function(t,s,i){var e=s[0],h=s[1],r=s[2],s=s[3],n=i[0],o=i[1],a=i[2],u=i[3];return t[0]=e*u+s*n+h*a-r*o,t[1]=h*u+s*o+r*n-e*a,t[2]=r*u+s*a+e*o-h*n,t[3]=s*u-e*n-h*o-r*a,t[4]=e*(u=i[7])+s*(n=i[4])+h*(a=i[6])-r*(o=i[5]),t[5]=h*u+s*o+r*n-e*a,t[6]=r*u+s*a+e*o-h*n,t[7]=s*u-e*n-h*o-r*a,t},Ee=function(t,s,i,e){var h,r,n,o,a,u;return Math.abs(e)<Th?O(t,s):(u=Math.hypot(i[0],i[1],i[2]),e*=.5,h=(n=Math.sin(e))*i[0]/u,r=n*i[1]/u,n=n*i[2]/u,i=Math.cos(e),u=s[0],t[0]=u*i+(e=s[3])*h+(o=s[1])*n-(a=s[2])*r,t[1]=o*i+e*r+a*h-u*n,t[2]=a*i+e*n+u*r-o*h,t[3]=e*i-u*h-o*r-a*n,t[4]=(e=s[4])*i+(u=s[7])*h+(o=s[5])*n-(a=s[6])*r,t[5]=o*i+u*r+a*h-e*n,t[6]=a*i+u*n+e*r-o*h,t[7]=u*i-e*h-o*r-a*n,t)},_e=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},De=function(t,s,i){var e=s[0],h=s[1],r=s[2],n=s[3],o=i[4],a=i[5],u=i[6],l=i[7],c=s[4],f=s[5],d=s[6],s=s[7],p=i[0],m=i[1],g=i[2],i=i[3];return t[0]=e*i+n*p+h*g-r*m,t[1]=h*i+n*m+r*p-e*g,t[2]=r*i+n*g+e*m-h*p,t[3]=n*i-e*p-h*m-r*g,t[4]=e*l+n*o+h*u-r*a+c*i+s*p+f*g-d*m,t[5]=h*l+n*a+r*o-e*u+f*i+s*m+d*p-c*g,t[6]=r*l+n*u+e*a-h*o+d*i+s*g+c*m-f*p,t[7]=n*l-e*o-h*a-r*u+s*i-c*p-f*m-d*g,t},Ne=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},Ae=function(t,s,i,e){var h=1-e;return Zh(s,i)<0&&(e=-e),t[0]=s[0]*h+i[0]*e,t[1]=s[1]*h+i[1]*e,t[2]=s[2]*h+i[2]*e,t[3]=s[3]*h+i[3]*e,t[4]=s[4]*h+i[4]*e,t[5]=s[5]*h+i[5]*e,t[6]=s[6]*h+i[6]*e,t[7]=s[7]*h+i[7]*e,t},Le=function(t,s){var i=Xh(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},Oe=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},Re=function(t,s){var i,e,h,r,n,o,a,u,l=Xh(s);return 0<l&&(l=Math.sqrt(l),u=(i=s[0]/l)*(n=s[4])+(e=s[1]/l)*(o=s[5])+(h=s[2]/l)*(a=s[6])+(r=s[3]/l)*(s=s[7]),t[0]=i,t[1]=e,t[2]=h,t[3]=r,t[4]=(n-i*u)/l,t[5]=(o-e*u)/l,t[6]=(a-h*u)/l,t[7]=(s-r*u)/l),t},Pe=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},ke=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Fe=function(t,s){var i=t[0],e=t[1],h=t[2],r=t[3],n=t[4],o=t[5],a=t[6],t=t[7],u=s[0],l=s[1],c=s[2],f=s[3],d=s[4],p=s[5],m=s[6],s=s[7];return Math.abs(i-u)<=Th*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(e-l)<=Th*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(h-c)<=Th*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(r-f)<=Th*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=Th*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-p)<=Th*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=Th*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},R=function(){var t=new bh(2);return bh!=Float32Array&&(t[0]=0,t[1]=0),t},je=function(t){var s=new bh(2);return s[0]=t[0],s[1]=t[1],s},ze=function(t,s){var i=new bh(2);return i[0]=t,i[1]=s,i},Be=function(t,s){return t[0]=s[0],t[1]=s[1],t},Ue=function(t,s,i){return t[0]=s,t[1]=i,t},We=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},Qe=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},Je=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},Ve=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},Ye=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},He=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},qe=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},Ze=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},Xe=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Ke=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},$e=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},th=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1])},sh=function(t,s){var i=s[0]-t[0],s=s[1]-t[1];return i*i+s*s},ih=function(t){var s=t[0];return Math.hypot(s,t[1])},eh=function(t){var s=t[0],t=t[1];return s*s+t*t},hh=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},rh=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},nh=function(t,s){var i=s[0],e=s[1],i=i*i+e*e;return 0<i&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t},oh=function(t,s){return t[0]*s[0]+t[1]*s[1]},ah=function(t,s,i){s=s[0]*i[1]-s[1]*i[0];return t[0]=t[1]=0,t[2]=s,t},uh=function(t,s,i,e){var h=s[0],s=s[1];return t[0]=h+e*(i[0]-h),t[1]=s+e*(i[1]-s),t},lh=function(t,s){s=s||1;var i=2*Oh()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},ch=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s,t[1]=i[1]*e+i[3]*s,t},fh=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s+i[4],t[1]=i[1]*e+i[3]*s+i[5],t},dh=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[3]*s+i[6],t[1]=i[1]*e+i[4]*s+i[7],t},ph=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[4]*s+i[12],t[1]=i[1]*e+i[5]*s+i[13],t},mh=function(t,s,i,e){var h=s[0]-i[0],s=s[1]-i[1],r=Math.sin(e),e=Math.cos(e);return t[0]=h*e-s*r+i[0],t[1]=h*r+s*e+i[1],t},gh=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1],h=Math.sqrt((i*i+t*t)*(e*e+s*s));return Math.acos(Math.min(Math.max(h&&(i*e+t*s)/h,-1),1))},yh=function(t){return t[0]=0,t[1]=0,t},Mh=function(t){return"vec2("+t[0]+", "+t[1]+")"},wh=function(t,s){return t[0]===s[0]&&t[1]===s[1]},Sh=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1];return Math.abs(i-e)<=Th*Math.max(1,Math.abs(i),Math.abs(e))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))};h,p,f,a,d,u,m,g,y,M,w,S,x,v,C,G,I,E,_,D,N,A,L,O,R,Th=1e-6,bh="undefined"!=typeof Float32Array?Float32Array:Array,Oh=Math.random,Rh="zyx",Ph=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),kh={__proto__:null,EPSILON:Th,get m(){return bh},g:Oh,M:Rh,S:P,T:k,equals:F},Fh=Object.freeze({__proto__:null,create:j,clone:z,C:B,identity:U,G:W,set:Q,I:J,_:V,D:Y,N:H,multiply:t,rotate:q,scale:Z,A:X,L:K,O:$,R:tt,P:st,add:it,F:s,j:et,equals:ht,B:rt,U:nt,mul:t,sub:s}),jh=Object.freeze({__proto__:null,create:ot,clone:at,C:ut,identity:lt,G:ct,set:ft,_:dt,N:pt,multiply:i,rotate:mt,scale:gt,translate:yt,A:Mt,L:wt,W:St,O:Tt,R:bt,add:xt,F:e,B:vt,U:Ct,j:Gt,equals:It,mul:i,sub:e}),zh=Object.freeze({__proto__:null,create:h,J:Et,clone:_t,C:Dt,G:Nt,set:At,identity:Lt,I:Ot,_:Rt,D:Pt,N:kt,multiply:r,translate:Ft,rotate:jt,scale:zt,W:Bt,A:Ut,L:Wt,V:Qt,Y:Jt,H:Vt,Z:Yt,O:Ht,R:qt,add:Zt,F:n,B:Xt,U:Kt,j:$t,equals:ts,mul:r,sub:n}),xh=Object.freeze({__proto__:null,create:ss,clone:is,C:es,G:hs,set:rs,identity:p,I:ns,_:os,D:as,N:us,multiply:o,translate:ls,scale:cs,rotate:fs,X:ds,K:ps,$:ms,W:gs,L:ys,A:Ms,tt:ws,it:Ss,et:Ts,ht:f,nt:bs,ot:a,ut:d,lt:u,ct:xs,ft:vs,dt:Cs,Y:Gs,gt:Is,yt:l,perspective:l,Mt:Es,St:_s,Tt:c,ortho:c,bt:Ds,xt:Ns,vt:As,O:Ls,R:Os,add:Rs,F:Ps,B:ks,U:Fs,j:js,equals:zs,mul:o,sub:Ps}),qh=Vs,Kh=Ys,Wh=Hs,$h=ii,tr=ei,Bh=Us,sr=hi,Lh=m(),vh=Object.freeze({__proto__:null,create:m,clone:Bs,length:Us,G:g,C:Ws,set:Qs,add:Js,F:Vs,multiply:Ys,Ct:Hs,ceil:qs,floor:Zs,min:Xs,max:Ks,round:$s,scale:ti,Gt:si,It:ii,Et:ei,_t:hi,Dt:ri,inverse:ni,normalize:y,Nt:M,At:w,Lt:oi,Ot:ai,Rt:ui,Pt:li,random:ci,kt:fi,Ft:di,jt:pi,X:mi,K:gi,$:yi,angle:Mi,zt:wi,O:Si,j:Ti,equals:bi,sub:qh,mul:Kh,div:Wh,Bt:$h,Ut:tr,Wt:Bh,Qt:sr,forEach:function(t,s,i,e,h,r){var n,o;for(s=s||3,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,n=i;n<o;n+=s)Lh[0]=t[n],Lh[1]=t[n+1],Lh[2]=t[n+2],h(Lh,Lh,r),t[n]=Lh[0],t[n+1]=Lh[1],t[n+2]=Lh[2];return t}}),qh=Ei,Kh=_i,Wh=Di,$h=Fi,tr=ji,sr=T,ir=b,Ah=S(),Uh=Object.freeze({__proto__:null,create:S,clone:xi,G:vi,C:Ci,set:Gi,add:Ii,F:Ei,multiply:_i,Ct:Di,ceil:Ni,floor:Ai,min:Li,max:Oi,round:Ri,scale:Pi,Gt:ki,It:Fi,Et:ji,length:T,_t:b,Dt:zi,inverse:Bi,normalize:Ui,Nt:x,At:Wi,Lt:Qi,random:Ji,kt:Vi,jt:Yi,zt:Hi,O:qi,j:Zi,equals:Xi,sub:qh,mul:Kh,div:Wh,Bt:$h,Ut:tr,Wt:sr,Qt:ir,forEach:function(t,s,i,e,h,r){var n,o;for(s=s||4,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,n=i;n<o;n+=s)Ah[0]=t[n],Ah[1]=t[n+1],Ah[2]=t[n+2],Ah[3]=t[n+3],h(Ah,Ah,r),t[n]=Ah[0],t[n+1]=Ah[1],t[n+2]=Ah[2],t[n+3]=Ah[3];return t}}),qh=xi,Kh=vi,Wh=Ci,$h=Gi,tr=Ii,sr=se,Qh=Pi,Jh=x,ir=Qi,er=Vh=T,hr=Yh=b,Hh=Ui,rr=Zi,_h=m(),Dh=g(1,0,0),Nh=g(0,1,0),nr=function(t,s,i){var e=M(s,i);return e<-.999999?(w(_h,Dh,s),Bh(_h)<1e-6&&w(_h,Nh,s),y(_h,_h),C(t,_h,Math.PI),t):.999999<e?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(w(_h,s,i),t[0]=_h[0],t[1]=_h[1],t[2]=_h[2],t[3]=1+e,Hh(t,t))},Ih=v(),Eh=v(),or=function(t,s,i,e,h,r){return N(Ih,s,h,r),N(Eh,i,e,r),N(t,Ih,Eh,2*r*(1-r)),t},Gh=h(),qh=Object.freeze({__proto__:null,create:v,identity:Ki,Jt:C,Vt:$i,Yt:te,multiply:se,X:G,K:I,$:E,Ht:ie,exp:_,qt:D,pow:ee,Ot:N,random:he,_:re,Zt:ne,Xt:A,Kt:oe,O:ae,clone:qh,G:Kh,C:Wh,set:$h,add:tr,mul:sr,scale:Qh,Nt:Jh,Lt:ir,length:Vh,Wt:er,_t:Yh,Qt:hr,normalize:Hh,j:rr,equals:ue,$t:nr,ts:or,ss:function(t,s,i,e){return Gh[0]=i[0],Gh[3]=i[1],Gh[6]=i[2],Gh[1]=e[0],Gh[4]=e[1],Gh[7]=e[2],Gh[2]=-s[0],Gh[5]=-s[1],Gh[8]=-s[2],Hh(t,A(t,Gh))}}),Zh=Jh,Kh=Xh=Yh,$h=Object.freeze({__proto__:null,create:le,clone:ce,G:fe,es:de,ht:L,W:pe,A:me,J:ge,C:O,identity:ye,set:Me,hs:Wh,rs:we,ns:Wh,os:Se,ot:Te,translate:be,X:xe,K:ve,$:Ce,us:Ge,ls:Ie,cs:Ee,add:_e,multiply:De,mul:De,scale:Ne,Nt:Zh,Lt:Ae,_:Le,Zt:Oe,length:Vh,Wt:Vh,_t:Xh,Qt:Kh,normalize:Re,O:Pe,j:ke,equals:Fe}),tr=ih,sr=Qe,ir=Je,er=Ve,hr=th,rr=sh,nr=eh,Ch=R(),or=Object.freeze({__proto__:null,create:R,clone:je,G:ze,C:Be,set:Ue,add:We,F:Qe,multiply:Je,Ct:Ve,ceil:Ye,floor:He,min:qe,max:Ze,round:Xe,scale:Ke,Gt:$e,It:th,Et:sh,length:ih,_t:eh,Dt:hh,inverse:rh,normalize:nh,Nt:oh,At:ah,Lt:uh,random:lh,ds:ch,gs:fh,Ft:dh,kt:ph,rotate:mh,angle:gh,zt:yh,O:Mh,j:wh,equals:Sh,Wt:tr,sub:sr,mul:ir,div:er,Bt:hr,Ut:rr,Qt:nr,forEach:function(t,s,i,e,h,r){var n,o;for(s=s||2,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,n=i;n<o;n+=s)Ch[0]=t[n],Ch[1]=t[n+1],h(Ch,Ch,r),t[n]=Ch[0],t[n+1]=Ch[1];return t}}),globalThis.ys=kh,globalThis.ys.Ms=Fh,globalThis.ys.ws=jh,globalThis.ys.Ss=zh,globalThis.ys.Ts=xh,globalThis.ys.bs=qh,globalThis.ys.xs=$h,globalThis.ys.vs=or,globalThis.ys.Cs=vh,globalThis.ys.Gs=Uh}var Ch,Gh,Ih,Eh,_h,Dh,Nh,Ah,Lh,Th,bh,Oh,Rh,Ph,kh,Fh,jh,zh,xh,Bh,vh,Uh,Wh,Qh,Jh,Vh,Yh,Hh,qh,Zh,Xh,Kh,$h,tr,sr,ir,er,hr,rr,nr,or,O,R,P,k;{let t=function(){function c(t,s){var i,e=t.charCodeAt(s=void 0===s?0:s);return 55296<=e&&e<=56319&&s<t.length-1?(i=e,56320<=(t=t.charCodeAt(s+1))&&t<=57343?1024*(i-55296)+(t-56320)+65536:i):56320<=e&&e<=57343&&1<=s?(i=t.charCodeAt(s-1),t=e,55296<=i&&i<=56319?1024*(i-55296)+(t-56320)+65536:t):e}function f(t){return 1536<=t&&t<=1541||1757==t||1807==t||2274==t||3406==t||69821==t||70082<=t&&t<=70083||72250==t||72326<=t&&t<=72329||73030==t?12:13==t?0:10==t?1:0<=t&&t<=9||11<=t&&t<=12||14<=t&&t<=31||127<=t&&t<=159||173==t||1564==t||6158==t||8203==t||8206<=t&&t<=8207||8232==t||8233==t||8234<=t&&t<=8238||8288<=t&&t<=8292||8293==t||8294<=t&&t<=8303||55296<=t&&t<=57343||65279==t||65520<=t&&t<=65528||65529<=t&&t<=65531||113824<=t&&t<=113827||119155<=t&&t<=119162||917504==t||917505==t||917506<=t&&t<=917535||917632<=t&&t<=917759||918e3<=t&&t<=921599?2:768<=t&&t<=879||1155<=t&&t<=1159||1160<=t&&t<=1161||1425<=t&&t<=1469||1471==t||1473<=t&&t<=1474||1476<=t&&t<=1477||1479==t||1552<=t&&t<=1562||1611<=t&&t<=1631||1648==t||1750<=t&&t<=1756||1759<=t&&t<=1764||1767<=t&&t<=1768||1770<=t&&t<=1773||1809==t||1840<=t&&t<=1866||1958<=t&&t<=1968||2027<=t&&t<=2035||2070<=t&&t<=2073||2075<=t&&t<=2083||2085<=t&&t<=2087||2089<=t&&t<=2093||2137<=t&&t<=2139||2260<=t&&t<=2273||2275<=t&&t<=2306||2362==t||2364==t||2369<=t&&t<=2376||2381==t||2385<=t&&t<=2391||2402<=t&&t<=2403||2433==t||2492==t||2494==t||2497<=t&&t<=2500||2509==t||2519==t||2530<=t&&t<=2531||2561<=t&&t<=2562||2620==t||2625<=t&&t<=2626||2631<=t&&t<=2632||2635<=t&&t<=2637||2641==t||2672<=t&&t<=2673||2677==t||2689<=t&&t<=2690||2748==t||2753<=t&&t<=2757||2759<=t&&t<=2760||2765==t||2786<=t&&t<=2787||2810<=t&&t<=2815||2817==t||2876==t||2878==t||2879==t||2881<=t&&t<=2884||2893==t||2902==t||2903==t||2914<=t&&t<=2915||2946==t||3006==t||3008==t||3021==t||3031==t||3072==t||3134<=t&&t<=3136||3142<=t&&t<=3144||3146<=t&&t<=3149||3157<=t&&t<=3158||3170<=t&&t<=3171||3201==t||3260==t||3263==t||3266==t||3270==t||3276<=t&&t<=3277||3285<=t&&t<=3286||3298<=t&&t<=3299||3328<=t&&t<=3329||3387<=t&&t<=3388||3390==t||3393<=t&&t<=3396||3405==t||3415==t||3426<=t&&t<=3427||3530==t||3535==t||3538<=t&&t<=3540||3542==t||3551==t||3633==t||3636<=t&&t<=3642||3655<=t&&t<=3662||3761==t||3764<=t&&t<=3769||3771<=t&&t<=3772||3784<=t&&t<=3789||3864<=t&&t<=3865||3893==t||3895==t||3897==t||3953<=t&&t<=3966||3968<=t&&t<=3972||3974<=t&&t<=3975||3981<=t&&t<=3991||3993<=t&&t<=4028||4038==t||4141<=t&&t<=4144||4146<=t&&t<=4151||4153<=t&&t<=4154||4157<=t&&t<=4158||4184<=t&&t<=4185||4190<=t&&t<=4192||4209<=t&&t<=4212||4226==t||4229<=t&&t<=4230||4237==t||4253==t||4957<=t&&t<=4959||5906<=t&&t<=5908||5938<=t&&t<=5940||5970<=t&&t<=5971||6002<=t&&t<=6003||6068<=t&&t<=6069||6071<=t&&t<=6077||6086==t||6089<=t&&t<=6099||6109==t||6155<=t&&t<=6157||6277<=t&&t<=6278||6313==t||6432<=t&&t<=6434||6439<=t&&t<=6440||6450==t||6457<=t&&t<=6459||6679<=t&&t<=6680||6683==t||6742==t||6744<=t&&t<=6750||6752==t||6754==t||6757<=t&&t<=6764||6771<=t&&t<=6780||6783==t||6832<=t&&t<=6845||6846==t||6912<=t&&t<=6915||6964==t||6966<=t&&t<=6970||6972==t||6978==t||7019<=t&&t<=7027||7040<=t&&t<=7041||7074<=t&&t<=7077||7080<=t&&t<=7081||7083<=t&&t<=7085||7142==t||7144<=t&&t<=7145||7149==t||7151<=t&&t<=7153||7212<=t&&t<=7219||7222<=t&&t<=7223||7376<=t&&t<=7378||7380<=t&&t<=7392||7394<=t&&t<=7400||7405==t||7412==t||7416<=t&&t<=7417||7616<=t&&t<=7673||7675<=t&&t<=7679||8204==t||8400<=t&&t<=8412||8413<=t&&t<=8416||8417==t||8418<=t&&t<=8420||8421<=t&&t<=8432||11503<=t&&t<=11505||11647==t||11744<=t&&t<=11775||12330<=t&&t<=12333||12334<=t&&t<=12335||12441<=t&&t<=12442||42607==t||42608<=t&&t<=42610||42612<=t&&t<=42621||42654<=t&&t<=42655||42736<=t&&t<=42737||43010==t||43014==t||43019==t||43045<=t&&t<=43046||43204<=t&&t<=43205||43232<=t&&t<=43249||43302<=t&&t<=43309||43335<=t&&t<=43345||43392<=t&&t<=43394||43443==t||43446<=t&&t<=43449||43452==t||43493==t||43561<=t&&t<=43566||43569<=t&&t<=43570||43573<=t&&t<=43574||43587==t||43596==t||43644==t||43696==t||43698<=t&&t<=43700||43703<=t&&t<=43704||43710<=t&&t<=43711||43713==t||43756<=t&&t<=43757||43766==t||44005==t||44008==t||44013==t||64286==t||65024<=t&&t<=65039||65056<=t&&t<=65071||65438<=t&&t<=65439||66045==t||66272==t||66422<=t&&t<=66426||68097<=t&&t<=68099||68101<=t&&t<=68102||68108<=t&&t<=68111||68152<=t&&t<=68154||68159==t||68325<=t&&t<=68326||69633==t||69688<=t&&t<=69702||69759<=t&&t<=69761||69811<=t&&t<=69814||69817<=t&&t<=69818||69888<=t&&t<=69890||69927<=t&&t<=69931||69933<=t&&t<=69940||70003==t||70016<=t&&t<=70017||70070<=t&&t<=70078||70090<=t&&t<=70092||70191<=t&&t<=70193||70196==t||70198<=t&&t<=70199||70206==t||70367==t||70371<=t&&t<=70378||70400<=t&&t<=70401||70460==t||70462==t||70464==t||70487==t||70502<=t&&t<=70508||70512<=t&&t<=70516||70712<=t&&t<=70719||70722<=t&&t<=70724||70726==t||70832==t||70835<=t&&t<=70840||70842==t||70845==t||70847<=t&&t<=70848||70850<=t&&t<=70851||71087==t||71090<=t&&t<=71093||71100<=t&&t<=71101||71103<=t&&t<=71104||71132<=t&&t<=71133||71219<=t&&t<=71226||71229==t||71231<=t&&t<=71232||71339==t||71341==t||71344<=t&&t<=71349||71351==t||71453<=t&&t<=71455||71458<=t&&t<=71461||71463<=t&&t<=71467||72193<=t&&t<=72198||72201<=t&&t<=72202||72243<=t&&t<=72248||72251<=t&&t<=72254||72263==t||72273<=t&&t<=72278||72281<=t&&t<=72283||72330<=t&&t<=72342||72344<=t&&t<=72345||72752<=t&&t<=72758||72760<=t&&t<=72765||72767==t||72850<=t&&t<=72871||72874<=t&&t<=72880||72882<=t&&t<=72883||72885<=t&&t<=72886||73009<=t&&t<=73014||73018==t||73020<=t&&t<=73021||73023<=t&&t<=73029||73031==t||92912<=t&&t<=92916||92976<=t&&t<=92982||94095<=t&&t<=94098||113821<=t&&t<=113822||119141==t||119143<=t&&t<=119145||119150<=t&&t<=119154||119163<=t&&t<=119170||119173<=t&&t<=119179||119210<=t&&t<=119213||119362<=t&&t<=119364||121344<=t&&t<=121398||121403<=t&&t<=121452||121461==t||121476==t||121499<=t&&t<=121503||121505<=t&&t<=121519||122880<=t&&t<=122886||122888<=t&&t<=122904||122907<=t&&t<=122913||122915<=t&&t<=122916||122918<=t&&t<=122922||125136<=t&&t<=125142||125252<=t&&t<=125258||917536<=t&&t<=917631||917760<=t&&t<=917999?3:127462<=t&&t<=127487?4:2307==t||2363==t||2366<=t&&t<=2368||2377<=t&&t<=2380||2382<=t&&t<=2383||2434<=t&&t<=2435||2495<=t&&t<=2496||2503<=t&&t<=2504||2507<=t&&t<=2508||2563==t||2622<=t&&t<=2624||2691==t||2750<=t&&t<=2752||2761==t||2763<=t&&t<=2764||2818<=t&&t<=2819||2880==t||2887<=t&&t<=2888||2891<=t&&t<=2892||3007==t||3009<=t&&t<=3010||3014<=t&&t<=3016||3018<=t&&t<=3020||3073<=t&&t<=3075||3137<=t&&t<=3140||3202<=t&&t<=3203||3262==t||3264<=t&&t<=3265||3267<=t&&t<=3268||3271<=t&&t<=3272||3274<=t&&t<=3275||3330<=t&&t<=3331||3391<=t&&t<=3392||3398<=t&&t<=3400||3402<=t&&t<=3404||3458<=t&&t<=3459||3536<=t&&t<=3537||3544<=t&&t<=3550||3570<=t&&t<=3571||3635==t||3763==t||3902<=t&&t<=3903||3967==t||4145==t||4155<=t&&t<=4156||4182<=t&&t<=4183||4228==t||6070==t||6078<=t&&t<=6085||6087<=t&&t<=6088||6435<=t&&t<=6438||6441<=t&&t<=6443||6448<=t&&t<=6449||6451<=t&&t<=6456||6681<=t&&t<=6682||6741==t||6743==t||6765<=t&&t<=6770||6916==t||6965==t||6971==t||6973<=t&&t<=6977||6979<=t&&t<=6980||7042==t||7073==t||7078<=t&&t<=7079||7082==t||7143==t||7146<=t&&t<=7148||7150==t||7154<=t&&t<=7155||7204<=t&&t<=7211||7220<=t&&t<=7221||7393==t||7410<=t&&t<=7411||7415==t||43043<=t&&t<=43044||43047==t||43136<=t&&t<=43137||43188<=t&&t<=43203||43346<=t&&t<=43347||43395==t||43444<=t&&t<=43445||43450<=t&&t<=43451||43453<=t&&t<=43456||43567<=t&&t<=43568||43571<=t&&t<=43572||43597==t||43755==t||43758<=t&&t<=43759||43765==t||44003<=t&&t<=44004||44006<=t&&t<=44007||44009<=t&&t<=44010||44012==t||69632==t||69634==t||69762==t||69808<=t&&t<=69810||69815<=t&&t<=69816||69932==t||70018==t||70067<=t&&t<=70069||70079<=t&&t<=70080||70188<=t&&t<=70190||70194<=t&&t<=70195||70197==t||70368<=t&&t<=70370||70402<=t&&t<=70403||70463==t||70465<=t&&t<=70468||70471<=t&&t<=70472||70475<=t&&t<=70477||70498<=t&&t<=70499||70709<=t&&t<=70711||70720<=t&&t<=70721||70725==t||70833<=t&&t<=70834||70841==t||70843<=t&&t<=70844||70846==t||70849==t||71088<=t&&t<=71089||71096<=t&&t<=71099||71102==t||71216<=t&&t<=71218||71227<=t&&t<=71228||71230==t||71340==t||71342<=t&&t<=71343||71350==t||71456<=t&&t<=71457||71462==t||72199<=t&&t<=72200||72249==t||72279<=t&&t<=72280||72343==t||72751==t||72766==t||72873==t||72881==t||72884==t||94033<=t&&t<=94078||119142==t||119149==t?5:4352<=t&&t<=4447||43360<=t&&t<=43388?6:4448<=t&&t<=4519||55216<=t&&t<=55238?7:4520<=t&&t<=4607||55243<=t&&t<=55291?8:44032==t||44060==t||44088==t||44116==t||44144==t||44172==t||44200==t||44228==t||44256==t||44284==t||44312==t||44340==t||44368==t||44396==t||44424==t||44452==t||44480==t||44508==t||44536==t||44564==t||44592==t||44620==t||44648==t||44676==t||44704==t||44732==t||44760==t||44788==t||44816==t||44844==t||44872==t||44900==t||44928==t||44956==t||44984==t||45012==t||45040==t||45068==t||45096==t||45124==t||45152==t||45180==t||45208==t||45236==t||45264==t||45292==t||45320==t||45348==t||45376==t||45404==t||45432==t||45460==t||45488==t||45516==t||45544==t||45572==t||45600==t||45628==t||45656==t||45684==t||45712==t||45740==t||45768==t||45796==t||45824==t||45852==t||45880==t||45908==t||45936==t||45964==t||45992==t||46020==t||46048==t||46076==t||46104==t||46132==t||46160==t||46188==t||46216==t||46244==t||46272==t||46300==t||46328==t||46356==t||46384==t||46412==t||46440==t||46468==t||46496==t||46524==t||46552==t||46580==t||46608==t||46636==t||46664==t||46692==t||46720==t||46748==t||46776==t||46804==t||46832==t||46860==t||46888==t||46916==t||46944==t||46972==t||47e3==t||47028==t||47056==t||47084==t||47112==t||47140==t||47168==t||47196==t||47224==t||47252==t||47280==t||47308==t||47336==t||47364==t||47392==t||47420==t||47448==t||47476==t||47504==t||47532==t||47560==t||47588==t||47616==t||47644==t||47672==t||47700==t||47728==t||47756==t||47784==t||47812==t||47840==t||47868==t||47896==t||47924==t||47952==t||47980==t||48008==t||48036==t||48064==t||48092==t||48120==t||48148==t||48176==t||48204==t||48232==t||48260==t||48288==t||48316==t||48344==t||48372==t||48400==t||48428==t||48456==t||48484==t||48512==t||48540==t||48568==t||48596==t||48624==t||48652==t||48680==t||48708==t||48736==t||48764==t||48792==t||48820==t||48848==t||48876==t||48904==t||48932==t||48960==t||48988==t||49016==t||49044==t||49072==t||49100==t||49128==t||49156==t||49184==t||49212==t||49240==t||49268==t||49296==t||49324==t||49352==t||49380==t||49408==t||49436==t||49464==t||49492==t||49520==t||49548==t||49576==t||49604==t||49632==t||49660==t||49688==t||49716==t||49744==t||49772==t||49800==t||49828==t||49856==t||49884==t||49912==t||49940==t||49968==t||49996==t||50024==t||50052==t||50080==t||50108==t||50136==t||50164==t||50192==t||50220==t||50248==t||50276==t||50304==t||50332==t||50360==t||50388==t||50416==t||50444==t||50472==t||50500==t||50528==t||50556==t||50584==t||50612==t||50640==t||50668==t||50696==t||50724==t||50752==t||50780==t||50808==t||50836==t||50864==t||50892==t||50920==t||50948==t||50976==t||51004==t||51032==t||51060==t||51088==t||51116==t||51144==t||51172==t||51200==t||51228==t||51256==t||51284==t||51312==t||51340==t||51368==t||51396==t||51424==t||51452==t||51480==t||51508==t||51536==t||51564==t||51592==t||51620==t||51648==t||51676==t||51704==t||51732==t||51760==t||51788==t||51816==t||51844==t||51872==t||51900==t||51928==t||51956==t||51984==t||52012==t||52040==t||52068==t||52096==t||52124==t||52152==t||52180==t||52208==t||52236==t||52264==t||52292==t||52320==t||52348==t||52376==t||52404==t||52432==t||52460==t||52488==t||52516==t||52544==t||52572==t||52600==t||52628==t||52656==t||52684==t||52712==t||52740==t||52768==t||52796==t||52824==t||52852==t||52880==t||52908==t||52936==t||52964==t||52992==t||53020==t||53048==t||53076==t||53104==t||53132==t||53160==t||53188==t||53216==t||53244==t||53272==t||53300==t||53328==t||53356==t||53384==t||53412==t||53440==t||53468==t||53496==t||53524==t||53552==t||53580==t||53608==t||53636==t||53664==t||53692==t||53720==t||53748==t||53776==t||53804==t||53832==t||53860==t||53888==t||53916==t||53944==t||53972==t||54e3==t||54028==t||54056==t||54084==t||54112==t||54140==t||54168==t||54196==t||54224==t||54252==t||54280==t||54308==t||54336==t||54364==t||54392==t||54420==t||54448==t||54476==t||54504==t||54532==t||54560==t||54588==t||54616==t||54644==t||54672==t||54700==t||54728==t||54756==t||54784==t||54812==t||54840==t||54868==t||54896==t||54924==t||54952==t||54980==t||55008==t||55036==t||55064==t||55092==t||55120==t||55148==t||55176==t?9:44033<=t&&t<=44059||44061<=t&&t<=44087||44089<=t&&t<=44115||44117<=t&&t<=44143||44145<=t&&t<=44171||44173<=t&&t<=44199||44201<=t&&t<=44227||44229<=t&&t<=44255||44257<=t&&t<=44283||44285<=t&&t<=44311||44313<=t&&t<=44339||44341<=t&&t<=44367||44369<=t&&t<=44395||44397<=t&&t<=44423||44425<=t&&t<=44451||44453<=t&&t<=44479||44481<=t&&t<=44507||44509<=t&&t<=44535||44537<=t&&t<=44563||44565<=t&&t<=44591||44593<=t&&t<=44619||44621<=t&&t<=44647||44649<=t&&t<=44675||44677<=t&&t<=44703||44705<=t&&t<=44731||44733<=t&&t<=44759||44761<=t&&t<=44787||44789<=t&&t<=44815||44817<=t&&t<=44843||44845<=t&&t<=44871||44873<=t&&t<=44899||44901<=t&&t<=44927||44929<=t&&t<=44955||44957<=t&&t<=44983||44985<=t&&t<=45011||45013<=t&&t<=45039||45041<=t&&t<=45067||45069<=t&&t<=45095||45097<=t&&t<=45123||45125<=t&&t<=45151||45153<=t&&t<=45179||45181<=t&&t<=45207||45209<=t&&t<=45235||45237<=t&&t<=45263||45265<=t&&t<=45291||45293<=t&&t<=45319||45321<=t&&t<=45347||45349<=t&&t<=45375||45377<=t&&t<=45403||45405<=t&&t<=45431||45433<=t&&t<=45459||45461<=t&&t<=45487||45489<=t&&t<=45515||45517<=t&&t<=45543||45545<=t&&t<=45571||45573<=t&&t<=45599||45601<=t&&t<=45627||45629<=t&&t<=45655||45657<=t&&t<=45683||45685<=t&&t<=45711||45713<=t&&t<=45739||45741<=t&&t<=45767||45769<=t&&t<=45795||45797<=t&&t<=45823||45825<=t&&t<=45851||45853<=t&&t<=45879||45881<=t&&t<=45907||45909<=t&&t<=45935||45937<=t&&t<=45963||45965<=t&&t<=45991||45993<=t&&t<=46019||46021<=t&&t<=46047||46049<=t&&t<=46075||46077<=t&&t<=46103||46105<=t&&t<=46131||46133<=t&&t<=46159||46161<=t&&t<=46187||46189<=t&&t<=46215||46217<=t&&t<=46243||46245<=t&&t<=46271||46273<=t&&t<=46299||46301<=t&&t<=46327||46329<=t&&t<=46355||46357<=t&&t<=46383||46385<=t&&t<=46411||46413<=t&&t<=46439||46441<=t&&t<=46467||46469<=t&&t<=46495||46497<=t&&t<=46523||46525<=t&&t<=46551||46553<=t&&t<=46579||46581<=t&&t<=46607||46609<=t&&t<=46635||46637<=t&&t<=46663||46665<=t&&t<=46691||46693<=t&&t<=46719||46721<=t&&t<=46747||46749<=t&&t<=46775||46777<=t&&t<=46803||46805<=t&&t<=46831||46833<=t&&t<=46859||46861<=t&&t<=46887||46889<=t&&t<=46915||46917<=t&&t<=46943||46945<=t&&t<=46971||46973<=t&&t<=46999||47001<=t&&t<=47027||47029<=t&&t<=47055||47057<=t&&t<=47083||47085<=t&&t<=47111||47113<=t&&t<=47139||47141<=t&&t<=47167||47169<=t&&t<=47195||47197<=t&&t<=47223||47225<=t&&t<=47251||47253<=t&&t<=47279||47281<=t&&t<=47307||47309<=t&&t<=47335||47337<=t&&t<=47363||47365<=t&&t<=47391||47393<=t&&t<=47419||47421<=t&&t<=47447||47449<=t&&t<=47475||47477<=t&&t<=47503||47505<=t&&t<=47531||47533<=t&&t<=47559||47561<=t&&t<=47587||47589<=t&&t<=47615||47617<=t&&t<=47643||47645<=t&&t<=47671||47673<=t&&t<=47699||47701<=t&&t<=47727||47729<=t&&t<=47755||47757<=t&&t<=47783||47785<=t&&t<=47811||47813<=t&&t<=47839||47841<=t&&t<=47867||47869<=t&&t<=47895||47897<=t&&t<=47923||47925<=t&&t<=47951||47953<=t&&t<=47979||47981<=t&&t<=48007||48009<=t&&t<=48035||48037<=t&&t<=48063||48065<=t&&t<=48091||48093<=t&&t<=48119||48121<=t&&t<=48147||48149<=t&&t<=48175||48177<=t&&t<=48203||48205<=t&&t<=48231||48233<=t&&t<=48259||48261<=t&&t<=48287||48289<=t&&t<=48315||48317<=t&&t<=48343||48345<=t&&t<=48371||48373<=t&&t<=48399||48401<=t&&t<=48427||48429<=t&&t<=48455||48457<=t&&t<=48483||48485<=t&&t<=48511||48513<=t&&t<=48539||48541<=t&&t<=48567||48569<=t&&t<=48595||48597<=t&&t<=48623||48625<=t&&t<=48651||48653<=t&&t<=48679||48681<=t&&t<=48707||48709<=t&&t<=48735||48737<=t&&t<=48763||48765<=t&&t<=48791||48793<=t&&t<=48819||48821<=t&&t<=48847||48849<=t&&t<=48875||48877<=t&&t<=48903||48905<=t&&t<=48931||48933<=t&&t<=48959||48961<=t&&t<=48987||48989<=t&&t<=49015||49017<=t&&t<=49043||49045<=t&&t<=49071||49073<=t&&t<=49099||49101<=t&&t<=49127||49129<=t&&t<=49155||49157<=t&&t<=49183||49185<=t&&t<=49211||49213<=t&&t<=49239||49241<=t&&t<=49267||49269<=t&&t<=49295||49297<=t&&t<=49323||49325<=t&&t<=49351||49353<=t&&t<=49379||49381<=t&&t<=49407||49409<=t&&t<=49435||49437<=t&&t<=49463||49465<=t&&t<=49491||49493<=t&&t<=49519||49521<=t&&t<=49547||49549<=t&&t<=49575||49577<=t&&t<=49603||49605<=t&&t<=49631||49633<=t&&t<=49659||49661<=t&&t<=49687||49689<=t&&t<=49715||49717<=t&&t<=49743||49745<=t&&t<=49771||49773<=t&&t<=49799||49801<=t&&t<=49827||49829<=t&&t<=49855||49857<=t&&t<=49883||49885<=t&&t<=49911||49913<=t&&t<=49939||49941<=t&&t<=49967||49969<=t&&t<=49995||49997<=t&&t<=50023||50025<=t&&t<=50051||50053<=t&&t<=50079||50081<=t&&t<=50107||50109<=t&&t<=50135||50137<=t&&t<=50163||50165<=t&&t<=50191||50193<=t&&t<=50219||50221<=t&&t<=50247||50249<=t&&t<=50275||50277<=t&&t<=50303||50305<=t&&t<=50331||50333<=t&&t<=50359||50361<=t&&t<=50387||50389<=t&&t<=50415||50417<=t&&t<=50443||50445<=t&&t<=50471||50473<=t&&t<=50499||50501<=t&&t<=50527||50529<=t&&t<=50555||50557<=t&&t<=50583||50585<=t&&t<=50611||50613<=t&&t<=50639||50641<=t&&t<=50667||50669<=t&&t<=50695||50697<=t&&t<=50723||50725<=t&&t<=50751||50753<=t&&t<=50779||50781<=t&&t<=50807||50809<=t&&t<=50835||50837<=t&&t<=50863||50865<=t&&t<=50891||50893<=t&&t<=50919||50921<=t&&t<=50947||50949<=t&&t<=50975||50977<=t&&t<=51003||51005<=t&&t<=51031||51033<=t&&t<=51059||51061<=t&&t<=51087||51089<=t&&t<=51115||51117<=t&&t<=51143||51145<=t&&t<=51171||51173<=t&&t<=51199||51201<=t&&t<=51227||51229<=t&&t<=51255||51257<=t&&t<=51283||51285<=t&&t<=51311||51313<=t&&t<=51339||51341<=t&&t<=51367||51369<=t&&t<=51395||51397<=t&&t<=51423||51425<=t&&t<=51451||51453<=t&&t<=51479||51481<=t&&t<=51507||51509<=t&&t<=51535||51537<=t&&t<=51563||51565<=t&&t<=51591||51593<=t&&t<=51619||51621<=t&&t<=51647||51649<=t&&t<=51675||51677<=t&&t<=51703||51705<=t&&t<=51731||51733<=t&&t<=51759||51761<=t&&t<=51787||51789<=t&&t<=51815||51817<=t&&t<=51843||51845<=t&&t<=51871||51873<=t&&t<=51899||51901<=t&&t<=51927||51929<=t&&t<=51955||51957<=t&&t<=51983||51985<=t&&t<=52011||52013<=t&&t<=52039||52041<=t&&t<=52067||52069<=t&&t<=52095||52097<=t&&t<=52123||52125<=t&&t<=52151||52153<=t&&t<=52179||52181<=t&&t<=52207||52209<=t&&t<=52235||52237<=t&&t<=52263||52265<=t&&t<=52291||52293<=t&&t<=52319||52321<=t&&t<=52347||52349<=t&&t<=52375||52377<=t&&t<=52403||52405<=t&&t<=52431||52433<=t&&t<=52459||52461<=t&&t<=52487||52489<=t&&t<=52515||52517<=t&&t<=52543||52545<=t&&t<=52571||52573<=t&&t<=52599||52601<=t&&t<=52627||52629<=t&&t<=52655||52657<=t&&t<=52683||52685<=t&&t<=52711||52713<=t&&t<=52739||52741<=t&&t<=52767||52769<=t&&t<=52795||52797<=t&&t<=52823||52825<=t&&t<=52851||52853<=t&&t<=52879||52881<=t&&t<=52907||52909<=t&&t<=52935||52937<=t&&t<=52963||52965<=t&&t<=52991||52993<=t&&t<=53019||53021<=t&&t<=53047||53049<=t&&t<=53075||53077<=t&&t<=53103||53105<=t&&t<=53131||53133<=t&&t<=53159||53161<=t&&t<=53187||53189<=t&&t<=53215||53217<=t&&t<=53243||53245<=t&&t<=53271||53273<=t&&t<=53299||53301<=t&&t<=53327||53329<=t&&t<=53355||53357<=t&&t<=53383||53385<=t&&t<=53411||53413<=t&&t<=53439||53441<=t&&t<=53467||53469<=t&&t<=53495||53497<=t&&t<=53523||53525<=t&&t<=53551||53553<=t&&t<=53579||53581<=t&&t<=53607||53609<=t&&t<=53635||53637<=t&&t<=53663||53665<=t&&t<=53691||53693<=t&&t<=53719||53721<=t&&t<=53747||53749<=t&&t<=53775||53777<=t&&t<=53803||53805<=t&&t<=53831||53833<=t&&t<=53859||53861<=t&&t<=53887||53889<=t&&t<=53915||53917<=t&&t<=53943||53945<=t&&t<=53971||53973<=t&&t<=53999||54001<=t&&t<=54027||54029<=t&&t<=54055||54057<=t&&t<=54083||54085<=t&&t<=54111||54113<=t&&t<=54139||54141<=t&&t<=54167||54169<=t&&t<=54195||54197<=t&&t<=54223||54225<=t&&t<=54251||54253<=t&&t<=54279||54281<=t&&t<=54307||54309<=t&&t<=54335||54337<=t&&t<=54363||54365<=t&&t<=54391||54393<=t&&t<=54419||54421<=t&&t<=54447||54449<=t&&t<=54475||54477<=t&&t<=54503||54505<=t&&t<=54531||54533<=t&&t<=54559||54561<=t&&t<=54587||54589<=t&&t<=54615||54617<=t&&t<=54643||54645<=t&&t<=54671||54673<=t&&t<=54699||54701<=t&&t<=54727||54729<=t&&t<=54755||54757<=t&&t<=54783||54785<=t&&t<=54811||54813<=t&&t<=54839||54841<=t&&t<=54867||54869<=t&&t<=54895||54897<=t&&t<=54923||54925<=t&&t<=54951||54953<=t&&t<=54979||54981<=t&&t<=55007||55009<=t&&t<=55035||55037<=t&&t<=55063||55065<=t&&t<=55091||55093<=t&&t<=55119||55121<=t&&t<=55147||55149<=t&&t<=55175||55177<=t&&t<=55203?10:9757==t||9977==t||9994<=t&&t<=9997||127877==t||127938<=t&&t<=127940||127943==t||127946<=t&&t<=127948||128066<=t&&t<=128067||128070<=t&&t<=128080||128110==t||128112<=t&&t<=128120||128124==t||128129<=t&&t<=128131||128133<=t&&t<=128135||128170==t||128372<=t&&t<=128373||128378==t||128400==t||128405<=t&&t<=128406||128581<=t&&t<=128583||128587<=t&&t<=128591||128675==t||128692<=t&&t<=128694||128704==t||128716==t||129304<=t&&t<=129308||129310<=t&&t<=129311||129318==t||129328<=t&&t<=129337||129341<=t&&t<=129342||129489<=t&&t<=129501?13:127995<=t&&t<=127999?14:8205==t?15:9792==t||9794==t||9877<=t&&t<=9878||9992==t||10084==t||127752==t||127806==t||127859==t||127891==t||127908==t||127912==t||127979==t||127981==t||128139==t||128187<=t&&t<=128188||128295==t||128300==t||128488==t||128640==t||128658==t?16:128102<=t&&t<=128105?17:11}return this.Is=function(t,s){if((s=void 0===s?0:s)<0)return 0;if(!(s>=t.length-1)){var i,e,h,r,n,o=f(c(t,s)),a=[];for(s+=1;s<t.length;s++){var u=t,l=s-1;if(!(55296<=u.charCodeAt(l)&&u.charCodeAt(l)<=56319&&56320<=u.charCodeAt(1+l)&&u.charCodeAt(1+l)<=57343)){if(u=f(c(t,s)),l=u,n=r=h=void 0,h=[i=o].concat(e=a).concat([l]),r=h[h.length-2],1<(n=h.lastIndexOf(14))&&h.slice(1,n).every(function(t){return 3==t})&&-1==[3,13,17].indexOf(i)||(0<(i=h.lastIndexOf(4))&&h.slice(1,i).every(function(t){return 4==t})&&-1==[12,4].indexOf(r)?(h.filter(function(t){return 4==t}).length,1):(0!=r||1!=l)&&(2==r||0==r||1==r?(14==l&&e.every(function(t){return 3==t}),1):2==l||0==l||1==l||(6!=r||6!=l&&7!=l&&9!=l&&10!=l)&&(9!=r&&7!=r||7!=l&&8!=l)&&(10!=r&&8!=r||8!=l)&&3!=l&&15!=l&&5!=l&&12!=r&&(i=-1!=h.indexOf(3)?h.lastIndexOf(3)-1:h.length-2,!(-1!=[13,17].indexOf(h[i])&&h.slice(i+1,-1).every(function(t){return 3==t})&&14==l||15==r&&-1!=[16,17].indexOf(l)||-1==e.indexOf(4)&&4==r&&4==l)))))return s;a.push(u)}}}return t.length},this.Es=function(t){for(var s,i=[],e=0;(s=this.Is(t,e))<t.length;)i.push(t.slice(e,s)),e=s;return e<t.length&&i.push(t.slice(e)),i},this._s=function(i){var e=0,t={next:function(){var t,s;return(t=this.Is(i,e))<i.length?(s=i.slice(e,t),e=t,{value:s,done:!1}):e<i.length?(s=i.slice(e),e=i.length,{value:s,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return t}),t},this.Ds=function(t){for(var s,i=0,e=0;(s=this.Is(t,e))<t.length;)e=s,i++;return e<t.length&&i++,i},this};self.Ns=t}{let a=function(t,s,i){i=i||0;var e=[0,0],h=t[1][1]-t[0][1],r=t[0][0]-t[1][0],t=h*t[0][0]+r*t[0][1],n=s[1][1]-s[0][1],o=s[0][0]-s[1][0],s=n*s[0][0]+o*s[0][1],a=h*o-n*r;return m(a,0,i)||(e[0]=(o*t-r*s)/a,e[1]=(h*s-n*t)/a),e},h=function(t,s,i,e){var h,r=s[0]-t[0],s=s[1]-t[1],n=e[0]-i[0],e=e[1]-i[1];return n*s-e*r!=0&&(h=(n*(t[1]-i[1])+e*(i[0]-t[0]))/(e*r-n*s),0<=(t=(r*(i[1]-t[1])+s*(t[0]-i[0]))/(n*s-e*r)))&&t<=1&&0<=h&&h<=1},o=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},x=function(t,s,i){return 0<o(t,s,i)},v=function(t,s,i){return 0<=o(t,s,i)},C=function(t,s,i){return o(t,s,i)<0},G=function(t,s,i){return o(t,s,i)<=0},r=function(t,s,i,e){var h,r,n;return e?(n=R,(r=O)[0]=s[0]-t[0],r[1]=s[1]-t[1],n[0]=i[0]-s[0],n[1]=i[1]-s[1],h=r[0]*n[0]+r[1]*n[1],r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),Math.acos(h/(r*n))<e):0===o(t,s,i)},I=function(t,s){var i=s[0]-t[0],s=s[1]-t[1];return i*i+s*s},E=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},n=function(t){t.length=0},_=function(t,s,i,e){for(var h=i;h<e;h++)t.push(s[h])},t=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!x(E(t,s-1),E(t,s),E(t,s+1))&&(u(t),!0)},u=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},D=function(t,s){return C(E(t,s-1),E(t,s),E(t,s+1))},l=function(t,s,i){var e,h=P,r=k;if(v(E(t,s+1),E(t,s),E(t,i))&&G(E(t,s-1),E(t,s),E(t,i)))return!1;for(var n=I(E(t,s),E(t,i)),o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&v(E(t,s),E(t,i),E(t,o+1))&&G(E(t,s),E(t,i),E(t,o))&&(h[0]=E(t,s),h[1]=E(t,i),r[0]=E(t,o),r[1]=E(t,o+1),e=a(h,r),I(E(t,s),e)<n))return!1;return!0},N=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&h(E(t,s),E(t,i),E(t,e),E(t,e+1)))return!1;return!0},c=function(t,s,i,e){var h=e||[];if(n(h),s<i)for(var r=s;r<=i;r++)h.push(t[r]);else{for(r=0;r<=i;r++)h.push(t[r]);for(r=s;r<t.length;r++)h.push(t[r])}return h},f=function(t){for(var s=[],i=[],e=[],h=Number.MAX_VALUE,r=0;r<t.length;++r)if(D(t,r))for(var n=0;n<t.length;++n)if(l(t,r,n)){for(var i=f(c(t,r,n,e)),o=f(c(t,n,r,e)),a=0;a<o.length;a++)i.push(o[a]);i.length<h&&(h=(s=i).length,s.push([E(t,r),E(t,n)]))}return s},s=function(t){var s=f(t);return 0<s.length?d(t,s):[t]},d=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var h=s[e],r=0;r<i.length;r++){var n=i[r],n=d(n,h);if(n){i.splice(r,1),i.push(n[0],n[1]);break}}return i}return e=t.indexOf((h=s)[0]),r=t.indexOf(h[1]),-1!==e&&-1!==r&&[c(t,e,r),c(t,r,e)]},i=function(t){for(var s=t,i=0;i<s.length-1;i++)for(var e=0;e<i-1;e++)if(h(s[i],s[i+1],s[e],s[e+1]))return!1;for(i=1;i<s.length-2;i++)if(h(s[0],s[s.length-1],s[i],s[i+1]))return!1;return!0},A=function(t,s,i,e,h){h=h||0;var r=s[1]-t[1],s=t[0]-s[0],t=r*t[0]+s*t[1],n=e[1]-i[1],e=i[0]-e[0],i=n*i[0]+e*i[1],o=r*e-n*s;return m(o,0,h)?[0,0]:[(e*t-s*i)/o,(r*i-n*t)/o]},L=function(t,s,i,e,h,r,n){r=r||100,n=n||0,h=h||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],u=[0,0],l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],M=[],w=t,S=t;if(!(S.length<3))if(r<++n)console.warn("quickDecomp: max level ("+r+") reached.");else{for(var T=0;T<t.length;++T)if(D(w,T)){i.push(w[T]);for(var l=c=Number.MAX_VALUE,b=0;b<t.length;++b)x(E(w,T-1),E(w,T),E(w,b))&&G(E(w,T-1),E(w,T),E(w,b-1))&&(u=A(E(w,T-1),E(w,T),E(w,b),E(w,b-1)),C(E(w,T+1),E(w,T),u))&&(f=I(w[T],u))<c&&(c=f,a=u,m=b),x(E(w,T+1),E(w,T),E(w,b+1))&&G(E(w,T+1),E(w,T),E(w,b))&&(u=A(E(w,T+1),E(w,T),E(w,b),E(w,b+1)),x(E(w,T-1),E(w,T),u))&&(f=I(w[T],u))<l&&(l=f,o=u,p=b);if(m===(p+1)%t.length)u[0]=(a[0]+o[0])/2,u[1]=(a[1]+o[1])/2,e.push(u),T<p?(_(y,w,T,p+1),y.push(u),M.push(u),0!==m&&_(M,w,m,w.length),_(M,w,0,T+1)):(0!==T&&_(y,w,T,w.length),_(y,w,0,p+1),y.push(u),M.push(u),_(M,w,m,T+1));else{if(p<m&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(b=m;b<=p;++b)v(E(w,T-1),E(w,T),E(w,b))&&G(E(w,T+1),E(w,T),E(w,b))&&(f=I(E(w,T),E(w,b)))<d&&N(w,T,b)&&(d=f,g=b%t.length);T<g?(_(y,w,T,g+1),0!==g&&_(M,w,g,S.length),_(M,w,0,T+1)):(0!==T&&_(y,w,T,S.length),_(y,w,0,g+1),_(M,w,g,T+1))}return y.length<M.length?(L(y,s,i,e,h,r,n),L(M,s,i,e,h,r,n)):(L(M,s,i,e,h,r,n),L(y,s,i,e,h,r,n)),s}s.push(t)}return s},e=function(t,s){for(var i=0,e=t.length-1;3<t.length&&0<=e;--e)r(E(t,e-1),E(t,e),E(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},p=function(t,s){for(var i=t.length-1;1<=i;--i)for(var e=t[i],h=i-1;0<=h;--h)if(g(e,t[h],s)){t.splice(i,1);continue}},m=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},g=function(t,s,i){return m(t[0],s[0],i)&&m(t[1],s[1],i)};a,h,o,x,v,C,G,r,I,E,n,_,u,D,l,N,c,f,d,A,L,m,g,O=[],R=[],P=[],k=[],self.As={Ls:s,Os:L,Rs:i,Ps:e,ks:p,Fs:t}}{let t=!1,s=!1,i="dev",e=Symbol("Construct internal API token"),h=14,r=self.js=class{constructor(){throw TypeError("static class can't be instantiated")}static zs(){if(h<=0)throw new Error("cannot obtain internal API token");return--h,e}static Bs(){t=!0}static Us(){return t}static Ws(){s=!0}static Qs(){return s}static Js(t){i=t}static Vs(){return i}static Ys(){return"final"===i}};r.isDebug=!1,r.Hs=!1,r.hardwareConcurrency=navigator.hardwareConcurrency||2,self.qs={}}{const s=self.js;s.Zs=class{constructor(t){this.Xs=t,this.Ks=new Map,this.$s()}$s(){let t=this.Xs,s=(t=t.startsWith("?")||t.startsWith("#")?t.substr(1):t).split("&");for(const i of s)this.ti(i)}ti(t){if(t)if(t.includes("=")){const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.Ks.set(i,e)}else this.Ks.set(t,null)}si(){for(const t of this.Ks)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}ei(t){return this.Ks.has(t)}hi(t){const s=this.Ks.get(t);return void 0===s?null:s}ri(){history.replaceState("",document.title,location.pathname+location.search)}ni(t){this.Xs=t,this.Ks.clear(),this.$s()}},s.oi=new s.Zs(location.search),s.ai=new s.Zs(location.hash),s.oi.ei("perf")&&(s.li=!0),"dev"!==s.oi.hi("mode")&&s.Js("final")}{let e=function(t){const s=parseFloat(t),i=B.get(s);return i||(13<=s?"11":"NT "+t)};e;const a=self.js,z="(unknown)",B=(a.ci={fi:z,di:z,mi:z,gi:z,yi:NaN,Mi:z,wi:"browser",Si:!0,Ti:!1,bi:!1,xi:!1,vi:async()=>{}},new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]])),U=navigator.userAgent,W=navigator.userAgentData;if(W&&0<W.brands.length){let s=function(t){let s="",i="",e="",h="";for(const r of t){const n=Q.get(r.brand),o=(!s&&n&&(s=n,i=r.version),J.get(r.brand));!e&&o&&(e=o,h=r.version)}s||"Chromium"!==e||(a.ci.mi="Chromium",a.ci.gi=h),a.ci.mi=s||z,a.ci.gi=i||z,a.ci.Mi=e||z};s,a.ci.fi=W.platform,a.ci.Ti=W.mobile,a.ci.Si=!a.ci.Ti;const Q=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),J=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);s(W.brands);let i=!1;a.ci.vi=async()=>{if(!i)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);s(t.fullVersionList),"Windows"===a.ci.fi?a.ci.di=e(t.platformVersion):a.ci.di=t.platformVersion,i=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let t=function(t,s){const i=Array.isArray(t)?t:[t];for(const e of i){const h=e.exec(U);if(h){s(h);break}}};t(/windows\s+nt\s+([\d\.]+)/i,t=>{a.ci.fi="Windows";const s=t[1];a.ci.di=e(s)}),t(/mac\s+os\s+x\s+([\d\._]+)/i,t=>{a.ci.fi="macOS",a.ci.di=t[1].replace(/_/g,".")}),t(/CrOS/,()=>{a.ci.fi="Chrome OS"}),t(/linux|openbsd|freebsd|netbsd/i,()=>{a.ci.fi="Linux"}),t(/android/i,()=>{a.ci.fi="Android"}),t(/android\s+([\d\.]+)/i,t=>{a.ci.fi="Android",a.ci.di=t[1]}),a.ci.fi===z&&(t(/(iphone|ipod|ipad)/i,t=>{a.ci.fi="iOS"}),t([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],t=>{a.ci.fi="iOS",a.ci.di=t[1].replace(/_/g,".")}));const V=/chrome\//i.test(U),Y=/chromium\//i.test(U),H=/edg\//i.test(U),q=/OPR\//.test(U),Z=/nwjs/i.test(U),X=/safari\//i.test(U),K=/webkit/i.test(U),$=(H||q||t(/chrome\/([\d\.]+)/i,t=>{a.ci.mi="Chrome",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/edg\/([\d\.]+)/i,t=>{a.ci.mi="Edge",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/OPR\/([\d\.]+)/,t=>{a.ci.mi="Opera",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/chromium\/([\d\.]+)/i,t=>{a.ci.mi="Chromium",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/nwjs\/[0-9.]+/i,t=>{a.ci.mi="NW.js",a.ci.gi=t[1],a.ci.Mi="Chromium",a.ci.wi="nwjs"}),t(/firefox\/([\d\.]+)/i,t=>{a.ci.mi="Firefox",a.ci.gi=t[1],a.ci.Mi="Gecko"}),!X||V||Y||H||q||Z||(a.ci.mi="Safari",a.ci.Mi="WebKit",t(/version\/([\d\.]+)/i,t=>{a.ci.gi=t[1]}),t(/crios\/([\d\.]+)/i,t=>{a.ci.mi="Chrome for iOS",a.ci.gi=t[1]}),t(/fxios\/([\d\.]+)/i,t=>{a.ci.mi="Firefox for iOS",a.ci.gi=t[1]}),t(/edgios\/([\d\.]+)/i,t=>{a.ci.mi="Edge for iOS",a.ci.gi=t[1]})),a.ci.Mi===z&&K&&(a.ci.Mi="WebKit"),"Android"===a.ci.fi&&"Safari"===a.ci.mi&&(a.ci.mi="Stock"),new Set(["Windows","macOS","Linux","Chrome OS"])),tt=$.has(a.ci.fi)||"nwjs"===a.ci.wi;a.ci.Si=tt,a.ci.Ti=!tt}"Chrome"===a.ci.mi&&"browser"===a.ci.wi&&/wv\)/.test(U)&&(a.ci.wi="webview"),"nwjs"!==a.ci.wi&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(a.ci.wi="webapp"),a.ci.yi=parseFloat(a.ci.gi);const i="macOS"===a.ci.fi&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;i&&(a.ci.fi="iOS",a.ci.di=a.ci.gi,a.ci.Si=!1,a.ci.Ti=!0,a.ci.xi=!0),a.ci.bi="macOS"===a.ci.fi||"iOS"===a.ci.fi}{let n=function(i){return new Promise((t,s)=>{i.onsuccess=()=>t(i.result),i.onerror=()=>s(i.error)})},o=function(i){return new Promise((t,s)=>{i.oncomplete=()=>t(),i.onerror=()=>s(i.error),i.onabort=()=>s(i.error)})},t=function(t,s){return F(t,s)},s=function(t,s){return F(t,s,!0)},a=function(s){e(s);let t=et.get(s);return t instanceof Promise||(t=(async i=>{e(i);const t=indexedDB.open(i,st);return t.addEventListener("upgradeneeded",t=>{try{const s=t.target.result;s.createObjectStore(it)}catch(t){console.error("Failed to create objectstore for database "+i,t)}}),n(t)})(s),et.set(s,t),t.catch(t=>et.delete(s))),t},e=function(t){if("string"!=typeof t)throw new TypeError("expected string")},r=function(t,h){const s=t.objectStore(it).openCursor();return new Promise(i=>{const e=[];s.onsuccess=t=>{const s=t.target.result;if(s){switch(h){case"entries":e.push([s.key,s.value]);break;case"keys":e.push(s.key);break;case"values":e.push(s.value)}s.continue()}else i(e)}})};n,o,t,s,a,e,r;const st=2,it="keyvaluepairs",et=new Map,ht="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,rt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function F(s,i,e=!1,h=!0){const t=await a(s);try{const r=t.transaction([it],e?"readwrite":"readonly");return i(r)}catch(t){if(h&&"InvalidStateError"===t.name)return et.delete(s),F(s,i,e,!1);throw t}}class nt{constructor(t){e(t),this.name=t}async ready(){await a(this.name)}set(h,r){return e(h),s(this.name,async t=>{const s=t.objectStore(it).put(r,h),i=n(s),e=o(t);await Promise.all([e,i])})}get(r){return e(r),t(this.name,async t=>{const s=t.objectStore(it).get(r),i=n(s),e=o(t),[,h]=await Promise.all([e,i]);return h})}delete(h){return e(h),s(this.name,async t=>{const s=t.objectStore(it).delete(h),i=n(s),e=o(t);await Promise.all([e,i])})}clear(){return s(this.name,async t=>{const s=t.objectStore(it).clear(),i=n(s),e=o(t);await Promise.all([e,i])})}keys(){return t(this.name,async t=>{let s;if(rt){const h=t.objectStore(it).getAllKeys();s=n(h)}else s=r(t,"keys");const i=o(t),[,e]=await Promise.all([i,s]);return e})}values(){return t(this.name,async t=>{let s;if(ht){const h=t.objectStore(it).getAll();s=n(h)}else s=r(t,"values");const i=o(t),[,e]=await Promise.all([i,s]);return e})}entries(){return t(this.name,async t=>{const s=r(t,"entries"),i=o(t),[,e]=await Promise.all([i,s]);return e})}}self.Ci=nt}{let i=function(t){throw new Error(`"${t}" is not implemented`)},e=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},h=function(e){return"object"==typeof e?new Promise(s=>{const{port1:t,port2:i}=new MessageChannel;i.onmessage=t=>s(t.data),t.postMessage(e)}):Promise.resolve(e)},r=(i,e,h,self.Ci),n=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],o=new WeakMap,a=!1;"undefined"==typeof indexedDB&&(a=!0,console.warn("Unable to use local storage because indexedDB is not defined"));class ot{constructor(t){this.Gi=t,o.set(this,new Map)}Ii(t){if(!a)for(const s of n)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),a=!0;break}}async Ei(t){const s=o.get(this).get(t),i=await h(s);return void 0===i?null:i}async _i(t,s){s=await h(s),o.get(this).set(t,s)}Di(t){o.get(this).delete(t)}Ni(){o.get(this).clear()}Ai(){return Array.from(o.get(this).keys())}Li(){return a}async getItem(s,t){if(e(t),a)return this.Ei(s);let i;try{i=await this.Gi.get(s)}catch(t){return this.Ii(t),a?this.Ei(s):(console.error(`Error reading '${s}' from storage, returning null: `,t),null)}return void 0===i?null:i}async setItem(s,i,t){if(e(t),void 0===i&&(i=null),a)await this._i(s,i);else try{await this.Gi.set(s,i)}catch(t){if(this.Ii(t),!a)throw t;await this._i(s,i)}}async removeItem(s,t){if(e(t),a)this.Di(s);else try{await this.Gi.delete(s)}catch(t){this.Ii(t),a?this.Di(s):console.error(`Error removing '${s}' from storage: `,t)}}async clear(t){if(e(t),a)this.Ni();else try{await this.Gi.clear()}catch(t){this.Ii(t),a?this.Ni():console.error("Error clearing storage: ",t)}}async keys(t){if(e(t),a)return this.Ai();let s=[];try{s=await this.Gi.keys()}catch(t){if(this.Ii(t),a)return this.Ai();console.error("Error getting storage keys: ",t)}return s}ready(t){return e(t),a?Promise.resolve(!0):this.Gi.ready()}Oi(t){if("object"!=typeof t)throw new TypeError("invalid options object");const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new r(s);return new ot(i)}length(t){i("localforage.length()")}key(t,s){i("localforage.key()")}iterate(t,s){i("localforage.iterate()")}Ri(t){i("localforage.setDriver()")}config(t){i("localforage.config()")}Pi(t){i("localforage.defineDriver()")}ki(){i("localforage.driver()")}supports(t){i("localforage.supports()")}dropInstance(){i("localforage.dropInstance()")}Fi(){a=!1}}self.localforage=new ot(new r("localforage"))}{const e=self.js;if(e.ji={},e.ji.Bi=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");if(void 0===t.animate)return!1;const s=t.animate([{opacity:"0"},{opacity:"1"}],1e3);return void 0!==s.reverse}catch(t){return!1}})(),e.ji.Ui="undefined"!=typeof HTMLDialogElement,e.ji.Wi=!!self.requestIdleCallback,e.ji.ImageBitmap=!!self.createImageBitmap,e.ji.ImageBitmapOptions=!1,e.ji.Qi=!1,e.ji.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{e.ji.ImageBitmapOptions=!0}).catch(()=>{e.ji.ImageBitmapOptions=!1})}catch(t){e.ji.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(t=>{e.ji.Qi=10===t.width&&10===t.height}).catch(()=>{e.ji.Qi=!1})}catch(t){e.ji.Qi=!1}}if(e.ji.Ji=!(!navigator.clipboard||!navigator.clipboard.readText),e.ji.Vi=!(!navigator.permissions||!navigator.permissions.query),e.ji.Yi=!1,e.ji.Vi){const at={name:"clipboard-read"};navigator.permissions.query(at).then(()=>{e.ji.Yi=!0}).catch(()=>{e.ji.Yi=!1})}e.ji.Hi=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),e.ji.Zi="undefined"!=typeof Proxy,e.ji.Xi=(()=>{if("undefined"==typeof document)return!1;const t=document.createElement("a");return void 0!==t.download})(),e.ji.Ki="function"==typeof fetch,e.ji.$i=!!(self.isSecureContext&&"Opera"!==e.ci.mi&&navigator.storage&&navigator.storage.persist),e.ji.te=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),e.ji.ie=(()=>{if("undefined"==typeof document)return!1;if("iOS"===e.ci.fi)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),e.ji.ImageDecoder=void 0!==self.ImageDecoder,e.ji.he=!!self.VideoEncoder,e.ji.re=!!self.showOpenFilePicker,e.ji.ne=!!self.queryLocalFonts,e.ji.UserActivation=!!navigator.userActivation,e.ji.oe=!1,(async()=>{let s;"undefined"==typeof document?s=new OffscreenCanvas(32,32):((s=document.createElement("canvas")).width=32,s.height=32);const t=s.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let i=null;try{s.convertToBlob?i=await s.convertToBlob({type:"image/webp",quality:1}):s.toBlob&&(i=await new Promise(t=>s.toBlob(t,"image/webp",1))),e.ji.oe=i&&"image/webp"===i.type}catch(t){e.ji.oe=!1}})()}{const ut=self.js;if(!String.prototype.trimStart){const lt=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(lt,"")}}if(!String.prototype.trimEnd){const ct=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(ct,"")}}if(String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(ut.ae(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),!Array.prototype.flat){let e=function(t,i){return t.reduce((t,s)=>(0<i&&Array.isArray(s)?Array.prototype.push.apply(t,e(s,i-1)):t.push(s),t),[])};e,Array.prototype.flat=function(t=1){return e(this,t)}}Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.ue||(Set.prototype.ue=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((i,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,s)=>i({usage:t,quota:s}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let i=function(t){let s=ft.le(),i="Assertion failure: "+t+"\n\nStack trace:\n"+s;console.error(i)};i;const ft=self.js;self.assert=function(t,s){t||i(s)}}{const h=self.js,dt=self.qs,pt=(h.fe=function(t){return"number"==typeof t},h.de=function(t){return h.fe(t)&&isFinite(t)},h.pe=function(t){if(!h.fe(t))throw new TypeError("expected number")},h.me=function(t){h.ge(t)},h.ye=function(t,s,i){if(!h.fe(t)||isNaN(t)||t<s||i<t)throw new RangeError("number outside of range")},h.Me=function(...s){for(let t of s);},h.we=function(t){if(!h.de(t))throw new TypeError("expected finite number")},h.Se=function(t){h.ge(t)},h.Te=function(...s){for(let t of s);},h.xe=function(t){return"string"==typeof t},h.ve=function(t){if(!h.xe(t))throw new TypeError("expected string")},h.Ce=function(t){h.ge(t)},h.Ge=function(...s){for(let t of s);},h.Ie=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},h.Ee=function(t){if(!h.Ie(t))throw new TypeError("expected simple object")},h._e=function(t){if(!h.ge(t)&&!h.Ie(t))throw new TypeError("expected simple object")},h.De=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},h.Ne=function(t){if(!h.De(t))throw new TypeError("expected object")},h.Ae=function(t){h.ge(t)},h.Le=function(...s){for(let t of s);},h.Oe=function(t){return h.Re(t,Blob)&&"string"==typeof t.name},h.Pe=function(t){if(!h.Oe(t))throw new TypeError("expected file")},h.ke=function(t){h.ge(t)},h.Fe=function(t){return Array.isArray(t)},h.je=function(t){if(!h.Fe(t))throw new TypeError("expected array")},h.Be=function(t){h.ge(t)},h.Ue=function(...s){for(let t of s);},h.We=function(t){return!(!h.Fe(t)||t.length&&!h.Fe(t[0]))},h.Qe=function(s){if(!h.We(s))throw new TypeError("expected 2d array");for(let t of s)if(!h.Fe(t))throw new TypeError("expected 2d array")},h.Je=function(t){h.ge(t)},h.Ve=function(t){return"function"==typeof t},h.Ye=function(t,s){if(!h.Ve(t))throw new TypeError("expected function");if(!h.ge(s)&&t!==s)throw new TypeError("expected same function reference")},h.He=function(t){h.ge(t)},h.qe=function(...s){for(let t of s);},h.Ze=function(s,...i){if(!h.Ve(s))throw new TypeError("expected function");if(!i.length)throw new Error("missing comparison functions");for(let t of i)if(!h.ge(t)&&s===t)return;throw new TypeError("expected same function reference")},h.Xe=function(...s){if(!h.ge(s))for(let t of s);},h.Ke=function(t,s){return t instanceof s},h.$e=function(s,...i){for(let t of i)if(h.Ke(s,t))return!0;return!1},h.th=function(t,s){if(!h.Ke(t,s))throw new TypeError("unexpected type")},h.ih=function(t,s){h.ge(t)},h.eh=function(t,...s){for(let t of s);},h.hh=function(t,...s){if(!h.$e(t,...s))throw new TypeError("unexpected type")},h.rh=function(t,...s){if(!h.ge(t)&&!h.$e(t,...s))throw new TypeError("unexpected type")},h.nh=function(s,i){for(let t of s)if(!h.Ke(t,i))return!1;return!0},h.oh=function(s){for(let t of s)if(!h.de(t))return!1;return!0},h.ah=function(s,t){for(let t of s);},h.uh=function(s,t){if(!h.ge(s))for(let t of s);},h.lh=function(s,t){if(!h.ge(s))for(let t of s);},h.fh=function(s){for(let t of s);},h.dh=function(s){if(!h.ge(s))for(let t of s);},h.ph=function(t,s){return!(h.ge(t)||!h.xe(t.nodeName))&&(!s||h.mh(t.nodeName,s))},h.gh=function(t,s){if(h.ge(t)||!h.xe(t.nodeName))throw new TypeError("expected DOM node");if(s&&!h.mh(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},h.yh=function(t,s){h.ge(t)},h.Mh=function(t,s){return!(h.ge(t)||!h.xe(t.tagName))&&(!s||h.mh(t.tagName,s))},h.wh=function(t,s){if(h.ge(t)||!h.xe(t.tagName))throw new TypeError("expected HTML element");if(s&&!h.mh(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},h.Sh=function(t,s){h.ge(t)},h.Th=function(t){return h.Mh(t,"img")||h.Mh(t,"canvas")||h.Mh(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},h.bh=function(t){if(!h.Th(t))throw new TypeError("expected drawable")},h.xh=function(t){h.ge(t)},h.Ch=function(t){return t instanceof ImageData||h.Th(t)},h.Gh=function(t){if(!h.Ch(t))throw new TypeError("expected drawable or image data")},h.Ih=function(t){if(!h.ge(t)&&!h.Ch(t))throw new TypeError("expected drawable or image data")},h.Eh=function(t){return"string"==typeof t||h.HtmlString&&t instanceof h.HtmlString||t instanceof h._h},h.Dh=function(t){if(!h.Eh(t))throw new TypeError("expected string-like")},h.Nh=function(t){h.ge(t)},h.Ah=function(...s){for(let t of s);},h.Lh=function(){throw new Error("must be overridden")},h.Oh=function(){throw new Error("not yet implemented")},h.Rh=function(t,...s){let i=t;if(void 0===i)return!1;for(let t of s){if(void 0===i[t])return!1;i=i[t]}return!0},h.ge=function(t){return null==t},h.Ph=function(s){let i=s[0].constructor;for(let t of s)if(t.constructor!==i)return!1;return i},h.kh=function(s,i){for(let t of s)if(!(t instanceof i))return!1;return!0},Object.getPrototypeOf(Uint8Array));h.Fh=function(t){return h.Ke(t,pt)},h.jh=function(t){},h.zh=function(t){h.Bh(t,pt)},h.Uh=function(t,...s){if(!h.Wh(t,...s))throw new TypeError("unexpected type")},h.Wh=function(t,...s){for(const i of s)if(h.Re(t,i))return!0;return!1},h.Bh=function(t,s){if(!h.Re(t,s))throw new TypeError("unexpected type")},h.Re=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},dt.pe=h.pe,dt.me=h.me,dt.we=h.we,dt.Se=h.Se,dt.ve=h.ve,dt.Ce=h.Ce,dt.Ne=h.Ne,dt.Ae=h.Ae,dt.je=h.je,dt.Be=h.Be,dt.Ye=h.Ye,dt.He=h.He,dt.th=h.th,dt.ih=h.ih,dt.ge=h.ge}{let e=function(t,s){let i=p.getType(t),e=p.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},h=function(t){console.warn("[Defence] "+t+" @",p.le())},i=function(){if(f=-1,0<a.size||0<u.size){let t=new Set([...a.keys()].map(t=>p.Qh(t))),s=[...t].join(",");console.warn("An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: "+s),a.clear(),u.clear()}},r=function(s){let i=new Set;for(let t in s)i.add(t);return i},n=function(t,s){let i=r(s),e=d.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);p.Jh(s,[...i]),s.length&&console.warn(`[Defence] '${p.Qh(t)}' constructor creates inconsistent properties: `+s.join(", "))}else d.set(t,i)};e,h,i,r,n;const p=self.js,mt=new Map;p.Vh=function(t,s){console.log("%c"+t,"font-weight: bold; color:"+s)},p.Yh=function(t,...s){mt.has(t)||mt.set(t,-1),-1===mt.get(t)&&mt.set(t,requestAnimationFrame(()=>{console.log("%c"+t,"font-weight: bold",...s),mt.set(t,-1)}))};let o,a=(p.Hh=function(t){performance.mark(t),(o=o||new Map).has(t)||o.set(t,{current:0,total:0,qh:0,Zh:1,toString:function(){return`${t} :: current => ${this.current.toPrecision(3)} :: average => ${this.qh.toPrecision(3)} :: calls => `+this.Zh}})},p.Xh=function(t){performance.measure("measure-"+t,t);const s=performance.getEntriesByName("measure-"+t)[0],i=o.get(t);i.current=s.duration,i.total+=i.current,i.qh=i.total/i.Zh,console.log(i.toString()),i.Zh++,performance.clearMarks(t),performance.clearMeasures("measure-"+t)},p.le=function(){return(new Error).stack},p.Kh=function(){debugger},p.cast=function(t,s){return t&&t instanceof s?t:null},p.Qh=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":p.fe(t)?"<number>":p.xe(t)?"<string>":p.Fe(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":p.Ve(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},p.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},p.range=function*(s,i){if(!isFinite(Math.abs(s-i)))throw new Error("Invalid parameters");if(i<s)for(let t=s-1;t>=i;t--)yield t;else for(let t=s;t<i;t++)yield t},new Map),u=new Map,l=new WeakMap,c=new WeakMap;p.$h={};const gt=new Set(["then","splice"]);p.$h.get=function(t,s){return s in t||"symbol"==typeof s||gt.has(s)||h(`Accessed missing property '${s}' from defended object '${p.Qh(t)}', returning undefined`),c.has(t)&&"symbol"!=typeof s&&!gt.has(s)&&h(`Accessed property '${s}' on a released object '${p.Qh(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]},p.$h.set=function(t,s,i){return s in t||a.has(t)||h(`Set non-existent property '${s}' to '${i}' on defended object '${p.Qh(t)}'`),e(t[s],i)||a.has(t)||h(`Set '${p.getType(t[s])}' property '${s}' to type '${p.getType(i)}' on defended object '${p.Qh(t)}'`),c.has(t)&&h(`Set property '${s}' on a released object '${p.Qh(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]=i,!0},p.$h.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${p.Qh(t)}'`)},p.$h.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${p.Qh(t)}'`)},p.$h.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${p.Qh(t)}'`)};let f=-1,d=(p.tr=class{constructor(){if(p.Hs&&p.ji.Zi){let t=Object.create(new.target.prototype),s=new Proxy(t,p.$h);return a.set(t,s),u.set(s,t),l.set(s,t),-1===f&&(f=requestAnimationFrame(i)),s}}},p.ir=function(s){if(p.Hs&&p.ji.Zi&&s instanceof p.tr){if(u.has(s)){let t=u.get(s);u.delete(s),a.delete(t)}return s}return p.isDebug?Object.seal(s):s},p.er=function(t,...s){let i;try{i=new t(...s)}catch(t){throw u.clear(),a.clear(),t}return p.Hs&&n(t,i),p.ir(i)},p.hr=function(t){let s=l.get(t);s&&c.set(s,p.le())},p.rr=function(t){let s=l.get(t);return!!s&&!!c.get(s)},new Map);p.nr=class{constructor(t){this.ur="",t&&this.start(t)}start(t){p.li&&(this.ur=t,performance.mark(this.ur+"-Start"))}end(){p.li&&(performance.mark(this.ur+"-End"),performance.measure(this.ur,this.ur+"-Start",this.ur+"-End"))}next(t){p.li&&(this.end(),this.ur=t,performance.mark(this.ur+"-Start"))}}}{let i=function(t){return 0===t&&1/t<0};i;const y=self.js,yt=2*Math.PI,Mt=Math.PI/180,wt=180/Math.PI,St=(y.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0==e)return i;if(t<s){const h=i-(s-t)%e;return h===i?0:h}return s+(t-s)%e},y.lr=function(t,s,i,e,h){const r=i-s;if(0==r&&0===e)return t;const n=h-e;return(t-s)*n/r+e},y.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},y.cr=function(t,s,i){return t<s?s:i<t?i:t},y.dr=function(t){return(t%=yt)<0&&(t+=yt),t},y.pr=function(t){return t*Mt},y.mr=function(t){return t*wt},y.gr=function(t,s,i,e){return Math.hypot(i-t,e-s)},y.yr=function(t,s,i,e){const h=i-t,r=e-s;return h*h+r*r},y.Mr=function(t,s,i,e){return Math.atan2(e-s,i-t)},y.Sr=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),h=Math.sin(s),r=Math.cos(s),n=i*h+e*r;return 1<=n?0:n<=-1?Math.PI:Math.acos(n)},y.Tr=function(t,s,i){let e=Math.sin(t),h=Math.cos(t),r=Math.sin(s),n=Math.cos(s);return Math.acos(e*r+h*n)>i?0<h*r-e*n?y.dr(t+i):y.dr(t-i):y.dr(s)},y.br=function(t,s){let i=Math.sin(t),e=Math.cos(t),h=Math.sin(s),r=Math.cos(s);return e*h-i*r<=0},y.vr=function(t,s,i,e=0){let h=y.Sr(t,s),r=yt*e;return y.br(s,t)?y.dr(t+(h+r)*i):y.dr(t-(h+r)*i)},y.Cr=function(t,s,i,e=0){const h=y.Sr(t,s),r=yt*e;return y.br(s,t)?y.dr(t+(h+r)*i):y.dr(t+(yt-h+r)*i)},y.Gr=function(t,s,i,e=0){const h=y.Sr(t,s),r=yt*e;return y.br(s,t)?y.dr(t-(-yt+h-r)*i):y.dr(t-(h+r)*i)},y.Ir=function(t,s){const i=y.Sr(t,s);return y.br(t,s)?y.dr(s-i):y.dr(s+i)},y.Lt=function(t,s,i){return t+i*(s-t)},y.Er=function(t,s,i){return t===s?0:(i-t)/(s-t)},y._r=function(t,s,i,e,h){return y.Lt(e,h,y.Er(t,s,i))},y.Dr=function(t,s,i,e){return y.Lt(y.Lt(t,s,e),y.Lt(s,i,e),e)},y.Nr=function(t,s,i,e,h){return y.Lt(y.Dr(t,s,i,h),y.Dr(s,i,e,h),h)},y.Ar=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},y.Lr=function(t){return 0<t&&0==(t-1&t)},y.Or=function(s){--s;for(let t=1;t<32;t<<=1)s|=s>>t;return s+1},y.Rr=function(t,s){return Math.round(t*s)/s},y.Pr=function(t,s){return Math.floor(t*s)/s},y.kr=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},y.Fr=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},y.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;0<=e&&"0"===i.charAt(e);--e);return 0<=e&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},y.jr=function(t,s,i){return y.cr(t,0,255)|y.cr(s,0,255)<<8|y.cr(i,0,255)<<16},16384),Tt=(y.zr=function(t,s,i,e){return t=y.cr(Math.floor(1024*t),-8192,8191),s=y.cr(Math.floor(1024*s),-8192,8191),i=y.cr(Math.floor(1024*i),-8192,8191),e=y.cr(Math.floor(1023*e),0,1023),t<0&&(t+=St),s<0&&(s+=St),i<0&&(i+=St),-(t*St*St*1024+s*St*1024+1024*i+e)},y.Br=function(t,s,i){return y.zr(t,s,i,1)},y.Ur=function(s){if(0<=s)return(255&s)/255;{let t=Math.floor(-s/274877906944);return 8191<t&&(t-=St),t/1024}},y.Wr=function(s){if(0<=s)return((65280&s)>>8)/255;{let t=Math.floor(-s%274877906944/16777216);return 8191<t&&(t-=St),t/1024}},y.Qr=function(s){if(0<=s)return((16711680&s)>>16)/255;{let t=Math.floor(-s%16777216/1024);return 8191<t&&(t-=St),t/1024}},y.Jr=function(t){if(i(t))return 0;if(0<=t)return 1;{const s=Math.floor(-t%1024);return s/1023}},y.Vr=function(s,i){for(s=Math.floor(s),i=Math.floor(i);0!==i;){let t=i;i=s%i,s=t}return s},[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]]);y.Yr=function(i,e){if((i=Math.floor(i))===(e=Math.floor(e)))return[1,1];for(let s of Tt){let t=i/s[0]*s[1];if(Math.abs(e-t)<1)return s.slice(0);if(t=i/s[1]*s[0],Math.abs(e-t)<1)return[s[1],s[0]]}let t=y.Vr(i,e);return[i/t,e/t]},y.Hr=function(t,s,i,e,h,r,n,o){const a=Math.min(t,i),u=Math.max(t,i),l=Math.min(h,n),c=Math.max(h,n);if(u<l||c<a)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(r,o),m=Math.max(r,o);if(d<p||m<f)return!1;const g=h-t+n-i,y=r-s+o-e,M=i-t,w=e-s,S=n-h,T=o-r,b=Math.abs(w*S-T*M),x=S*y-T*g;if(Math.abs(x)>b)return!1;const v=M*y-w*g;return Math.abs(v)<=b},y.qr=function(t,s,i,e,h,r,n,o,a,u,l,c){const f=Math.min(a,l),d=Math.max(a,l);if(r<f||d<h)return!1;const p=Math.min(u,c),m=Math.max(u,c);if(o<p||m<n)return!1;const g=a-t+l-i,y=u-s+c-e,M=i-t,w=e-s,S=l-a,T=c-u,b=Math.abs(w*S-T*M),x=S*y-T*g;if(Math.abs(x)>b)return!1;const v=M*y-w*g;return Math.abs(v)<=b},y.Zr=function(t,s,i,e,h){const r=Math.min(t,i),n=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),u=h.Xr(),l=h.Kr(),c=h.$r(),f=h.tn(),d=h.sn(),p=h.hn(),m=h.rn(),g=h.nn();return y.qr(t,s,i,e,r,n,o,a,u,l,c,f)||y.qr(t,s,i,e,r,n,o,a,c,f,d,p)||y.qr(t,s,i,e,r,n,o,a,d,p,m,g)||y.qr(t,s,i,e,r,n,o,a,m,g,u,l)},y.an=function(s,i,e,h,r){let n=Math.min(s,e),o=Math.max(s,e),a=Math.min(i,h),u=Math.max(i,h),l=0;for(let t=r.length-4;l<=t;l+=2)if(y.qr(s,i,e,h,n,o,a,u,r[l],r[l+1],r[l+2],r[l+3]))return!0;return y.qr(s,i,e,h,n,o,a,u,r[l],r[l+1],r[0],r[1])};y.un=function(t,s,i,e,h,r,n,o){const a=i-t,u=e-s,l=n-h,c=o-r,f=a*c-u*l;if(0==f)return 2;const d=((s-e)*(n-t)+a*(o-s))/f;return 0<d&&d<1+1e-6?(c*(n-t)+(h-n)*(o-s))/f:2},y.ln=function(t,s,i,e,h,r,n,o,a){const u=(n-h)*a,l=(o-r)*a;return y.un(t,s,i,e,h-u,r-l,n+u,o+l)},y.cn=function(t,s,i,e,h,r,n,o){const a=h-i,u=r-e,l=n-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=a*f+u*d,y=l*l+c*c,M=l*f+c*d,w=1/(p*y-m*m),S=(y*g-m*M)*w,T=(p*M-m*g)*w;return 0<=S&&0<=T&&S+T<=1},y.dn=function(t,s,i,e,h,r,n,o){const a=h-i,u=r-e,l=n-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=l*l+c*c,y=f*a+d*u,M=f*l+d*c,w=p*g-m*m,S=(g*y-m*M)/w,T=(p*M-m*y)/w,b=1-S-T;return[b,S,T]},y.pn=function(t,s,i,e,h,r,n,o,a,u,l,c){return[t*e+s*n+i*u,t*h+s*o+i*l,t*r+s*a+i*c]}}{let u=self.js,s=null,i="";if("undefined"!=typeof document){const xt=(s=document).querySelector("base");!(i=xt&&xt.hasAttribute("href")?xt.getAttribute("href"):"")||(i=i.startsWith("/")?i.substr(1):i).endsWith("/")||(i+="/")}u.mn=function(){return i},u.gn=function(){if(!s)return"";const t=s.location;return u.yn(t.origin+t.pathname)+i},u.yn=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},u.Mn=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},u.wn=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},u.Sn=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},u.Tn=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},u.bn=function(t){return t.replace(/\\/g,"/")},u.xn=function(t,s){const i=t?u.wn(t).slice(1):"";return s===i},u.vn=function(t,s){let i,e;return u.Oe(t)&&(i=u.Tn(t.name)),u.xe(t)&&(i=u.Tn(t)),u.Oe(s)&&(e=u.Tn(s.name)),u.xe(s)&&(e=u.Tn(s)),i===e},u.Cn=function(t){t=u.bn(t);let s=/^\w:\//.exec(t),i=(s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=1<(t=t.replace(/\/{2,}/g,"/")).length&&"/"===t.slice(-1)?t.slice(0,-1):t).lastIndexOf("/")+1),e="",h=t,r,n="";0<i&&(e=t.slice(0,i),h=t.slice(i));const o=(r=h).lastIndexOf("."),a=(0<o&&(n=h.slice(o),r=h.slice(0,-n.length)),s+e+h);return{dir:e,Gn:h,name:r,root:s,ext:n,In:a}},u.En=function(i,e){return new Promise((t,s)=>{self.setTimeout(t,i,e)})},u._n=function(t){try{t()}catch(t){u.isDebug&&console.warn("Swallowed exception: ",t)}},u.Dn=function(){},u.mh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},u.Nn=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},u.An=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},u.Ln=function(t,s){t.length=s},u.On=function(t){t&&0!==t.length&&u.Ln(t,0)},u.Rn=function(i){if(i){for(let s=0;s<i.length;s++){let t=i[s];u.Ln(t,0)}u.Ln(i,0)}},u.Pn=function(s,i,e){i|=0;const h=s.length;if(!(i<=h))for(let t=h;t<i;++t)s.push(e)},u.kn=function(t,s,i){const e=t.length;(s|=0)<e?u.Ln(t,s):e<s&&u.Pn(t,s,i)},u.Fn=function(t,s){u.On(t),u.Jh(t,s)},u.Jh=function(i,e){if(e.length<1e4)i.push(...e);else for(let t=0,s=e.length;t<s;++t)i.push(e[t])},u.jn=function(i,e){if(!((e=Math.floor(e))<0||e>=i.length)){let s=i.length-1;for(let t=e;t<s;++t)i[t]=i[t+1];u.Ln(i,s)}},u.zn=function(t,s){let i=t.indexOf(s);0<=i&&t.splice(i,1)},u.Bn=function(s,i){let e=s.length;if(i.length!==e)return!1;for(let t=0;t<e;++t)if(s[t]!==i[t])return!1;return!0},u.Un=function(i,e){let h=[],r=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e(t)?h.push(t):(i[r]=t,++r)}return u.Ln(i,r),h},u.Wn=function(i,e){let t=i.length,h=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e.has(t)||(i[h++]=t)}return u.Ln(i,h),t-h},u.Qn=function(t,s){return t===Math.floor(t)&&0<=t&&t<s.length},u.Jn=function(t,s){if(!u.Qn(t,s))throw new RangeError("array index out of bounds")},u.Vn=function(t){return t.slice()},u.Yn=function(t,i){let e=[];for(let s of t)if(u.De(s)){let t=i(s);if(!t)throw new Error("missing clone");if(t.constructor!==s.constructor)throw new Error("object is not a clone");e.push(t)}else u.Fe(s)?e.push(u.Yn(s,i)):e.push(s);return e},u.Hn=function(s){let i=[];for(let t of s)i.push(t.slice());return i},u.qn=function(t,s=" "){return t?t.split(s).map(t=>t.trim()).filter(t=>!!t):[]},u.Zn=function(t,s,i){const e=new Set;for(const h of t.values())s(h)&&(i?e.add(i(h)):e.add(h));return e},u.Xn=function(t,s){return t.union?t.union(s):new Set([...t,...s])},u.Kn=function(t,s){for(const i of s)t.add(i);return t},u.first=function(s){for(let t of s)return t;return null},u.xor=function(t,s){return!t!=!s},u.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return i<t;case 5:return i<=t;default:return!1}},u.$n=function(s){for(let t in s)if(s.hasOwnProperty(t))return!0;return!1},u.io=function(o,a){return o.length?new Promise((i,e)=>{let h=[],r=0,n=!1;for(let s=0,t=o.length;s<t;++s)h.push(void 0),o[s].then(t=>{n||(h[s]=t,++r===o.length?i(h):a(r,o.length))}).catch(t=>{n=!0,e(t)})}):Promise.resolve([])};let e=[],h=(u.eo=function(t){e.push(t)},u.ho=function(){let i=0;for(let s of e){let t=s();i+=t}return Math.floor(i)},1),r=new Map,n=new MessageChannel;n.port2.onmessage=function(t){const s=t.data,i=r.get(s);r.delete(s),i&&i(performance.now())},u.ro=function(t){const s=h++;return r.set(s,t),n.port1.postMessage(s),s},u.no=function(t){r.delete(t)},u.ao=u.ro,u.uo=function(){return new Promise(t=>u.ao(t))};const bt=new Set;u.lo=function(s){const i=self.requestAnimationFrame(async t=>{await u.uo(),bt.has(i)&&(bt.delete(i),s(t))});return bt.add(i),i},u.co=function(t){bt.has(t)&&(self.cancelAnimationFrame(t),bt.delete(t))}}{const r=self.js;r.fo=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},r.do=function(t){return!r.fo(t)},r.po=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} `+t.statusText)},r.mo=function(t,s){return fetch(t,s).then(t=>(r.po(t),t))},r.yo=function(t){return r.mo(t).then(t=>t.text())},r.Mo=function(t){return r.mo(t).then(t=>t.json())},r.wo=function(t){return r.mo(t).then(t=>t.blob())},r.So=function(t){return r.mo(t).then(t=>t.arrayBuffer())},r.To=function(e){return new Promise((t,s)=>{const i=new Image;i.onload=()=>t(i),i.onerror=t=>s(t),i.src=e})},r.bo=function(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsArrayBuffer(e)})},r.xo=function(e){return"function"==typeof e.text?e.text():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsText(e)})},r.vo=function(t){return r.xo(t).then(t=>JSON.parse(t))},r.Co=async function(t,s){let i=URL.createObjectURL(t);try{const e=await r.To(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof e.decode&&await e.decode(),e}finally{i&&URL.revokeObjectURL(i)}},r.Go=function(t,s){if("undefined"==typeof document||"function"!=typeof document.createElement)return new OffscreenCanvas(t,s);{const i=document.createElement("canvas");return i.width=t,i.height=s,i}},r.Io=function(s,i,e){if("number"!=typeof e&&(e=1),i=i||"image/png",e=r.cr(e,0,1),s.convertToBlob)return s.convertToBlob({type:i,quality:e});if(s.toBlob)return new Promise(t=>s.toBlob(t,i,e));throw new Error("could not convert canvas to blob")},r.Eo=function(t,s,i){const e=r.Go(t.width,t.height),h=e.getContext("2d");return h.drawImage(t,0,0),r.Io(e,s,i)},r._o=function(t,s,i){if(r.ji.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then(t=>r.Eo(t,s,i));if(r.ji.ImageBitmap)return createImageBitmap(t).then(t=>r.Eo(t,s,i));{const e=r.Go(t.width,t.height),h=e.getContext("2d");return h.putImageData(t,0,0),r.Io(e,s,i)}},r.Do=function(t,s){t.clear();for(const i of s)t.add(i)},r.No=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},r.Ao=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},r.Lo=function s(t){if("object"!=typeof t||null===t)return t;if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>s(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],s(t[1])])};{const i=Object.create(null);for(const[e,h]of Object.entries(t))i[e]=s(h);return i}},r.Oo=function s(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>s(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],s(t[1])]));{const i=Object.create(null);for(const[e,h]of Object.entries(t))i[e]=s(h);return i}}return t},r.Ro=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const h of t)"-"===h?0<e&&(i=!0):i?(s+=h.toUpperCase(),i=!1):s+=h,++e;return s},r.Po=function(t){return"object"==typeof t&&"function"==typeof t.next},r.ko=function(s,i){const e=[];if("function"==typeof i)for(let t=0;t<s;++t)e.push(i());else for(let t=0;t<s;++t)e.push(i);return e}}{let e=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},u=function(t,s,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};e,u;const l=self.js,vt=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,Ct=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;l.Fo=class{constructor(t,s,i,e){this.jo=NaN,this.zo=NaN,this.Bo=NaN,this.Uo=NaN,this.jo=0,this.zo=0,this.Bo=0,this.Uo=0,t instanceof l.Fo?this.set(t):this.Wo(t||0,s||0,i||0,e||0)}Qo(t,s,i){return this.jo=+t,this.zo=+s,this.Bo=+i,this.cr(),this}Wo(t,s,i,e){return this.jo=+t,this.zo=+s,this.Bo=+i,this.Uo=+e,this.cr(),this}set(t){return this.jo=t.jo,this.zo=t.zo,this.Bo=t.Bo,this.Uo=t.Uo,this}C(t){return this.set(t)}add(t){this.jo+=t.jo,this.zo+=t.zo,this.Bo+=t.Bo,this.Uo+=t.Uo,this.cr()}Jo(t,s,i,e=0){this.jo+=+t,this.zo+=+s,this.Bo+=+i,this.Uo+=+e,this.cr()}Vo(t){this.Yo(Math.max(this.jo,t.jo)-Math.min(this.jo,t.jo)),this.Ho(Math.max(this.zo,t.zo)-Math.min(this.zo,t.zo)),this.qo(Math.max(this.Bo,t.Bo)-Math.min(this.Bo,t.Bo)),this.Zo(Math.max(this.Uo,t.Uo)-Math.min(this.Uo,t.Uo)),this.cr()}Xo(t){this.jo=t.jo,this.zo=t.zo,this.Bo=t.Bo}Yo(t){this.jo=l.cr(+t,0,1)}Ko(){return this.jo}Ho(t){this.zo=l.cr(+t,0,1)}$o(){return this.zo}qo(t){this.Bo=l.cr(+t,0,1)}ta(){return this.Bo}Zo(t){this.Uo=l.cr(+t,0,1)}ia(){return this.Uo}clone(){return l.er(l.Fo,this.jo,this.zo,this.Bo,this.Uo)}toArray(){return[this.jo,this.zo,this.Bo,this.Uo]}ea(){return new Float64Array(this.toArray())}ra(t,s){t[s++]=this.jo,t[s++]=this.zo,t[s++]=this.Bo,t[s]=this.Uo}na(t,s){t[s++]=this.jo,t[s++]=this.zo,t[s]=this.Bo}equals(t){return this.jo===t.jo&&this.zo===t.zo&&this.Bo===t.Bo&&this.Uo===t.Uo}oa(t){return this.jo===t.jo&&this.zo===t.zo&&this.Bo===t.Bo}aa(t,s,i){return this.jo===t&&this.zo===s&&this.Bo===i}ua(t,s,i,e){return this.jo===t&&this.zo===s&&this.Bo===i&&this.Uo===e}la(t,s){return t[s]===Math.fround(this.jo)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Bo)&&t[s+3]===Math.fround(this.Uo)}ca(t,s){return t[s]===Math.fround(this.jo)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Bo)}multiply(t){this.jo*=t.jo,this.zo*=t.zo,this.Bo*=t.Bo,this.Uo*=t.Uo}fa(t){this.jo*=t,this.zo*=t,this.Bo*=t,this.Uo*=t}da(){return this.jo*=this.Uo,this.zo*=this.Uo,this.Bo*=this.Uo,this}pa(){return this.jo/=this.Uo,this.zo/=this.Uo,this.Bo/=this.Uo,this}cr(){return this.jo=l.cr(this.jo,0,1),this.zo=l.cr(this.zo,0,1),this.Bo=l.cr(this.Bo,0,1),this.Uo=l.cr(this.Uo,0,1),this}ma(t){this.jo=l.Ur(t),this.zo=l.Wr(t),this.Bo=l.Qr(t),this.Uo=l.Jr(t)}ga(t,s,i){const e=l.de(t)?t:this.Ko(),h=l.de(s)?s:this.$o(),r=l.de(i)?i:this.ta();return`rgb(${100*e}%, ${100*h}%, ${100*r}%)`}ya(t,s,i,e){const h=l.de(t)?t:this.Ko(),r=l.de(s)?s:this.$o(),n=l.de(i)?i:this.ta(),o=l.de(e)?e:this.ia();return`rgba(${100*h}%, ${100*r}%, ${100*n}%, ${o})`}Ma(){const t=Math.round(255*this.Ko()),s=Math.round(255*this.$o()),i=Math.round(255*this.ta());return"#"+e(t.toString(16))+e(s.toString(16))+e(i.toString(16))}wa(t){if("string"!=typeof t)return!1;let s,i,e;if(3===(t="#"===(t=t.trim()).charAt(0)?t.substr(1):t).length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.Yo(s),isFinite(i)&&this.Ho(i),isFinite(e)&&this.qo(e),this.Zo(1),!0}Sa(){const t=Math.round(255*this.Ko()),s=Math.round(255*this.$o()),i=Math.round(255*this.ta());return t+`, ${s}, `+i}Ta(){const t=Math.round(255*this.Ko()),s=Math.round(255*this.$o()),i=Math.round(255*this.ta());return[t,s,i]}ba(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.Yo(i),isFinite(e)&&this.Ho(e),isFinite(h)&&this.qo(h),this.Zo(1),!0}xa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.Yo(i),isFinite(e)&&this.Ho(e),isFinite(h)&&this.qo(h),this.Zo(1),!0}Ca(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255,r=parseFloat(s[3].trim());return isFinite(i)&&this.Yo(i),isFinite(e)&&this.Ho(e),isFinite(h)&&this.qo(h),isFinite(r)&&this.Zo(r),!0}Ga(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100,r=parseFloat(s[3].trim());return isFinite(i)&&this.Yo(i),isFinite(e)&&this.Ho(e),isFinite(h)&&this.qo(h),isFinite(r)&&this.Zo(r),!0}Ia(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.xa(t):this.ba(t);if(t.startsWith("rgba("))return t.includes("%")?this.Ga(t):this.Ca(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.Ea(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.xa(t):4===s.length&&this.Ga(t):3===s.length?this.ba(t):4===s.length&&this.Ca(t)}}return this.wa(t)}toJSON(){return[this.jo,this.zo,this.Bo,this.Uo]}_a(t,s,i,e){let h,r,n;if(t%=360,s=l.cr(s,0,100),i=l.cr(i,0,100),e=l.cr(e,0,1),t/=360,i/=100,0===(s/=100))h=r=n=i;else{const o=i<.5?i*(1+s):i+s-i*s,a=2*i-o;h=u(a,o,t+1/3),r=u(a,o,t),n=u(a,o,t-1/3)}return this.Yo(h),this.Ho(r),this.qo(n),this.Zo(e),this}Ea(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=vt.exec(s),e=Ct.exec(s);return i&&4===i.length?(this._a(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this._a(+i[1],+i[2],+i[3],+i[4]),0))}Da(){const t=this.jo,s=this.zo,i=this.Bo,e=this.Uo,h=l.Fo.Na(t,s,i),r=l.Fo.Aa(t,s,i),n=l.Fo.La(t,s,i);return`hsla(${h}, ${r}%, ${n}%, ${e})`}Oa(){const t=this.jo,s=this.zo,i=this.Bo;return[l.Fo.Na(t,s,i),l.Fo.Aa(t,s,i),l.Fo.La(t,s,i),this.Uo]}Ra(t){!Array.isArray(t)||t.length<3||(this.jo=t[0],this.zo=t[1],this.Bo=t[2],this.Uo=4<=t.length?t[3]:1)}set r(t){this.Yo(t)}get r(){return this.Ko()}set Pa(t){this.Ho(t)}get Pa(){return this.$o()}set b(t){this.qo(t)}get b(){return this.ta()}set a(t){this.Zo(t)}get a(){return this.ia()}ka(t,s){switch(t){case 0:this.Yo(s);break;case 1:this.Ho(s);break;case 2:this.qo(s);break;case 3:this.Zo(s);break;default:throw new RangeError("invalid color index")}}Fa(t){switch(t){case 0:return this.Ko();case 1:return this.$o();case 2:return this.ta();case 3:return this.ia();default:throw new RangeError("invalid color index")}}static ja(t,s){let i,e;if(Array.isArray(t))(i=new l.Fo).Ra(t);else{if(!(t instanceof l.Fo))throw new Error("unexpected type");i=t}if(Array.isArray(s))(e=new l.Fo).Ra(s);else{if(!(s instanceof l.Fo))throw new Error("unexpected type");e=s}return i.equals(e)}static za(t,s){return l.cr(Math.max(t,s)-Math.min(t,s),0,1)}static Ba(t,s){const i=new l.Fo;return i.Yo(Math.max(t.jo,s.jo)-Math.min(t.jo,s.jo)),i.Ho(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),i.qo(Math.max(t.Bo,s.Bo)-Math.min(t.Bo,s.Bo)),i.Zo(Math.max(t.Uo,s.Uo)-Math.min(t.Uo,s.Uo)),i}static Ua(t,s){const i=new l.Fo(0,0,0,1);return i.Yo(Math.max(t.jo,s.jo)-Math.min(t.jo,s.jo)),i.Ho(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),i.qo(Math.max(t.Bo,s.Bo)-Math.min(t.Bo,s.Bo)),i}static Na(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;let r=0;switch(e){case t:r=(s-i)/(e-h)+(s<i?6:0);break;case s:r=(i-t)/(e-h)+2;break;case i:r=(t-s)/(e-h)+4}return Math.round(r/6*360)}static Aa(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;const r=(e+h)/2,n=e-h,o=.5<r?n/(2-e-h):n/(e+h);return Math.round(100*o)}static La(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i),r=(e+h)/2;return e?Math.round(100*r):0}},l.Fo.Wa=Object.freeze(l.er(l.Fo,1,1,1,1)),l.Fo.Qa=Object.freeze(l.er(l.Fo,0,0,0,1)),l.Fo.Ja=Object.freeze(l.er(l.Fo,0,0,0,0))}{const Gt=self.js;Gt.Va=class{constructor(t,s){this.Ya=0,this.Ha=0,t instanceof Gt.Va?this.C(t):this.set(t||0,s||0)}set(t,s){this.Ya=+t,this.Ha=+s}C(t){this.Ya=t.Ya,this.Ha=t.Ha}equals(t){return this.Ya===t.Ya&&this.Ha===t.Ha}qa(t,s){return this.Ya===t&&this.Ha===s}la(t,s){return t[s]===Math.fround(this.Ya)&&t[s+1]===Math.fround(this.Ha)}Za(t){this.Ya=+t}Xa(){return this.Ya}Ka(t){this.Ha=+t}$a(){return this.Ha}toArray(){return[this.Ya,this.Ha]}ea(){return new Float64Array(this.toArray())}ra(t,s){t[s++]=this.Ya,t[s]=this.Ha}offset(t,s){this.Ya+=+t,this.Ha+=+s}scale(t,s){this.Ya*=t,this.Ha*=s}Ct(t,s){this.Ya/=t,this.Ha/=s}round(){this.Ya=Math.round(this.Ya),this.Ha=Math.round(this.Ha)}floor(){this.Ya=Math.floor(this.Ya),this.Ha=Math.floor(this.Ha)}ceil(){this.Ya=Math.ceil(this.Ya),this.Ha=Math.ceil(this.Ha)}angle(){return Gt.Mr(0,0,this.Ya,this.Ha)}tu(){return this.Ya*this.Ya+this.Ha*this.Ha}length(){return Math.hypot(this.Ya,this.Ha)}su(t,s){const i=this.Ya*s-this.Ha*t;this.Ha=this.Ha*s+this.Ya*t,this.Ya=i}rotate(t){0!==t&&this.su(Math.sin(t),Math.cos(t))}iu(t,s,i){0===t||s===this.Ya&&i===this.Ha||(this.Ya-=s,this.Ha-=i,this.su(Math.sin(t),Math.cos(t)),this.Ya+=+s,this.Ha+=+i)}move(t,s){0!==s&&(this.Ya+=Math.cos(t)*s,this.Ha+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.Ya/=t,this.Ha/=t)}cr(t,s){this.Ya=Gt.cr(this.Ya,t,s),this.Ha=Gt.cr(this.Ha,t,s)}Nt(t){return this.Ya*t.Ya+this.Ha*t.Ha}reverse(){this.Ya=-this.Ya,this.Ha=-this.Ha}eu(){let t=this.Ya;return this.Ya=this.Ha,this.Ha=-t,this}}}{const It=self.js;It.Rect=class{constructor(t,s,i,e){this.hu=NaN,this.ru=NaN,this.nu=NaN,this.ou=NaN,this.hu=0,this.ru=0,this.nu=0,this.ou=0,t instanceof It.Rect?this.C(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.hu=+t,this.ru=+s,this.nu=+i,this.ou=+e}au(t,s,i,e){s=+s,this.hu=t=+t,this.ru=s,this.nu=t+ +i,this.ou=s+ +e}C(t){this.hu=+t.hu,this.ru=+t.ru,this.nu=+t.nu,this.ou=+t.ou}clone(){return new It.Rect(this.hu,this.ru,this.nu,this.ou)}static uu(t,s){const i=new It.Rect;return i.lu(Math.min(t.hu,s.hu)),i.cu(Math.min(t.ru,s.ru)),i.fu(Math.max(t.nu,s.nu)),i.du(Math.max(t.ou,s.ou)),i}static pu(t){return new It.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.hu===t.hu&&this.ru===t.ru&&this.nu===t.nu&&this.ou===t.ou}mu(t,s,i,e){return this.hu===t&&this.ru===s&&this.width()===i&&this.height()===e}la(t,s){return t[s]===Math.fround(this.hu)&&t[s+1]===Math.fround(this.ru)&&t[s+2]===Math.fround(this.nu)&&t[s+3]===Math.fround(this.ou)}lu(t){this.hu=+t}gu(){return this.hu}cu(t){this.ru=+t}yu(){return this.ru}fu(t){this.nu=+t}Mu(){return this.nu}du(t){this.ou=+t}wu(){return this.ou}toArray(){return[this.hu,this.ru,this.nu,this.ou]}ea(){return new Float64Array(this.toArray())}Su(){return new DOMRect(this.hu,this.ru,this.width(),this.height())}static Tu(t){return It.er(It.Rect,t.left,t.top,t.right,t.bottom)}ra(t,s){t[s++]=this.hu,t[s++]=this.ru,t[s++]=this.nu,t[s]=this.ou}bu(t,s){t[s++]=this.hu,t[s++]=this.ru,t[s++]=this.nu,t[s++]=this.ru,t[s++]=this.nu,t[s++]=this.ou,t[s++]=this.hu,t[s]=this.ou}xu(t,s,i){t[s++]=this.hu,t[s++]=this.ru,t[s++]=i,t[s++]=this.nu,t[s++]=this.ru,t[s++]=i,t[s++]=this.nu,t[s++]=this.ou,t[s++]=i,t[s++]=this.hu,t[s++]=this.ou,t[s]=i}width(){return this.nu-this.hu}height(){return this.ou-this.ru}vu(){return(this.hu+this.nu)/2}Cu(){return(this.ru+this.ou)/2}offset(t,s){s=+s,this.hu+=t=+t,this.ru+=s,this.nu+=t,this.ou+=s}offsetLeft(t){this.hu+=+t}offsetTop(t){this.ru+=+t}Gu(t){this.nu+=+t}Iu(t){this.ou+=+t}Eu(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.ru<this.ou?this.hu<this.nu?this.ou=this.ru+this.width():this.ou=this.ru-this.width():this.hu<this.nu?this.ou=this.ru-this.width():this.ou=this.ru+this.width()}_u(t,s){s=+s,this.hu-=t=+t,this.ru-=s,this.nu+=t,this.ou+=s}Du(t,s){s=+s,this.hu+=t=+t,this.ru+=s,this.nu-=t,this.ou-=s}multiply(t,s){this.hu*=t,this.ru*=s,this.nu*=t,this.ou*=s}Ct(t,s){this.hu/=t,this.ru/=s,this.nu/=t,this.ou/=s}Nu(t){this.hu=+t-this.hu,this.nu=+t-this.nu}Au(t){this.ru=+t-this.ru,this.ou=+t-this.ou}Lu(t,s){const i=this.width(),e=this.height(),h=this.gu()+i*t,r=this.yu()+e*s;this.au(h-e*s,r-i*t,e,i)}Ou(){const t=this.hu;this.hu=this.nu,this.nu=t}Ru(){const t=this.ru;this.ru=this.ou,this.ou=t}Pu(t){const s=this.ru;this.ru=+t-this.ou,this.ou=+t-s}round(){this.hu=Math.round(this.hu),this.ru=Math.round(this.ru),this.nu=Math.round(this.nu),this.ou=Math.round(this.ou)}ku(){this.hu=Math.ceil(this.hu),this.ru=Math.ceil(this.ru),this.nu=Math.floor(this.nu),this.ou=Math.floor(this.ou)}Fu(){this.hu=Math.floor(this.hu),this.ru=Math.floor(this.ru),this.nu=Math.ceil(this.nu),this.ou=Math.ceil(this.ou)}floor(){this.hu=Math.floor(this.hu),this.ru=Math.floor(this.ru),this.nu=Math.floor(this.nu),this.ou=Math.floor(this.ou)}ceil(){this.hu=Math.ceil(this.hu),this.ru=Math.ceil(this.ru),this.nu=Math.ceil(this.nu),this.ou=Math.ceil(this.ou)}cr(t,s,i,e){this.hu=Math.max(this.hu,+t),this.ru=Math.max(this.ru,+s),this.nu=Math.min(this.nu,+i),this.ou=Math.min(this.ou,+e)}ju(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.hu=It.cr(this.hu,t,i),this.ru=It.cr(this.ru,s,e),this.nu=It.cr(this.nu,t,i),this.ou=It.cr(this.ou,s,e)}normalize(){this.hu>this.nu&&this.Ou(),this.ru>this.ou&&this.Ru()}zu(t){return!(t.nu<this.hu||t.ou<this.ru||t.hu>this.nu||t.ru>this.ou)}Bu(t,s,i){return!(t.nu+s<this.hu||t.ou+i<this.ru||t.hu+s>this.nu||t.ru+i>this.ou)}Uu(t,s){return t>=this.hu&&t<=this.nu&&s>=this.ru&&s<=this.ou}Wu(t){return t.hu>=this.hu&&t.ru>=this.ru&&t.nu<=this.nu&&t.ou<=this.ou}Qu(t){t.hu<this.hu&&(this.hu=+t.hu),t.ru<this.ru&&(this.ru=+t.ru),t.nu>this.nu&&(this.nu=+t.nu),t.ou>this.ou&&(this.ou=+t.ou)}Ju(t){this.hu=It.Lt(t.hu,t.nu,this.hu),this.ru=It.Lt(t.ru,t.ou,this.ru),this.nu=It.Lt(t.hu,t.nu,this.nu),this.ou=It.Lt(t.ru,t.ou,this.ou)}}}{const Et=self.js;Et.Vu=class{constructor(t,s,i,e,h,r,n,o){this.Yu=NaN,this.Hu=NaN,this.qu=NaN,this.Zu=NaN,this.Xu=NaN,this.Ku=NaN,this.$u=NaN,this.tl=NaN,this.Yu=0,this.Hu=0,this.qu=0,this.Zu=0,this.Xu=0,this.Ku=0,this.$u=0,this.tl=0,t instanceof Et.Vu?this.C(t):this.set(t||0,s||0,i||0,e||0,h||0,r||0,n||0,o||0)}set(t,s,i,e,h,r,n,o){this.Yu=+t,this.Hu=+s,this.qu=+i,this.Zu=+e,this.Xu=+h,this.Ku=+r,this.$u=+n,this.tl=+o}sl(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}C(t){this.Yu=t.Yu,this.Hu=t.Hu,this.qu=t.qu,this.Zu=t.Zu,this.Xu=t.Xu,this.Ku=t.Ku,this.$u=t.$u,this.tl=t.tl}equals(t){return this.Yu===t.Yu&&this.Hu===t.Hu&&this.qu===t.qu&&this.Zu===t.Zu&&this.Xu===t.Xu&&this.Ku===t.Ku&&this.$u===t.$u&&this.tl===t.tl}il(t){this.Yu=+t}Xr(){return this.Yu}el(t){this.Hu=+t}Kr(){return this.Hu}hl(t){this.qu=+t}$r(){return this.qu}rl(t){this.Zu=+t}tn(){return this.Zu}nl(t){this.Xu=+t}sn(){return this.Xu}ol(t){this.Ku=+t}hn(){return this.Ku}al(t){this.$u=+t}rn(){return this.$u}ul(t){this.tl=+t}nn(){return this.tl}ll(){return new DOMQuad(new DOMPoint(this.Yu,this.Hu),new DOMPoint(this.qu,this.Zu),new DOMPoint(this.Xu,this.Ku),new DOMPoint(this.$u,this.tl))}static cl(t){return Et.er(Et.Vu,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.Yu,this.Hu,this.qu,this.Zu,this.Xu,this.Ku,this.$u,this.tl]}ea(){return new Float64Array(this.toArray())}ra(t,s){t[s++]=this.Yu,t[s++]=this.Hu,t[s++]=this.qu,t[s++]=this.Zu,t[s++]=this.Xu,t[s++]=this.Ku,t[s++]=this.$u,t[s]=this.tl}fl(t,s,i){t[s++]=this.Yu,t[s++]=this.Hu,t[s++]=i,t[s++]=this.qu,t[s++]=this.Zu,t[s++]=i,t[s++]=this.Xu,t[s++]=this.Ku,t[s++]=i,t[s++]=this.$u,t[s++]=this.tl,t[s]=i}offset(t,s){s=+s,this.Yu+=t=+t,this.Hu+=s,this.qu+=t,this.Zu+=s,this.Xu+=t,this.Ku+=s,this.$u+=t,this.tl+=s}round(){this.Yu=Math.round(this.Yu),this.Hu=Math.round(this.Hu),this.qu=Math.round(this.qu),this.Zu=Math.round(this.Zu),this.Xu=Math.round(this.Xu),this.Ku=Math.round(this.Ku),this.$u=Math.round(this.$u),this.tl=Math.round(this.tl)}floor(){this.Yu=Math.floor(this.Yu),this.Hu=Math.floor(this.Hu),this.qu=Math.floor(this.qu),this.Zu=Math.floor(this.Zu),this.Xu=Math.floor(this.Xu),this.Ku=Math.floor(this.Ku),this.$u=Math.floor(this.$u),this.tl=Math.floor(this.tl)}ceil(){this.Yu=Math.ceil(this.Yu),this.Hu=Math.ceil(this.Hu),this.qu=Math.ceil(this.qu),this.Zu=Math.ceil(this.Zu),this.Xu=Math.ceil(this.Xu),this.Ku=Math.ceil(this.Ku),this.$u=Math.ceil(this.$u),this.tl=Math.ceil(this.tl)}dl(t){this.Yu=t.hu,this.Hu=t.ru,this.qu=t.nu,this.Zu=t.ru,this.Xu=t.nu,this.Ku=t.ou,this.$u=t.hu,this.tl=t.ou}pl(t,s){0===s?this.dl(t):this.ml(t,Math.sin(s),Math.cos(s))}ml(t,s,i){const e=t.hu*s,h=t.ru*s,r=t.nu*s,n=t.ou*s,o=t.hu*i,a=t.ru*i,u=t.nu*i,l=t.ou*i;this.Yu=o-h,this.Hu=a+e,this.qu=u-h,this.Zu=a+r,this.Xu=u-n,this.Ku=l+r,this.$u=o-n,this.tl=l+e}gl(t){t.set(Math.min(this.Yu,this.qu,this.Xu,this.$u),Math.min(this.Hu,this.Zu,this.Ku,this.tl),Math.max(this.Yu,this.qu,this.Xu,this.$u),Math.max(this.Hu,this.Zu,this.Ku,this.tl))}Uu(t,s){let i=this.qu-this.Yu,e=this.Zu-this.Hu,h=this.Xu-this.Yu,r=this.Ku-this.Hu,n=t-this.Yu,o=s-this.Hu,a=i*i+e*e,u=i*h+e*r,l=i*n+e*o,c=h*h+r*r,f=h*n+r*o,d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d;return 0<=p&&0<m&&p+m<1||(m=((a=(i=this.$u-this.Yu)*i+(e=this.tl-this.Hu)*e)*f-(u=i*h+e*r)*(l=i*n+e*o))*(d=1/(a*c-u*u)),0<=(p=(c*l-u*f)*d)&&0<m&&p+m<1)}vu(){return(this.Yu+this.qu+this.Xu+this.$u)/4}Cu(){return(this.Hu+this.Zu+this.Ku+this.tl)/4}yl(t,s,i,e){return!(!this.Uu(t,s)&&!this.Uu(i,e))||Et.Zr(t,s,i,e,this)}Ml(t){let s=t.vu(),i=t.Cu();if(this.Uu(s,i))return!0;if(s=this.vu(),i=this.Cu(),t.Uu(s,i))return!0;const e=this.Yu,h=this.Hu,r=this.qu,n=this.Zu,o=this.Xu,a=this.Ku,u=this.$u,l=this.tl;return Et.Zr(e,h,r,n,t)||Et.Zr(r,n,o,a,t)||Et.Zr(o,a,u,l,t)||Et.Zr(u,l,e,h,t)}wl(){const t=this.Yu,s=this.Hu;this.Yu=this.qu,this.Hu=this.Zu,this.qu=this.Xu,this.Zu=this.Ku,this.Xu=this.$u,this.Ku=this.tl,this.$u=t,this.tl=s}Sl(){this.Tl(0,2),this.Tl(1,3),this.Tl(6,4),this.Tl(7,5)}bl(){this.Tl(0,6),this.Tl(1,7),this.Tl(2,4),this.Tl(3,5)}xl(){this.Tl(2,6),this.Tl(3,7)}Tl(t,s){const i=this.vl(t);this.Cl(t,this.vl(s)),this.Cl(s,i)}vl(t){switch(t){case 0:return this.Yu;case 1:return this.Hu;case 2:return this.qu;case 3:return this.Zu;case 4:return this.Xu;case 5:return this.Ku;case 6:return this.$u;case 7:return this.tl;default:throw new RangeError("invalid quad point index")}}Cl(t,s){switch(s=+s,t){case 0:this.Yu=s;break;case 1:this.Hu=s;break;case 2:this.qu=s;break;case 3:this.Zu=s;break;case 4:this.Xu=s;break;case 5:this.Ku=s;break;case 6:this.$u=s;break;case 7:this.tl=s;break;default:throw new RangeError("invalid quad point index")}}}}{const _t=self.js,Dt=[0,0,1,0,1,1,0,1],Nt=_t.er(_t.Vu);_t.Gl=class extends _t.tr{constructor(t,s=!0){super(),t=t||Dt,this.Il=Float64Array.from(t),this.El=new _t.Rect,this._l=!0,this.Dl=s}hr(){}Nl(){return this.Il}Al(){return this.Il.length/2}Ll(t){this.Il.length===t.length?this.Il.set(t):this.Il=Float64Array.from(t),this._l=!0}Ol(){this.Ll(Dt)}C(t){this.Ll(t.Il)}Rl(){this._l=!0}Pl(){if(this._l){let i=this.Il,e=i[0],h=i[1],r=e,n=h;for(let t=0,s=i.length;t<s;t+=2){const o=i[t],a=i[t+1];o<e&&(e=o),o>r&&(r=o),a<h&&(h=a),a>n&&(n=a)}this.El.set(e,h,r,n),this._l=!1}}dl(t,s,i){let e=this.Il;8!==e.length&&(e=new Float64Array(8),this.Il=e),e[0]=t.gu()-s,e[1]=t.yu()-i,e[2]=t.Mu()-s,e[3]=t.yu()-i,e[4]=t.Mu()-s,e[5]=t.wu()-i,e[6]=t.gu()-s,e[7]=t.wu()-i,this.El.C(t),0===s&&0===i||this.El.offset(-s,-i),this._l=!1}kl(t,s,i){Nt.C(t),Nt.offset(s,i),this.Ll(Nt.toArray()),this._l=!0}transform(t,s,i){let e=0,h=1;0!==i&&(e=Math.sin(i),h=Math.cos(i)),this.Fl(t,s,e,h)}Fl(i,e,h,r){const n=this.Il;for(let t=0,s=n.length;t<s;t+=2){const o=t+1,a=n[t]*i,u=n[o]*e;n[t]=a*r-u*h,n[o]=u*r+a*h}this._l=!0}offset(i,e){const h=this.Il;for(let t=0,s=h.length;t<s;t+=2)h[t]+=i,h[t+1]+=e}Uu(i,e){const h=this.Il;if(i===h[0]&&e===h[1])return!0;this.Pl();let t=this.El,r=t.gu()-110,n=t.yu()-101,o=t.Mu()+131,a=t.wu()+120,u=0,l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=(c=r<i?(u=r,i):(u=i,r),f=n<e?(l=n,e):(l=e,n),m=o<i?(d=o,i):(d=i,o),g=a<e?(p=a,e):(p=e,a),0),M=0;for(let t=0,s=h.length;t<s;t+=2){const w=(t+2)%s,S=h[t],T=h[t+1],b=h[w],x=h[1+w];_t.qr(r,n,i,e,u,c,l,f,S,T,b,x)&&++y,_t.qr(o,a,i,e,d,m,p,g,S,T,b,x)&&++M}return y%2==1||M%2==1}jl(t,c,f){const d=t.Il,p=this.Il;if(this.Uu(d[0]+c,d[1]+f))return!0;if(t.Uu(p[0]-c,p[1]-f))return!0;for(let s=0,l=p.length;s<l;s+=2){let t=(s+2)%l,i=p[s],e=p[s+1],h=p[t],r=p[1+t],n=0,o=0,a=0,u=0;a=i<h?(n=i,h):(n=h,i),u=e<r?(o=e,r):(o=r,e);for(let t=0,s=d.length;t<s;t+=2){const m=(t+2)%s,g=d[t]+c,y=d[t+1]+f,M=d[m]+c,w=d[1+m]+f;if(_t.qr(i,e,h,r,n,a,o,u,g,y,M,w))return!0}}return!1}yl(i,e,h,r,n,o){if(this.Uu(h-i,r-e))return!0;if(this.Uu(n-i,o-e))return!0;let a=0,u=0,l=0,c=0;l=h<n?(a=h,n):(a=n,h),c=r<o?(u=r,o):(u=o,r);const f=this.Il;for(let t=0,s=f.length;t<s;t+=2){const d=(t+2)%s,p=f[t]+i,m=f[t+1]+e,g=f[d]+i,y=f[1+d]+e;if(_t.qr(h,r,n,o,a,l,u,c,p,m,g,y))return!0}return!1}Sl(i){const e=this.Il;for(let t=0,s=e.length;t<s;t+=2)e[t]=2*i-e[t];this._l=!0}bl(i){const e=this.Il;for(let t=0,s=e.length;t<s;t+=2){const h=t+1;e[h]=2*i-e[h]}this._l=!0}xl(){const i=this.Il;for(let t=0,s=i.length;t<s;t+=2){const e=t+1,h=i[t];i[t]=i[e],i[e]=h}this._l=!0}zl(){let i=this.Il,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t];return e/this.Al()}Bl(){let i=this.Il,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t+1];return e/this.Al()}Ul(){return this.Il}Wl(){return this.Al()}Ql(){return this.Dl}}}{const At=self.js;At.Jl=class extends At.tr{constructor(t){if(super(),this.Vl=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}hr(){this.Yl(),this.Vl=null}Hl(){return 0===this.Vl.size}Yl(){const t=this.Vl;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){let e=this.Vl,h=e.get(t);h||(h=new Map,e.set(t,h)),h.set(s,i)}hi(t,s){const i=this.Vl.get(t);return i&&i.get(s)}ei(t,s){const i=this.Vl.get(t);return!!i&&i.has(s)}ql(t,s){const i=this.Vl,e=i.get(t);if(!e)return!1;const h=e.delete(s);return h&&0===e.size&&i.delete(t),h}Zl(t){const s=this.Vl,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[e,h]of s.entries())h.delete(t)&&0===h.size&&s.delete(e)}Xl(){let t=0;for(const s of this.Vl.values())t+=s.size;return t}*values(){for(const t of this.Vl.values())yield*t.values()}*Kl(){for(const[t,s]of this.Vl.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.Vl.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const Lt=self.js;Lt.$l=class extends Lt.tr{constructor(){super(),this.tc=new Set,this.sc=[],this.ic=!1}hr(){this.Yl()}Yl(){this.tc.clear(),Lt.On(this.sc),this.ic=!1}ec(t){this.tc.has(t)||(this.tc.add(t),this.ic)||this.sc.push(t)}ei(t){return this.tc.has(t)}ql(t){this.tc.delete(t)&&(this.ic=!0)}Xl(){return this.tc.size}Hl(){return 0===this.tc.size}hc(){return this.ic&&(this.rc(),this.ic=!1),this.sc}rc(){const t=this.sc;Lt.On(t);for(const s of this.tc)t.push(s)}}}{const Ot=self.js,Rt=new Map,Pt=new Map,kt=new Map,Ft=new Map,jt=new Map,zt=new Map,Bt=new Map,Ut=new Map,Wt=new Map,Qt=(Wt.set("linear","noease"),Wt.set("default","noease"),["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"]),Jt=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Vt=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]),Yt=(self.nc=class ss{constructor(){}static oc(){return"default"}static ac(){return"noease"}static uc(t){return Vt.get(t)}static lc(s,...i){this.cc();let t,e,h=(e=s?(kt.has(s)||kt.set(s,new Map),[...(t=kt.get(s)).keys()].filter(t=>!ss.fc(t,s)||ss.fc(t,s).transition.IsForAnyPurpose())):[...(t=jt).keys()]).sort();return[...Pt.keys()].concat(h).filter(t=>!i.includes(t))}static mc(){this.cc();const t=[...jt.keys()];return t.sort(),[...Pt.keys()].concat(t)}static yc(){this.cc();const t=[...jt.keys()];return t.sort(),t}static Mc(t){for(const s of Qt){const i=self.lang("ui.bars.timeline.eases."+s);if(i===t)return!0}for(const e of Jt){const h=self.lang("ui.bars.timeline.short-eases."+e);if(h===t)return!0}}static wc(t){return this.cc(),[...Pt.keys()].includes(t)}static Sc(t){const s=Wt.get(t);return s?Rt.get(s):ss.wc(t)?Rt.get(t):Bt.has(t)?Bt.get(t):void 0}static Tc(t){return this.cc(),Ut.get(t)}static xc(t,s){this.cc();const i=ss.Sc(t);if(i)return i;if(s)return kt.get(s).get(t);throw new Error("missing ease function")}static fc(t,s){this.cc();const i=Ft.get(s);if(i)return i.get(t)}static vc(t,s){this.cc();const i=ss.Sc(t);return!!i||!!kt.get(s).get(t)}static Cc(t){this.cc();const s=ss.Sc(t);return s||jt.get(t)}static Gc(t){return this.cc(),zt.get(t)}static Ic(t){this.cc();const s=this.mc();return s[t]}static Ec(t,s){this.cc();const i=this.lc(s);return i.indexOf(t)}static _c(t){return this.Ec(t)}static cc(){0===Rt.size&&(this.Dc("default",()=>{}),this.Dc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.Dc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.Dc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.Dc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.Dc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.Dc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.Dc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.Dc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.Dc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.Dc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.Dc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.Dc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.Dc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.Dc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Dc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.Dc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.Dc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.Dc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.Dc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Dc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.Dc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.Dc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.Dc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.Dc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Nc("cubicbezier",this.Ac),this.Nc("spline",this.Lc))}static Dc(t,s,i=!1){if("function"==typeof s)ss.Oc(t,s,"predefined");else{if(!Ot.Fe(s))throw new Error("unexpected arguments");if(self.BuiltInTransition){const h=Ot.er(self.BuiltInTransition,t,i);h.SetFromJson(s),ss.Oc(t,(t,s,i,e)=>h.Rc(t,s,i,e),"predefined"),Ut.set(t,h)}else{const r=Ot.er(Ot.Pc,[t,s.map(t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee])],!1);r.kc(i),ss.Oc(t,(t,s,i,e)=>r.Rc(t,s,i,e),"predefined")}}}static Nc(t,s){ss.Oc(t,s,"private")}static Fc(t,s,i,e){this.cc(),ss.Oc(t,s,"custom",i,e)}static jc(t,s){if(!this.wc(t)&&![...Bt.keys()].includes(t)){const i=kt.get(s),e=(i&&i.delete(t),Ft.get(s));e&&e.delete(t)}}static Oc(t,s,i,e,h){switch(i){case"predefined":Rt.set(t,s),Pt.set(t,s);break;case"custom":if(e){kt.has(e)||kt.set(e,new Map),Ft.has(e)||Ft.set(e,new Map);const r=kt.get(e),n=(r.set(t,s),Ft.get(e));n.set(t,h)}else jt.set(t,s),zt.set(t,h);break;case"private":Rt.set(t,s),Bt.set(t,s);break;default:throw new Error("unexpected ease mode")}}static zc(t,s,i,e){return 0===e?s:i*t/e+s}static Ac(t,s,i,e,h){const r=s,n=3*t*(i-s),o=3*t**2*(s+e-2*i),a=t**3*(h-s+3*i-3*e);return r+n+o+a}static Lc(t,s,i,e,h,r,n,o,a,u){if(e===h&&r===n)return t;const l=ts(t,s,e,r,o,u),c=qt(i,h,n,a),f=Zt(i,h,n,a),d=Xt(i,h,n,a);return Kt(l,c,f,d)}static Bc(t,s,i,e){const h=[],r=qt(t,s,i,e),n=Zt(t,s,i,e),o=Xt(t,s,i,e);for(let t=0;t<Yt;++t){const a=Kt(t*Ht,r,n,o);h.push(a)}return h}},11),Ht=1/(Yt-1),qt=(t,s,i,e)=>e-3*i+3*s-t,Zt=(t,s,i,e)=>3*i-6*s+3*t,Xt=(t,s,i,e)=>3*(s-t),Kt=(t,s,i,e)=>((s*t+i)*t+e)*t,$t=(t,s,i,e)=>3*s*t*t+2*i*t+e,ts=(n,t,s,i,e,h)=>{if(1==n)return 1;let o=0,r=1,a=h[r],u=Yt-1;Yt;for(;r!=u&&a<=n;)r++,a=h[r],o+=Ht;r--;let l=(n-(a=h[r]))/(h[r+1]-a),c=o+l*Ht,f=qt(t,s,i,e),d=Zt(t,s,i,e),p=Xt(t,s,i,e),m=$t(c,f,d,p);if(0===m)return c;if(.01<=m){for(let t=0;t<4;++t){const g=Kt(c,f,d,p)-n,y=$t(c,f,d,p);c-=g/y}return c}{let s=o,i=o+Ht,e=0,h,r;do{c=s+(i-s)/2;let t=Kt(c,f,d,p)-n;0<t?i=c:s=c,h=1e-7<Math.abs(t),r=++e<10}while(h&&r);return c}}}{let o=function(t){is.xe(t)};o;const is=self.js;is.Uc=class{constructor(t){this.Wc=[],this.ur=t||"",this.Qc=0}hr(){this.Yl(),this.Wc=null}Jc(){return this.ur}Yl(){is.Rn(this.Wc),this.Qc=0}Vc(){return this.Qc}Yc(t=Math.random()*this.Vc()){let s=0;for(const[i,e]of this.Wc)if(t<(s+=i))return e;return 0}Hc(t,s){o(s),this.Qc+=t,this.Wc.push([t,s])}qc(s,i){o(i);const e=0===s;for(let t=0;t<this.Wc.length;t++){const h=this.Wc[t],r=e||h[0]===s,n=h[1]===i;if(r&&n){this.Wc.splice(t,1),this.Qc-=h[0];break}}}Zc(){return JSON.stringify(this.Wc)}static Xc(t,s){const i=new is.Uc(s),e=JSON.parse(t);for(const h of e){const r=h[0],n=h[1];i.Hc(r,n)}return i}}}{let t=self.js,i=0;t.Kc=class{constructor(t,s){this.$c=t,this.tf=s,this.if=i++,this.$c.ef("runtime","screen-reader-text",{type:"create",id:this.if,text:this.tf})}hr(){this.$c.ef("runtime","screen-reader-text",{type:"release",id:this.if}),this.$c=null,this.tf="",this.if=-1}hf(t){this.tf!==t&&(this.tf=t,this.$c.ef("runtime","screen-reader-text",{type:"update",id:this.if,text:this.tf}))}}}{const es=self.js;es.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.rf=!1,this.nf=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.nf)throw new Error(`cannot stop async event '${this.type}' propagation`);this.rf=!0}}}{const hs=self.js;hs.Event.uf=class extends hs.tr{constructor(t){super(),this.lf=t,this.cf=[],this.ff=new Set,this.df=[],this.pf=new Set,this.mf=0,this.gf=[]}hr(){0<this.mf||(hs.On(this.cf),this.ff.clear(),hs.On(this.df),this.pf.clear(),hs.On(this.gf),hs.hr(this))}yf(t,s){this.Mf()?this.gf.push({wf:"add",Sf:t,capture:s}):s?this.ff.has(t)||(this.cf.push(t),this.ff.add(t)):this.pf.has(t)||(this.df.push(t),this.pf.add(t))}Tf(t,s){this.Mf()?this.gf.push({wf:"remove",Sf:t,capture:s}):s?this.ff.has(t)&&(this.ff.delete(t),hs.zn(this.cf,t)):this.pf.has(t)&&(this.pf.delete(t),hs.zn(this.df,t))}bf(){return!this.cf.length&&!this.df.length}Mf(){return 0<this.mf}xf(){const t=new Set,s=new Set;for(const i of this.gf)if("add"===i.wf)this.yf(i.Sf,i.capture),(i.capture?s:t).delete(i.Sf);else{if("remove"!==i.wf)throw new Error("invalid op");(i.capture?(this.ff.delete(i.Sf),s):(this.pf.delete(i.Sf),t)).add(i.Sf)}hs.Wn(this.df,t),hs.Wn(this.cf,s),hs.On(this.gf)}vf(i){this.Cf();let e=!1;for(let t=0,s=this.cf.length;t<s;++t)if(this.cf[t](i),i.rf){e=!0;break}if(!e)for(let t=0,s=this.df.length;t<s&&(this.df[t](i),!i.rf);++t);return this.Gf(),!i.defaultPrevented}If(i){this.Cf();for(let t=0,s=this.cf.length;t<s;++t)this.cf[t](i);for(let t=0,s=this.df.length;t<s;++t)this.df[t](i);return this.Gf(),!0}Cf(){this.mf++}Gf(){this.mf--,0===this.mf&&0<this.gf.length&&this.xf()}Ef(t){t?this.Cf():this.Gf()}_f(i){let e=[];for(let s=0,t=this.cf.length;s<t;++s){let t=this.cf[s];e.push(hs.Df(()=>t(i)))}for(let s=0,t=this.df.length;s<t;++s){let t=this.df[s];e.push(hs.Df(()=>t(i)))}return Promise.all(e).then(()=>!i.defaultPrevented)}Nf(i){const e=[];this.Cf();for(let t=0,s=this.cf.length;t<s;++t){const h=this.cf[t](i);h instanceof Promise&&e.push(h)}for(let t=0,s=this.df.length;t<s;++t){const r=this.df[t](i);r instanceof Promise&&e.push(r)}return this.Gf(),e.length?Promise.all(e).then(()=>!i.defaultPrevented):!i.defaultPrevented}async Af(t){return this.Nf(t)}async Lf(i){this.Cf();for(let t=0,s=this.cf.length;t<s;++t){const e=this.cf[t](i);e instanceof Promise&&await e}for(let t=0,s=this.df.length;t<s;++t){const h=this.df[t](i);h instanceof Promise&&await h}return this.Gf(),!i.defaultPrevented}*Of(i){this.Cf();for(let t=0,s=this.cf.length;t<s;++t){const e=this.cf[t](i);hs.Po(e)&&(yield*e)}for(let t=0,s=this.df.length;t<s;++t){const h=this.df[t](i);hs.Po(h)&&(yield*h)}this.Gf()}}}{const rs=self.js;rs.Event.Rf=class extends rs.tr{constructor(){super(),this.Pf=new Map,this.kf=!1}hr(){if(this.kf)throw new Error("already released");this.Ff(),this.kf=!0,rs.hr(this)}rr(){return this.kf}Ff(){if(this.Pf){for(let t of this.Pf.values())t.hr();this.Pf.clear()}}jf(t,s){let i=this.Pf.get(t);return i||(s?(i=rs.er(rs.Event.uf,t),this.Pf.set(t,i),i):null)}zf(t){return this.Pf.has(t)}addEventListener(t,s,i){let e=this.jf(t,!0);e.yf(s,!!i)}removeEventListener(t,s,i){let e=this.jf(t,!1);e&&(e.Tf(s,!!i),e.bf())&&this.Pf.delete(t)}dispatchEvent(t){const s=this.jf(t.type,!1);return!s||(t.cancelable?s.vf(t):s.If(t))}Bf(t){const s=this.jf(t.type,!1);return s?(t.nf=!0,s._f(t)):Promise.resolve(!0)}async Uf(t){const s=this.jf(t.type,!1);if(!s)return!0;this.Pf.delete(t.type),t.nf=!0;const i=await s._f(t);return s.hr(),i}async Wf(t){const s=this.jf(t.type,!1);return!s||s.Af(t)}Qf(t){const s=this.jf(t.type,!1);return!s||s.Nf(t)}async Jf(t){const s=this.jf(t.type,!1);return!s||s.Lf(t)}Vf(t){const s=this.jf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.Of(t)}Ef(t){for(const s of this.Pf.values())s.Ef(t)}}}{let r=function(t){c=u&&0===f?requestIdleCallback(s,{timeout:i}):setTimeout(s,0<f?1:t)},s=function(h){if(c=-1,l.length){let i=performance.now(),e=i,t=0,s;for(;n(l.shift()),e=performance.now(),++t,s=(e-i)/t*1.1,l.length&&(u&&0===f&&void 0!==h?s<h.timeRemaining():e-i+s<o););if(-1===c&&l.length){let t=e-i,s=Math.max(a-t,4);r(s)}}},n=function(s){let t;try{t=s.Sf()}catch(t){return void s.reject(t)}s.resolve(t)},t=(r,s,n,self.js),o=12,a=16,i=35,u="undefined"!=typeof requestIdleCallback,l=[],c=-1,f=0,h=t.oi.ei("disable-asyncify");h&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),t.Df=function(i){let e=null;return t.isDebug&&(e=t.le()),new Promise((t,s)=>{l.push({Sf:i,resolve:t,reject:s,stack:e}),h?n(l.pop()):-1===c&&r(a)})},t.Df.Yf=function(t){if(t)++f;else if(--f<0)throw new Error("already turned off high throughput mode")}}{let t=function(){r=-1},s=function(){n=-1,o=-1;let i=Date.now();for(let s of a)if(s.Hf(i)){let t=s.qf();(-1===o||t<o)&&(o=t)}else a.delete(s);if(-1!==o){let t=Math.max(o-i+h,e);n=self.setTimeout(s,t)}},i=(t,s,self.js),e=1e3,h=100,r=-1,n=(i.Zf=function(){return-1===r&&(r=Date.now(),self.setTimeout(t,16)),r},-1),o=-1,a=new Set;i.Xf=class{constructor(t,s){this.Kf=t,this.$f=1e3*s,this.t0=0,this.s0=!1}i0(){let t=i.Zf();this.t0=t+this.$f,this.s0||(a.add(this),this.s0=!0),-1===n?(o=this.t0,n=self.setTimeout(s,this.$f+h)):this.t0<o&&o>t+e&&(self.clearTimeout(n),o=this.t0,n=self.setTimeout(s,this.$f+h))}Hf(t){return!(t>=this.t0)||(this.Kf()?(this.t0=t+this.$f,!0):this.s0=!1)}qf(){return this.t0}e0(){this.s0&&(a.delete(this),this.s0=!1,0===a.size)&&-1!==n&&(self.clearTimeout(n),n=-1,o=-1)}hr(){this.e0(),this.Kf=null}}}{const ns=self.js;ns.h0=class os{constructor(t){this.r0=!1,this.n0=t}o0(){this.r0||(this.r0=!0,this.n0&&(this.n0(),this.n0=null))}a0(){return this.r0}hr(){this.o0()}static hr(t){return new os(()=>t.hr())}static u0(s,i,e,h,t){if(null==h)h=!1;else if("boolean"!=typeof h&&"object"!=typeof h)throw new TypeError("invalid event listener options");if(t&&(e=e.bind(t)),i.includes(" ")){i=i.split(" ");const r=new ns.l0;for(let t of i)s.addEventListener(t,e,h),r.ec(ns.er(ns.h0,()=>s.removeEventListener(t,e,h)));return r}return s.addEventListener(i,e,h),ns.er(ns.h0,()=>s.removeEventListener(i,e,h))}},ns.c0=class extends ns.h0{f0(t){this.n0=t}},ns.l0=class extends ns.h0{constructor(...s){super(),this.d0=new Set;for(let t of s)this.ec(t)}ec(...s){if(this.r0)throw new Error("already disposed");for(let t of s)this.d0.add(t)}p0(t){if(this.r0)throw new Error("already disposed");this.d0.delete(t)}m0(){if(this.r0)throw new Error("already disposed");if(this.d0){for(let t of this.d0)t.o0();this.d0.clear()}}a0(){return this.r0}o0(){if(this.r0)throw new Error("already disposed");this.r0=!0;for(let t of this.d0)t.o0();this.d0.clear(),this.d0=null}hr(){this.o0()}}}{const as=self.js;as.g0=class extends as.tr{constructor(){super(),this.y0=0,this.Ha=0,this.M0=0,this.w0=0}ec(t){this.Ha=(t=+t)-this.y0,this.M0=this.w0+this.Ha,this.y0=this.M0-this.w0-this.Ha,this.w0=this.M0}S0(t){this.w0-=+t}hi(){return this.w0}i0(){this.y0=0,this.Ha=0,this.M0=0,this.w0=0}Set(t){this.y0=0,this.Ha=0,this.M0=0,this.w0=+t}T0(t){this.y0=t.y0,this.Ha=t.Ha,this.M0=t.M0,this.w0=t.w0}hr(){}}}{const us=self.js,n={};n.b0=function(t){this.x0=t,this.right=this.x0.v0,this.left=this.x0.v0,this.parent=null,this.color=!1,this.key=null},n.C0=function(t){this.size=0,this.v0=new n.b0(this),this.v0.color=!1,this.root=this.v0,this.root.parent=this.v0,this.compare=t||this.G0},n.C0.prototype.G0=function(t,s){return t<s?-1:s<t?1:0},n.C0.prototype.clone=function(){var t=new n.C0(this.compare);return t.I0(this),t},n.C0.prototype.clear=function(){this.size=0,this.v0=new n.b0(this),this.v0.color=!1,this.root=this.v0,this.root.parent=this.v0},n.C0.prototype.E0=function(t){var s=t.right;t.right=s.left,s.left!=this.v0&&(s.left.parent=t),s.parent=t.parent,t.parent==this.v0?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,(s.left=t).parent=s},n.C0.prototype._0=function(t){var s=t.left;t.left=s.right,s.right!=this.v0&&(s.right.parent=t),s.parent=t.parent,t.parent==this.v0?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,(s.right=t).parent=s},n.C0.prototype.D0=function(t){if(this.contains(t))this.N0(t).key=t;else{for(var s=new n.b0(this),i=(s.key=t,this.v0),e=this.root;e!=this.v0;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;(s.parent=i)==this.v0?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.v0,s.right=this.v0,s.color=!0,this.A0(s),this.size++}},n.C0.prototype.A0=function(t){for(;t!=this.v0&&t!=this.root&&1==t.parent.color;){var s;t.parent==t.parent.parent.left?1==(s=t.parent.parent.right).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.E0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.v0&&this._0(t.parent.parent)):1==(s=t.parent.parent.left).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this._0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.v0&&this.E0(t.parent.parent))}this.root.color=!1},n.C0.prototype.L0=function(t){var s=t.left==this.v0||t.right==this.v0?t:this.O0(t),i=s.left!=this.v0?s.left:s.right;i.parent=s.parent,s.parent==this.v0?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.R0(i),this.size--},n.C0.prototype.R0=function(t){for(;t!=this.root&&0==t.color;){var s;t=t==t.parent.left?(1==(s=t.parent.right).color&&(s.color=!1,t.parent.color=!0,this.E0(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=!0,t.parent):(0==s.right.color&&(s.left.color=!1,s.color=!0,this._0(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.E0(t.parent),this.root)):(1==(s=t.parent.left).color&&(s.color=!1,t.parent.color=!0,this._0(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=!0,t.parent):(0==s.left.color&&(s.right.color=!1,s.color=!0,this.E0(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this._0(t.parent),this.root))}t.color=!1},n.C0.prototype.remove=function(t){var s,t=this.N0(t);return t!=this.v0?(s=t.key,this.L0(t),s):null},n.C0.prototype.P0=function(t,s){this.remove(s)},n.C0.prototype.min=function(t){for(;t.left!=this.v0;)t=t.left;return t},n.C0.prototype.max=function(t){for(;t.right!=this.v0;)t=t.right;return t},n.C0.prototype.O0=function(t){if(t.right!=this.v0)return this.min(t.right);for(var s=t.parent;s!=this.v0&&t==s.right;)s=(t=s).parent;return s},n.C0.prototype.k0=function(t){if(t.left!=this.v0)return this.max(t.left);for(var s=t.parent;s!=this.v0&&t==s.left;)s=(t=s).parent;return s},n.C0.prototype.F0=function(t){if(0<this.size){var s=this.N0(t);if(s==this.v0)return null;if(s.right!=this.v0)return this.min(s.right).key;for(var i=s.parent;i!=this.v0&&s==i.right;)i=(s=i).parent;return i!=this.v0?i.key:null}return null},n.C0.prototype.j0=function(t){if(0<this.size){var s=this.N0(t);if(s==this.v0)return null;if(s.left!=this.v0)return this.max(s.left).key;for(var i=s.parent;i!=this.v0&&s==i.left;)i=(s=i).parent;return i!=this.v0?i.key:null}return null},n.C0.prototype.z0=function(){return this.min(this.root).key},n.C0.prototype.B0=function(){return this.max(this.root).key},n.C0.prototype.N0=function(t){for(var s=this.root;s!=this.v0&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},n.C0.prototype.contains=function(t){return null!=this.N0(t).key},n.C0.prototype.getValues=function(){var s=[];return this.forEach(function(t){s.push(t)}),s},n.C0.prototype.I0=function(t){if("array"==n.typeOf(t))for(var s=0;s<t.length;s++)this.D0(t[s]);else if("function"==n.typeOf(t.forEach))t.forEach(this.D0,this);else if("function"==n.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.D0(i[s]);else if("object"==n.typeOf(t))for(var e in t)this.D0(t[e])},n.C0.prototype.U0=function(t){if("array"==n.typeOf(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==n.typeOf(t.forEach))t.forEach(this.P0,this);else if("function"==n.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.remove(i[s]);else if("object"==n.typeOf(t))for(var e in t)this.remove(t[e])},n.C0.prototype.W0=function(t){if("array"==n.typeOf(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==n.typeOf(t.forEach))return t.every(this.contains,this);if("function"==n.typeOf(t.getValues)){for(var i=t.getValues(),s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==n.typeOf(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},n.C0.prototype.range=function(t,s){var i=[];return this.Q0(function(t){i.push(t)},t,s),i},n.C0.prototype.J0=function(t,s){if(!this.V0())for(var i=this.min(this.root);i!=this.v0;){if(t.call(s,i.key,this))return;i=this.O0(i)}},n.C0.prototype.Y0=function(t,s,i){if(!this.V0())for(var e=this.N0(s);e!=this.v0;){if(t.call(i,e.key,this))return;e=this.O0(e)}},n.C0.prototype.H0=function(t,s,i){if(!this.V0())for(var e=this.min(this.root),h=this.N0(s);e!=h;){if(t.call(i,e.key,this))return;e=this.O0(e)}},n.C0.prototype.Q0=function(t,s,i,e){if(!this.V0())for(var h=this.N0(s),r=this.N0(i);h!=r;){if(t.call(e,h.key,this))return;h=this.O0(h)}},n.C0.prototype.q0=function(t,s){if(!this.V0())for(var i=this.max(this.root);i!=this.v0;){if(t.call(s,i.key,this))return;i=this.k0(i)}},n.C0.prototype.forEach=function(t,s){if(!this.V0())for(var i=this.min(this.root);i!=this.v0;i=this.O0(i))t.call(s,i.key,i.key,this)},n.C0.prototype.some=function(t,s){if(!this.V0())for(var i=this.min(this.root);i!=this.v0;i=this.O0(i))if(t.call(s,i.key,i.key,this))return!0;return!1},n.C0.prototype.every=function(t,s){if(this.V0())return!1;for(var i=this.min(this.root);i!=this.v0;i=this.O0(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},n.C0.prototype.map=function(t,s){var i=[];if(!this.V0())for(var e=this.min(this.root);e!=this.v0;e=this.O0(e))i.push(t.call(s,e.key,e.key,this));return i},n.C0.prototype.filter=function(t,s){var i=[];if(!this.V0())for(var e=this.min(this.root);e!=this.v0;e=this.O0(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},n.C0.prototype.getCount=function(){return this.size},n.C0.prototype.V0=function(){return 0==this.size},n.C0.prototype.ue=function(t){var s=n.getCount(t);if(this.getCount()>s)return!1;var i=0;if(this.V0())return!0;for(var e=this.min(this.root);e!=this.v0;e=this.O0(e))n.contains.call(t,t,e.key)&&i++;return i==this.getCount()},n.C0.prototype.Z0=function(t){var s=new n.C0(this.compare);if(!this.V0())for(var i=this.min(this.root);i!=this.v0;i=this.O0(i))t.contains.call(t,i.key,i.key,this)&&s.D0(i.key);return s},us.C0=class extends us.tr{constructor(t){super(),this.X0=new n.C0(t),this.K0=!1,this.$0=new Set,this.t1=new Set}ec(t){this.K0?this.X0.contains(t)?this.t1.delete(t):this.$0.add(t):this.X0.D0(t)}p0(t){this.K0?this.X0.contains(t)?this.t1.add(t):this.$0.delete(t):this.X0.remove(t)}ei(t){return this.K0?!!this.$0.has(t)||!this.t1.has(t)&&this.X0.contains(t):this.X0.contains(t)}Yl(){this.X0.clear(),this.$0.clear(),this.t1.clear()}toArray(){if(this.K0)throw new Error("cannot be used in queueing mode");return this.X0.getValues()}Xl(){return this.X0.getCount()+this.$0.size-this.t1.size}Hl(){return 0===this.Xl()}s1(){if(this.Hl())throw new Error("empty set");if(this.K0)throw new Error("cannot be used in queueing mode");const t=this.X0,s=t.min(t.root);return s.key}i1(){if(this.Hl())throw new Error("empty set");if(this.K0)throw new Error("cannot be used in queueing mode");const t=this.s1();return this.p0(t),t}e1(t){if(this.K0!==(t=!!t)&&!(this.K0=t)){for(const s of this.t1)this.X0.remove(s);this.t1.clear();for(const i of this.$0)this.X0.D0(i);this.$0.clear()}}h1(t){this.X0.forEach(t)}*values(){if(!this.Hl()){const s=this.X0;for(let t=s.min(s.root);t!=s.v0;t=s.O0(t))yield t.key}}[Symbol.iterator](){return this.values()}}}{const ls=self.js;ls.n1=class{constructor(t=ls.hardwareConcurrency){this.o1=t,this.a1=[],this.u1=0}ec(i){return new Promise((t,s)=>{this.a1.push({Sf:i,resolve:t,reject:s}),this.l1()})}c1(i){for(let t=0,s=this.a1.length;t<s;++t)if(this.a1[t].Sf===i)return t;return-1}f1(t,s){const i=this.c1(t);if(-1===i)throw new Error("cannot find promise to resolve");this.a1[i].resolve(s),this.a1.splice(i,1)}d1(t,s){const i=this.c1(t);if(-1===i)throw new Error("cannot find promise to reject");this.a1[i].reject(s),this.a1.splice(i,1)}async l1(){if(this.a1.length&&!(this.u1>=this.o1)){this.u1++;const s=this.a1.shift();try{const t=await s.Sf();s.resolve(t)}catch(t){s.reject(t)}this.u1--,this.l1()}}static async m1(t,s){let i=[],e=!1,h=[];for(;t--;)h.push((async()=>{let t;for(;t=s.pop();){if(e)return;try{i.push(await t())}catch(t){throw e=!0,t}}})());return await Promise.all(h),i}}}{const cs=self.js;cs.g1=class{constructor(t,s,i){this.Kf=t,this.M1=s,this.w1=i||2*s,this.S1=-1,this.T1=-1/0,this.b1=()=>this.v1(),this.C1=!1,this.G1=!1,this.I1=null}E1(t){this.G1=!!t}_1(){return void 0!==cs.Battery&&cs.Battery.IsOnBatteryPower()?this.w1:this.M1}D1(...e){if(-1===this.S1){this.I1=e;let t=cs.Zf(),s=t-this.T1,i=this._1();i<=s&&this.G1?(this.T1=t,this.N1()):this.S1=self.setTimeout(this.b1,Math.max(i-s,4))}}N1(){this.C1=!0;const t=this.I1;this.I1=null,t?this.Kf(...t):this.Kf(),this.C1=!1}i0(){this.C1||(this.A1(),this.I1=null,this.T1=cs.Zf())}v1(){this.S1=-1,this.T1=cs.Zf(),this.N1()}A1(){-1!==this.S1&&(self.clearTimeout(this.S1),this.S1=-1)}hr(){this.A1(),this.Kf=null,this.I1=null,this.b1=null}}}{const fs=self.js;fs.L1=class{constructor(){this.O1=new Map,this.R1=!1,this.P1=null,this.F1=null,this.j1=null,this.z1=null}B1(t){this.R1=!!t}U1(){return this.R1}W1(t){this.P1=t}Q1(t){if(this.P1)return this.P1(t);throw new Error("no get base size callback set")}J1(t){this.F1=t}V1(t,s,i,e,h,r){if(this.F1)return this.F1(t,s,i,e,h,r);throw new Error("no raster at size callback set")}Y1(t){this.j1=t}H1(t){if(!this.j1)throw new Error("no release result callback set");this.j1(t)}q1(t){this.z1=t}Z1(){if(!this.z1)throw new Error("no redraw callback set");this.z1()}X1(t){let s=this.O1.get(t);return s||(s=fs.er(fs.K1,this,t),this.O1.set(t,s)),s.td(),s}sd(t){this.O1.delete(t.ed())}hd(){for(const t of this.O1.values())t.rd(),t.nd()}}}{const ds=self.js;ds.K1=class{constructor(t,s){this.od=t,this.ad=s,this.ud=0,this.ld=0,this.fd=0,this.dd=this.od.Q1(s).then(t=>{this.od&&(this.ld=t[0],this.fd=t[1],this.od.Z1())}).catch(t=>{console.error("[SVG] Error loading SVG: ",t),this.pd=!0,this.od&&this.od.Z1()}),this.md=0,this.gd=0,this.yd=0,this.Md=0,this.wd=!1,this.Sd=null,this.Td=!1,this.pd=!1}hr(){if(this.ud<=0)throw new Error("already released");this.ud--,0===this.ud&&this.bd()}rd(){this.Sd&&(this.od.H1(this.Sd),this.Sd=null)}bd(){this.rd(),this.od.sd(this),this.od=null}ed(){return this.ad}td(){this.ud++}xd(){return 0<this.ud}vd(){return this.Sd}nd(){this.Td=!0}async Cd(e,h,r){if(0!==h&&0!==r&&!this.pd&&!this.wd){let t=ds.Or(Math.ceil(h)),s=ds.Or(Math.ceil(r)),i=Math.max(t,s);if(4096<i){const n=4096/i;h*=n,r*=n,t=Math.min(Math.ceil(t*n),4096),s=Math.min(Math.ceil(s*n),4096)}if(h<t&&r<s){const o=h/r,a=t/s;r=o<a?(h=s*o,s):(h=t)/o}if(this.od.U1()&&(t=Math.ceil(h),s=Math.ceil(r)),!(t<=this.md&&s<=this.gd)||this.Td){this.wd=!0,this.md=t,this.gd=s;const u=await this.od.V1(this.ad,e,this.md,this.gd,h,r);this.od&&(this.rd(),this.Sd=u,this.yd=h,this.Md=r,this.wd=!1,this.Td=!1,this.od.Z1())}}}Gd(){return this.dd}Id(){return this.ld}Ed(){return this.fd}_d(){return this.yd}Dd(){return this.Md}Nd(){return this.pd}}}{let s=function(t){return ys.get(t)};s;const c=self.js,ps=(c.Ad="\ufeff",new Set("0123456789")),ms=(c.Ld=function(t){return ps.has(t)},new Set(" \t\n\r            ​\u2028\u2029  　"));c.Od=function(t){return ms.has(t)},c.Rd=function(t){return[...t].filter(t=>!c.Od(t)).join("")},c.Pd=function(t){for(const s of t)if(!c.Od(s))return!1;return!0},c.kd=function(t){for(const s of t)if(!c.Od(s))return!1;return!0},c.Fd=function(t){return 1===t.length&&t.charCodeAt(0)<32},c.jd=function(t){return[...t].filter(t=>!c.Fd(t)).join("")};let i=null;try{i=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}c.zd=function(t){return!c.Od(t)&&i&&i.test(t)};const gs=new Set("0123456789.+-e"),ys=(c.Bd=function(s){if(!(s=s.trim()).length)return!1;let t=s.charAt(0);if("-"!==t&&!ps.has(t))return!1;for(let t of s)if(!gs.has(t))return!1;return!0},c.Ud=function(s){let i=s.length;for(;0<i;){let t=s.charAt(i-1);if(!c.Ld(t))break;--i}return s.substr(0,i)},c.Wd=function(t){let s=c.Ud(t),i=t.substr(s.length);return s+(i=i?(parseInt(i,10)+1).toString():"2")},new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]])),Ms=/[&<>"']/g,ws=(c.Qd=function(t){return t.replace(Ms,s)},c.Jd=function(t){let s=c.Vd(t,"\\","\\\\");return s=c.Vd(s,'"','\\"'),s=c.Vd(s,"\t","\\t"),s=c.Vd(s,"\r",""),c.Vd(s,"\n","\\n")},c.Yd=function(t){let s=c.Vd(t,"&","&amp;");return s=c.Vd(s,"<","&lt;"),s=c.Vd(s,">","&gt;"),c.Vd(s,'"',"&quot;")},/[-[\]{}()*+?.,\\^$|#\s]/g);c.ae=function(t){return t.replace(ws,"\\$&")},c.Hd=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},c.qd=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());let e=s.length,h=0,r,n=[];for(;-1<(r=t.indexOf(s,h));)n.push(r),h=r+e;return n},c.Vd=function(t,s,i){return t.replaceAll(s,()=>i)},c.Zd=function(t,s,i){return t.replace(new RegExp(c.ae(s),"gi"),()=>i)},c.Xd=function(t,s){"string"==typeof s?t.textContent=s:s.Kd()?t.textContent=s.toString():(t.innerHTML=s.$d(),s instanceof c._h&&s.tp(t))},c.sp=function(t,s){return t instanceof c.HtmlString||t instanceof c._h?t.equals(s):s instanceof c.HtmlString||s instanceof c._h?s.equals(t):t===s},c.ip=function(i,...e){let h=i;for(let t=0,s=e.length;t<s;++t){const r=`{${t}}`;if(!i.includes(r))throw new Error(`missing placeholder '${r}' in string substitution`);h=h.replace(r,e[t].toString())}return h},c.ep=function(i,...e){let h=i,r=-1,n=-1;for(let t=0,s=e.length;t<s;++t){const o=`{${t}}`;i.includes(o)?(n=t,h=h.replace(o,e[t].toString())):-1===r&&(r=t)}if(0<=r&&0<=n&&r<n)throw new Error(`missing placeholder '${r}' in string substitution`);return h},c.hp=function(t,i){let e=t;for(let[t,s]of Object.entries(i))e=e.replaceAll(t,s.toString());return e},c.rp=function(t,s){return s<t?1:t<s?-1:0},c.np=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return e<i?1:i<e?-1:0};let e=null,h=null;self.Intl&&self.Intl.Segmenter?e=new self.Intl.Segmenter:h=new self.Ns,c.op=function(t){if(e){const s=[];for(const i of e.segment(t))s.push(i.segment);return s}return h.Es(t)},c.up=function*(t){if(e)for(const s of e.segment(t))yield s.segment;else yield*h._s(t)},c.lp=function(s){if(e){let t=0;for(const i of e.segment(s))++t;return t}return h.Ds(s)};const Ss=1073741824,Ts=1024*Ss,bs={cp:!(c.fp=function(s,t){let i="common."+(t?"dataRates":"dataSizes")+".",e=self.langSub;if(s<1024)return e(i+"bytes",s);if(s<1048576){let t=s/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"kilobytes",t)}if(s<Ss){let t=s/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"megabytes",t)}if(s<Ts){let t=s/Ss;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"gigabytes",t)}{let t=s/Ts;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"terabytes",t)}}),pp:!0,mp:!0,gp:!0,yp:!0};c.Mp=function(t,s){s=Object.assign({},bs,s),c.Lang.PushContext("common.time");const i=[],e=self.lang,h=self.langPluralSub;if(s.pp){const n=Math.floor(t/86400);0<n&&(t-=24*n*3600,i.push(h(".days",null,n)))}if(s.mp){const o=Math.floor(t/3600);(0<o||i.length)&&(t-=3600*o,i.push(h(".hours",null,o)))}if(s.gp){const a=Math.floor(t/60);(0<a||i.length||!s.yp)&&(t-=60*a,i.push(h(".minutes",null,a)))}if(s.yp){const u=Math.floor(t%60);i.push(h(".seconds",null,u))}const r=(s.cp?e(".approx-prefix"):"")+i.join(e(".separator"));return c.Lang.PopContext(),r},c.wp=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),h=s-e.length;for(let t=0;t<h;++t)i+="0";return i+e},c.Sp=function(t){return t.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())},c.Tp=function(t,s){let i=t.split(".").map(t=>t.trim()),e=s.split(".").map(t=>t.trim());c.kn(i,4,"0"),c.kn(e,4,"0"),i=i.map(t=>parseInt(t,10)),e=e.map(t=>parseInt(t,10));for(let t=0;t<4;++t){const h=i[t]-e[t];if(0!=h)return h<0?-1:1}return 0},c.bp=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.floor(16*Math.random()),i="x"===t?s:3&s|8;return i.toString(16)})},c.xp=function(i,e){if(i.length!==e.length)throw new Error("strings must be same length");let h=0;for(let t=0,s=i.length;t<s;++t)i.charAt(t)!==e.charAt(t)&&++h;return h},c.vp=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,h,r,n,o;for(s.length<t.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(r=e,h=1;h<=t.length;h++)n=s[e-1]===t[h-1]?o[h-1]:Math.min(o[h-1]+1,Math.min(r+1,o[h]+1)),o[h-1]=r,r=n;o[t.length]=r}return o[t.length]}}{let s=function(t,i,e){const h=o.get(e);if(!h)return"class"===e?i?"</span>":`<span class="bbclass${l++}">`:t;if("string"==typeof h){if("a"===h&&0===a.length||"abbr"===h&&0===u.length)return t;if("a"!==h||i){if("abbr"!==h||i)return"<"+i+h+">";{const r=parseInt(e.substring(3),10)-1;if(r<0||r>=u.length)throw new Error("invalid bbcode tip substitution");let t=u[r],s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${f.Vd(s,'"',"&quot;")}">`}}{const s=parseInt(e.substring(1),10)-1;if(s<0||s>=a.length)throw new Error("invalid bbcode link substitution");const n=a[s];if("string"==typeof n)return`<a href="${a[s]}">`;if("function"==typeof n)return`<a class="bblink${s}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(h)){let t=h[0],s=h[1];return i?"</"+t+">":`<${t} class="${s}">`}},f=(s,self.js),o=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),d=new Set(["icon"]),i=/\[(\/?)([a-zA-Z0-9]+)\]/g,p=/\[(\/?)([^\[\n]*?)\]/g,a=null,u=null,l=0,e=/\n/g;f._h=class{constructor(t,s){if(this.Cp=s&&s.Gp?t:f.Qd(t),this.Ip="",this.Ep=!1,this._p=[],this.Dp=[],s){if(this.Ep=!!s.convertLineBreaks,s.links){if(9<s.links.length)throw new Error("too many links");this._p=s.links}if(s.tips){if(9<s.tips.length)throw new Error("too many tips");this.Dp=s.tips}}this.Np=this.Cp.includes("["),this.Ap=this.Ep&&this.Cp.includes("\n"),this.Lp=!this.Np&&!this.Ap&&!this.Cp.includes("&"),this.Op=!1,this.Rp=[]}toString(){return this.Cp}valueOf(){return this.Cp}Kd(){return this.Lp}Pp(){return this.Np?this.Cp.replace(i,""):this.Cp}$d(){if(this.Lp)return this.Cp;if(!this.Ip&&this.Cp){let t=this.Cp;this.Np&&(l=0,a=this._p,u=this.Dp,t=t.replace(i,s),a=null,u=null),this.Ap&&(t=t.replace(e,"<br>")),this.Ip=t}return this.Ip}tp(i){if(this._p.length)for(let t=0,s=this._p.length;t<s;++t){const e=this._p[t];if("function"==typeof e){const h=i.querySelector(".bblink"+t);if(!h)throw new Error("unable to attach BBString link handler");h.onclick=e}}}equals(t){return t instanceof f.HtmlString?this.$d()===t.$d():t instanceof f._h?this.Cp===t.Cp:this.Cp===t}kp(){if(!this.Op){let e=[],t=this.Cp,h=[],s=p.lastIndex=0,i;for(;null!==(i=p.exec(t));){const r=i.index;if(!(0<r&&"\\"===t.charAt(r-1))){const n=i[0],o=i[1],a=i[2],u=t.substring(s,r);if(s=r+n.length,u&&e.push({text:u,Fp:h.slice(0)}),a)if(o){const l=a.toLowerCase();for(let t=h.length-1;0<=t;--t)if(h[t].tag===l){h.splice(t,1);break}}else{let t=a,s=null,i=a.indexOf("=");if(-1!==i?(t=a.substring(0,i).toLowerCase(),s=a.substring(i+1)):t=t.toLowerCase(),d.has(t)){if("icon"!==t)throw new Error("unknown self-closing tag "+t);e.push({icon:s,Fp:h.slice(0)})}else h.push({tag:t,jp:s})}}}s<t.length&&e.push({text:t.substring(s),Fp:h.slice(0)});for(const c of e)c.text&&(c.text=this.zp(c.text));this.Rp=e.map(t=>t.icon?f.er(f.Bp,{icon:t.icon,Fp:t.Fp}):f.er(f.Up,{Wp:f.op(t.text),Fp:t.Fp})),this.Op=!0}return this.Rp}zp(t){return t=f.Vd(t,"\\[","["),f.Vd(t,"\\\\","\\")}static Qp(t){return f.er(f._h,t,{Gp:!0}).Pp()}static Jp(t){return t.replace(p,"")}}}{let u=function(t){return" "!==t&&" "!==t&&M.Od(t)},a=function(t){return xs.has(t)},l=function(t){return M.zd(t)&&!a(t)},c=function(t){for(;0<t.length&&u(t.at(-1));)t.pop()},y=function(t){return"\n"===t||"\r\n"===t};u,a,l,c,y;const M=self.js,xs=new Set("〈《「『【〔〖〘〚〝");M.Vp=class{constructor(){this.Yp=[],this.Hp=null}qp(){return this.Yp}Zp(){return this.Yp.length}Xp(t){this.Hp=t}Kp(t,s){let i=0,e=0,h=0,r=0,n=0;for(const o of t){if(-1===o.$p()){const a=s(o);o.tm(a.height),o.im(a.fontBoundingBoxAscent||0),o.hm(a.fontBoundingBoxDescent||0),o.rm(a.nm||0),o.om()?o.um(a.width):o.lm()&&o.fm(this.Hp)}i+=o.$p(),e=Math.max(e,o.dm()),h=Math.max(h,o.pm()),r=Math.max(r,o.gm()),n=Math.max(n,o.ym())}return{width:i,height:e,fontBoundingBoxAscent:h,fontBoundingBoxDescent:r,nm:n}}Mm(t,s,i,e,h,r){this.Yp.push(M.er(M.Vp.wm,{Sm:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:h,nm:r}))}Vp(s,r,n,i,o){if("string"==typeof s&&(s=[M.er(M.Up,{Wp:M.op(s)})]),M.On(this.Yp),!(!s.length||1===s.length&&s[0].om()&&s[0].Hl()||n<2)){if(1===s.length){const a=s[0];if(a.om()&&a.Tm()<=100&&!a.xm()){let{width:t,height:s,fontBoundingBoxAscent:i,fontBoundingBoxDescent:e,nm:h}=r(a);if(t+=o,a.um(t),a.tm(s),a.im(i||0),a.hm(e||0),a.rm(h||0),t<=n)return void this.Mm([a],t,s,i,e,h)}}let t;t="word"===i?this.vm(s):"cjk"===i?this.Cm(s):this.Gm(s),this.Im(t,r,n,o)}}vm(t){let s=[],i=[],e=!1;for(const h of t){const r=h.Em();if(h.lm())0<i.length&&s.push(i),s.push([h]),i=[];else for(const n of h._m())if(y(n))0<i.length&&s.push(i),s.push([M.er(M.Up,{Wp:["\n"],Fp:r})]),i=[];else if(0===i.length)i.push(M.er(M.Up,{Wp:[n],Fp:r})),e=u(n);else{const o=u(n);if(o===e){const a=i.at(-1);a.Em()===r?a.Dm(n):i.push(M.er(M.Up,{Wp:[n],Fp:r}))}else s.push(i),i=[M.er(M.Up,{Wp:[n],Fp:r})],e=o}}return 0<i.length&&s.push(i),s}Cm(t){let s=[],i=[],e=!1;for(const h of t){const r=h.Em();if(h.lm())0<i.length&&s.push(i),s.push([h]),i=[];else for(const n of h._m())if(y(n))0<i.length&&s.push(i),s.push([M.er(M.Up,{Wp:["\n"],Fp:r})]),i=[];else{if(0===i.length)i.push(M.er(M.Up,{Wp:[n],Fp:r}));else if(e||l(n)){const o=i.at(-1);o.Em()===r?o.Dm(n):i.push(M.er(M.Up,{Wp:[n],Fp:r}))}else s.push(i),i=[M.er(M.Up,{Wp:[n],Fp:r})];e=a(n)}}return 0<i.length&&s.push(i),s}Gm(t){const s=[];for(const i of t)if(i.om()){const e=i._m();M.Jh(s,e.map(t=>[M.er(M.Up,{Wp:[t],Fp:i.Em()})]))}else s.push([i]);return s}Nm(t){return t.map(t=>t.Am())}Lm(s,i){let t=s.length?s.at(-1):null,e=0;t&&t.om()&&i[0].om()&&i[0].Em()===t.Em()&&(t.Om(i[0]._m()),e=1);for(let t=i.length;e<t;++e){const h=i[e];s.push(h.Am())}}Im(t,s,i,e){let h=[],r=0,n=0,o=0,a=0,u=0;for(const l of t)if(1===l.length&&l[0].om()&&1===l[0].Tm()&&y(l[0]._m()[0])){if(0===n){const c=M.er(M.Up,{Wp:[" "],Fp:l[0].Em()}),f=s(c);n=f.height,o=f.fontBoundingBoxAscent||0,a=f.fontBoundingBoxDescent||0,u=f.nm||0}this.Mm(h,r,n,o,a,u),h=[],r=0,n=0,o=0,a=0,u=0}else{const d=this.Nm(h),p=(this.Lm(d,l),this.Kp(d,s)),m=p.width;if(i<=m)if(0<h.length&&this.Mm(h,r,n,o,a,u),h=[],l[0].om()&&M.kd(l[0]._m()))r=0,n=0,o=0,a=0,u=0;else{this.Lm(h,l);const g=this.Kp(h,s);r=g.width,n=g.height,o=g.fontBoundingBoxAscent,a=g.fontBoundingBoxDescent,u=g.nm}else h=d,r=m,n=p.height,o=p.fontBoundingBoxAscent,a=p.fontBoundingBoxDescent,u=p.nm}0<h.length&&this.Mm(h,r,n,o,a,u),this.Rm(s,e)}Rm(s,i){for(const e of this.Yp){const h=e.Pm();if(h.length){let t=h.at(-1);if(t.om()){const r=t._m(),n=r.slice(0);if(c(n),0===n.length)e.km(-t.$p()),h.pop();else if(n.length<r.length){t.Fm(n);const o=s(t).width,a=t.$p()-o;t.um(o),e.km(-a)}0!==i&&0<h.length&&((t=h.at(-1)).km(i),e.km(i))}}}}Yl(){M.On(this.Yp)}jm(){return this.Yp.reduce((t,s)=>Math.max(t,s.$p()),0)}zm(){return this.Yp.reduce((t,s)=>t+s.dm(),0)}}}{const vs=self.js;vs.Vp.wm=class{constructor(t){this.Rp=t.Sm||[],this.Bm=t.width||-1,this.Um=t.height||-1,this.Wm=t.fontBoundingBoxAscent||-1,this.Qm=t.fontBoundingBoxDescent||-1,this.Jm=t.nm||-1,this.Vm=0,this.Ym=0}Sm(){return this.Rp.values()}*Hm(){const s=this.Rp;for(let t=s.length-1;0<=t;--t)yield s[t]}Pm(){return this.Rp}km(t){this.Bm+=t}$p(){return this.Bm}dm(){return this.Um}qm(){return this.Wm}gm(){return this.Qm}ym(){return this.Jm}Zm(t){this.Vm=t}Xm(){return this.Vm}Km(t){this.Ym=t}$m(){return this.Ym}}}{const Cs=self.js;Cs.tg=class{constructor(t){this.sg=t.Fp||[],this.Bm=t.width||-1,this.Um=t.height||-1,this.Wm=t.fontBoundingBoxAscent||-1,this.Qm=t.fontBoundingBoxDescent||-1,this.Jm=t.nm||-1,this.Vm=0,this.Ym=0}om(){return!1}lm(){return!1}Em(){return this.sg}ig(s){const i=this.sg;for(let t=i.length-1;0<=t;--t){const e=i[t];if(e.tag===s)return e}return null}eg(t){return!!this.ig(t)}hg(){const t=new Map;for(const s of this.sg)t.set(s.tag,s.jp);return t}km(t){this.Bm+=t}um(t){this.Bm=t}$p(){return this.Bm}tm(t){this.Um=t}dm(){return this.Um}im(t){this.Wm=t}pm(){return this.Wm}hm(t){this.Qm=t}gm(){return this.Qm}rm(t){this.Jm=t}ym(){return this.Jm}Zm(t){this.Vm=t}Xm(){return this.Vm}Km(t){this.Ym=t}$m(){return this.Ym}}}{const Gs=self.js;Gs.Up=class extends Gs.tg{constructor(t){super(t),this.rg=t.Wp}om(){return!0}Om(t){Gs.Jh(this.rg,t),this.Bm=-1,this.Um=-1,this.Wm=-1,this.Qm=-1,this.Jm=-1}Dm(t){this.rg.push(t)}Am(){return Gs.er(Gs.Up,{Wp:this.rg.slice(0),Fp:this.sg,width:this.Bm,height:this.Um,fontBoundingBoxAscent:this.Wm,fontBoundingBoxDescent:this.Qm,nm:this.Jm})}_m(){return this.rg}Fm(t){this.rg=t}Tm(){return this.rg.length}Hl(){return 0===this.rg.length}xm(){return this.rg.includes("\n")}}}{const Is=self.js;Is.Bp=class extends Is.tg{constructor(t){super(t),this.ng=t.icon}lm(){return!0}og(){return this.ng}Am(){return Is.er(Is.Bp,{icon:this.ng,Fp:this.sg,width:this.Bm,height:this.Um,fontBoundingBoxAscent:this.Wm,fontBoundingBoxDescent:this.Qm,nm:this.Jm})}ag(t){if(!t)return null;let s=Number(this.ng);return String(s)===this.ng?(s=Math.floor(s),t.ug(s)):t.lg(this.ng)}fm(t){const s=this.ag(t);this.Bm=s?this.Um*s.$p()/s.dm():0}fg(t){const s=this.ag(t);return s?s.fg():null}Tm(){return 1}}}{const Es=self.js;Es.dg=class{constructor(t){this.pg=new Map,this.mg=t.gg,this.yg=t.Mg}hr(){for(const t of this.pg.values())t.hr();this.pg.clear()}wg(t){let s=this.pg.get(t);if(!s){const i=this.mg(t);s=Es.er(Es.Sg,this,{source:t,Tg:i}),this.pg.set(t,s)}return s}bg(t){return this.pg.has(t)}xg(t){const s=this.pg.get(t);s&&s.hr(),this.pg.delete(t)}async vg(t){return this.yg(t)}}}{const _s=self.js;_s.Sg=class{constructor(t,s){this.Cg=t,this.Gg=s.source,this.Ig=[],this.Eg=new Map,this._g=!1,this.Dg=!1,this.Ng=null;const i=s.Tg.Ag;for(let t=0,s=i.length;t<s;++t){const e=i[t],h=_s.er(_s.Lg,this,{index:t,tag:e.tag,source:e.source,width:e.width,height:e.height});this.Ig.push(h),e.tag&&this.Eg.set(e.tag.toLowerCase(),h)}}hr(){for(const t of this.Ig)t.hr();_s.On(this.Ig),this.Eg.clear(),this.Cg=null,this.Gg=null}Og(){return this._g}Rg(){return this.Dg}Pg(){return this.Ng||(this.Ng=this.kg()),this.Ng}async kg(){if(!this._g){this._g=!0,this.Dg=!0;const t=await this.Cg.vg(this.Gg);if(this.Cg){const i=t.Ag;for(let t=0,s=Math.min(i.length,this.Ig.length);t<s;++t){const e=i[t].Fg;this.Ig[t].jg(e)}this.Dg=!1}}}ug(t){return(t=Math.floor(t))<0||t>=this.Ig.length?null:this.Ig[t]}lg(t){return this.Eg.get(t.toLowerCase())||null}}}{const Ds=self.js;Ds.Lg=class{constructor(t,s){this.zg=t,this.Gg=s.source||null,this.Bg=s.index,this.Ug=s.tag,this.Bm=s.width,this.Um=s.height,this.Wg=null}hr(){this.Bm=0,this.Um=0,this.zg=null}Qg(){return this.Gg}$p(){return this.Bm}dm(){return this.Um}jg(t){this.Wg=t}fg(){return this.Wg}}}{let e=function(t,s,i,e){const h=Rs;vh.F(Ls,i,s),vh.F(Os,t,s),vh.At(h,Ls,Os),vh.normalize(h,h),e.set(h[0],h[1],h[2],vh.Nt(t,h))},n=function(t,s,i,e,h,r,n){const o=n.x,a=n.y,u=n.z,l=n.w,c=n.Jg,f=n.Vg,d=n.Yg,p=1-c,m=1-f,g=1-d,y=o*t*c+o*e*p+a*s*f+a*h*m+u*i*d+u*r*g;if(l<=y)return!0;const M=o*e*c+o*t*p+a*h*f+a*s*m+u*r*d+u*i*g;return l<M},h=function(t,s,i,e){const h=e.x,r=e.y,n=e.z,o=e.w,a=h*t+r*s+n*i;return o<=a};e,n,h;const Ns=self.js,As=self.ys,vh=As.Cs,Uh=As.Gs,xh=As.Ts,Ls=vh.create(),Os=vh.create(),Rs=vh.create(),Ps=Uh.create(),ks=xh.create(),Fs=vh.create(),js=vh.create(),zs=vh.create(),Bs=vh.create(),Us=vh.create(),Ws=vh.create(),Qs=vh.create(),Js=vh.create(),Vs=Uh.G(0,0,1,1);Ns.Hg={qg(t,s,i,e,h,r,n){let o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],u=e[2]*t+e[6]*s+e[10]*i+e[14],l=e[3]*t+e[7]*s+e[11]*i+e[15],c=h[0]*o+h[4]*a+h[8]*u+h[12]*l,f=h[1]*o+h[5]*a+h[9]*u+h[13]*l,d=h[2]*o+h[6]*a+h[10]*u+h[14]*l,p=h[3]*o+h[7]*a+h[11]*u+h[15]*l;return 0!=p&&(f*=p=1/p,d*=p,n[0]=(.5*(c*=p)+.5)*r[2]+r[0],n[1]=(.5*f+.5)*r[3]+r[1],n[2]=.5*(1+d),!0)},Zg(t,s,i,e,h,r,n){const o=ks,a=Ps;return xh.multiply(o,h,e),null!==xh._(o,o)&&(a[0]=(t-r[0])/r[2]*2-1,a[1]=(s-r[1])/r[3]*2-1,a[2]=2*i-1,a[3]=1,Uh.kt(a,a,o),0!==a[3])&&(a[3]=1/a[3],n[0]=a[0]*a[3],n[1]=a[1]*a[3],n[2]=a[2]*a[3],!0)},Xg(t,s,i,e,h,r,n){const o=Ls,a=Os;if(!Ns.Hg.Zg(t,s,0,e,h,r,o))return!1;if(!Ns.Hg.Zg(t,s,1,e,h,r,a))return!1;let u=Os,l=(vh.F(u,a,o),Rs),c=(vh.set(l,0,0,1),-i),f=vh.Nt(l,u),d=0;if(0===f){const p=vh.Nt(l,o)+c;if(0!==p)return!1}else if((d=-(vh.Nt(o,l)+c)/f)<0)return!1;return vh.Gt(n,o,u,d),!0}};class Ys{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.Jg=NaN,this.Vg=NaN,this.Yg=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.Jg=0<t?1:0,this.Vg=0<s?1:0,this.Yg=0<i?1:0}}Ns.Hg.Kg=class{constructor(){this.$g=new Ys,this.t2=new Ys,this.s2=new Ys,this.i2=new Ys,this.e2=new Ys,this.h2=new Ys}n2(t,s){const i=Vs;Ns.Hg.Zg(0,1,0,t,s,i,Fs),Ns.Hg.Zg(1,1,0,t,s,i,js),Ns.Hg.Zg(0,0,0,t,s,i,zs),Ns.Hg.Zg(1,0,0,t,s,i,Bs),Ns.Hg.Zg(0,1,1,t,s,i,Us),Ns.Hg.Zg(1,1,1,t,s,i,Ws),Ns.Hg.Zg(0,0,1,t,s,i,Qs),Ns.Hg.Zg(1,0,1,t,s,i,Js),e(zs,Fs,Us,this.$g),e(Fs,js,Ws,this.t2),e(js,Bs,Js,this.s2),e(Bs,zs,Qs,this.i2),e(Qs,Us,Ws,this.h2),e(Bs,js,Fs,this.e2)}o2(t,s,i,e,h,r){return n(t,s,i,e,h,r,this.$g)&&n(t,s,i,e,h,r,this.t2)&&n(t,s,i,e,h,r,this.s2)&&n(t,s,i,e,h,r,this.i2)&&n(t,s,i,e,h,r,this.e2)&&n(t,s,i,e,h,r,this.h2)}a2(t,s,i){return!h(t,s,i,this.e2)}}}{const Hs=self.js,qs=self.ys,vh=qs.Cs,Uh=qs.Gs,xh=qs.Ts,Zs=xh.create(),Xs=vh.G(0,0,0),Ks=vh.G(0,0,0),$s=vh.G(0,0,0),ti=vh.G(0,1,0),si=(Uh.G(0,0,0,0),new Hs.Vu),ii=new Hs.Rect,ei=new Hs.Vu(0,0,1,0,1,1,0,1),hi={u2:1,l2:1e4},ri=xh.G(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Hs.Hg.c2=class{constructor(t){t=Object.assign({},hi,t),this.Bm=0,this.Um=0,this.f2=Hs.pr(45),this.d2=Math.tan(this.f2/2),this.m2=xh.create(),this.g2=xh.create(),this.M2=!1,this.w2=t.u2,this.S2=t.l2,this.T2=[],this.b2=new Map,this.v2=null,this.C2=null,this.G2=null,this.I2=null,this.E2=null,this._2=null,this.D2=null,this.N2=null,this.A2=null,this.L2=null,this.O2=null,this.R2=null,this.P2=new Map,this.F2=null,this.j2=[],this.z2=new Map,this.B2=0,this.U2=0,this.W2=1,this.Q2=[this.W2],this.J2=1,this.V2=[this.J2],this.Y2=.5,this.H2=[this.Y2],this.q2=0,this.Z2=!0,this.X2=!1}K2(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}ty(){this.B2=0,this.U2=0,this.v2=null,this.C2=null,this.G2=null,this.I2=null,this.E2=null,this._2=null,this.D2=null,this.N2=null,this.A2=null,this.L2=null,this.O2=null,this.R2=null,this.iy()}ey(){this.ty(),this.F2=null}hy(){for(const t of this.T2)t.hr();this.ty()}$p(){return this.Bm}dm(){return this.Um}ny(t){return this.oy()?100:t/(2*this.uy())}ly(t){if(this.oy()){const s=t/(2*this.uy());return s/this.ny(t)}return 1}my(t){this.w2=t}gy(){return this.w2}yy(t){this.S2=t}My(){return this.S2}wy(t){this.f2=t,this.d2=Math.tan(this.f2/2)}Sy(){return this.f2}uy(){return this.d2}Ty(){this.M2=!1}by(){this.M2=!0}oy(){return!this.M2}xy(){return this.M2}vy(t,s,i=.5,e=.5){const h=this.gy(),r=this.My(),n=this.Sy();if(.5===i&&.5===e)this.Cy()?xh.Mt(t,n,s,h,r):xh.perspective(t,n,s,h,r);else{const o=2*(i=1-i)-2,a=2*i,u=2*e-2,l=2*e,c=this.uy()*h,f=c*s;xh.gt(t,o*f,a*f,u*c,l*c,h,r),this.Cy()&&xh.mul(t,ri,t)}}Gy(t,s,i,e=1){const h=self.devicePixelRatio,r=2*this.ny(i)*h*this.uy()/i,n=s*r/(2*h*e),o=i*r/(2*h*e),a=-n,u=n,l=-o,c=o;this.Cy()?xh.bt(t,a,u,l,c,this.gy(),this.My()):xh.ortho(t,a,u,l,c,this.gy(),this.My())}Iy(t,s,i,e,h,r=1){let n=1;this.oy()&&(n=200*this.uy()/h);const o=$s,a=(vh.set(o,n,-n,1),Xs),u=Ks;vh.multiply(a,s,o),vh.multiply(u,i,o),xh.xt(t,a,u,e||ti),o[2]=r,xh.scale(t,t,o)}Ey(t,s,i,e,h,r,n,o){return vh.set(Xs,t,s,i),vh.set(Ks,e,h,r),this.Iy(Zs,Xs,Ks,ti,n,o),Zs}_y(t){this.T2.push(t),this.b2.set(t.Jc(),t)}Dy(t){const s=this.T2.indexOf(t);-1!==s&&this.T2.splice(s,1),this.b2.delete(t.Jc())}iy(){Hs.On(this.T2),this.b2.clear()}Ny(t){return this.b2.get(t)||null}Ay(){return this.v2}Ly(){this.Oy(this.v2)}Ry(){return this.C2}Py(){this.Oy(this.C2)}ky(){this.Oy(this.G2)}Fy(){this.Oy(this.I2)}jy(){this.Oy(this.E2)}zy(){this.Oy(this._2)}By(){this.Oy(this.D2)}Uy(){this.Oy(this.N2)}Wy(){this.Oy(this.A2)}Qy(){this.Oy(this.L2)}Jy(){this.Oy(this.O2)}Vy(){this.Oy(this.R2)}Yy(t){this.F2=t}Hy(){return this.F2}qy(t,s,i,e){let h=Hs.Hg.Xy.Zy(t,s,i,e),r=this.P2.get(h);return r||(r=Hs.er(Hs.Hg.Xy,this,t,s,i,e),this.P2.set(h,r)),r.Ky(),r}$y(t){t.tM(),0===t.sM()&&(this.F2===t&&(this.F2=null),this.P2.delete(t.iM()),t.hr())}eM(t){Hs.On(this.j2),this.z2.clear();let s=0;for(const i of t){const e=i[0],h=i[1],r=i[2];this.j2.push([h,r]),this.z2.set(e,{number:s,hM:h,rM:r}),s++}}nM(t){return this.j2[t]}oM(t){return this.nM(t)[0]}aM(t){return this.nM(t)[1]}uM(t){const s=this.z2.get(t);if(void 0===s)throw new Error("invalid blend name");return s}lM(t){const s=this.z2.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}cM(t){this.B2=t}fM(){return this.B2}dM(t){this.U2=t,this.F2=null}pM(){return this.U2}wm(t,s,i,e){const h=Hs.Mr(t,s,i,e),r=Math.sin(h),n=Math.cos(h),o=.5*this.W2,a=r*o,u=n*o,l=this.J2;2===l?this.mM(t,s,0,i,e,0,a,u):1===l?this.gM(t,s,0,i,e,0,a,u):this.yM(t,s,0,i,e,0,a,u)}MM(t,s,i,e,h,r){const n=Hs.Mr(t,s,e,h),o=Math.sin(n),a=Math.cos(n),u=.5*this.W2,l=o*u,c=a*u,f=this.J2;2===f?this.mM(t,s,i,e,h,r,l,c):1===f?this.gM(t,s,i,e,h,r,l,c):this.yM(t,s,i,e,h,r,l,c)}mM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a-o,l=s+a-n,c=e+a+o,f=h+a+n,d=2*o,p=2*n,m=u+n,g=l-o,y=u-n+d,M=l+o+p,w=c+n,S=f-o,T=c-n-d,b=f+o-p;this.wM(m,g,i,w,S,r,T,b,r,y,M,i,ei)}gM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a-o,l=s+a-n,c=e+a+o,f=h+a+n,d=u+n,p=l-o,m=u-n,g=l+o,y=c+n,M=f-o,w=c-n,S=f+o;this.wM(d,p,i,y,M,r,w,S,r,m,g,i,ei)}yM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a,l=s+a,c=e+a,f=h+a,d=u+n,p=l-o,m=u-n,g=l+o,y=c+n,M=f-o,w=c-n,S=f+o;this.wM(d,p,i,y,M,r,w,S,r,m,g,i,ei)}SM(t,s,i,e,h,r){const n=Hs.Mr(t,s,i,e),o=Math.sin(n),a=Math.cos(n),u=.5*this.W2,l=o*u,c=a*u,f=this.J2;2===f?this.TM(t,s,i,e,l,c,h,r):1===f?this.bM(t,s,i,e,l,c,h,r):this.xM(t,s,i,e,l,c,h,r)}TM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a-r,l=s+a-h,c=i+a+r,f=e+a+h,d=2*r,p=2*h,m=u+h,g=l-r,y=u-h+d,M=l+r+p,w=c+h,S=f-r,T=c-h-d,b=f+r-p;si.set(m,g,w,S,T,b,y,M),ii.set(n,0,o,0),this.vM(si,ii)}bM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a-r,l=s+a-h,c=i+a+r,f=e+a+h,d=u+h,p=l-r,m=u-h,g=l+r,y=c+h,M=f-r,w=c-h,S=f+r;si.set(d,p,y,M,w,S,m,g),ii.set(n,0,o,0),this.vM(si,ii)}xM(t,s,i,e,h,r,n,o){const a=this.Y2,u=t+a,l=s+a,c=i+a,f=e+a,d=u+h,p=l-r,m=u-h,g=l+r,y=c+h,M=f-r,w=c-h,S=f+r;si.set(d,p,y,M,w,S,m,g),ii.set(n,0,o,0),this.vM(si,ii)}CM(t,s,i,e){const h=.5*this.W2,r=this.J2;2===r?this.GM(t,s,i,e,h):1===r?this.IM(t,s,i,e,h):this.EM(t,s,i,e,h)}GM(t,s,i,e,h){this.mM(t,s,0,i,s,0,0,h),this.mM(i,s,0,i,e,0,h,0),this.mM(i,e,0,t,e,0,0,-h),this.mM(t,e,0,t,s,0,-h,0)}IM(t,s,i,e,h){this.gM(t,s,0,i,s,0,0,h),this.gM(i,s,0,i,e,0,h,0),this.gM(i,e,0,t,e,0,0,-h),this.gM(t,e,0,t,s,0,-h,0)}EM(t,s,i,e,h){this.yM(t,s,0,i,s,0,0,h),this.yM(i,s,0,i,e,0,h,0),this.yM(i,e,0,t,e,0,0,-h),this.yM(t,e,0,t,s,0,-h,0)}_M(t){this.CM(t.gu(),t.yu(),t.Mu(),t.wu())}DM(t){const s=Hs.Mr(t.Xr(),t.Kr(),t.$r(),t.tn()),i=Math.sin(s),e=Math.cos(s),h=.5*this.W2,r=i*h,n=e*h,o=this.J2;2===o?this.NM(t,r,n):1===o?this.AM(t,r,n):this.LM(t,r,n)}NM(t,s,i){this.mM(t.Xr(),t.Kr(),0,t.$r(),t.tn(),0,s,i),this.mM(t.$r(),t.tn(),0,t.sn(),t.hn(),0,i,-s),this.mM(t.sn(),t.hn(),0,t.rn(),t.nn(),0,-s,-i),this.mM(t.rn(),t.nn(),0,t.Xr(),t.Kr(),0,-i,s)}AM(t,s,i){this.gM(t.Xr(),t.Kr(),0,t.$r(),t.tn(),0,s,i),this.gM(t.$r(),t.tn(),0,t.sn(),t.hn(),0,i,-s),this.gM(t.sn(),t.hn(),0,t.rn(),t.nn(),0,-s,-i),this.gM(t.rn(),t.nn(),0,t.Xr(),t.Kr(),0,-i,s)}LM(t,s,i){this.yM(t.Xr(),t.Kr(),0,t.$r(),t.tn(),0,s,i),this.yM(t.$r(),t.tn(),0,t.sn(),t.hn(),0,i,-s),this.yM(t.sn(),t.hn(),0,t.rn(),t.nn(),0,-s,-i),this.yM(t.rn(),t.nn(),0,t.Xr(),t.Kr(),0,-i,s)}OM(t){this.W2=t,this.Q2[this.Q2.length-1]=t}RM(){return this.W2}PM(t){if(100<=this.Q2.length)throw new Error("pushed too many line widths - check push/pop pairs");this.Q2.push(t),this.W2=t}kM(){if(this.Q2.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.Q2.pop(),this.W2=this.Q2.at(-1)}FM(){this.J2=0,this.V2[this.V2.length-1]=0}jM(){this.J2=1,this.V2[this.V2.length-1]=0}zM(){this.J2=2,this.V2[this.V2.length-1]=0}BM(t){if("butt"===t)this.UM();else if("square"===t)this.WM();else{if("zag"!==t)throw new Error("invalid line cap");this.QM()}}UM(){if(100<=this.V2.length)throw new Error("pushed too many line caps - check push/pop pairs");this.V2.push(0),this.J2=0}WM(){if(100<=this.V2.length)throw new Error("pushed too many line caps - check push/pop pairs");this.V2.push(1),this.J2=1}QM(){if(100<=this.V2.length)throw new Error("pushed too many line caps - check push/pop pairs");this.V2.push(2),this.J2=2}JM(){if(this.V2.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.V2.pop(),this.J2=this.V2.at(-1)}VM(t){this.Y2=t,this.H2[this.H2.length-1]=t}YM(){return this.Y2}HM(t){if(100<=this.H2.length)throw new Error("pushed too many line offsets - check push/pop pairs");this.H2.push(t),this.Y2=t}qM(){if(this.H2.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.H2.pop(),this.Y2=this.H2.at(-1)}ZM(s){const t=s.length/2;if(t<3)throw new Error("need at least 3 points");const i=t-2,e=i-1,h=s[0],r=s[1];for(let t=0;t<i;t+=2){const n=2*t,o=s[2+n],a=s[3+n],u=s[4+n],l=s[5+n];if(t===e)this.XM(h,r,o,a,u,l,u,l);else{const c=s[6+n],f=s[7+n];this.XM(h,r,o,a,u,l,c,f)}}}KM(){return 3}$M(){this.iw(!0),this.q2++}ew(){return this.q2}hw(){this.q2++}rw(t){this.Z2=!!t}ow(){return this.Z2}aw(t){this.X2=!!t}uw(){return this.X2}lw(){return!1}Cy(){return!1}cw(){}fw(){}dw(){}pw(){return this.cw()+this.fw()+this.dw()}mw(){return Hs.er(Hs.Hg.gw,this)}}}{const ni=self.js;ni.Hg.yw=class{constructor(t,s){this.ur=s.name,this.Mw=t,this.ww=s.extendBoxHorizontal||0,this.Sw=s.extendBoxVertical||0,this.Tw=!!s.crossSampling,this.bw=!!s.mustPreDraw,this.xw=!!s.preservesOpaqueness,this.Cw=!!s.supports3dDirectRendering,this.Gw=!!s.animated,this.Iw=!!s.blendsBackground,this.Ew=!!s.usesDepth,this._w=!1,this.Dw=this.Tw||this.Iw||0!==this.ww||0!==this.Sw}hr(){this.Mw=null}Nw(){return this.Mw}Jc(){return this.ur}Aw(){return 0!==this.ww||0!==this.Sw}Lw(){return this.ww}Ow(){return this.Sw}Rw(){return this.Tw}Pw(){return this.bw}kw(){return this.xw}Fw(){return this.Cw}jw(){return this.Gw}zw(){return this.Iw}Bw(){return this.Ew}Uw(){return this._w}Ww(){return this.Dw}Qw(){return!1}}}{const oi=self.js;oi.Hg.Xy=class{constructor(t,s,i,e,h){this.Mw=t,this.ud=0,this.Jw=null,this.Vw="",this.Yw=i,this.Hw=oi.er(oi.Fo),this.Hw.set(e),this.qw=h,"string"==typeof s?this.Vw=s:(this.Jw=s,this.Vw=this.Jw.Jc())}hr(){if(0<this.ud)throw new Error("releasing state group still in use");this.Mw=null,this.Jw=null,this.Vw=""}Zw(){const t=this.Mw;t.Oy(this.Jw),t.Xw(this.Yw),t.Kw(this.Hw),t.dM(this.qw),t.Yy(this)}iM(){return oi.Hg.Xy.Zy(this.Vw,this.Yw,this.Hw,this.qw)}Ky(){++this.ud}tM(){--this.ud}sM(){return this.ud}$w(){this.Jw=null}t4(t){if(this.Jw=t.Ny(this.Vw),!this.Jw)throw new Error("failed to restore shader program")}static Zy(t,s,i,e){const h="string"==typeof t?t:t.Jc();return h+","+s+","+i.Ko()+","+i.$o()+","+i.ta()+","+i.ia()+","+e}}}{let e=function(t,s,i){const e=i.Xr(),h=i.Kr(),r=i.$r()-e,n=i.tn()-h,o=i.rn()-e,a=i.nn()-h,u=r*t,l=n*t,c=o*s,f=a*s;return[e+u+c,h+l+f]};e;const G=self.js,ai=G.er(G.Vu);G.Hg.s4=class{constructor(t,s,i){this.i4=t,this.e4=s,this.h4=i,this.Ya=NaN,this.Ha=NaN,this.qw=NaN,this.r4=NaN,this.n4=NaN,this.Ya=0,this.Ha=0,this.qw=0,this.r4=0,this.n4=0}o4(t,s,i,e){this.Ya=t,this.Ha=s,this.r4=i,this.n4=e}a4(){return this.Ya}u4(t){this.Ya!==t&&(this.Ya=t,this.i4.l4())}c4(){return this.Ha}f4(t){this.Ha!==t&&(this.Ha=t,this.i4.l4())}d4(){return this.qw}m4(t){this.qw!==t&&(this.qw=Math.max(t,0),this.i4.l4())}g4(){return this.r4}y4(t){this.r4=t}M4(){return this.n4}w4(t){this.n4=t}S4(t,s,i){[this.Ya,this.Ha]=e(t.Ya,t.Ha,s),this.qw=t.qw,this.r4=G.Lt(i.gu(),i.Mu(),t.r4),this.n4=G.Lt(i.yu(),i.wu(),t.n4)}T4(t,s,i){[this.Ya,this.Ha]=e(t.Ya,t.Ha,s),this.qw=t.qw,[this.r4,this.n4]=e(t.r4,t.n4,i)}b4(){return{x:this.a4(),y:this.c4(),z:this.d4(),u:this.g4(),v:this.M4()}}x4(t){this.u4(t.x),this.f4(t.y),t.hasOwnProperty("z")&&this.m4(t.z),this.y4(t.u),this.w4(t.v)}v4(){return this.i4}C4(){return this.e4}G4(){return this.h4}},G.Hg.I4=class{constructor(i,t,s){if(i<2||t<2)throw new Error("invalid mesh size");this.E4=i,this._4=t,this.D4=s||null,this.N4=[],this.A4=0,this.L4=0,this.O4=1,this.R4=1,this.P4=0,this.F4=!1;const e=i-1,h=t-1;for(let s=0;s<t;++s){const r=[];for(let t=0;t<i;++t){const n=G.er(G.Hg.s4,this,t,s),o=t/e,a=s/h;n.o4(o,a,o,a),r.push(n)}this.N4.push(r)}}hr(){G.On(this.N4)}j4(){return this.E4}z4(){return this._4}B4(){return this.D4}U4(){return this.N4}l4(){this.F4=!0}W4(){if(this.F4){let t=1/0,s=1/0,i=-1/0,e=-1/0,h=0;for(const r of this.N4)for(const n of r){const o=n.a4(),a=n.c4();t=Math.min(t,o),s=Math.min(s,a),i=Math.max(i,o),e=Math.max(e,a),h=Math.max(h,n.d4())}this.A4=t,this.L4=s,this.O4=i,this.R4=e,this.P4=h,this.F4=!1}}Q4(){return this.W4(),this.A4}J4(){return this.W4(),this.L4}V4(){return this.W4(),this.O4}Y4(){return this.W4(),this.R4}H4(){return this.W4(),this.P4}q4(){return 0<this.H4()}Z4(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.E4||s<0||s>=this._4?null:this.N4[s][t]}X4(t,i,e){const h=e instanceof G.Rect;if(t.j4()!==this.j4()||t.z4()!==this.z4())throw new Error("source mesh wrong size");const r=t.N4,n=this.N4;for(let t=0,s=n.length;t<s;++t){const o=r[t],a=n[t];for(let t=0,s=a.length;t<s;++t){const u=o[t],l=a[t];h?l.S4(u,i,e):l.T4(u,i,e)}}}K4(r){let n=this.N4,o=n[0];for(let t=1,s=n.length;t<s;++t){let i=n[t],e=o[0],h=i[0];for(let t=1,s=i.length;t<s;++t){const a=o[t],u=i[t];ai.set(e.g4(),e.M4(),a.g4(),a.M4(),u.g4(),u.M4(),h.g4(),h.M4()),r.wM(e.a4(),e.c4(),e.d4(),a.a4(),a.c4(),a.d4(),u.a4(),u.c4(),u.d4(),h.a4(),h.c4(),h.d4(),ai),e=a,h=u}o=i}}tS(o,a){a=a||((t,s,i)=>[t,s,i]);let t=this.N4,u=t[0];for(let r=1,n=t.length;r<n;++r){let i=t[r],e=u[0],h=i[0];for(let t=1,s=i.length;t<s;++t){const l=u[t],c=i[t],[f,d,p]=a(e.a4(),e.c4(),e.d4()),[m,g,y]=a(l.a4(),l.c4(),l.d4()),[M,w,S]=a(c.a4(),c.c4(),c.d4()),[T,b,x]=a(h.a4(),h.c4(),h.d4());o.MM(f,d,p,m,g,y),o.MM(f,d,p,M,w,S),o.MM(f,d,p,T,b,x),t===s-1&&o.MM(m,g,y,M,w,S),r===n-1&&o.MM(T,b,x,M,w,S),e=l,h=c}u=i}}sS(t){let i=.99999999,e=t.Nl(),h=[],r=this.j4()-1,n=this.z4()-1,o=1/r,a=1/n,u=r-1,l=n-1,c=e[0],f=e[1],d=G.cr(Math.floor(c*r),0,u),p=G.cr(Math.floor(f*n),0,l),m=!0,g=0,y=0,M=0,w=-1,S=()=>{c=G.cr(G.Lt(c,g,M),0,1),f=G.cr(G.Lt(f,y,M),0,1),h.push(c,f)};for(let t=0,s=e.length;t<s;t+=2){c=e[t],f=e[t+1],h.push(c,f),d=G.cr(Math.floor(c*r),0,u),p=G.cr(Math.floor(f*n),0,l);const T=(t+2)%s;for(g=e[T],y=e[1+T],w=-1;;){if(1e6<h.length)throw new Error("Too many mesh poly points");const b=d*o,x=p*a,v=(d+1)*o,C=(p+1)*a;if(m=G.cn(c,f,b,x,v,x,v,C),0!==w&&0<=(M=G.ln(c,f,g,y,b,x,v,C,-.001))&&M<=i)S(),m=!m,w=0;else if(0<p&&2!==w&&0<=(M=G.ln(c,f,g,y,b,x,v,x,.001))&&M<=i)S(),p--,m=!1,w=4;else if(d<u&&3!==w&&0<=(M=G.ln(c,f,g,y,v,x,v,C,.001))&&M<=i)S(),d++,m=!1,w=1;else if(0<d&&1!==w&&0<=(M=G.ln(c,f,g,y,b,x,b,C,.001))&&M<=i)S(),d--,m=!0,w=3;else{if(!(p<l&&4!==w&&0<=(M=G.ln(c,f,g,y,b,C,v,C,.001))&&M<=i))break;S(),p++,m=!0,w=2}}}return G.er(G.Gl,h)}iS(t,s){const i=this.eS(t);this.hS(i),s.Ll(i)}eS(t){const i=[],e=t.Nl();for(let t=0,s=e.length;t<s;t+=2){const h=e[t],r=e[t+1],[n,o]=this.rS(h,r);i.push(n,o)}return i}rS(t,s){const i=this.j4()-1,e=this.z4()-1,h=1/i,r=1/e,n=G.cr(Math.floor(t*i),0,i-1),o=G.cr(Math.floor(s*e),0,e-1),a=n*h,u=o*r,l=(n+1)*h,c=(o+1)*r,f=this.Z4(n,o),d=this.Z4(n+1,o+1),p=G.cn(t,s,a,u,l,u,l,c),m=p?a+h:a,g=p?u:u+r,y=this.Z4(n+(p?1:0),o+(p?0:1)),[M,w,S]=G.dn(t,s,a,u,m,g,l,c);return G.pn(M,w,S,f.a4(),f.c4(),f.d4(),y.a4(),y.c4(),y.d4(),d.a4(),d.c4(),d.d4())}hS(i){let e=[],h=i[0],r=i[1],n=h-i.at(-2),o=r-i.at(-1);for(let t=0,s=i.length;t<s;t+=2){const a=(t+2)%s,u=i[a],l=i[1+a],c=u-h,f=l-r,d=Math.abs(c)<1e-7&&Math.abs(n)<1e-7&&Math.sign(f)===Math.sign(o),p=Math.abs(f)<1e-7&&Math.abs(o)<1e-7&&Math.sign(c)===Math.sign(n);(!d&&!p&&.001<Math.abs(c/n-f/o)||0==c&&0==f)&&e.push(h,r),h=u,r=l,n=c,o=f}6<=e.length&&e.length<i.length&&G.Fn(i,e)}b4(){return{cols:this.j4(),rows:this.z4(),points:this.N4.map(t=>t.map(t=>t.b4()))}}x4(t){const i=this.j4(),e=this.z4();if(t.cols!==i||t.rows!==e)throw new Error("mesh data wrong size");const h=t.points;for(let s=0;s<e;++s){const r=h[s];for(let t=0;t<i;++t){const n=this.Z4(t,s);n.x4(r[t])}}}}}{let d=function(t,s){let i,e,h,r;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,h=s.RGBA,r=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,h=s.RGB,r=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,h=s.RGBA,r=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,h=s.RGBA,r=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,h=s.RGB,r=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{nS:i,oS:e,format:h,type:r}};d;const ui=self.js,li=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),ci=new Set(["nearest","bilinear","trilinear"]),fi=new Set(["default","low","high"]),di=new Set(["clamp-to-edge","repeat","mirror-repeat"]),pi={aS:"clamp-to-edge",uS:"clamp-to-edge",lS:"trilinear",cS:0,fS:"rgba8",dS:!0,pS:"default",premultiplyAlpha:!0,mS:!1,width:-1,height:-1},mi={premultiplyAlpha:!0,flipY:!1},gi=new Set;ui.Hg.gS=class{constructor(t){this.Mw=t,this.yS=null,this.Bm=0,this.Um=0,this.MS=!0,this.wS="clamp-to-edge",this.SS="clamp-to-edge",this.TS="trilinear",this.bS=0,this.xS="rgba8",this.vS=!1,this.CS="default",this.ud=0}GS(s,t){if(!("undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&s instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&s instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas||s instanceof ImageData||s instanceof ArrayBuffer||null===s))throw new Error("invalid texture source");if(t=Object.assign({},pi,t),this.yS)throw new Error("already created texture");if(this.wS=t.aS,this.SS=t.uS,this.TS=t.lS,this.bS=t.cS,this.xS=t.fS,this.vS=!!t.dS&&this.Mw.ow(),this.CS=t.pS,!di.has(this.wS)||!di.has(this.SS))throw new Error("invalid wrap mode");if(!ci.has(this.TS))throw new Error("invalid sampling");if(!li.has(this.xS))throw new Error("invalid pixel format");if(!fi.has(this.CS))throw new Error("invalid mipmap quality");if(this.MS=!0,s instanceof ArrayBuffer||null===s||t.mS){if(this.Bm=t.width,this.Um=t.height,s instanceof ArrayBuffer&&s.byteLength!==this.Bm*this.Um*4)throw new Error("ArrayBuffer wrong size")}else this.Bm=s.width,this.Um=s.height;if(this.Bm<=0||this.Um<=0)throw new Error("invalid texture data size");if(t.mS){const o=ui.Go(this.Bm,this.Um),a=o.getContext("2d");a.drawImage(s,0,0,this.Bm,this.Um),s=o}const i=ui.Lr(this.Bm)&&ui.Lr(this.Um),e=this.Mw.IS();if(this.Bm>e||this.Um>e)throw new Error("texture data exceeds maximum texture size");const h=this.Mw.ES(),r=this.Mw._S(),n=(this.yS=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.yS),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1),d(this.xS,h));if(this.Mw.DS()||i||!this.NS())if(2<=r){let t;t=this.vS?Math.floor(Math.log2(Math.max(this.Bm,this.Um))+1):1,h.texStorage2D(h.TEXTURE_2D,t,n.nS,this.Bm,this.Um),s instanceof ArrayBuffer?h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.Bm,this.Um,n.format,n.type,new Uint8Array(s)):null!==s&&h.texSubImage2D(h.TEXTURE_2D,0,0,0,n.format,n.type,s)}else s instanceof ArrayBuffer?h.texImage2D(h.TEXTURE_2D,0,n.oS,this.Bm,this.Um,0,n.format,n.type,new Uint8Array(s)):null===s?h.texImage2D(h.TEXTURE_2D,0,n.oS,this.Bm,this.Um,0,n.format,n.type,null):h.texImage2D(h.TEXTURE_2D,0,n.oS,n.format,n.type,s);else{if(null===s)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if((s=s instanceof ArrayBuffer?new ImageData(new Uint8ClampedArray(s),this.Bm,this.Um):s)instanceof ImageData){const c=ui.Go(this.Bm,this.Um),f=c.getContext("2d");f.putImageData(s,0,0),s=c}const u=ui.Go(ui.Or(this.Bm),ui.Or(this.Um)),l=u.getContext("2d");l.imageSmoothingEnabled="nearest"!==this.TS,l.drawImage(s,0,0,this.Bm,this.Um,0,0,u.width,u.height),h.texImage2D(h.TEXTURE_2D,0,n.oS,n.format,n.type,u)}null!==s&&this.AS(h),h.bindTexture(h.TEXTURE_2D,null),this.Mw.LS(),this.ud=1,gi.add(this)}OS(t,s,i){if(i=Object.assign({},pi,i),this.yS)throw new Error("already created texture");if(this.wS=i.aS,this.SS=i.uS,this.TS=i.lS,this.xS=i.fS,this.vS=!!i.dS&&this.Mw.ow(),this.CS=i.pS,!di.has(this.wS)||!di.has(this.SS))throw new Error("invalid wrap mode");if(!ci.has(this.TS))throw new Error("invalid sampling");if(!li.has(this.xS))throw new Error("invalid pixel format");if(!fi.has(this.CS))throw new Error("invalid mipmap quality");this.MS=!1,this.Bm=Math.floor(t),this.Um=Math.floor(s);const e=ui.Lr(this.Bm)&&ui.Lr(this.Um),h=this.Mw.IS();if(this.Bm<=0||this.Um<=0)throw new Error("invalid texture size");if(this.Bm>h||this.Um>h)throw new Error("texture exceeds maximum texture size");if(!this.Mw.DS()&&this.NS()&&!e)throw new Error("non-power-of-two tiled textures not supported");const r=this.Mw.ES(),n=this.Mw._S(),o=(this.yS=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.yS),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),d(this.xS,r)),a=2<=n?o.nS:o.oS;r.texImage2D(r.TEXTURE_2D,0,a,this.Bm,this.Um,0,o.format,o.type,null),this.AS(r),r.bindTexture(r.TEXTURE_2D,null),this.Mw.LS(),this.ud=1,gi.add(this)}RS(t){if("default"===this.CS)return this.MS?t.NICEST:t.FASTEST;if("low"===this.CS)return t.FASTEST;if("high"===this.CS)return t.NICEST;throw new Error("invalid mipmap quality")}NS(){return"clamp-to-edge"!==this.wS||"clamp-to-edge"!==this.SS}PS(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}AS(t){const s=ui.Lr(this.Bm)&&ui.Lr(this.Um);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.PS(t,this.wS)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.PS(t,this.SS)),"nearest"===this.TS)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.vS=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.Mw.DS())&&this.vS){t.hint(t.GENERATE_MIPMAP_HINT,this.RS(t)),t.generateMipmap(t.TEXTURE_2D);const e="trilinear"===this.TS&&!this.Mw.uw();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.vS=!1;const i=this.Mw.kS();i&&0<this.bS&&"nearest"!==this.TS&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.bS,this.Mw.FS()))}jS(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.yS||this.ud<=0)throw new Error("texture not created");if(this.MS)throw new Error("cannot update static texture");s=Object.assign({},mi,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,h=this.Mw._S(),r=this.Mw.ES(),n=(r.bindTexture(r.TEXTURE_2D,this.yS),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!s.flipY),d(this.xS,r)),o=2<=h?n.nS:n.oS;try{if(this.Bm===i&&this.Um===e){const a=ui.Lr(this.Bm)&&ui.Lr(this.Um);r.texSubImage2D(r.TEXTURE_2D,0,0,0,n.format,n.type,t),(a||this.Mw.DS())&&this.vS&&(r.hint(r.GENERATE_MIPMAP_HINT,this.RS(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Bm=i,this.Um=e;const u=ui.Lr(this.Bm)&&ui.Lr(this.Um);if(!this.Mw.DS()&&this.NS()&&!u)throw new Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,o,n.format,n.type,t),(u||this.Mw.DS())&&this.vS&&(r.hint(r.GENERATE_MIPMAP_HINT,this.RS(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}r.bindTexture(r.TEXTURE_2D,null),this.Mw.LS()}zS(){if(0<this.ud)throw new Error("texture still has references");if(!this.yS)throw new Error("already deleted texture");gi.delete(this);const t=this.Mw.ES();t.deleteTexture(this.yS),this.yS=null}BS(){return!!this.yS}US(){return this.yS}Nw(){return this.Mw}WS(){this.ud++}QS(){if(this.ud<=0)throw new Error("no more references");this.ud--}JS(){return this.ud}$p(){return this.Bm}dm(){return this.Um}VS(){return this.MS}YS(){let t=this.Bm*this.Um;switch(this.xS){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.vS&&(t+=Math.floor(t/3)),t}static $w(){gi.clear()}static HS(){return gi.values()}}}{const yi=self.js,Mi=self.ys,vh=Mi.Cs,xh=Mi.Ts,wi=new Set(["nearest","bilinear","trilinear"]),Si={lS:"trilinear",alpha:!0,depth:!1,qS:!0,ZS:!0,XS:0},Ti=new Set;yi.Hg.KS=class{constructor(t){this.Mw=t,this.$S=null,this.t5=null,this.yS=null,this.s5=null,this.Bm=0,this.Um=0,this.i5=!0,this.TS="trilinear",this.e5=!0,this.h5=!1,this.r5=!0,this.n5=0,this.o5=xh.create(),this.a5=0,this.u5=0,this.l5=0}c5(t,s,i){i=Object.assign({},Si,i);const e=this.Mw._S();if(this.yS||this.s5)throw new Error("already created render target");if(this.TS=i.lS,this.e5=!!i.alpha,this.h5=!!i.depth,this.r5=!!i.qS,this.i5=!!i.ZS,this.n5=i.XS,!wi.has(this.TS))throw new Error("invalid sampling");if(0<this.n5&&(e<2||this.r5))throw new Error("invalid use of multisampling");if(e<2&&(this.r5=!0),this.Bm=t,this.Um=s,this.Bm<=0||this.Um<=0)throw new Error("invalid render target size");this.f5();const h=this.Mw.ES();if(this.$S=h.createFramebuffer(),this.h5&&(this.t5=h.createFramebuffer()),this.r5){this.yS=this.Mw.d5(this.Bm,this.Um,{lS:this.TS,fS:this.e5?"rgba8":"rgb8",dS:!1});const n=this.yS.US();h.bindFramebuffer(h.FRAMEBUFFER,this.$S),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,n,0),this.h5&&(h.bindFramebuffer(h.FRAMEBUFFER,this.t5),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,n,0))}else{this.s5=h.createRenderbuffer(),h.bindRenderbuffer(h.RENDERBUFFER,this.s5);const o=this.e5?h.RGBA8:h.RGB8;if(0<this.n5){const a=h.getInternalformatParameter(h.RENDERBUFFER,o,h.SAMPLES);if(a&&a[0]){const u=a[0];this.n5>u&&(this.n5=u)}else this.n5=0}0===this.n5?h.renderbufferStorage(h.RENDERBUFFER,o,this.Bm,this.Um):h.renderbufferStorageMultisample(h.RENDERBUFFER,this.n5,o,this.Bm,this.Um),h.bindFramebuffer(h.FRAMEBUFFER,this.$S),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.s5),this.h5&&(h.bindFramebuffer(h.FRAMEBUFFER,this.t5),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.s5)),h.bindRenderbuffer(h.RENDERBUFFER,null)}const r=this.Mw.p5();this.h5&&r&&(h.bindFramebuffer(h.FRAMEBUFFER,this.$S),this.Mw.m5()?h.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.TEXTURE_2D,r,0):h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,r)),h.bindFramebuffer(h.FRAMEBUFFER,null),Ti.add(this)}g5(t,s){if(this.Bm!==t||this.Um!==s){this.Bm=t,this.Um=s,this.f5();const i=this.Mw.ES(),e=(i.bindFramebuffer(i.FRAMEBUFFER,this.$S),this.yS?this.yS.jS(new ImageData(this.Bm,this.Um)):(i.bindRenderbuffer(i.RENDERBUFFER,this.s5),i.renderbufferStorage(i.RENDERBUFFER,this.e5?i.RGBA8:i.RGB8,this.Bm,this.Um),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.Mw.p5());this.h5&&e&&(this.Mw.m5()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}}zS(){if(!this.yS&&!this.s5)throw new Error("already deleted render target");Ti.delete(this);const t=this.Mw.ES(),s=(this.yS?(t.bindFramebuffer(t.FRAMEBUFFER,this.$S),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.h5&&(t.bindFramebuffer(t.FRAMEBUFFER,this.t5),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.Mw.y5(this.yS),this.yS=null):this.s5&&(t.bindFramebuffer(t.FRAMEBUFFER,this.$S),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.h5&&(t.bindFramebuffer(t.FRAMEBUFFER,this.t5),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.s5),this.s5=null),t.bindFramebuffer(t.FRAMEBUFFER,null),2<=this.Mw._S()&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.$S),this.h5&&t.deleteFramebuffer(this.t5),this.Mw.M5());s.w5=null,this.$S=s.S5=null}f5(){this.Mw.vy(this.o5,this.Bm/this.Um),this.a5=this.Mw.Sy(),this.u5=this.Mw.gy(),this.l5=this.Mw.My()}T5(){return this.$S}b5(){return this.t5}Nw(){return this.Mw}x5(){return this.yS}v5(){return this.Mw.Sy()===this.a5&&this.Mw.gy()===this.u5&&this.Mw.My()===this.l5||this.f5(),this.o5}C5(){return"nearest"!==this.TS}G5(){return this.e5}I5(){return this.r5}E5(){return this.h5}$p(){return this.Bm}dm(){return this.Um}_5(){return this.i5}D5(){return this.n5}N5(){const t={lS:this.TS,alpha:this.e5,qS:this.r5};return this.i5||(t.width=this.Bm,t.height=this.Um),t}A5(t){return"nearest"!==(t=Object.assign({},Si,t)).lS===this.C5()&&!!t.alpha===this.G5()&&!!t.depth===this.E5()&&!(2<=this.Mw._S()&&!!t.qS!==this.I5())&&("number"==typeof t.width||"number"==typeof t.height?!this._5()&&this.$p()===Math.floor(t.width)&&this.dm()===Math.floor(t.height):this._5())}L5(){return this.yS?this.yS.US():null}YS(){return this.yS?this.yS.YS():this.Bm*this.Um*(this.e5?4:3)}static async O5(t,s){const i=await t.R5(s,!0);return yi._o(i)}static $w(){Ti.clear()}static P5(){return Ti.values()}static k5(t,s){for(const i of Ti)i._5()&&i.g5(t,s)}}}{const m=self.js,bi=self.ys,vh=bi.Cs,xh=bi.Ts,xi=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);m.Hg.F5=class extends m.Hg.yw{static async j5(t,s){const i=t.ES(),e=s.src,h=s.z5,r=s.name,n=i.createShader(i.FRAGMENT_SHADER),o=(i.shaderSource(n,e),i.compileShader(n),i.createShader(i.VERTEX_SHADER)),a=(i.shaderSource(o,h),i.compileShader(o),i.createProgram()),u=(i.attachShader(a,n),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a),t.B5());if(u?await t.U5(()=>i.getProgramParameter(a,u.COMPLETION_STATUS_KHR)):await m.En(5),!i.getShaderParameter(n,i.COMPILE_STATUS)){const c=i.getShaderInfoLog(n);throw i.deleteShader(n),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+c)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const f=i.getShaderInfoLog(o);throw i.deleteShader(n),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+f)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const d=i.getProgramInfoLog(a);throw i.deleteShader(n),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+d)}const l=m.jd(i.getProgramInfoLog(a)||"").trim();return l&&!m.Pd(l)&&console.info(`[WebGL] Shader program '${r}' compilation log: `,l),i.deleteShader(n),i.deleteShader(o),a}static async W5(t,s){const i=await m.Hg.F5.j5(t,s);return new m.Hg.F5(t,i,s)}constructor(t,s,i){super(t,i);const e=t.ES(),h=t.M5(),r=(t.iw(),e.useProgram(s),this.Q5=e,this.Jw=s,this.J5="<default-device-transform>"===i.name,e.getAttribLocation(s,"aPos")),n=e.getAttribLocation(s,"aTex"),o=(this.V5=e.getAttribLocation(s,"aPoints"),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.Y5),e.vertexAttribPointer(r,t.KM(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==n&&(e.bindBuffer(e.ARRAY_BUFFER,t.H5),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n)),-1!==this.V5&&(e.bindBuffer(e.ARRAY_BUFFER,t.q5),e.vertexAttribPointer(this.V5,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.V5)),e.bindBuffer(e.ARRAY_BUFFER,null),this.Z5=new m.Hg.X5(this,"matP","mat4"),this.K5=new m.Hg.X5(this,"matMV","mat4"),this.t3=new m.Hg.X5(this,"color","vec4"),this.s3=new m.Hg.X5(this,"samplerFront","sampler"),this.i3=new m.Hg.X5(this,"pointTexStart","vec2"),this.e3=new m.Hg.X5(this,"pointTexEnd","vec2"),this.h3=new m.Hg.X5(this,"zElevation","float"),this.r3=new m.Hg.X5(this,"tileSize","vec2"),this.n3=new m.Hg.X5(this,"tileSpacing","vec2"),this.o3=new m.Hg.X5(this,"color2_","vec4"),this.a3=new m.Hg.X5(this,"outlineThickness","float"),this.u3=new m.Hg.X5(this,"samplerBack","sampler"),this.l3=new m.Hg.X5(this,"samplerDepth","sampler"),this.f3=new m.Hg.X5(this,"destStart","vec2"),this.d3=new m.Hg.X5(this,"destEnd","vec2"),this.m3=new m.Hg.X5(this,"srcStart","vec2"),this.g3=new m.Hg.X5(this,"srcEnd","vec2"),this.y3=new m.Hg.X5(this,"srcOriginStart","vec2"),this.M3=new m.Hg.X5(this,"srcOriginEnd","vec2"),this.w3=new m.Hg.X5(this,"pixelSize","vec2"),this.S3=new m.Hg.X5(this,"seconds","float"),this.T3=new m.Hg.X5(this,"devicePixelRatio","float"),this.b3=new m.Hg.X5(this,"layerScale","float"),this.x3=new m.Hg.X5(this,"layerAngle","float"),this.v3=new m.Hg.X5(this,"layoutStart","vec2"),this.C3=new m.Hg.X5(this,"layoutEnd","vec2"),this.G3=new m.Hg.X5(this,"zNear","float"),this.I3=new m.Hg.X5(this,"zFar","float"),this.E3=!!(this.w3._3()||this.S3._3()||this.u3._3()||this.f3._3()||this.d3._3()||this.m3._3()||this.g3._3()||this.y3._3()||this.M3._3()||this.T3._3()||this.b3._3()||this.x3._3()||this.v3._3()||this.C3._3()),i.parameters||[]);this.D3=[],this._w=this.w3._3()||this.m3._3()||this.g3._3()||this.y3._3()||this.M3._3(),this.N3=!1,this.A3=!1,this.t3.L3(1,1,1,1),this.o3.L3(1,1,1,1),this.s3.O3(0),this.u3.O3(1),this.l3.O3(2),this.i3.R3(0,0),this.e3.R3(1,1),this.h3.P3(0),this.r3.R3(0,0),this.n3.R3(0,0),this.f3.R3(0,0),this.d3.R3(1,1),this.m3.R3(0,0),this.g3.R3(0,0),this.y3.R3(0,0),this.M3.R3(0,0),this.w3.R3(0,0),this.T3.P3(1),this.G3.P3(t.gy()),this.I3.P3(t.My()),this.b3.P3(1),this.x3.P3(0),this.S3.P3(0),this.v3.R3(0,0),this.C3.R3(0,0),this.a3.P3(1);for(const u of o){const l=u[0],c=u[2],f=new m.Hg.X5(this,l,c);"color"===c?f.F3(0,0,0):f.P3(0),this.D3.push(f)}this.J5?this.j3(h.z3):(this.B3(h.z3,!0),this.U3(h.W3,!0));const a=h.Q3;e.useProgram(a?a.Jw:null)}hr(){this.Q5.deleteProgram(this.Jw),this.Jw=null,this.Mw.Dy(this),this.Q5=null,super.hr()}J3(){return this.Q5}V3(){return this.Jw}Y3(){return this.D3.length}H3(t){return t<0||t>=this.D3.length?null:this.D3[t].q3()}Z3(i){for(let t=0,s=i.length;t<s;++t)if(!this.D3[t].X3(i[t]))return!1;return!0}K3(i){for(let t=0,s=i.length;t<s;++t)this.D3[t].tT(i[t])}sT(t,s,i,e,h,r,n,o,a,u){return!this.u3._3()&&!(this.w3._3()&&!this.w3.iT(h,r)||this.f3._3()&&!this.f3.iT(t.gu(),t.yu())||this.d3._3()&&!this.d3.iT(t.Mu(),t.wu())||this.T3._3()&&!this.T3.eT(n)||this.b3._3()&&!this.b3.eT(o)||this.x3._3()&&!this.x3.eT(a)||this.m3._3()&&!this.m3.iT(s.gu(),s.yu())||this.g3._3()&&!this.g3.iT(s.Mu(),s.wu())||this.y3._3()&&!this.y3.iT(i.gu(),i.yu())||this.M3._3()&&!this.M3.iT(i.Mu(),i.wu())||this.v3._3()&&!this.v3.iT(e.gu(),e.yu())||this.C3._3()&&!this.C3.iT(e.yu(),e.wu())||this.S3._3()&&!this.S3.eT(u))}hT(t,s,i,e,h,r,n,o,a,u){this.u3._3()||(this.w3._3()&&this.w3.rT(h,r),this.f3._3()&&this.f3.rT(t.gu(),t.yu()),this.d3._3()&&this.d3.rT(t.Mu(),t.wu()),this.T3._3()&&this.T3.nT(n),this.b3._3()&&this.b3.nT(o),this.x3._3()&&this.x3.nT(a),this.m3._3()&&this.m3.rT(s.gu(),s.yu()),this.g3._3()&&this.g3.rT(s.Mu(),s.wu()),this.y3._3()&&this.y3.rT(i.gu(),i.yu()),this.M3._3()&&this.M3.rT(i.Mu(),i.wu()),this.v3._3()&&this.v3.rT(e.gu(),e.yu()),this.C3._3()&&this.C3.rT(e.yu(),e.wu()),this.S3._3()&&this.S3.nT(u))}B3(t,s){this.N3&&!s||this.J5||(this.Z5._3()&&this.Z5.oT(t),this.N3=!0)}aT(){this.N3=!1}U3(t,s){this.A3&&!s||this.J5||(this.K5._3()&&this.K5.oT(t),this.A3=!0)}uT(){this.A3=!1}j3(t){if(!this.J5)throw new Error("not device transform shader");this.Z5.oT(t);const s=this.Mw,i=s.$p()/2,e=s.dm()/2,h=s.Ey(i,e,s.ny(s.dm()),i,e,0,s.dm());this.K5.oT(h)}lT(t){this.t3._3()&&this.t3.cT(t[0],t[1],t[2],t[3])}static fT(){return xi}static dT(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static pT(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static mT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static gT(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static yT(){return["#version 300 es","in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static MT(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static wT(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static ST(){return["#version 300 es","in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static TT(t,s,i){let e="";return 2<=t?e="#version 300 es\n":(s&&(e="#extension GL_EXT_frag_depth : enable\n"),i&&(e+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n")),e+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=t?"in":"varying"} vec2 vTex;
${2<=t?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=t?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${t<2&&!i?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${t<2?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=t||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=t||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${t<2?"gl_FragColor = outColor;":""}
	${2<=t?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}static bT(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static xT(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static vT(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static CT(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GT(){return["#version 300 es","uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static IT(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static ET(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static _T(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {",`	highmedp float grad = vTex.x / (1.0 - vTex.y);`,`	gl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);`,"}"].join("\n")}static DT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static NT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static AT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static LT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static OT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const vi=self.js,Ci=self.ys,xh=Ci.Ts,Gi=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);vi.Hg.X5=class{constructor(t,s,i){if(!Gi.has(i))throw new Error("invalid uniform type");this.D4=t,this.Q5=this.D4.J3(),this.ur=s,this.lf=i,this.RT="color"===this.lf,this.PT=this.Q5.getUniformLocation(this.D4.V3(),s),this.kT=!!this.PT;const e=Gi.get(i);this.FT=new Float32Array(e),this.jT=new Float32Array(e)}hr(){this.D4=null,this.Q5=null,this.PT=null}_3(){return this.kT}q3(){return this.lf}zT(){return this.RT}P3(t){this._3()&&(this.FT[0]=t,this.jT.set(this.FT),this.Q5.uniform1f(this.PT,t))}O3(t){this._3()&&(this.FT[0]=t,this.jT.set(this.FT),this.Q5.uniform1i(this.PT,t))}R3(t,s){this._3()&&(this.FT[0]=t,this.FT[1]=s,this.jT.set(this.FT),this.Q5.uniform2f(this.PT,t,s))}F3(t,s,i){this._3()&&(this.FT[0]=t,this.FT[1]=s,this.FT[2]=i,this.jT.set(this.FT),this.Q5.uniform3f(this.PT,t,s,i))}L3(t,s,i,e){this._3()&&(this.FT[0]=t,this.FT[1]=s,this.FT[2]=i,this.FT[3]=e,this.jT.set(this.FT),this.Q5.uniform4f(this.PT,t,s,i,e))}BT(t){t=Math.fround(t);const s=this.FT;s[0]!==t&&(s[0]=t,this.Q5.uniform1f(this.PT,t))}UT(t){const s=this.FT;s[0]!==t&&this.Q5.uniform1i(this.PT,s[0]=t)}WT(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.FT;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.Q5.uniform2f(this.PT,t,s))}QT(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.FT;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.Q5.uniform3f(this.PT,t,s,i))}cT(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const h=this.FT;h[0]===t&&h[1]===s&&h[2]===i&&h[3]===e||(h[0]=t,h[1]=s,h[2]=i,h[3]=e,this.Q5.uniform4f(this.PT,t,s,i,e))}oT(t){const s=this.FT;xh.j(s,t)||(vi.An(s,t,0),this.Q5.uniformMatrix4fv(this.PT,!1,t))}X3(t){const s=this.jT;return this.zT()?s[0]===Math.fround(t.Ko())&&s[1]===Math.fround(t.$o())&&s[2]===Math.fround(t.ta()):s[0]===Math.fround(t)}tT(t){const s=this.jT;this.zT()?(s[0]=t.Ko(),s[1]=t.$o(),s[2]=t.ta()):s[0]=t}eT(t){return this.jT[0]===Math.fround(t)}iT(t,s){const i=this.jT;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}nT(t){this.jT[0]=t}rT(t,s){const i=this.jT;i[0]=t,i[1]=s}}}{const Ii=self.js,Ei=self.ys,Uh=Ei.Gs,xh=Ei.Ts;Ii.Hg.JT=class{constructor(t){this.renderer=t,this.W3=xh.create(),this.z3=xh.create(),this.w5=null,this.S5=null,this.VT=!1,this.YT=Uh.G(1,1,1,1),this.Q3=null,this.HT=new Ii.Rect,this.clearColor=Ii.er(Ii.Fo,0,0,0,0)}},Ii.Hg.qT=class{constructor(t){const s=new ArrayBuffer(96);this.lf=0,this.ZT=t,this.Q5=t.renderer.ES(),this.XT=0,this.KT=0,this.$T=null,this.tb=new Float32Array(s,0,16),this.sb=new Float32Array(s,64,4),this.ib=new Float32Array(s,80,4),this.eb=[]}hb(t,s){this.lf=1,this.XT=t,this.KT=s}rb(){const t=this.Q5;t.drawElements(t.TRIANGLES,this.KT,t.UNSIGNED_SHORT,this.XT)}nb(t){this.lf=2,this.$T=t}ob(){const t=this.Q5,s=this.$T;t.bindTexture(t.TEXTURE_2D,s?s.US():null)}ab(t){this.lf=3,t.ra(this.sb,0)}ub(){const t=this.sb,s=this.ZT;Uh.C(s.YT,t),s.Q3.lT(t)}lb(t){this.lf=21,t.ra(this.sb,0)}cb(){const t=this.sb,s=this.ZT.Q3;s.o3._3()&&s.o3.cT(t[0],t[1],t[2],t[3])}fb(t,s){this.lf=4,this.XT=t,this.KT=s}pb(){this.Q5.blendFunc(this.XT,this.KT)}mb(t,s,i,e){this.lf=5;const h=this.sb;h[0]=t,h[1]=s,h[2]=i,h[3]=e}gb(){const t=this.sb;this.Q5.viewport(t[0],t[1],t[2],t[3])}yb(t){this.lf=6,xh.C(this.tb,t)}Mb(){const t=this.ZT,i=t.renderer.T2,e=t.Q3,h=this.tb;for(let t=0,s=i.length;t<s;++t){const r=i[t];r===e?r.B3(h,!0):r.aT()}xh.C(t.z3,h)}wb(t){this.lf=7,xh.C(this.tb,t)}Sb(){const t=this.ZT,i=t.renderer.T2,e=t.Q3,h=this.tb;for(let t=0,s=i.length;t<s;++t){const r=i[t];r===e?r.U3(h,!0):r.uT()}xh.C(t.W3,h)}Tb(t){this.lf=8,this.$T=t}bb(){const t=this.Q5,s=this.$T,i=this.ZT;s?(i.w5=s.T5(),i.S5=s.b5(),i.VT&&i.S5?t.bindFramebuffer(t.FRAMEBUFFER,i.S5):t.bindFramebuffer(t.FRAMEBUFFER,i.w5)):(i.w5=null,i.S5=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}xb(t){this.lf=9,t.ra(this.tb,0)}vb(t,s,i,e){this.lf=9;const h=this.tb;h[0]=t,h[1]=s,h[2]=i,h[3]=e}Cb(){const t=this.Q5,s=this.tb,i=this.ZT,e=i.clearColor,h=s[0],r=s[1],n=s[2],o=s[3];e.ua(h,r,n,o)||(t.clearColor(h,r,n,o),e.Wo(h,r,n,o)),t.clear(t.COLOR_BUFFER_BIT)}Gb(t){this.lf=15,t.ra(this.tb,0)}Ib(){const t=this.tb;this.ZT.HT.set(t[0],t[1],t[2],t[3])}Eb(t,s){this.lf=10,this.XT=t,this.KT=1,this.tb[0]=s}_b(){const t=this.Q5,s=this.ZT,i=s.renderer,e=i.C2,h=(t.useProgram(e.Jw),e.B3(s.z3,!1),e.U3(s.W3,!1),s.HT),r=(e.i3._3()&&e.i3.WT(h.gu(),h.yu()),e.e3._3()&&e.e3.WT(h.Mu(),h.wu()),this.tb[0]);if(e.h3._3()&&e.h3.BT(r),e.t3._3()){const n=s.YT;e.t3.cT(n[0],n[1],n[2],n[3])}t.drawArrays(t.POINTS,this.XT/4,this.KT),t.useProgram(s.Q3.Jw)}Db(t){this.lf=11,this.$T=t}Nb(){const t=this.Q5,s=this.ZT,i=this.$T;if(s.Q3=i,t.useProgram(i.Jw),i.B3(s.z3,!1),i.U3(s.W3,!1),i.t3._3()){const e=s.YT;i.t3.cT(e[0],e[1],e[2],e[3])}}Ab(){this.lf=12}Lb(){const t=this.ZT.Q3,s=this.Q5,i=this.tb,e=this.sb,h=this.ib;if(t.u3._3()){const r=this.ZT.renderer,n=this.$T;r.Ob!==n&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,n?n.US():null),r.Ob=n,s.activeTexture(s.TEXTURE0))}t.w3._3()&&t.w3.WT(i[0],i[1]),t.f3._3()&&t.f3.WT(i[2],i[3]),t.d3._3()&&t.d3.WT(i[4],i[5]),t.T3._3()&&t.T3.BT(this.KT),t.b3._3()&&t.b3.BT(i[6]),t.x3._3()&&t.x3.BT(i[7]),t.m3._3()&&t.m3.WT(i[12],i[13]),t.g3._3()&&t.g3.WT(i[14],i[15]),t.y3._3()&&t.y3.WT(h[0],h[1]),t.M3._3()&&t.M3.WT(h[2],h[3]),t.v3._3()&&t.v3.WT(e[0],e[1]),t.C3._3()&&t.C3.WT(e[2],e[3]),t.S3._3()&&t.S3.BT(this.XT)}Rb(){this.lf=13}Pb(){const t=this.ZT.Q3,i=t.D3,e=this.eb;for(let t=0,s=i.length;t<s;++t){const h=i[t],r=e[t];h.zT()?h.QT(r.Ko(),r.$o(),r.ta()):h.BT(r)}}kb(t){this.lf=14,this.$T=t}Fb(){const t=this.Q5,s=this.$T,i=this.ZT.w5;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}jb(t,s,i){this.lf=17;const e=this.tb,h=this.ZT.renderer,r=(e[0]=t.$p(),e[1]=t.dm(),e[2]=(s||h).$p(),e[3]=(s||h).dm(),e[4]=t.C5()?1:0,e[5]="stretch"===i,this.eb);Ii.On(r),r.push(t.T5()),r.push(s?s.T5():null)}zb(){const t=this.tb,s=this.eb,i=this.Q5,e=t[0],h=t[1],r=t[2],n=t[3],o=0!==t[4],a=0!==t[5],u=s[0],l=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,u),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,l),a)i.blitFramebuffer(0,0,e,h,0,0,r,n,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const c=Math.min(e,r),f=Math.min(h,n),d=Math.max(h-n,0),p=Math.max(n-h,0);i.blitFramebuffer(0,d,c,f+d,0,p,c,f+p,i.COLOR_BUFFER_BIT,i.NEAREST)}}Bb(t){this.lf=18,this.$T=t}Ub(){this.$T.Wb(),this.$T=null}Qb(t){this.lf=19,this.$T=t}Jb(){this.$T.Vb(),this.$T=null}Yb(t,s,i){this.lf=20;const e=this.tb;e[0]=t,e[1]=s,e[2]=i}Hb(){const t=this.ZT.Q3,s=this.tb;t.w3._3()&&t.w3.WT(s[0],s[1]),t.a3._3()&&t.a3.BT(s[2])}qb(t,s,i,e,h,r,n){this.lf=16;const o=this.tb;t.ra(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=h/i,o[8]=r/s,o[9]=n/i}Zb(){const t=this.ZT.Q3,s=this.tb;t.m3._3()&&t.m3.WT(s[0],s[1]),t.w3._3()&&t.w3.WT(s[4],s[5]),t.r3._3()&&t.r3.WT(s[6],s[7]),t.n3._3()&&t.n3.WT(s[8],s[9])}Xb(t,s,i,e,h,r,n){this.lf=29;const o=this.tb;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=h,o[5]=r,o[6]=n}Kb(){const t=this.ZT.Q3,s=this.tb;t.w3._3()&&t.w3.WT(s[0],s[1]),t.r3._3()&&t.r3.WT(s[2],s[3]),t.a3._3()&&t.a3.BT(s[4]),t.n3._3()&&t.n3.WT(s[5],s[6])}$b(t){this.lf=22,this.XT=t?1:0}tx(){const t=this.Q5,s=0!==this.XT;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}ix(t){this.lf=23,this.XT=t?1:0}hx(){const t=this.Q5;0===this.XT?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}nx(t){this.lf=24,this.XT=t?1:0}ox(){const t=this.Q5,s=this.ZT,i=s.renderer,e=0!==this.XT;s.VT=e,t.activeTexture(t.TEXTURE2),e?(s.S5&&t.bindFramebuffer(t.FRAMEBUFFER,s.S5),t.bindTexture(t.TEXTURE_2D,i.p5())):(t.bindTexture(t.TEXTURE_2D,null),s.S5&&t.bindFramebuffer(t.FRAMEBUFFER,s.w5)),t.activeTexture(t.TEXTURE0)}ux(){this.lf=25}lx(){const t=this.Q5;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}mx(){this.lf=26}gx(){const t=this.Q5;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}yx(){this.lf=27}Mx(){const t=this.Q5;t.disable(t.STENCIL_TEST)}wx(t,s,i,e,h){this.lf=28,this.XT=t?1:0;const r=this.tb;r[0]=s,r[1]=i,r[2]=e,r[3]=h}Sx(){const t=this.Q5,s=this.tb;1===this.XT?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}Tx(){switch(this.lf){case 1:return void this.rb();case 2:return void this.ob();case 3:return void this.ub();case 4:return void this.pb();case 5:return void this.gb();case 6:return void this.Mb();case 7:return void this.Sb();case 8:return void this.bb();case 9:return void this.Cb();case 10:return void this._b();case 11:return void this.Nb();case 12:return void this.Lb();case 13:return void this.Pb();case 14:return void this.Fb();case 15:return void this.Ib();case 16:return void this.Zb();case 17:return void this.zb();case 18:return void this.Ub();case 19:return void this.Jb();case 20:return void this.Hb();case 21:return void this.cb();case 22:return void this.tx();case 23:return void this.hx();case 24:return void this.ox();case 25:return void this.lx();case 26:return void this.gx();case 27:return void this.Mx();case 28:return void this.Sx();case 29:return void this.Kb()}}}}{let I=function(t,s,i,e,h,r){s?t.strokeRect(i,e,h,r):t.fillRect(i,e,h,r)},t=function(t){return t*(4/3)},o=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};I,t,o;const _i=self.js,Di=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),Ni={timeout:60},Ai=new _i.Fo(0,0,0,1),Li=new Set(["left","center","right"]),Oi=new Set(["top","center","bottom"]),Ri=new Set(["word","cjk","character"]),Pi=new Set(["ltr","rtl"]),ki=new Set;_i.FontManager&&_i.FontManager.addEventListener("fontload",t=>{const s=t.font.Jc();for(const i of ki)(i.bx()||_i.mh(i.xx(),s))&&i.vx()});let s=!1,i=!1;_i.Hg.gw=class{constructor(t,s){s=Object.assign({},Ni,s),this.Mw=t,this.Cx="Arial",this.Gx=16,this.Ix=1,this.Ex=0,this._x=!1,this.Dx=!1,this.Nx="black",this.Ax=!1,this.Hp=null,this.Lx=!0,this.Ox=null,this.Rx=new Set,this.Px="left",this.kx="top",this.tf="",this.Fx=null,this.jx=_i.er(_i.Vp),this.zx="word",this.Bx="ltr",this.Ux=!1,this.Wx=!1,this.Qx=!1,this.Jx=-1,this.Vx=0,this.Yx=0,this.Hx=0,this.Bm=0,this.Um=0,this.qx=1,this.Zx=null,this.Xx=null,this.Kx=null,this.$x=null,this.tv=-1,this.sv=-1,this.hv="",this.rv="",this.nv="",this.ov=1,this.av=1,this.uv=t=>this.lv(t),this.yS=null,this.cv=new _i.Rect,this.dv=1,this.pv=new _i.Xf(()=>{this.mv(),this.gv(8,8)},s.timeout),this.yv=null,this.Mv=!1,ki.add(this)}hr(){this.Ox=null,this.Rx.clear(),this.Hp=null,this.Fx=null,this.Zx=null,this.Xx=null,this.Kx=null,this.$x=null,this.uv=null,this.pv.hr(),this.yv=null,this.mv(),this.jx.Yl(),this.jx=null,this.Mw=null,this.Mv=!0,ki.delete(this)}wv(){this.Qx=!0}Sv(){this.wv(),this.Wx=!0}vx(){this.Sv(),this.Ux=!0}Tv(t){if(this.Ax!==(t=!!t)){this.Ax=t;const s=this.Ax?"alphabetic":"top";this.Xx&&(this.Xx.textBaseline=s),this.Kx&&(this.Kx.textBaseline=s),this.vx()}}bx(){return this.Ax}Xp(t){this.Hp!==t&&(this.Hp=t,this.jx.Xp(t),this.Hp&&this.Hp.Rg()&&this.Hp.Pg().then(()=>this.wv()),this.vx())}bv(t){this.Lx!==(t=!!t)&&(this.Lx=t,this.wv())}xv(t){this.Cx!==(t=t||"serif")&&(this.Cx=t,this.vx())}xx(){return this.Cx}vv(t){this.Gx!==(t=t<.1?.1:t)&&(this.Gx=t,this.vx())}Cv(){return this.Gx}Gv(t){this.Ix!==t&&(this.Ix=t,this.vx())}Iv(t){this.Ex!==t&&(this.Ex=t,this.Sv())}Ev(){return this.Ex}_v(t){this._x!==(t=!!t)&&(this._x=t,this.vx())}Dv(){return this._x}Nv(t){this.Dx!==(t=!!t)&&(this.Dx=t,this.vx())}Av(){return this.Dx}Lv(t){t=Math.floor(t),this.Jx!==t&&(this.Jx=t,this.wv())}Ov(){return this.Jx}Rv(t,s){let i=[];(this._x||s.eg("b"))&&i.push("bold"),(this.Dx||s.eg("i"))&&i.push("italic");const e=s.ig("size"),h=(e?parseFloat(e.jp):this.Gx)*this.Ix;i.push(t?h+"pt":h*this.Pv()+"pt");let r=this.Cx,n=s.ig("font");return n&&n.jp&&(r=n.jp,this.Ox)&&!this.Rx.has(r)&&(this.Ox(r),this.Rx.add(r)),r&&(Di.has(r)?i.push(r):i.push('"'+r+'"')),i.join(" ")}Kw(t){t instanceof _i.Fo&&(t=t.ga()),this.Nx!==t&&(this.Nx=t,this.wv())}kv(t,s,i){Ai.Qo(t,s,i),this.Kw(Ai)}Fv(t){if(!Li.has(t))throw new Error("invalid horizontal alignment");this.Px!==t&&(this.Px=t,this.Sv())}jv(){return this.Px}zv(t){if(!Oi.has(t))throw new Error("invalid vertical alignment");this.kx!==t&&(this.kx=t,this.Sv())}Bv(){return this.kx}Uv(t){if(!Ri.has(t))throw new Error("invalid word wrap mode");this.zx!==t&&(this.zx=t,this.vx())}Wv(){return this.zx}Qv(t){if(!Pi.has(t))throw new Error("invalid text direction");this.Bx!==t&&(this.Bx=t,this.Xx&&(this.Xx.direction=this.Bx),this.Kx&&(this.Kx.direction=this.Bx),this.vx())}Jv(){return this.Bx}hf(t){this.tf!==t&&(this.tf=t,this.vx())}Vv(){return this.tf}Pv(){return this.dv*this.qx*self.devicePixelRatio}Yv(r,n,o){if(void 0===o&&(o=1),!(r<=0||this.Yx===r&&this.Hx===n&&this.qx===o)){let t=this.Yx,s=(this.Yx=r,this.Hx=n,this.qx=o,self.devicePixelRatio),i=(this.Bm=this.Yx*this.qx*s,this.Um=this.Hx*this.qx*s,Math.max(this.Bm,this.Um)),e=Math.min(this.Mw.IS(),4096),h=1;e<i&&(h=e/i,this.Bm=Math.min(this.Bm*h,e),this.Um=Math.min(this.Um*h,e)),this.dv=h,this.Yx!==t?this.vx():this.Sv()}}$p(){return this.Bm}dm(){return this.Um}Hv(){return this.qx}qv(){return this.Zv(),this.jx.jm()}Xv(){return this.Zv(),this.jx.zm()+this.jx.Zp()*(this.Ex+4)-this.Ex}Kv(){this.Zv();let t=0;for(const s of this.jx.qp())for(const i of s.Sm())t+=i.Tm();return t}x5(){return this.pv.i0(),this.$v(),this.yS}tC(t,s){this.Zv();const i=this.Pv(),e=this.jx.qp();for(const h of e){const r=h.gm()*i;if(s>=h.$m()-h.dm()*i+r&&s<h.$m()+r)for(const n of h.Sm())if(t>=n.Xm()&&t<n.Xm()+n.$p()*i)return n}return null}*sC(t){this.Zv();const s=this.jx.qp();for(const i of s)for(const e of i.Sm()){const h=e.ig("tag");h&&_i.mh(h.jp,t)&&(yield e)}}iC(t,s){for(const i of this.sC(t)){if(0===s)return i;--s}return null}eC(t){let s=0;for(const i of this.sC(t))++s;return s}$v(){this.yS&&!this.Qx&&!this.Wx&&!this.Ux||this.Mv||this.Bm<=0||this.Um<=0||(this.Qx=!1,this.hC())}hC(){this.Mv||(this.Zv(),this.gv(Math.max(_i.Or(Math.ceil(this.Bm)),128),Math.max(_i.Or(Math.ceil(this.Um)),64)),this.rC(),this.nC(),this.pv.i0())}gv(t,s){this.Zx||(this.Zx=_i.Go(16,16));let i=!1;this.tv===t&&this.sv===s||(this.tv=t,this.sv=s,this.Zx.width=t,this.Zx.height=s,i=!0),this.Xx||(this.Xx=this.Zx.getContext("2d"),i=!0),i?(this.Xx.textBaseline=this.Ax?"alphabetic":"top",this.Xx.direction=this.Bx,this.Xx.font=this.hv,this.Xx.fillStyle=this.nv,this.Xx.strokeStyle=this.nv,this.Xx.globalAlpha=this.ov,this.Xx.lineWidth=this.av):this.Xx.clearRect(0,0,t,s)}oC(){this.Kx||(this.Kx=_i.Go(16,16).getContext("2d"),this.$x=_i.Go(16,16).getContext("2d"),this.Kx.textBaseline=this.Ax?"alphabetic":"top",this.$x.textBaseline="top",this.Kx.direction=this.Bx,this.$x.direction=this.Bx)}aC(t){this.rv!==t&&(this.rv=t,this.Kx.font=t,this.$x.font=t)}uC(){if(!s){s=!0,this.oC();const t=this.Kx.measureText("test");i="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return i}Zv(){this.lC(),this.cC()}lC(){this.Ux&&(this.oC(),!this.Ax||this.Fx&&this.Fx.toString()===this.tf||(this.Fx=new _i._h(this.tf,{Gp:!0})),this.jx.Vp(this.Ax?this.Fx.kp():this.tf,this.uv,this.Yx,this.zx,0),this.Ux=!1)}cC(){this.Wx&&(this.fC(),this.Wx=!1)}lv(t){let s=t.om()?t._m().join(""):" ",i=(this.aC(this.Rv(!0,t)),t.ig("size")),e=(i?parseFloat(i.jp):this.Gx)*this.Ix,h=this.Kx.measureText(s),r=0;if(this.Ax&&this.uC()){const n=this.$x.measureText(s);r=h.fontBoundingBoxAscent-n.fontBoundingBoxAscent}return{width:h.width,height:4/3*e,fontBoundingBoxAscent:h.fontBoundingBoxAscent||0,fontBoundingBoxDescent:h.fontBoundingBoxDescent||0,nm:r}}dC(t){this.hv!==t&&(this.hv=t,this.Xx.font=t)}pC(t){this.nv!==t&&(this.nv=t,this.Xx.fillStyle=t,this.Xx.strokeStyle=t)}mC(t){this.ov!==t&&(this.ov=t,this.Xx.globalAlpha=t)}gC(t){this.av!==t&&(this.av=t,this.Xx.lineWidth=t)}fC(){let e=this.Pv(),h=(4+this.Ex)*e,r=0,n=this.jx.qp();if(0!==n.length){for(const s of n){s.Zm(NaN),s.Km(NaN);for(const o of s.Sm())o.Zm(NaN),o.Km(NaN)}let t=this.Ax&&this.uC(),i=n[0].dm()*e;if("center"===this.kx){const a=n.reduce((t,s)=>t+s.dm()*e+h,0)-h;r=Math.max(this.Um/2-a/2,0),t&&(i=n[0].ym()*e)}else if("bottom"===this.kx){const u=n.reduce((t,s)=>t+s.dm()*e+h,0)-this.Ex*e,l=t?n.at(-1).gm()*e:0;r=this.Um-u-l-2}for(let t=0,s=n.length;t<s;++t){const c=n[t],f=c.dm()*e,d=r;if(this.Ax){if(r+=0===t?i:f,0<t&&r>this.Um-4*e)break}else if(0<t&&r>=this.Um-f)break;0<=d&&this.yC(c,r,e),this.Ax||(r+=f),r+=h}}}yC(t,s,i){let e=0;"center"===this.Px?e=(this.Bm-t.$p()*i)/2:"right"===this.Px&&(e=this.Bm-t.$p()*i),t.Zm(e),t.Km(s);for(const h of"ltr"===this.Bx?t.Sm():t.Hm())this.MC(h,e,s,i),e+=h.$p()*i}MC(t,s,i,e){const h=t.ig("offsetx"),r=(s+=h?o(h.jp,t.dm())*e:0,t.ig("offsety"));if(i+=r?o(r.jp,t.dm())*e:0,t.lm()){const n=t.ig("iconoffsety");i+=n?o(n.jp,t.dm())*e:.2*t.dm()*e}t.Zm(s),t.Km(i)}rC(){this.Xx.imageSmoothingEnabled=this.Lx,this.Xx.imageSmoothingQuality="high",this.Vx=0;const t=this.Pv(),s=this.jx.qp();for(const i of s)this.wC(i,t)}wC(t,s){const i=t.Xm(),e=t.$m();if(Number.isFinite(i)&&Number.isFinite(e))for(const h of"ltr"===this.Bx?t.Sm():t.Hm())this.SC(h,s,t.dm())}SC(n,o,a){const u=this.Xx,l=n.Xm(),c=n.$m();if(Number.isFinite(l)&&Number.isFinite(c)){let t=a/16,s=n.$p()*o,i=n.dm()*o,e=n.dm()/16,h=(4+this.Ex)*o,r=n.om()?n._m():null;if(-1!==this.Jx){if(this.Vx>=this.Jx)return;n.om()&&this.Vx+r.length>this.Jx&&(r=r.slice(0,this.Jx-this.Vx),s=this.lv(n).width*o),this.Vx+=n.Tm()}const f=n.ig("background"),d=n.eg("u"),p=n.eg("s");if((!n.om()||!_i.kd(r)||f||d||p)&&!n.eg("hide")){const m=n.ig("color"),g=n.ig("opacity"),y=(this.mC(g?parseFloat(g.jp)/100:1),f&&(this.pC(f.jp),u.fillRect(l,c-i,s,i+h)),n.ig("linethickness")),M=y?parseFloat(y.jp):1,w=n.eg("stroke");if(w&&this.gC(.5*e*M*this.Pv()),n.om()){const S=r.join("");if(this.dC(this.Rv(!1,n)),!w){this.gC(.5*e*M*this.Pv());const T=n.ig("outlineback");T&&(this.pC(T.jp),this.TC(!0,S,l,c,s))}if(this.pC(m?m.jp:this.Nx),this.TC(w,S,l,c,s),!w){this.gC(.5*e*M*this.Pv());const b=n.ig("outline");b&&(this.pC(b.jp),this.TC(!0,S,l,c,s))}}else if(n.lm()&&0<n.$p()){const x=n.fg(this.Hp);x&&u.drawImage(x,l,c-i,s,i)}if(this.pC(m?m.jp:this.Nx),d&&I(u,w,l,c+o*t,s,o*t*M),p){const v=c-i/4,C=o*e,G=v+C/2;u.fillRect(l,G-C*M/2,s,C*M)}}}}TC(t,s,i,e,h){"rtl"===this.Bx&&(i+=h),t?"Gecko"===_i.ci.Mi?this.Xx.strokeText(s,i,e,h):this.Xx.strokeText(s,i,e):"Gecko"===_i.ci.Mi?this.Xx.fillText(s,i,e,h):this.Xx.fillText(s,i,e)}nC(){this.Mw.bC()||(this.yS||(this.yS=this.Mw.d5(this.Zx.width,this.Zx.height,{dS:!0,pS:"high"})),this.Mw.xC(this.Zx,this.yS),this.cv.set(0,0,this.Bm/this.yS.$p(),this.Um/this.yS.dm()),this.yv&&this.yv())}vC(){return this.cv}mv(){this.yS&&(this.Mw.bC()||this.Mw.y5(this.yS),this.yS=null)}static $w(){for(const t of ki)t.mv()}static CC(){return ki.values()}}}{const Fi=self.js;class ji{constructor(t){this.Q5=t.ES(),this.GC=t._S(),this.IC=t.EC(),this._C=null,this.s0=!1,this.DC=!1,this.NC=0,1===this.GC?this._C=this.IC.createQueryEXT():this._C=this.Q5.createQuery()}hr(){this.AC(),this.Q5=null,this.IC=null,this.DC=!1}AC(){this._C&&(1===this.GC?this.IC.deleteQueryEXT(this._C):this.Q5.deleteQuery(this._C),this._C=null)}Wb(){if(this.s0)throw new Error("query already active");1===this.GC?this.IC.beginQueryEXT(this.IC.TIME_ELAPSED_EXT,this._C):this.Q5.beginQuery(this.IC.TIME_ELAPSED_EXT,this._C),this.s0=!0}Vb(){if(!this.s0)throw new Error("query not active");1===this.GC?this.IC.endQueryEXT(this.IC.TIME_ELAPSED_EXT):this.Q5.endQuery(this.IC.TIME_ELAPSED_EXT),this.s0=!1}LC(){if(this._C&&!this.DC&&!this.s0){let t=!1;t=1===this.GC?this.IC.getQueryObjectEXT(this._C,this.IC.QUERY_RESULT_AVAILABLE_EXT):this.Q5.getQueryParameter(this._C,this.Q5.QUERY_RESULT_AVAILABLE);const s=this.Q5.getParameter(this.IC.GPU_DISJOINT_EXT);t&&!s&&(1===this.GC?this.NC=this.IC.getQueryObjectEXT(this._C,this.IC.QUERY_RESULT_EXT):this.NC=this.Q5.getQueryParameter(this._C,this.Q5.QUERY_RESULT),this.NC/=1e9,this.DC=!0),(t||s)&&this.AC()}}OC(){return this.DC}RC(){if(this.DC)return this.NC;throw new Error("no result available")}}Fi.Hg.PC=class{constructor(t){this.Mw=t,this.q2=t.ew(),this.s0=!1,this.kC=null,this.FC=!1,this.jC=null,this.zC=[]}hr(){for(const t of this.zC)t instanceof ji&&t.hr();Fi.On(this.zC),this.kC=null,this.jC=null,this.Mw=null}Wb(){if(this.s0)throw new Error("query already active");const t=this.Mw.BC();0<t.length?(this.FC=!0,this.kC=t.at(-1),this.kC.UC(),this.kC.zC.push(this)):(this.FC=!1,this.kC=null),this.s0=!0,t.push(this),this.WC()}Vb(){if(!this.s0)throw new Error("query not active");const t=this.Mw.BC().pop();if(t!==this)throw new Error("can only end most nested query");this.s0=!1,this.UC(),this.kC&&(this.kC.WC(),this.kC=null)}WC(){this.jC=Fi.er(ji,this.Mw),this.zC.push(this.jC),this.jC.Wb()}UC(){this.jC.Vb(),this.jC=null}LC(){for(const t of this.zC)t.LC()}QC(){return this.FC}OC(){return this.zC.every(t=>t.OC())}RC(){return this.zC.reduce((t,s)=>t+s.RC(),0)}ew(){return this.q2}}}{const zi=self.js;zi.Hg.JC=class{constructor(t,s=1e3){this.Mw=t,this.VC=s,this.YC=[],this.Mw.HC(this)}hr(){this.Yl(),this.Mw.qC(this),this.Mw=null}Yl(){for(const t of this.YC)t.hr();zi.On(this.YC)}ZC(){const t=new zi.Hg.PC(this.Mw);if(this.YC.push(t),this.YC.length>this.VC){const s=this.YC.shift();s.hr()}return t}XC(t){for(const s of this.YC){if(s.ew()>=t)return;if(s.QC())return;s.LC()}}KC(t,s){if(s<=t)return NaN;let i=0;for(const e of this.YC){if(e.ew()>=s)break;if(!(e.ew()<t)){if(!e.OC())return NaN;i+=e.RC()}}return i}$C(i){for(let t=0,s=this.YC.length;t<s;++t){const e=this.YC[t];if(!(e.ew()<i))return void(0<t&&this.YC.splice(0,t));e.hr()}}}}{let i=function(){h=-1;for(const t of e)t.tG()&&(t.resolve(),e.delete(t));0<e.size&&(h=self.requestAnimationFrame(i))},S=(i,self.js),t=self.ys,T=(t.Cs,t.Gs),y=t.Ts,r={powerPreference:"default",sG:!0,alpha:!1,depth:!1,iG:!1,eG:2,failIfMajorPerformanceCaveat:!1},n=new Set(["default","low-power","high-performance"]),c=new S.Vu(0,0,1,0,1,1,0,1),M=y.create(),w=y.create(),b=new S.Vu,x=new S.Rect,v=null,e=(S.isDebug&&(self.hG=function(){v?v.loseContext():console.warn("WEBGL_lose_context not supported")},self.rG=function(){v?v.restoreContext():console.warn("WEBGL_lose_context not supported")}),new Set),h=-1;S.Hg.nG=class extends S.Hg.c2{constructor(t,s){if(super(s),s=Object.assign({},r,s),!n.has(s.powerPreference))throw new Error("invalid power preference");let i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat},e=null,h=0;if(2<=s.eG&&(e=t.getContext("webgl2",i),h=2),e||(e=t.getContext("webgl",i),h=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.Q5=e,this.oG=e.getContextAttributes(),this.aG=e.getParameter(e.VERSION),this.GC=h,this.uG=T.create(),this.lG=!1,this.cG=y.create(),this.fG=!!s.depth,this.dG=!(!s.depth||!s.iG),this.pG=this.fG,this.mG=!1,this.gG=null,this.yG=!0,this.MG=0,this.wG=0,this.Y5=null,this.H5=null,this.SG=null,this.q5=null,this.TG=new Float32Array(8e3*this.KM()),this.bG=new Uint16Array(12e3),this.xG=new Float32Array(16e3),this.vG=new Float32Array(32e3),this.CG=0,this.GG=0,this.IG=0,this.EG=0,this._G=null,this.DG=null,this.NG=[],this.AG=0,this.LG=0,this.OG=null,this.PG=0,this.ZT=S.er(S.Hg.JT,this),this.kG=S.er(S.Fo,1,1,1,1),this.FG=null,this.Ob=null,this.jG=0,this.zG=0,this.BG=new S.Rect,this.UG=S.er(S.Rect,0,0,-1,-1),this.WG=0,this.QG=-1,this.JG=0,this.VG=0,this.YG=0,this.HG="(unavailable)",this.qG="(unavailable)",this.ZG=[],this.XG=!1,this.KG=null,this.$G=null,this.tI=null,this.sI=null,this.iI=null,this.eI=null,this.hI=0,this.rI=!!s.sG,this.IC=null,this.nI=new Set,this.oI=[],this.K2(this.bG)}lw(){return!0}async ey(){super.ey();const t=this.Q5,s=this.KM(),i=(this.kG.Wo(1,1,1,1),this.FG=null,this.Ob=null,this.CG=0,this.IG=0,this.EG=8e3*s-4*s,S.On(this.NG),this.AG=0,this.LG=0,this._G=null,this.OG=null,this.BG.set(0,0,1,1),this.PG=0,this.ZT),e=(i.Q3=null,i.w5=null,i.S5=null,T.set(i.YT,1,1,1,1),i.clearColor.Wo(0,0,0,0),i.HT.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.jG=t.ONE,this.zG=t.ONE_MINUS_SRC_ALPHA,this.aI(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.fG?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.pG=this.fG,this.mG=!1,this.q5=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.q5),t.bufferData(t.ARRAY_BUFFER,this.vG.byteLength,t.DYNAMIC_DRAW),this.Y5=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.Y5),t.bufferData(t.ARRAY_BUFFER,this.TG.byteLength,t.DYNAMIC_DRAW),this.H5=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.H5),t.bufferData(t.ARRAY_BUFFER,this.xG.byteLength,t.DYNAMIC_DRAW),this.SG=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.SG),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.bG,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.QG=t.getParameter(t.MAX_TEXTURE_SIZE),t.getParameter(t.ALIASED_POINT_SIZE_RANGE)),h=(this.JG=e[0],this.VG=e[1],t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT)),r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT),n=(this.YG=h&&r?Math.min(h.precision,r.precision):0,2048<this.VG&&(this.VG=2048),this.ZG=t.getSupportedExtensions(),t.getExtension("WEBGL_debug_renderer_info"));if(n&&(this.HG=t.getParameter(n.UNMASKED_VENDOR_WEBGL),this.qG=t.getParameter(n.UNMASKED_RENDERER_WEBGL)),this.KG=t.getExtension("KHR_parallel_shader_compile"),S.isDebug&&(v=t.getExtension("WEBGL_lose_context")),this.rI&&(1===this._S()?this.IC=t.getExtension("EXT_disjoint_timer_query"):this.IC=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.$G=t.getExtension("EXT_texture_filter_anisotropic"),this.$G?this.hI=t.getParameter(this.$G.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.hI=0,this._S()<2&&this.fG&&this.dG&&(this.tI=t.getExtension("WEBGL_depth_texture"),!this.tI))throw new Error("no depth texture support");this._S()<2&&(this.sI=t.getExtension("EXT_frag_depth"),this.iI=t.getExtension("OES_standard_derivatives"),this.eI=t.getExtension("EXT_shader_texture_lod"));let o=S.Hg.F5,a=o.dT(!1),u=o.mT(),l=a,c=o.vT(),f=o.bT(),d=o.MT(),p=o.dT(!0),m=!1;this.fG&&(this._S()<2?this.sI&&(u=o.gT(),c=o.CT(),d=o.wT(),m=!0):(l=o.pT(),u=o.yT(),c=o.GT(),f=o.xT(),d=o.ST(),p=o.pT(!0)));const g=o.TT(this._S(),m,this.iI&&this.eI),y=2<=this._S()?o.pT():a,M=[[u,l,"<default>"],[u,l,"<default-device-transform>"],[c,f,"<point>"],[o.IT(),a,"<fill>"],[o.ET(),a,"<lineargradient>"],[o._T(),a,"<penumbra>"],[o.NT(),a,"<hardellipse>"],[o.AT(),a,"<hardellipseoutline>"],[o.LT(),a,"<smoothellipse>"],[o.OT(),a,"<smoothellipseoutline>"],[o.DT(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(M.map(t=>this.uI({src:t[0],z5:t[1],name:t[2]})));this.v2=w[0],this.DG=w[1],this.C2=w[2],this.E2=w[3],this._2=w[4],this.D2=w[5],this.N2=w[6],this.A2=w[7],this.L2=w[8],this.O2=w[9],this.R2=w[10],this.G2=w[11],this.I2=w[12],this.Ly()}async uI(t){const s=await S.Hg.F5.W5(this,t);return this._y(s),s}lI(){this._G=null}Yv(t,s,i){if(this.Bm!==t||this.Um!==s||i){this.iw();const e=this.Q5,h=this.ZT;this.Bm=t,this.Um=s,this.cI(0,0,t,s),this.vy(this.cG,t/s),this.fI(this.cG),this.DG&&(e.useProgram(this.DG.V3()),this.DG.j3(this.m2),this._G=this.DG,this.ZT.Q3=this.DG),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.FG=null,this.Ob=null,this.fG&&this.yG&&this.dI(this.Bm,this.Um),this.OG&&this.OG.g5(this.Bm,this.Um),e.bindFramebuffer(e.FRAMEBUFFER,null),this.OG=null,h.w5=null,h.S5=null}}dI(t,s){const i=this.Q5;this.gG&&this.MG===t&&this.wG===s||(this.dG?(this.gG&&i.deleteTexture(this.gG),this.gG=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.gG),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),2<=this._S()?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this.tI&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this.tI.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.gG&&i.deleteRenderbuffer(this.gG),this.gG=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.gG),i.renderbufferStorage(i.RENDERBUFFER,2<=this.GC?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.MG=t,this.wG=s)}pI(t,s){this.fG&&(this.yG=!1,this.dI(t,s))}mI(){this.fG&&(this.yG=!0,this.dI(this.Bm,this.Um))}cI(t,s,i,e){const h=this.uG;if(h[0]!==t||h[1]!==s||h[2]!==i||h[3]!==e){const r=this.gI();r.mb(t,s,i,e),T.set(h,t,s,i,e),this.LG=0}}wy(t){super.wy(t),this.vy(this.cG,this.Bm/this.Um)}my(t){super.my(t),this.vy(this.cG,this.Bm/this.Um)}yy(t){super.yy(t),this.vy(this.cG,this.Bm/this.Um)}fI(t){if(!y.j(this.m2,t)){const s=this.gI();s.yb(t),y.C(this.m2,t),this.LG=0,this.lG=!0}}yI(){let t,s,i,e=this.OG;i=(null===e?(t=this.cG,s=this.$p(),this):(t=e.v5(),s=e.$p(),e)).dm(),this.fI(t),this.cI(0,0,s,i)}MI(t){if(!y.j(this.g2,t)){const s=this.gI();s.wb(t),y.C(this.g2,t),this.LG=0,this.lG=!0}}wI(){this.lG=!1}SI(){return this.lG}M5(){return this.ZT}gI(){const t=this.NG;return this.AG===t.length&&t.push(new S.Hg.qT(this.ZT)),t[this.AG++]}iw(){0===this.AG||this.bC()||(this.TI(),this.bI(),this.AG=0,this.CG=0,this.GG=0,this.IG=0,this.LG=0)}TI(){const t=this.Q5;0<this.IG&&(t.bindBuffer(t.ARRAY_BUFFER,this.q5),t.bufferSubData(t.ARRAY_BUFFER,0,this.vG.subarray(0,this.IG))),0<this.CG&&(t.bindBuffer(t.ARRAY_BUFFER,this.Y5),t.bufferSubData(t.ARRAY_BUFFER,0,this.TG.subarray(0,this.CG)),t.bindBuffer(t.ARRAY_BUFFER,this.H5),t.bufferSubData(t.ARRAY_BUFFER,0,this.xG.subarray(0,this.GG)))}bI(){const i=this.NG;for(let t=0,s=this.AG;t<s;++t)i[t].Tx()}xI(){return this.kG.ia()}vI(t,s,i,e){const h=this.kG;if(!h.ua(t,s,i,e)){h.Wo(t,s,i,e);const r=this.gI();r.ab(h),this.LG=0,this.F2=null}}CI(t){const s=this.kG;if(s.ia()!==t){s.Zo(t);const i=this.gI();i.ab(s),this.LG=0,this.F2=null}}Kw(t){const s=this.kG;if(!s.equals(t)){s.set(t);const i=this.gI();i.ab(s),this.LG=0,this.F2=null}}GI(){this.vI(1,1,1,1)}II(){return this.kG}EI(t){if(t!==this.FG){const s=this.gI();s.nb(t),this.FG=t,this.LG=0}}LS(){this.FG=null}Xw(t){const s=this.nM(t);this._I(s[0],s[1])}DI(t){const s=this.uM(t);this._I(s.hM,s.rM)}_I(t,s){if(t!==this.jG||s!==this.zG){const i=this.gI();i.fb(t,s),this.jG=t,this.zG=s,this.LG=0,this.F2=null}}NI(){return this.jG===this.Q5.ONE&&this.zG===this.Q5.ONE_MINUS_SRC_ALPHA}AI(){this._I(this.Q5.ONE,this.Q5.ONE_MINUS_SRC_ALPHA)}LI(){this._I(this.Q5.SRC_ALPHA,this.Q5.ONE_MINUS_SRC_ALPHA)}OI(){this._I(this.Q5.ONE,this.Q5.ZERO)}Rect(t){this.RI(t.gu(),t.yu(),t.Mu(),t.wu())}RI(t,s,i,e){this.XM(t,s,i,s,i,e,t,e)}kI(){let t=this.CG;if(t>=this.EG&&(this.iw(),t=0),1===this.LG)this.NG[this.AG-1].KT+=6;else{const s=this.gI();s.hb(t,6),this.LG=1}}FI(t){t.fl(this.TG,this.CG,this.B2+this.U2),this.CG+=12}Vu(t){this.kI(),this.FI(t),c.ra(this.xG,this.GG),this.GG+=8}XM(t,s,i,e,h,r,n,o){this.kI();let a=this.TG,u=this.CG,l=this.B2+this.U2;a[u++]=t,a[u++]=s,a[u++]=l,a[u++]=i,a[u++]=e,a[u++]=l,a[u++]=h,a[u++]=r,a[u++]=l,a[u++]=n,a[u++]=o,a[u++]=l,this.CG=u,c.ra(this.xG,this.GG),this.GG+=8}vM(t,s){this.kI(),this.FI(t),s.bu(this.xG,this.GG),this.GG+=8}jI(t,s){this.kI(),this.FI(t),s.ra(this.xG,this.GG),this.GG+=8}zI(t,s,i,e,h,r,n,o,a,u,l,c,f){this.kI();let d=this.TG,p=this.CG,m=this.B2+this.U2;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+r,d[p++]=n,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.CG=p,f.bu(this.xG,this.GG),this.GG+=8}wM(t,s,i,e,h,r,n,o,a,u,l,c,f){this.kI();let d=this.TG,p=this.CG,m=this.B2+this.U2;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+r,d[p++]=n,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.CG=p,f.ra(this.xG,this.GG),this.GG+=8}BI(e,h,r){const n=this.TG,o=this.xG;if(r.length%3!=0)throw new Error("invalid index buffer length");for(let i=0,t=r.length;i<t;){const a=r[i++],u=r[i++],l=r[i++],c=3*a,f=3*u,d=3*l,p=2*a,m=2*u,g=2*l;this.kI();let t=this.CG,s=this.GG;n[t++]=e[0+c],n[t++]=e[1+c],n[t++]=e[2+c],n[t++]=e[0+f],n[t++]=e[1+f],n[t++]=e[2+f],n[t++]=e[0+d],n[t++]=e[1+d],n[t++]=e[2+d],n[t++]=e[0+d],n[t++]=e[1+d],n[t++]=e[2+d],o[s++]=h[0+p],o[s++]=h[1+p],o[s++]=h[0+m],o[s++]=h[1+m],o[s++]=h[0+g],o[s++]=h[1+g],o[s++]=h[0+g],o[s++]=h[1+g],this.CG=t,this.GG=s}}UI(t,s){this.dM(0),y.C(M,this.m2),y.C(w,this.g2),this.yI();const[i,e]=this.WI(this.OG),h=this.Ey(0,0,this.ny(e),0,0,0,e);if(this.MI(h),"crop"===t&&this.OG&&s){const r=this.Bm/2,n=this.Um/2,o=s.$p(),a=s.dm(),u=this.OG.$p(),l=this.OG.dm(),c=Math.min(u,o),f=Math.min(l,a),d=Math.max(a-l,0),p=Math.max(l-a,0);x.set(-r,n-p,-r+c,n-f-p),b.dl(x),x.set(0,d,c,f+d),x.Ct(o,a),this.vM(b,x)}else{const m=i/2,g=e/2;this.RI(-m,g,m,-g)}this.fI(M),this.MI(w)}QI(t){if(!this.BG.equals(t)){this.BG.C(t);const s=this.gI();s.Gb(t),this.LG=0}}JI(){}VI(t,s,i,e){7996<=this.IG&&this.iw();let h=this.IG,r=this.B2+this.U2;if(2===this.LG&&this.PG===r)this.NG[this.AG-1].KT++;else{const o=this.gI();o.Eb(h,r),this.LG=2,this.PG=r}const n=this.vG;n[h++]=t,n[h++]=s,n[h++]=i,n[h++]=e,this.IG=h}Oy(t){if(this._G!==t){const s=this.gI();s.Db(t),this._G=t,this.LG=0,this.F2=null}}YI(){return this._G}HI(){this.Oy(this.DG)}qI(t){const s=this.gI();s.lb(t),this.LG=0}ZI(t,s,i=1){const e=this.gI();e.Yb(t,s,i),this.LG=0}XI(t,s,i,e,h,r,n){if(this._G!==this.G2)throw new Error("must set tilemap fill mode first");const o=this.gI();o.qb(t,s,i,e,h,r,n),this.LG=0}KI(t,s,i,e,h,r,n){if(this._G!==this.I2)throw new Error("must set tile randomization mode first");const o=this.gI();o.Xb(t,s,i,e,h,r,n),this.LG=0}$I(t,s,i,e,h,r,n,o,a,u,l){const c=this._G;if(l%=10800,c.E3&&!c.sT(s,i,e,h,r,n,o,a,u,l)){const f=this.gI(),d=(f.Ab(),c.hT(s,i,e,h,r,n,o,a,u,l),f.tb),p=(d[0]=r,d[1]=n,s.ra(d,2),d[6]=a,d[7]=u,i.ra(d,12),f.sb),m=(h.ra(p,0),p[1]);p[1]=p[3],p[3]=m,e.ra(f.ib,0),f.XT=l,f.KT=o,c.u3._3()?f.$T=t?t.x5():null:f.$T=null,this.LG=0}}tE(t){const s=this._G;if(0!==t.length&&!s.Z3(t)){const i=this.gI();i.Rb(),s.K3(t),S.Fn(i.eb,t),this.LG=0}}sE(t,s,i,e){const h=this.gI();h.vb(t,s,i,e),this.LG=0}Yl(t){const s=this.gI();s.xb(t),this.LG=0}iE(){}$M(){super.$M(),this.Q5.flush()}eE(){if(this.fG&&this.OG&&this.OG.E5()){const t=this.gI();t.$b(this.pG),this.LG=0}}hE(t){if(this.pG!==(t=!!t)&&this.fG){this.pG=t;const s=this.gI();s.ix(t),this.LG=0}}rE(){return this.pG}p5(){return this.gG}m5(){return this.dG}nE(t){if(t=!!t,this.dG&&this.mG!==t){if(t&&this.rE())throw new Error("depth still enabled");this.mG=t;const s=this.gI();s.nx(t),this.LG=0}}oE(t,s,i,e,h=0){if(t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),!this.UG.mu(t,s,i,e)){this.UG.au(t,s,i,e);const r=h||this.WI(this.aE())[1],n=(s=r-s-e,this.gI());n.wx(!0,t,s,i,e),this.LG=0}}uE(){if(-1!==this.UG.Mu()){this.UG.set(0,0,-1,-1);const t=this.gI();t.wx(!1,0,0,0,0),this.LG=0}}lE(){for(const t of this.nI)t.XC(this.q2)}bC(){return!this.Q5||this.Q5.isContextLost()||this.XG}$w(){super.hy(),S.Hg.gS.$w(),S.Hg.KS.$w(),S.Hg.gw.$w();for(const t of this.nI)t.Yl();this.ZG=[],this.IC=null,this.KG=null,this.$G=null,this.tI=null,this.sI=null,this.iI=null,this.eI=null,this.hI=0,this.HG="(unavailable)",this.qG="(unavailable)",this._G=null,this.DG=null,this.gG=null;for(const s of this.P2.values())s.$w()}async t4(){this.XG=!0,await this.ey(),this.XG=!1;for(const t of this.P2.values())t.t4(this);this.Yv(this.Bm,this.Um,!0)}cE(t,s){if(this.bC())throw new Error("context lost");this.iw();const i=S.er(S.Hg.gS,this);return i.GS(t,s),i}async fE(e,h){if(this.bC())throw new Error("context lost");if(h=Object.assign({},h),S.ji.ImageBitmapOptions){let t=await createImageBitmap(e,{premultiplyAlpha:"premultiply"}),s=h.aS&&"clamp-to-edge"!==h.aS||h.uS&&"clamp-to-edge"!==h.uS,i=S.Lr(t.width)&&S.Lr(t.height);return this.DS()||i||!s?h.premultiplyAlpha=!1:S.ji.Qi?(t=await createImageBitmap(e,{premultiplyAlpha:"premultiply",resizeWidth:S.Or(t.width),resizeHeight:S.Or(t.height)}),h.premultiplyAlpha=!1):t=await createImageBitmap(e,{premultiplyAlpha:"none"}),S.Df(()=>this.cE(t,h))}if(e instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await S.Co(e);e=t}return S.Df(()=>this.cE(e,h))}d5(t,s,i){this.iw();const e=S.er(S.Hg.gS,this);return e.OS(t,s,i),e}xC(t,s,i){this.iw(),s.jS(t,i)}y5(t){t&&(t.QS(),0<t.JS()||(this.iw(),t===this.FG&&(this.Q5.bindTexture(this.Q5.TEXTURE_2D,null),this.FG=null),t===this.Ob&&(this.Q5.activeTexture(this.Q5.TEXTURE1),this.Q5.bindTexture(this.Q5.TEXTURE_2D,null),this.Q5.activeTexture(this.Q5.TEXTURE0),this.Ob=null),t.zS()))}dE(t){let s=this.Bm,i=this.Um,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height)&&(i=Math.floor(t.height),e=!1),s<=0||i<=0)throw new Error("invalid size");this.iw();const h=S.er(S.Hg.KS,this);return h.c5(s,i,Object.assign({ZS:e},t)),this.OG=null,this.ZT.w5=null,this.ZT.S5=null,h}pE(t,s=!0){if(t!==this.OG){t&&t._5()&&t.g5(this.Bm,this.Um);const i=this.gI();i.Tb(t),this.OG=t,this.LG=0,s&&this.yI()}}aE(){return this.OG}WI(t){return t?[t.$p(),t.dm()]:[this.Bm,this.Um]}mE(t,s="stretch"){if(this.GC<2||this.OG&&0<this.OG.D5())this.OI(),this.GI(),this.gE(t,s);else{const i=this.gI();i.jb(t,this.OG,s),this.LG=0}}gE(t,s="stretch"){const i=t.x5();if(!i)throw new Error("not a texture-backed render target");this.EI(i),this.UI(s,i)}yE(t){if(!(this.GC<2)){const s=this.gI();s.kb(t.T5()),this.LG=0}}ME(t){this.pE(null),this.iw();const s=t.x5();s===this.FG&&(this.Q5.bindTexture(this.Q5.TEXTURE_2D,null),this.FG=null),s===this.Ob&&(this.Q5.activeTexture(this.Q5.TEXTURE1),this.Q5.bindTexture(this.Q5.TEXTURE_2D,null),this.Q5.activeTexture(this.Q5.TEXTURE0),this.Ob=null),t.zS()}async R5(t,s,i){this.iw();let e=this.OG,h,r,n,o=(n=t?(h=t.$p(),r=t.dm(),t.T5()):(h=this.$p(),r=this.dm(),null),0),a=0,u=h,l=r;if(i){o=S.cr(Math.floor(i.gu()),0,h-1),a=S.cr(Math.floor(i.yu()),0,r-1);let t=i.width(),s=(t=0===t?h-o:S.cr(Math.floor(t),0,h-o),i.height());s=0===s?r-a:S.cr(Math.floor(s),0,r-a),u=t,l=s,a=r-(a+l)}let c=this.Q5,f=(c.bindFramebuffer(c.FRAMEBUFFER,n),()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.OG=null,this.ZT.w5=null,this.ZT.S5=null,this.pE(e)}),d;if(!s&&2<=this._S()){c.bindFramebuffer(c.READ_FRAMEBUFFER,n);const p=c.createBuffer(),m=u*l*4,g=c.PIXEL_PACK_BUFFER,y=(c.bindBuffer(g,p),c.bufferData(g,m,c.STREAM_READ),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(g,null),f(),c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0));await this.U5(()=>c.getSyncParameter(y,c.SYNC_STATUS)===c.SIGNALED),c.deleteSync(y),d=new ImageData(u,l),c.bindBuffer(g,p),c.getBufferSubData(g,0,new Uint8Array(d.data.buffer),0,m),c.bindBuffer(g,null),c.deleteBuffer(p)}else d=new ImageData(u,l),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}wE(){this.hE(!0);const t=this.gI();t.ux(),this.LG=0,this.WG=1}SE(){this.hE(!1);const t=this.gI();t.mx(),this.LG=0,this.WG=2}TE(){return 2===this.WG}bE(){this.hE(!0);const t=this.gI();t.yx(),this.LG=0,this.WG=0}xE(t){if(this.vE()){const s=this.gI();s.Bb(t),this.LG=0}}CE(t){if(this.vE()){const s=this.gI();s.Qb(t),this.LG=0}}U5(s){const t=new Promise(t=>e.add({resolve:t,tG:s}));return-1===h&&(h=self.requestAnimationFrame(i)),t}cw(){return this.Bm*this.Um*(this.oG.alpha?4:3)}fw(){let t=0;for(const s of S.Hg.KS.P5())s.x5()||(t+=s.YS());return t}dw(){let t=0;for(const s of S.Hg.gS.HS())t+=s.YS();return t}GE(){return this.aG}_S(){return this.GC}IE(){return"webgl"+this._S()}DS(){return 2<=this._S()}IS(){return this.QG}EE(){return this.JG}_E(){return this.VG}DE(){return 0!==this.YG}NE(){return this.YG}AE(){return this.HG}LE(){return this.qG}OE(){if(2<=this._S())return"webgl2";{const t=[];return this.sI&&t.push("EXT_frag_depth"),this.iI&&t.push("OES_standard_derivatives"),this.eI&&t.push("EXT_shader_texture_lod"),0<t.length?"webgl1:"+t.join(","):"webgl1:none"}}RE(){return this.ZG}vE(){return!!this.IC}EC(){return this.IC}B5(){return this.KG}kS(){return this.$G}FS(){return this.hI}HC(t){this.nI.add(t)}qC(t){this.nI.delete(t)}BC(){return this.oI}ES(){return this.Q5}aI(t){this.eM([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}PE(){return this.mw()}}}{const Bi=self.js,Ui={kE:null,FE:null,jE:null,getTime:null,zE:null};Bi.Hg.BE=class{constructor(t){t=Object.assign({},Ui,t),this.UE=t.kE,this.WE=t.FE,this.QE=t.jE,this.JE=t.getTime,this.VE=t.zE,this.YE=null,this.HE=new Set}qE(t){this.HE.add(t)}ZE(t){this.HE.delete(t)}$w(){this.YE=null;for(const t of this.HE)t.$w()}XE(t){return this.UE?this.UE(t):[t.$p(),t.dm()]}aE(t){return this.WE(t)}KE(t,s){this.QE(t,s)}$E(){return this.JE()}Z1(t){this.VE(t)}t_(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.YE||this.YE.$p()===s&&this.YE.dm()===i||(t.y5(this.YE),this.YE=null),null===this.YE&&(this.YE=t.cE(null,{width:s,height:i,lS:"nearest",dS:!1})),this.YE}}}{const o=self.js,Wi=self.ys,xh=Wi.Ts,Qi=o.er(o.Rect),Ji=o.er(o.Rect),Vi=o.er(o.Rect),Yi=o.er(o.Rect),Hi=xh.create(),qi=xh.create(),Zi={s_:null,i_:null,e_:null,h_:!1},Xi={r_:null,n_:!1,o_:!1,a_:!1,u_:!1,l_:!1,c_:!1};o.Hg.f_=class{constructor(t,s){s=Object.assign({},Zi,s),this.od=t,this.d_=s.s_,this.p_=s.i_,this.m_=s.e_,this.g_=null,this.y_=[],this.M_=[],this.w_=[],this.S_=!1,this.Yw=0,this.T_=!1,this.b_=!1,this.x_=!1,this.v_=!1,this.C_=!1,this.G_=!1,this.lG=!1,this.I_=!1,this.E_=!1,this.__=!1,this.D_=!1,this.N_=!1,this.A_=0,this.L_=[null,null,null],this.O_=!!s.h_,this.R_=0,this.P_=0,this.k_=0,this.F_=0,this.j_=null,this.z_=null,this.B_=o.er(o.Rect),this.U_=o.er(o.Rect),this.W_=o.er(o.Rect),this.Q_=o.er(o.Rect),this.J_=o.er(o.Rect),this.V_=1,this.Y_=1,this.H_=0,this.q_=0,this.Z_=null,this.X_=null,this.K_=0,this.tD=0,this.sD=!1,this.o5=xh.create(),this.iD=xh.create(),this.od.qE(this)}hr(){this.od.ZE(this),o.On(this.w_),o.On(this.y_),o.On(this.M_),this.j_=null,this.z_=null,this.d_=null,this.p_=null,this.m_=null}$w(){this.S_=!0,o.On(this.w_),o.On(this.y_),o.On(this.M_)}eD(){return this.S_}hD(h,t){if(t=Object.assign({},Xi,t),o.On(this.w_),this.R_=0,this.P_=0,this.T_=!1,this.b_=!1,this.x_=!1,this.v_=!1,this.C_=!1,this.G_=!1,this.A_=0,this.N_=!!t.u_,this.D_=!!t.c_,this.S_=!1,o.Fn(this.y_,h),0!==h.length){if(t.r_){if(t.r_.length!==h.length)throw new Error("incorrect indexMap length");o.Fn(this.M_,t.r_)}else{o.On(this.M_);for(let t=0,s=h.length;t<s;++t)this.M_.push(t)}for(const s of h)this.R_+=s.Lw(),this.P_+=s.Ow(),s.jw()&&(this.T_=!0),s.Bw()&&(this.b_=!0),s.zw()&&(this.x_=!0),s.Rw()&&(this.v_=!0),s.Qw()&&(this.C_=!0);this.G_=this.rD(h[0].Nw());const r=this.nD(h[0],t),n=this.oD(h.at(-1),t);if(1!==h.length||r||n){this.__=!1;let e=0;r&&(this.A_=1,this.w_.push(o.er(o.Hg.f_.uD.aD,this,-1,1)),e=1);for(let s=0,i=h.length;s<i;++s)if(0!==s||r){let t=1===e?2:1;s!==i-1||n||(t=0),this.A_=Math.max(this.A_,t),this.w_.push(o.er(o.Hg.f_.uD.lD,this,e,t,s)),e=t}else this.A_=1,this.w_.push(o.er(o.Hg.f_.uD.cD,this,-1,1,s)),e=1;n&&this.w_.push(o.er(o.Hg.f_.uD.fD,this,e,0))}else this.__=!0}}nD(t,s){return!!(s.n_||t.Pw()||s.a_&&!t.Fw()||t.Bw()&&!this.D_||0!==this.R_||0!==this.P_)||(t.Nw().lw()?t.zw()&&(s.l_||s.u_)||t.Uw()&&s.u_:t.zw()&&!this.G_&&s.l_)}oD(t,s){return!!s.o_||(t.Nw().lw()?t.zw()||t.Rw():(t.zw()||t.Rw())&&this.dD())}rD(t){return t.Cy()&&this.x_&&!this.v_}pD(t,s,i){t.Cy()&&null===s&&(s=t.GetBackbufferRenderTarget()),this.Z_=s,this.j_=i.mD||null,this.z_=i.contextObject||null,this.Yw=i.gD||0,this.V_=i.devicePixelRatio||1,this.Y_=i.yD||1,this.H_=i.MD||0,this.q_="number"==typeof i.time?i.time:this.od.$E(),this.lG=!1,t.wI(),this.T_&&this.wD();let e=!1;if(this.SD()&&(this.TD(t,i),e=!0,this.X_=this.od.t_(t,this.k_,this.F_),Qi.C(this.U_),Qi.Fu(),t.Cy()&&t._MaybeDoPendingClearRenderPass(this.Z_),t.CopyTextureToTexture(this.Z_.x5(),this.X_,Qi.gu(),Qi.yu(),Qi.width(),Qi.height())),this.__)this.bD(t,i);else if(e||this.TD(t,i),0!==this.W_.width()||0!==this.W_.height()){t.AI(),t.GI(),t.cM(0),t.dM(0),this.g_=i.xD||null,this.K_=i.vD||0,this.tD=i.CD||0,this.sD=!!i.GD,this.ID(t),this.L_[0]=s,this.L_[1]=1<=this.A_?this.ED():null,this.L_[2]=2===this.A_?this.ED():null;for(const h of this.w_){const r=this._D(h.DD()),n=this._D(h.ND());t.Cy()?h.AD(t,r,n):h.LD(t,r,n)}t.EI(null),this.L_[1]&&this.OD(this.L_[1]),this.L_[2]&&this.OD(this.L_[2]),this.L_.fill(null),this.RD(t),this.Z_=null,this.X_=null,this.j_=null,this.z_=null,this.g_=null}}TD(t,s){const[i,e]=this.od.XE(t);this.PD(t,i,e),this.kD(s)}PD(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.k_===s&&this.F_===i||this.FD(t,s,i,0,0,this.o5,this.iD),this.k_=s,this.F_=i}FD(t,s,i,e,h,r,n){const o=s/2+e,a=i/2+h,u=(t.vy(r,s/i),t.Ey(o,a,t.ny(i),o,a,0,i));xh.C(n,u)}kD(t){this.B_.C(t.jD),t.zD?this.U_.C(t.zD):this.U_.set(0,0,this.k_,this.F_),this.W_.C(this.U_),this.W_.Ct(this.k_,this.F_);const s=this.Y_*this.V_;this.U_._u(this.R_*s,this.P_*s),this.J_.C(this.U_),this.J_.Ct(this.k_,this.F_),this.U_.ju(0,0,this.k_,this.F_),this.Q_.C(this.U_),this.Q_.Ct(this.k_,this.F_)}ID(t){if(this.I_=t.rE(),this.E_=t.TE(),this.D_)t.hE(!1),this.b_&&t.nE(!0);else{if(Qi.C(this.U_),t.lw()){const s=this.Y_*this.V_;Qi._u(Math.max(this.R_,1)*s,Math.max(this.P_,1)*s),Qi.Fu(),Qi.cr(0,0,this.k_,this.F_)}else Qi.Fu();t.oE(Qi.gu(),Qi.yu(),Qi.width(),Qi.height(),this.F_)}}BD(t){t.GI(),this.D_||(this.E_&&t.bE(),t.hE(!1),this.b_&&t.nE(!0)),t.Cy()&&t.SetNormalizedCoordsProgramVariant(!0)}RD(t){t.nE(!1),this.E_&&t.SE(),t.hE(this.I_),this.D_||t.uE(),t.Cy()&&t.SetNormalizedCoordsProgramVariant(!1),this.lG=t.SI()}UD(){this.J_.cr(0,0,1,1)}_D(t){return t<0?null:this.L_[t]}ED(){return this.od.aE(this)}WD(){return this.Z_}OD(t){this.od.KE(t,this)}QD(t){return this.y_[t]}JD(t){this.g_?this.g_(this,t,()=>this.d_(t,this)):this.d_(t,this),this.__||this.BD(t)}VD(t){if(this.D_)return!0;if(0!==this.K_||0!==this.tD)return!1;const[s,i]=t.WI(t.aE());return s===this.k_&&i===this.F_}YD(t,s){let i=this.o5,e=this.iD;if(s&&!this.VD(t)){i=Hi,e=qi;const[h,r]=t.WI(t.aE());this.FD(t,h,r,this.K_,this.tD,i,e),this.D_||t.uE()}t.fI(i),t.MI(e)}wD(){this.od.Z1(this)}HD(t,s){return this.m_(this.M_[t],s)}qD(t,s){let i=this.J_,e=this.Q_,h=this.W_;t.lw()&&(Ji.C(i),Ji.Au(1),i=Ji,Vi.C(e),Vi.Au(1),e=Vi,Yi.C(h),Yi.Au(1),h=Yi),this.ZD(t,s,e,h,i,1/this.k_,1/this.F_)}XD(t,s){let e=this.Q_,h=this.W_,r=1/this.k_,n=1/this.F_;if(this.p_){let{KD:t,$D:s,tN:i}=this.p_(this.j_);t||(Qi.set(0,0,0,0),t=Qi),s=s||this.k_,i=i||this.F_,e=t,h=t,r=1/s,n=1/i}else t.lw()&&(Vi.C(e),Vi.Au(1),e=Vi,Yi.C(h),Yi.Au(1),h=Yi);let i=this.J_;t.lw()&&((i=Ji).C(this.J_),i.Au(1)),this.ZD(t,s,e,h,i,r,n),t.Cy()&&this.C_&&t.SetProgramParameter_IsSrcTexRotated(this.N_)}sN(t){return this.x_?t.Cy()?this.SD()?this.X_:this.Z_.x5():this.Z_:null}ZD(t,s,i,e,h,r,n){t.$I(this.sN(t),h,i,e,this.B_,r,n,this.V_,this.Y_,this.H_,this.q_),t.tE(this.HD(s,t))}bD(t,s){const i=this.y_[0],e=t.rE(),h=i.Bw();h&&(t.hE(!1),t.nE(!0),this.J_.set(0,0,1,1),this.W_.set(0,0,1,1)),t.Oy(i),t.Xw(this.Yw),t.pE(this.Z_);let r=0,n=1;if(this.W_.set(0,0,1,1),i.Uw()&&this.p_){const{KD:o,$D:a,tN:u}=this.p_(this.j_);o&&this.W_.C(o),r=Number.isFinite(a)?1/a:0,n=Number.isFinite(u)?1/u:0}else{const[l,c]=this.od.XE(t);r=1/l,n=1/c}s.jD?this.B_.C(s.jD):this.B_.set(0,0,0,0),t.$I(this.sN(t),this.J_,this.W_,this.W_,this.B_,r,n,this.V_,this.Y_,this.H_,this.q_),t.tE(this.HD(0,t)),t.Cy()&&this.C_&&t.SetProgramParameter_IsSrcTexRotated(this.N_),t.cM(0),this.JD(t),h&&(t.nE(!1),t.hE(e))}SD(){return this.G_}dD(){return!this.G_}iN(){return this.x_}eN(){return!!this.__&&!this.SD()}hN(){return this.D_}rN(){return this.j_}nN(){return this.z_}oN(){return this.Yw}aN(){return this.sD}SI(){return this.lG}uN(){return this.U_}lN(){return this.Q_}cN(){return this.O_}async fN(t,s,i){}}}{const Ki=self.js;Ki.Hg.f_.uD=class{constructor(t,s,i,e=-1){this.dN=t,this.pN=s,this.mN=i,this.Bg=e}gN(){return this.dN}DD(){return this.pN}ND(){return this.mN}yN(){return this.Bg}V3(){return this.gN().QD(this.yN())}LD(t,s,i){}AD(t,s,i){}}}{const $i=self.js;$i.Hg.f_.uD.aD=class extends $i.Hg.f_.uD{constructor(t,s,i,e){super(t,s,i,e)}LD(t,s,i){const e=this.gN();t.AI(),t.Ly(),t.pE(i,e.aN()),t.sE(0,0,0,0),e.JD(t),e.UD()}AD(t,s,i){const e=this.gN();t.AI(),t.Ly(),t.pE(i,!1),t.sE(0,0,0,0),e.JD(t),e.UD()}}}{const te=self.js,se=te.er(te.Rect),ie=te.er(te.Vu);te.Hg.f_.uD.fD=class extends te.Hg.f_.uD{constructor(t,s,i,e){super(t,s,i,e)}LD(t,s,i){const e=this.gN();t.Ly(),t.pE(i),e.YD(t,!0),t.Xw(e.oN()),t.EI(s.x5()),ie.dl(e.uN()),se.C(e.lN()),se.Au(1),t.vM(ie,se),e.cN()&&t.yE(s)}AD(t,s,i){const e=this.gN();t.Ly(),t.pE(i,!1),e.VD(t)?ie.dl(e.lN()):(t.SetNormalizedCoordsProgramVariant(!1),e.YD(t,!0),ie.dl(e.uN())),t.SetBackTexture(null),t.Xw(e.oN()),t.EI(s.x5()),e.hN()?t.UI():t.vM(ie,e.lN())}}}{const ee=self.js;ee.Hg.f_.uD.cD=class extends ee.Hg.f_.uD{constructor(t,s,i,e){super(t,s,i,e)}LD(t,s,i){const e=this.gN();t.pE(i,e.aN()),t.sE(0,0,0,0),t.OI(),t.Oy(this.V3()),e.XD(t,this.yN()),e.JD(t),e.UD()}AD(t,s,i){const e=this.gN();t.pE(i,!1),t.sE(0,0,0,0),t.OI(),t.Oy(this.V3()),e.XD(t,this.yN()),e.JD(t),e.UD()}}}{const he=self.js,re=he.er(he.Rect),ne=he.er(he.Vu);he.Hg.f_.uD.lD=class extends he.Hg.f_.uD{constructor(t,s,i,e){super(t,s,i,e)}LD(t,s,i){const e=this.gN(),h=(t.pE(i),0===this.ND());h?t.Xw(e.oN()):(t.sE(0,0,0,0),t.OI()),t.Oy(this.V3()),e.qD(t,this.yN()),t.EI(s.x5()),e.YD(t,h),ne.dl(e.uN()),re.C(e.lN()),re.Au(1),t.vM(ne,re),e.cN()&&t.yE(s)}AD(t,s,i){const e=this.gN(),h=(t.pE(i,!1),0===this.ND());h?(t.Xw(e.oN()),t.SetBackTexture(null),e.VD(t)?ne.dl(e.lN()):(t.SetNormalizedCoordsProgramVariant(!1),e.YD(t,!0),ne.dl(e.uN()))):(t.sE(0,0,0,0),t.OI(),ne.dl(e.lN())),t.Oy(this.V3()),e.qD(t,this.yN()),t.EI(s.x5()),e.hN()?t.UI():t.vM(ne,e.lN())}}}{let l=function(t,s){const i=t[0],e=s[0],h=i-e;if(0!=h)return h;const r=t[1],n=s[1];return r-n},c=(l,self.js),f=self.qs,d=null,s=new Set,p=[],m=[],i=!1,t=!1,e=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.MN=class{constructor(t){d=t,Object.defineProperties(this,{wN:{value:d.TN().SN(),writable:!1},bN:{value:d.vN().xN(),writable:!1},CN:{value:{},writable:!1},GN:{value:{},writable:!1},IN:{value:d.EN(),writable:!1},_N:{value:d.DN(),writable:!1},storage:{value:new self.NN(d),writable:!1},isInWorker:{value:d.AN(),writable:!1},LN:{value:d.ON(),writable:!1},RN:{value:d.PN(),writable:!1},lS:{value:d.kN(),writable:!1},FN:{value:d.jN(),writable:!1},zN:{value:new self.BN(t),writable:!1}}),d.UN().addEventListener("keydown",t=>{s.has(t.key)?t.stopPropagation():s.add(t.key)}),d.UN().addEventListener("keyup",t=>s.delete(t.key)),d.Rf().addEventListener("window-blur",()=>s.clear()),d.AN()&&(self.alert=t=>(i||(i=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}WN(t){Object.defineProperties(this.CN,t)}QN(t){Object.defineProperties(this.GN,t)}addEventListener(t,s){d.UN().addEventListener(t,s)}removeEventListener(t,s){d.UN().removeEventListener(t,s)}JN(t,...s){f.ve(t);const i=d.VN(),e=i.YN(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Ql())return e.HN();if(s.length<e.qN())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.qN()} expected)`);let h=e.ZN(),r=h.XN(),n=i.KN();if(n){r=r.slice(0);const a=new Set(r);for(const u of n.XN())a.has(u)||(r.push(u),a.add(u));for(const l of i.$N())a.has(l)||(r.push(l),a.add(l))}const o=h.tA(r,e.sA(),e.iA(),e.HN(),...s);return o}eA(t){const s=d.rA().hA();if(!s)throw new Error("not in a function which returns a value");switch(s.nA()){case 1:"number"==typeof t&&s.oA(t);break;case 2:"string"==typeof t&&s.oA(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.oA(t)}}signal(t){f.ve(t),d.VN().aA(t)}uA(t){return f.ve(t),d.VN().lA(t)}cA(){return[d.ON(),d.PN()]}get isSuspended(){return d.fA()}get dA(){return d.pA()}get mA(){return d.gA()}get yA(){return d.MA()}get wA(){return d.SA()}get TA(){return d.bA()}set TA(t){f.we(t),d.xA(t)}get fps(){return t||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),t=!0),d.vA()}get framesPerSecond(){return d.vA()}get CA(){return d.GA()}get IA(){return d.EA()}get _A(){return d.DA()}get NA(){return d.AA()}set NA(t){if(!e.has(t))throw new Error("invalid framerate mode");d.LA(t)}get OA(){return d.RA()}set OA(t){f.we(t),d.PA(t)}get kA(){return d.FA()}set kA(t){d.jA(t)}random(){return d.zA()}get layout(){const t=d.BA();if(t)return t.UA();throw new Error("no layout is running - make sure a layout is loaded before accessing")}WA(t){let s=d.QA(),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.JA(t))return i.UA();throw new Error("invalid layout")}VA(){return d.QA().YA().map(t=>t.UA())}HA(t){let s=d.QA(),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(!(i=s.JA(t)))throw new Error("invalid layout");s.qA()||s.ZA(i)}get keyboard(){const t=d.XA().keyboard;if(t)return t;throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first")}get KA(){const t=d.XA().KA;if(t)return t;throw new Error("runtime.mouse used but Mouse object missing - add it to your project first")}get $A(){const t=d.XA().$A;if(t)return t;throw new Error("runtime.touch used but Touch object missing - add it to your project first")}get t7(){const t=d.XA().t7;if(t)return t;throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first")}get s7(){const t=d.XA().s7;if(t)return t;throw new Error("runtime.platformInfo used but Platform Info object missing - add it to your project first")}i7(t,s){f.ve(t),f.ve(s),d.e7(t,s)}h7(t){f.we(t);const s=d.r7(t);return s?s.n7():null}o7(t,e){f.Ye(e);const h=d.a7();for(const s of t){const i=d.u7(s),r=i.l7();p.push([r.c7().yN(),r.f7()]),m.push(i)}if(0!==p.length){p.sort(l),m.sort((t,s)=>e(t.n7(),s.n7()));let i=!1;for(let t=0,s=p.length;t<s;++t){const n=m[t],o=h.d7(p[t][0]),a=p[t][1],u=o.p7();u[a]!==n&&((u[a]=n).l7().m7(o,!0),o.g7(n),i=!0)}i&&d.y7(),c.On(p),c.On(m)}}async M7(t,s){const i=new MessageChannel,e=i.port1,h=i.port2;return await d.w7("runtime","script-create-worker",{url:t,opts:s,port2:h},[h]),e}alert(t){return d.w7("runtime","alert",{message:t+(d.AN()?" [via Web Worker]":"")})}S7(t){return f.we(t),d.T7(t)}b7(t){d.x7(t)}}}{let s=self.js,n=null;self.v7=class{constructor(t){n=t,Object.defineProperties(this,{C7:{value:n.G7("audio/webm; codecs=opus"),writable:!1}})}I7(t){const s=self._7.E7(t);if(!s)throw new Error("invalid IImageInfo");s.D7(n.N7())}A7(t){return n.yo(t)}L7(t){return n.Mo(t)}O7(t){return n.wo(t)}R7(t){return n.So(t)}P7(t){return n.k7(t)}F7(t){return"flat"===n.j7()&&s.do(t)&&(t=t.toLowerCase()),n.z7(t)}get B7(){return n.U7()}async W7(t,s){if(this.C7)throw new Error("decodeWebMOpus(): not supported because WebM Opus is supported by the platform");const i=await n.N7().Q7(s),e=new Float32Array(i),h=t.createBuffer(1,e.length,48e3),r=h.getChannelData(0);return r.set(e),h}J7(...t){return n.V7(...t)}Y7(t){return n.H7(t)}q7(t){return n.Z7(t)}}}{let n=self.js,i=self.qs,o=null;self.X7=class{constructor(t){o=t,Object.defineProperties(this,{runtime:{value:o.N7(),writable:!1}})}K7(t,s){const i=o.N7(),e=i.u7(t),h=i.u7(s);return o.tL(e,h)}sL(t,s){const i=o.N7(),e=i.u7(t);for(const h of s){const r=i.u7(h);if(o.tL(e,r))return h}return null}iL(t){const s=o.N7().u7(t),i=o.eL(s);return i?i.n7():null}hL(t,s){if(i.we(t),i.we(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");o.rL(t,s)}nL(){return o.oL()}aL(t,s){let i=o.N7(),e;e=Array.isArray(t)?t.map(t=>i.uL(t)):[i.uL(t)];const h=n.Rect.pu(s),r=[];return o.lL(null,e,h,r),r.map(t=>t.n7())}}}{const oe=self.qs;self.NN=class{constructor(t){this.cL=t.fL()}getItem(t){return oe.ve(t),this.cL.getItem(t)}setItem(t,s){return oe.ve(t),this.cL.setItem(t,s)}removeItem(t){return oe.ve(t),this.cL.removeItem(t)}clear(){return this.cL.clear()}keys(){return this.cL.keys()}}}{const ae=self.js,ue=new WeakMap,le=ae.zs();self.dL=class{constructor(){const t=ae.mL.pL(le);ue.set(this,t),Object.defineProperties(this,{runtime:{value:t.N7().gL(),writable:!1},yL:{value:t.ML(),writable:!1},wL:{value:t.SL(),writable:!1},TL:{value:t.bL(),writable:!1},xL:{value:t.vL(),writable:!1},CL:{value:t.GL(),writable:!1},IL:{value:t.EL(),writable:!1},_L:{value:t.DL(),writable:!1},NL:{value:t.AL(),writable:!1}})}static LL(t){if(!t)return null;const s=ae.mL.OL(t);return s?s.RL():null}PL(){return ue.get(this).FL().kL()}jL(){return ue.get(this).zL().n7()}}}{const ce=self.js,fe=self.qs,de=new WeakMap,pe=ce.zs();self.BL=class{constructor(){const t=ce.mL.pL(pe);de.set(this,t),Object.defineProperties(this,{name:{value:t.Jc(),writable:!1},runtime:{value:t.N7().gL(),writable:!1},UL:{value:t.WL().RL(),writable:!1}}),t.N7().QL(this,t)}addEventListener(t,s){fe.ve(t),fe.Ye(s),de.get(this).UN().addEventListener(t,s)}removeEventListener(t,s){fe.ve(t),fe.Ye(s),de.get(this).UN().removeEventListener(t,s)}JL(){return[...this.instances()]}VL(){return ce.first(this.instances())}YL(){return[...this.HL()]}qL(){return ce.first(this.HL())}ZL(t){const s=de.get(this),i=s.N7().XL(t),e=s.KL(i);return e?e.n7():null}*instances(){for(const t of de.get(this).$L())yield t.n7()}*HL(){for(const t of de.get(this).s6().t6())yield t.n7()}i6(t){fe.Ye(t);const s=de.get(this);if(0<s.e6())throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");de.get(this).h6(t)}Oi(t,s,i,e,h){if(fe.pe(s),fe.pe(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const r=de.get(this),n=r.N7(),o=n.BA().c7(t);if(!o)throw new Error("invalid layer");const a=n.r6(r,o,s,i,e,h),u=(e&&o.n6(a),n.VN());return u.o6(!0),a.a6(),u.o6(!1),u.u6()||n.QA().l6()||n.c6(),a.n7()}}}{const me=self.qs,u=new WeakMap,ge=["above","below","top-sublayer","bottom-sublayer"];self.f6=class{constructor(t){u.set(this,t);const s=[],i=t.d6(),e=i.p6().length;for(let t=0;t<e;++t)s.push(new self.m6(i,t));Object.defineProperties(this,{name:{value:t.Jc(),writable:!1},index:{value:t.yN(),writable:!1},g6:{value:s,writable:!1}})}addEventListener(t,s){me.ve(t),me.Ye(s),u.get(this).UN().addEventListener(t,s)}removeEventListener(t,s){me.ve(t),me.Ye(s),u.get(this).UN().removeEventListener(t,s)}get width(){return u.get(this).$p()}set width(t){me.we(t),u.get(this).um(t)}get height(){return u.get(this).dm()}set height(t){me.we(t),u.get(this).tm(t)}y6(t,s){me.we(t),me.we(s);const i=u.get(this);i.um(t),i.tm(s)}getSize(){const t=u.get(this);return[t.$p(),t.dm()]}set scale(t){me.we(t),u.get(this).M6(t)}get scale(){return u.get(this).w6()}set angle(t){me.we(t),u.get(this).S6(t)}get angle(){return u.get(this).T6()}set scrollX(t){me.pe(t),u.get(this).b6(t)}get scrollX(){return u.get(this).x6()}set scrollY(t){me.pe(t),u.get(this).v6(t)}get scrollY(){return u.get(this).C6()}scrollTo(t,s){me.pe(t),me.pe(s);const i=u.get(this);i.b6(t),i.v6(s)}G6(){const t=u.get(this);return[t.x6(),t.C6()]}I6(t){let s=u.get(this),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return(i=s.c7(t))?i.E6():null}_6(){return u.get(this).D6().map(t=>t.E6())}*N6(){for(const t of u.get(this).N6())yield t.E6()}A6(t,s,i){const e=u.get(this),h=self.L6,r=(me.ve(t),me.ih(s,h),s?e.N7().O6(s):null),n=ge.indexOf(i);if(n<0)throw new Error("invalid location");e.R6(t,r,n)}P6(t,s,i){const e=u.get(this),h=e.N7(),r=self.L6,n=(me.th(t,r),h.O6(t));if(!n)throw new Error("invalid layer");me.ih(s,r);const o=s?h.O6(s):null,a=ge.indexOf(i);if(a<0)throw new Error("invalid location");e.k6(n,o,a)}F6(t){const s=u.get(this),i=self.L6,e=(me.th(t,i),s.N7().O6(t));if(!e)throw new Error("invalid layer");const h=e.N7();s.j6(e),h.VN().u6()||h.c6()}z6(){const t=u.get(this),s=t.N7();t.B6(),s.VN().u6()||s.c6()}U6(t,s){me.we(t),me.we(s),u.get(this).W6(t,s)}Q6(){return u.get(this).J6()}set Z(t){me.ve(t);const s=u.get(this);if("perspective"===t)s.V6();else{if("orthographic"!==t)throw new Error("invalid projection");s.Y6()}}get Z(){return u.get(this).H6()?"orthographic":"perspective"}}}{const ye=self.js,f=self.qs,d=new WeakMap,Me=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),we=new Map([...Me.entries()].map(t=>[t[1],t[0]])),Se=ye.er(ye.Fo);self.L6=class{constructor(t){d.set(this,t);const s=[],i=t.d6(),e=i.p6().length;for(let t=0;t<e;++t)s.push(new self.m6(i,t));Object.defineProperties(this,{name:{value:t.Jc(),writable:!1},layout:{value:t.JA().UA(),writable:!1},g6:{value:s,writable:!1}}),t.N7().QL(this,t)}get q6(){const t=d.get(this).Z6();return t?t.E6():null}*X6(){for(const t of d.get(this).X6())yield t.E6()}*K6(){for(const t of d.get(this).tO())yield t.E6()}*sO(){for(const t of d.get(this).tO())for(const s of t.iO())yield s.E6()}get index(){return d.get(this).yN()}get isVisible(){return d.get(this).eO()}set isVisible(t){d.get(this).hO(t)}get rO(){return d.get(this).nO()}get oO(){return d.get(this).aO()}set oO(t){d.get(this).uO(t)}get lO(){return d.get(this).cO()}set lO(t){d.get(this).fO(!!t)}get dO(){return d.get(this).pO()}get opacity(){return d.get(this).xI()}set opacity(t){t=ye.cr(+t,0,1),isNaN(t)||d.get(this).CI(t)}set scale(t){f.we(t),d.get(this).mO(t)}get scale(){return d.get(this).gO()}set scaleRate(t){f.we(t),d.get(this).yO(t)}get scaleRate(){return d.get(this).MO()}set angle(t){f.we(t),d.get(this).S6(t)}get angle(){return d.get(this).wO()}set parallaxX(t){f.we(t),d.get(this).SO(t)}get parallaxX(){return d.get(this).TO()}set parallaxY(t){f.we(t),d.get(this).bO(t)}get parallaxY(){return d.get(this).xO()}set vO(t){f.we(t),d.get(this).m4(t)}get vO(){return d.get(this).d4()}set CO(t){d.get(this).GO(t)}get CO(){return d.get(this).IO()}set EO(t){d.get(this)._O(t)}get EO(){return d.get(this).DO()}set gD(t){f.ve(t);const s=Me.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");d.get(this).Xw(s)}get gD(){return we.get(d.get(this).NO())}set backgroundColor(t){if(f.je(t),t.length<3)throw new Error("expected 3 elements");Se.Qo(t[0],t[1],t[2]);const s=d.get(this),i=s.AO();i.oa(Se)||(i.Xo(Se),s.N7().y7())}get backgroundColor(){const t=d.get(this).AO();return[t.Ko(),t.$o(),t.ta()]}set scrollX(t){f.pe(t);const s=d.get(this);s.LO(!0),s.b6(t)}get scrollX(){return d.get(this).x6()}set scrollY(t){f.pe(t);const s=d.get(this);s.LO(!0),s.v6(t)}get scrollY(){return d.get(this).C6()}scrollTo(t,s){f.pe(t),f.pe(s);const i=d.get(this);i.LO(!0),i.b6(t),i.v6(s)}G6(){const t=d.get(this);return[t.x6(),t.C6()]}OO(){d.get(this).LO(!1)}getViewport(){return d.get(this).RO().Su()}PO(t,s,i=0){f.pe(t),f.pe(s),f.pe(i);const e=d.get(this),h=e.N7();return e.kO(t-h.FO(),s-h.jO(),i)}zO(t,s,i=0){f.pe(t),f.pe(s),f.pe(i);const e=d.get(this),h=e.N7(),[r,n]=e.BO(t,s,i);return[r+h.FO(),n+h.jO()]}UO(t,s,i=0){return f.pe(t),f.pe(s),f.pe(i),d.get(this).WO(t,s,i)}QO(t,s,i=0){return f.pe(t),f.pe(s),f.pe(i),d.get(this).JO(t,s,i)}get VO(){return d.get(this).YO()}}}{let e=function(t){let s=ve.get(t);return s||(s=Te.er(Te.Event.Rf),ve.set(t,s)),s};e;const Te=self.js,be=self.qs,xe=new WeakMap,ve=new WeakMap,Ce=Te.zs();self.HO=class{constructor(){const t=Te.mL.pL(Ce),s=(xe.set(this,t),{runtime:{value:t.N7().gL(),writable:!1},qO:{value:t.ZO().kL(),writable:!1},UL:{value:t.WL().RL(),writable:!1}});t.XO(s),t.KO(s),Object.defineProperties(this,s),t.N7().QL(this,t)}static $O(){return Te.mL.t8()}s8(){const t=ve.get(this);t&&(t.hr(),ve.delete(this)),xe.delete(this)}addEventListener(t,s,i){be.ve(t),be.Ye(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){be.ve(t),be.Ye(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}i8(){const t=xe.get(this),s=t.N7();s.e8(t),s.VN().u6()||s.QA().l6()||s.VN().h8()||s.c6()}r8(){const t=xe.get(this).n8();return t?t.map(t=>t.n7()):[]}*o8(){const t=xe.get(this);if(t.a8())for(const s of t.u8())yield s.n7()}get uid(){return xe.get(this).l8()}get c8(){return xe.get(this).f8()}set TA(t){be.we(t),xe.get(this).xA(t)}get TA(){return xe.get(this).d8()}p8(){xe.get(this).m8()}get dA(){const t=xe.get(this);return t.N7().pA(t)}g8(...t){be.je(t);const s=new Set(t),i=xe.get(this).y8();return s.ue(i)}M8(t){be.th(t,Set),xe.get(this).w8(t)}S8(){return new Set(xe.get(this).y8())}signal(t){be.ve(t);const s=xe.get(this);s.N7().VN().T8(s,t)}uA(t){be.ve(t);const s=xe.get(this);return s.N7().VN().b8(s,t)}}}{const Ge=self.js,Ie=self.qs,Ee=new WeakMap,_e=Ge.zs();self.x8=class extends self.HO{constructor(t){super(),Ee.set(this,Ge.mL.pL(_e)),this.v8=!1,this.C8=null,this.G8=!1,this.I8=null,this.E8=t?.domComponentId,this._8=t?.wrapperComponentId}s8(){super.s8(),Ee.delete(this)}D8(){return Ge.mL.N8()}A8(t){const s=Ee.get(this);s.N7().L8(t,s)}O8(t){const s=Ee.get(this);return s.N7().P8(t,s)}k8(t,s){if(Ie.ve(t),Ie.Ye(s),!this.E8)throw new Error("no DOM component id set");const i=Ee.get(this).N7();i.F8(this.E8,t,s)}j8(t){Ie.je(t);for(const[s,i]of t)this.k8(s,i)}z8(t,s){if(Ie.ve(t),!this.E8)throw new Error("no DOM component id set");const i=Ee.get(this).N7();i.ef(this.E8,t,s)}B8(t,s){if(Ie.ve(t),!this.E8)throw new Error("no DOM component id set");const i=Ee.get(this).N7();return i.w7(this.E8,t,s)}U8(t,s){const i=Ee.get(this).N7();if(!i.AN())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.E8,handler:t,data:s,responseId:null});this.z8(t,s)}W8(t){if(this.v8!==(t=!!t)){this.v8=t;const s=Ee.get(this).N7();t?(this.C8||(this.C8=()=>this.Q8()),s.Rf().addEventListener("tick",this.C8)):s.Rf().removeEventListener("tick",this.C8)}}J8(){return this.v8}Q8(){}V8(t){if(this.G8!==(t=!!t)){this.G8=t;const s=Ee.get(this).N7();t?(this.I8||(this.I8=()=>this.Y8()),s.Rf().addEventListener("tick2",this.I8)):s.Rf().removeEventListener("tick2",this.I8)}}H8(){return this.G8}Y8(){}q8(){return[]}Z8(){return null}X8(t){}K8(){if(!this._8)throw new Error("no wrapper component id set");const t=Ee.get(this).N7();return t.tR(this._8)}sR(t,s){if(Ie.ve(t),Ie.Ye(s),!this._8)throw new Error("no wrapper component id set");const i=Ee.get(this).N7();i.iR(this._8,t,s)}eR(t){Ie.je(t);for(const[s,i]of t)this.sR(s,i)}hR(t,s){if(!this._8)throw new Error("no wrapper component id set");this.runtime.zN.rR(this._8,t,s)}nR(t,s){if(this._8)return this.runtime.zN.oR(this._8,t,s);throw new Error("no wrapper component id set")}}}{let t=function(t){return class h extends t{constructor(t){super(t);const s=De.mL.pL(Le),i=(g.set(this,s),[]),e=s.l7(),h=e.aR();if(h){const n=e.ZO().d6().p6().length;for(let t=0;t<n;++t)i.push(new self.m6(h,t))}const r={g6:{value:i,writable:!1}};Object.defineProperties(this,r)}get layout(){return g.get(this).l7().JA().UA()}get uR(){return g.get(this).l7().c7().E6()}get x(){return g.get(this).l7().a4()}set x(t){t=+t;const s=g.get(this).l7();isNaN(t)||s.a4()===t||(s.u4(t),s.lR())}get y(){return g.get(this).l7().c4()}set y(t){t=+t;const s=g.get(this).l7();isNaN(t)||s.c4()===t||(s.f4(t),s.lR())}setPosition(t,s){t=+t,s=+s;const i=g.get(this).l7();isNaN(t)||isNaN(s)||i.a4()===t&&i.c4()===s||(i.cR(t,s),i.lR())}fR(){const t=g.get(this).l7();return[t.a4(),t.c4()]}dR(t,s){if(t=+t,s=+s,!(isNaN(t)||isNaN(s)||0===t&&0===s)){const i=g.get(this).l7();i.pR(t,s),i.lR()}}get vO(){return g.get(this).l7().d4()}set vO(t){t=+t;const s=g.get(this),i=s.l7();isNaN(t)||i.d4()===t||(i.m4(t),s.N7().y7())}get mR(){return g.get(this).l7().gR()}get width(){return g.get(this).l7().$p()}set width(t){t=+t;const s=g.get(this).l7();isNaN(t)||s.$p()===t||(s.um(t),s.lR())}get height(){return g.get(this).l7().dm()}set height(t){t=+t;const s=g.get(this).l7();isNaN(t)||s.dm()===t||(s.tm(t),s.lR())}y6(t,s){t=+t,s=+s;const i=g.get(this).l7();isNaN(t)||isNaN(s)||i.$p()===t&&i.dm()===s||(i.Yv(t,s),i.lR())}getSize(){const t=g.get(this).l7();return[t.$p(),t.dm()]}get angle(){return g.get(this).l7().T6()}set angle(t){t=De.dr(+t);const s=g.get(this).l7();isNaN(t)||s.T6()===t||(s.S6(t),s.lR())}get yR(){return De.mr(this.angle)}set yR(t){this.angle=De.pr(t)}gl(){return g.get(this).l7().MR().Su()}wR(){return g.get(this).l7().SR().ll()}TR(){return g.get(this).l7().bR()}get isVisible(){return g.get(this).l7().nO()}set isVisible(t){t=!!t;const s=g.get(this),i=s.l7();i.nO()!==t&&(i.hO(t),s.N7().y7())}get opacity(){return g.get(this).l7().xI()}set opacity(t){t=De.cr(+t,0,1);const s=g.get(this),i=s.l7();isNaN(t)||i.xI()===t||(i.CI(t),s.N7().y7())}set xR(t){if(Ne.je(t),t.length<3)throw new Error("expected 3 elements");Pe.Qo(t[0],t[1],t[2]);const s=g.get(this),i=s.l7();i.vR().oa(Pe)||(i.CR(Pe),s.N7().y7())}get xR(){const t=g.get(this).l7().vR();return[t.Ko(),t.$o(),t.ta()]}set gD(t){Ne.ve(t);const s=Oe.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=g.get(this),e=i.l7();e.Xw(s),i.N7().y7()}get gD(){return Re.get(g.get(this).l7().NO())}GR(){g.get(this).l7().IR()}ER(){g.get(this).l7()._R()}DR(t){Ne.th(t,Ae);const s=g.get(this),i=s.N7().O6(t);if(!i)throw new Error("invalid layer");s.l7().NR(i)}AR(t,s){Ne.th(t,h),g.get(this).l7().LR(g.get(t),s)}get zIndex(){return g.get(this).l7().f7()}get OR(){return g.get(this).l7().RR()}set OR(t){g.get(this).l7().PR(!!t)}Uu(t,s){return Ne.pe(t),Ne.pe(s),g.get(this).l7().kR(+t,+s)}K7(t){Ne.th(t,h);const s=g.get(this),i=g.get(t);return s.N7().vN().tL(s,i)}iL(){const t=g.get(this),s=t.N7().vN().eL(t);return s?s.n7():null}getParent(){const t=g.get(this).FR();return t?t.n7():null}jR(){const t=g.get(this).zR();return t?t.n7():null}*BR(){for(const t of g.get(this).BR())yield t.n7()}UR(){return g.get(this).WR()}QR(t){const s=g.get(this).JR(t);return s?s.n7():null}*children(){for(const t of g.get(this).children())yield t.n7()}*VR(){for(const t of g.get(this).VR())yield t.n7()}YR(t,s){Ne.th(t,h),Ne.Ae(s),s=s||{};const i=g.get(this),e=g.get(t);i.HR(e,s)}removeChild(t){Ne.th(t,h);const s=g.get(this),i=g.get(t);s.qR(i)}ZR(){const t=g.get(this);if(t.KR()){const s=t.FR();s.qR(t)}}$R(){const t=g.get(this).l7();return{tP:t.sP(),iP:t.eP(),hP:t.rP(),nP:t.oP(),aP:t.uP(),lP:t.cP(),fP:t.dP(),pP:t.mP(),gP:t.yP()}}MP(t,s){Ne.we(t),Ne.we(s),g.get(this).l7().wP(t,s)}SP(){const t=g.get(this).l7();t.TP(),t.lR()}bP(t,s,i){Ne.we(t),Ne.we(s),Ne.Ne(i);const e=g.get(this).l7();e.xP(t,s,i)&&e.lR()}vP(t,s){let i=NaN,e=NaN,h=NaN,r=NaN,n=NaN,o=g.get(this).l7();if(o.CP()){const a=o.GP(),u=a.Z4(t,s);null!==u&&(i=u.a4(),e=u.c4(),h=u.d4(),r=u.g4(),n=u.M4())}return{x:i,y:e,vO:h,u:r,v:n}}IP(){const t=g.get(this).l7();if(!t.CP())return[0,0];const s=t.GP();return[s.j4(),s.z4()]}}};0;const De=self.js,Ne=self.qs,Ae=self.L6,g=new WeakMap,Le=De.zs(),Oe=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Re=new Map([...Oe.entries()].map(t=>[t[1],t[0]])),Pe=De.er(De.Fo);self.EP=t(self.HO),self._P=t(self.x8)}{const ke=self.qs,Fe=new WeakMap;self.DP=class extends self.EP{constructor(){super(),Fe.set(this,self.HO.$O())}NP(){return Fe.get(this).LP().AP()}focus(){Fe.get(this).LP().OP()}blur(){Fe.get(this).LP().RP()}PP(t,s){ke.ve(t),Fe.get(this).LP().kP(t,s)}}}{let e=function(t){let s=Ue.get(t);return s||(s=je.er(je.Event.Rf),Ue.set(t,s)),s};e;const je=self.js,ze=self.qs,Be=new WeakMap,Ue=new WeakMap,We=je.zs();self.FP=class{constructor(){const t=je.mL.pL(We),s=(Be.set(this,t),{runtime:{value:t.N7().gL(),writable:!1},behavior:{value:t.zP().jP(),writable:!1},BP:{value:t.WP().UP(),writable:!1}});Object.defineProperties(this,s),t.N7().QL(this,t)}static $O(){return je.mL.t8()}get QP(){return Be.get(this).JP().n7()}s8(){const t=Ue.get(this);t&&(t.hr(),Ue.delete(this)),Be.delete(this)}addEventListener(t,s,i){ze.ve(t),ze.Ye(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){ze.ve(t),ze.Ye(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}}}{const Qe=self.js,Je=Qe.zs();self.VP=class{constructor(){const t=Qe.mL.pL(Je),s={runtime:{value:t.N7().gL(),writable:!1},behavior:{value:t.zP().jP(),writable:!1},name:{value:t.Jc(),writable:!1}};Object.defineProperties(this,s)}}}{const Ve=self.js,Ye=new WeakMap,He=Ve.zs();self.YP=class{constructor(){const t=Ve.mL.pL(He),s=(Ye.set(this,t),{runtime:{value:t.N7().gL(),writable:!1}});Object.defineProperties(this,s)}JL(){return Ye.get(this).t6().map(t=>t.n7())}static LL(t){if(!t)return null;const s=Ve.mL.HP(t);return s?s.jP():null}}}{const qe=self.js,Ze=self.qs,Xe=new WeakMap,Ke=qe.er(qe.Fo);self.m6=class{constructor(t,s){Xe.set(this,t);const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){const t=Xe.get(this).p6();return t[this.index].Jc()}get isActive(){return Xe.get(this).qP(this.index)}set isActive(t){t=!!t;const s=Xe.get(this);s.qP(this.index)!==t&&(s.ZP(this.index,t),s.XP(),s.N7().y7())}setParameter(t,s){Ze.we(t),t=Math.floor(+t);const i=Xe.get(this),e=i.KP(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof qe.Fo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Ke.Qo(s[0],s[1],s[2]),s=Ke}else if("number"!=typeof s)throw new TypeError("expected number");const h=i.$P(this.index,t,s);h&&i.qP(this.index)&&i.N7().y7()}getParameter(t){Ze.we(t),t=Math.floor(+t);const s=Xe.get(this),i=s.KP(this.index,t);if(null===i)throw new RangeError("invalid index");return i instanceof qe.Fo?[i.Ko(),i.$o(),i.ta()]:i}}}{const $e=new WeakMap;self.t9=class{constructor(t){$e.set(this,t),Object.defineProperties(this,{name:{value:t.Jc(),writable:!1}})}get speed(){return $e.get(this).s9()}get i9(){return $e.get(this).e9()}get repeatCount(){return $e.get(this).h9()}get r9(){return $e.get(this).n9()}get o9(){return $e.get(this).a9()}get frameCount(){return $e.get(this).u9()}l9(){return $e.get(this).c9().map(t=>t.f9())}*frames(){for(const t of $e.get(this).c9())yield t.f9()}}}{const th=new WeakMap;self._7=class{constructor(t){th.set(this,t)}static E7(t){return th.get(t)}get width(){return th.get(this).$p()}get height(){return th.get(this).dm()}getSize(){const t=th.get(this);return[t.$p(),t.dm()]}d9(t){return t.p9(this)}m9(){return th.get(this).vC().Su()}}}{const sh=self.qs,ih=new WeakMap;self.g9=class extends self._7{constructor(t){super(t.y9()),ih.set(this,t),Object.defineProperties(this,{duration:{value:t.M9(),writable:!1},w9:{value:t.S9(),writable:!1},T9:{value:t.b9(),writable:!1}})}x9(){const t=ih.get(this);return[t.S9(),t.b9()]}v9(){return ih.get(this).C9()}G9(t){return this.I9(t)[0]}E9(t){return this.I9(t)[1]}I9(t){let s=ih.get(this),i=null;if("number"==typeof t)i=s._9(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.D9(t)}return i?[i.a4(),i.c4()]:this.x9()}N9(){const t=ih.get(this).A9();return t?t.Al():0}L9(t){return this.O9(t)[0]}R9(t){return this.O9(t)[1]}O9(t){sh.we(t),t=Math.floor(t);const s=ih.get(this).A9();if(!s||t<0||t>=s.Al())return[0,0];const i=s.Nl(),e=i[2*t],h=i[2*t+1];return[e,h]}get tag(){return ih.get(this).P9()}}}{let s=function(t){const s=hh.get(t);if(s.k9())throw new Error("timeline/tween was released and is no longer valid");return s};s;const eh=self.qs,hh=new WeakMap;self.F9=class{constructor(t){hh.set(this,t),t.N7().QL(this,t)}pause(){s(this).j9()}resume(){s(this).z9()}stop(){s(this).i0()}g8(t){return s(this).B9(t)}set time(t){eh.we(t),s(this).U9(t)}get time(){return s(this).$E()}set totalTime(t){eh.we(t),s(this).W9(t)}get totalTime(){return s(this).Q9()}set i9(t){s(this).J9(!!t)}get i9(){return s(this).V9()}set o9(t){s(this).Y9(!!t)}get o9(){return s(this).H9()}set playbackRate(t){eh.we(t),s(this).q9(t)}get playbackRate(){return s(this).Z9()}get progress(){const t=s(this);return t.$E()/t.Q9()}get tags(){return s(this).X9()}get finished(){return s(this).K9()}get isPlaying(){return s(this).IsPlaying()}get tk(){return s(this).sk()}get ik(){return hh.get(this).k9()}}}{let i=new WeakMap;self.ek=class extends self.F9{constructor(t){super(t),i.set(this,t);const s={name:{value:t.Jc(),writable:!1}};Object.defineProperties(this,s)}}}{let i=function(t){const s=h.get(t);if(s.k9())throw new Error("tween was released and is no longer valid");return s},e=(i,self.qs),h=new WeakMap,r=new WeakMap,n=null;self.hk=class extends self.F9{constructor(t,s,i){super(t),n=n||i.easeToIndexFunc,h.set(this,t),s&&r.set(this,s)}stop(){const t=i(this),s=r.get(this);s.ReleaseTween(t)}rk(t){e.ve(t);const s=self.nc.Ic(n(t));i(this).nk(s)}get QP(){const t=i(this).ak();return t?t.n7():null}get uk(){return i(this).lk()}set uk(t){i(this).ck(!!t)}get value(){const t=i(this);if("value"!==t.fk())throw new Error("not a value tween");return t.pk("value").dk()}}}self.mk=class extends self.dL{constructor(){super()}};{const rh=self.js,nh=self.qs,oh=new WeakMap,ah=rh.zs();self.gk=class extends self.mk{constructor(t){if(super(),oh.set(this,rh.mL.pL(ah)),!t?.domComponentId)throw new Error("no DOM component ID specified");this.E8=t.domComponentId,this.yk=0,this.Mk=new Map,this.wk("elem-focused",t=>t.Sk()),this.wk("elem-blurred",t=>{t&&t.Tk()})}bk(t){const s=this.yk++;return this.Mk.set(s,t),s}xk(t){this.Mk.delete(t)}wk(t,i){const s=oh.get(this).N7();s.F8(this.E8,t,t=>{const s=this.Mk.get(t.elementId);i(s,t)})}vk(t){nh.je(t);for(const[s,i]of t)this.vk(s,i)}}}{const uh=self.js,lh=new WeakMap,ch=uh.zs();self.Ck=class extends self.BL{constructor(){super();const t=uh.mL.pL(ch);lh.set(this,t)}Gk(){}Ik(){return lh.get(this).y9().Ek()}_k(t){}Dk(t){}Nk(){}Ak(t){}}}{const fh=self.js,dh=new WeakMap,ph=fh.zs();self.Lk=class extends self._P{constructor(t){super(t),dh.set(this,fh.mL.pL(ph)),this.Ok=null,this.Rk=null}s8(){if(super.s8(),this.Ok){const t=dh.get(this).N7().Rf();t.removeEventListener("renderercontextlost",this.Ok),t.removeEventListener("renderercontextrestored",this.Rk),this.Ok=null,this.Rk=null}dh.delete(this)}Pk(){if(!this.Ok){this.Ok=()=>this.kk(),this.Rk=()=>this.Fk();const t=dh.get(this).N7().Rf();t.addEventListener("renderercontextlost",this.Ok),t.addEventListener("renderercontextrestored",this.Rk)}}kk(){}Fk(){}jk(t){}}}{const mh=self.js,gh=mh.er(mh.Rect),yh=new WeakMap,Mh=mh.zs();self.zk=class extends self.Lk{constructor(t){if(!t?.domComponentId)throw new Error("no DOM component ID specified");super(t);const s=mh.mL.pL(Mh),i=(yh.set(this,s),this.Bk=this.UL.bk(this),this.Uk=!0,this.Wk=!1,this.Qk=!1,this.Jk=-.2,this.Vk=mh.er(mh.Rect,0,0,-1,-1),s.N7().Yk());this.Hk=i.qk(),this.Zk=i.Xk(),this.Kk=-1,this.$k=-1,this.tF=!1,this.W8(!0)}s8(){super.s8(),this.UL.xk(this.Bk),this.sF("destroy"),this.Bk=-1,yh.delete(this)}iF(){const t=yh.get(this).N7();if(t.AN())throw new Error("not valid in worker mode");return this.eF("get-element")}sF(t,s){(s=s||{}).elementId=this.Bk,this.z8(t,s)}eF(t,s){return(s=s||{}).elementId=this.Bk,this.U8(t,s)}hF(t,s){return(s=s||{}).elementId=this.Bk,this.B8(t,s)}rF(t){t=t||{};const s=yh.get(this).l7();t.elementId=this.Bk,t.isVisible=s.nO(),t.htmlIndex=s.c7().nF(),t.htmlZIndex=s.oF(),Object.assign(t,this.aF()),this.Uk=!!t.isVisible,this.U8("create",t),this.uF(!0)}lF(t){this.Uk!==(t=!!t)&&(this.Uk=t,this.sF("set-visible",{isVisible:t}))}Q8(){this.uF(!1)}cF(){const t=yh.get(this).N7(),s=t.Yk().fF();return"Android"===mh.ci.fi&&("scale-inner"===s||"scale-outer"===s||"crop"===s)}uF(l){const c=yh.get(this);if(!c.dF()){let t=c.l7(),s=t.c7(),i=t.MR(),[e,h]=s.BO(i.gu(),i.yu()),[r,n]=s.BO(i.Mu(),i.wu()),o=c.N7().Yk(),a=o.pF(),u=o.mF();if(t.nO()&&s.nO())if(!this.cF()&&(r<=0||n<=0||a<=e||u<=h))this.lF(!1);else{gh.set(e,h,r,n);const f=o.qk(),d=o.Xk(),p=s.nF(),m=t.oF();if(!l&&gh.equals(this.Vk)&&this.Hk===f&&this.Zk===d&&this.Kk===p&&this.$k===m)this.lF(!0);else{this.Vk.C(gh),this.Hk=f,this.Zk=d,this.Kk=p,this.$k=m,this.lF(!0);let t=null;this.Qk&&(t=s.gF()+this.Jk),this.sF("update-position",{left:Math.round(this.Vk.gu()),top:Math.round(this.Vk.yu()),width:Math.round(this.Vk.width()),height:Math.round(this.Vk.height()),htmlIndex:p,htmlZIndex:m,fontSize:t})}}else this.lF(!1)}}yF(){this.eF("focus",{focus:!0})}MF(){this.eF("focus",{focus:!1})}Sk(){this.Wk=!0}Tk(){this.Wk=!1}wF(){return this.Wk}SF(t,s){this.postToDOMElement("set-css-style",{prop:mh.Ro(t),val:s})}TF(t,s){this.postToDOMElement("set-attribute",{name:t,val:s})}bF(t){this.postToDOMElement("remove-attribute",{name:t})}xF(){this.tF||(this.tF=!0,Promise.resolve().then(()=>{this.tF=!1,this.sF("update-state",this.aF())}))}aF(){}vF(){return this.Bk}}}self.CF=class extends self.YP{constructor(){super()}};self.GF=class extends globalThis.VP{constructor(){super()}Gk(){}};{const wh=self.js,Sh=new WeakMap,ar=wh.zs();self.IF=class extends self.FP{constructor(){super(),Sh.set(this,wh.mL.pL(ar)),this.v8=!1,this.G8=!1,this.EF=!1}s8(){super.s8(),this.W8(!1),this.V8(!1),this._F(!1),Sh.delete(this)}D8(){return wh.mL.N8()}DF(){}A8(t){const s=Sh.get(this);s.N7().L8(t,s.JP(),s.WP())}O8(t){const s=Sh.get(this);return s.N7().P8(t,s.JP(),s.WP())}W8(t){if(this.v8!==(t=!!t)){this.v8=t;const s=Sh.get(this).N7();t?s.NF(this):s.AF(this)}}J8(){return this.v8}Q8(){}V8(t){if(this.G8!==(t=!!t)){this.G8=t;const s=Sh.get(this).N7();t?s.LF(this):s.OF(this)}}H8(){return this.G8}Y8(){}_F(t){if(this.EF!==(t=!!t)){this.EF=t;const s=Sh.get(this).N7();t?s.RF(this):s.PF(this)}}kF(){return this.EF}FF(){}q8(){return[]}Z8(){return null}X8(t){}}}{let e=self.qs,h=null;self.BN=class{constructor(t){h=t}b7(t){h.x7(t)}rR(t,s,i){e.ve(t),e.ve(s),e.Be(i),h.jF(t,s,i)}oR(t,s,i){return e.ve(t),e.ve(s),e.Be(i),h.zF(t,s,i)}BF(t){return e.Ce(t),new self.UF(h,t)}set WF(t){h.QF(!!t)}get WF(){return h.JF()}VF(t){h.YF(!!t)}}}{const ur=new WeakMap;self.UF=class{constructor(t,s){const i=t.VN(),e=t.KN(),h=e.HF(),r=t.rA(),n=r.qF(),o=r.ZF(e),a=i.XF(),u=a.ZF();s&&u.KF(s),t.$F(!1),ur.set(this,{runtime:t,tj:e,sj:h,ij:n,ej:o,loop:u})}hj(){const{runtime:t,tj:s,sj:i,ij:e,ej:h,loop:r}=ur.get(this),n=t.VN();n.rj(i),s.nj(e,h),n.oj(i),r.aj(r.yN()+1)}get uj(){const t=ur.get(this).loop;return t.lj()}release(){const t=ur.get(this).runtime,s=t.rA(),i=t.VN().XF();t.$F(!0),i.cj(),s.cj(),ur.delete(this)}}}{let d=self.js,h=self.qs,p=null,r=null;self.fj=class{constructor(t,s){r=t,p=s}dj(){p.AI()}pj(t){p.DI(t)}mj(){p.jy()}gj(){p.Ly()}yj(){p.Vy()}setColor(t){p.vI(t[0],t[1],t[2],t[3])}Mj(t,s,i,e){p.vI(t,s,i,e)}wj(){p.GI()}Sj(t){p.CI(t)}Tj(t){p.dM(t)}bj(){p.pM()}rect(t){p.RI(t.left,t.top,t.right,t.bottom)}xj(t,s,i,e){p.RI(t,s,i,e)}vj(t){p.Vu(d.Vu.cl(t))}Cj(t,s,i,e,h,r,n,o){p.XM(t,s,i,e,h,r,n,o)}Gj(t,s){p.vM(d.Vu.cl(t),d.Rect.Tu(s))}Ij(t,s){p.jI(d.Vu.cl(t),d.Vu.cl(s))}Ej(t,s,i,e,h,r,n,o,a,u,l,c,f){p.zI(t,s,i,e,h,r,n,o,a,u,l,c,d.Rect.Tu(f))}_j(t,s,i,e,h,r,n,o,a,u,l,c,f){p.wM(t,s,i,e,h,r,n,o,a,u,l,c,d.Vu.cl(f))}Dj(t,s,i){p.BI(t,s,i)}Nj(t){p.ZM(t)}line(t,s,i,e){p.wm(t,s,i,e)}Aj(t,s,i,e,h,r){p.SM(t,s,i,e,h,r)}Lj(t,s,i,e){p.CM(t,s,i,e)}Oj(t){p._M(d.Rect.Tu(t))}Rj(t){p.DM(d.Vu.cl(t))}Pj(t){p.PM(t)}kj(){p.kM()}Fj(t){p.BM(t)}jj(){p.JM()}zj(t){h.ih(t,self.Bj);const s=t?r.O6(t):null;p.EI(s)}Uj(t,s){const i=self._7.E7(t);if(i)return i.Wj(p,{aS:s?.aS??"clamp-to-edge",uS:s?.uS??"clamp-to-edge",lS:s?.lS??"trilinear",dS:s?.dS??!0});throw new Error("invalid IImageInfo")}Qj(t){const s=self._7.E7(t);if(!s)throw new Error("invalid IImageInfo");s.mv()}p9(t){const s=self._7.E7(t);if(!s)throw new Error("invalid IImageInfo");const i=s.x5();return self.Bj.Jj(r,i)}Vj(t,s,i){h.we(t),h.we(s);const e=p.d5(t,s,{aS:i?.aS??"clamp-to-edge",uS:i?.uS??"clamp-to-edge",lS:i?.lS??"trilinear",dS:i?.dS??!0});return self.Bj.Jj(r,e)}Yj(t,s,i){h.th(s,self.Bj);const e=r.O6(s);p.xC(t,e,{premultiplyAlpha:i?.premultiplyAlpha??!0})}deleteTexture(t){h.th(t,self.Bj);const s=r.O6(t);p.y5(s)}Hj(){const t=p.mw();return new self.qj(r,t)}Zj(){r.Yk().Xj(p)}Kj(t){h.th(t,globalThis.L6);const s=r.O6(t);s.$j(p)}}}{const lr=new WeakMap,cr=new WeakMap;self.Bj=class{constructor(t,s){lr.set(this,{runtime:t,sz:s}),cr.set(s,this),t.QL(this,s),Object.defineProperties(this,{width:{value:s.$p(),writable:!1},height:{value:s.dm(),writable:!1}})}static Jj(t,s){if(!s)return null;const i=cr.get(s);return i||new self.Bj(t,s)}}}{let e=function(t){return dr.get(t).iz};e;const fr=self.qs,dr=new WeakMap;self.qj=class{constructor(t,s){dr.set(this,{runtime:t,iz:s}),t.QL(this,s)}release(){e(this).hr()}set ez(t){fr.ve(t),e(this).xv(t)}get ez(){return e(this).xx()}set hz(t){fr.we(t),e(this).vv(t)}get hz(){return e(this).Cv()}set lineHeight(t){fr.we(t),e(this).Iv(t)}get lineHeight(){return e(this).Ev()}set rz(t){e(this)._v(t)}get rz(){return e(this).Dv()}set nz(t){e(this).Nv(t)}get nz(){return e(this).Av()}setColor(t){fr.je(t),this.oz(t[0],t[1],t[2])}oz(t,s,i){e(this).kv(t,s,i)}az(t){fr.ve(t),e(this).Kw(t)}set uz(t){e(this).Fv(t)}get uz(){return e(this).jv()}set verticalAlign(t){e(this).zv(t)}get verticalAlign(){return e(this).Bv()}set lz(t){e(this).Uv(t)}get lz(){return e(this).Wv()}set cz(t){e(this).Qv(t)}get cz(){return e(this).Jv()}set text(t){fr.ve(t),e(this).hf(t)}get text(){return e(this).Vv()}y6(t,s,i){fr.we(t),fr.we(s),fr.we(i),e(this).Yv(t,s,i)}d9(){const{runtime:t,iz:s}=dr.get(this),i=s.x5();return self.Bj.Jj(t,i)}m9(){return e(this).vC().Su()}fz(t){fr.Ye(t),e(this).yv=t}dz(){e(this).mv()}get pz(){return e(this).qv()}get mz(){return e(this).Xv()}}}{let e=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return mr.get(i)||""},r=function(e){return new Promise((t,s)=>{const i=document.createElement("script");i.onload=t,i.onerror=s,i.async=!1,i.type="module",i.src=e,document.head.appendChild(i)})};e,r;const w=self.js,pr=new Set(["local","remote"]),mr=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);w.gz=class extends w.tr{constructor(t,s){super();const i=s.exportType,e=(this.$c=t,this.yz="folders",this.Mz=new Map,this.wz="cordova"===i,this.Sz=!!s.isiOSCordova,this.Tz=!!s.isFileProtocol,this.bz=s.swClientId,this.xz=s.supportedAudioFormats||{},this.vz=new Map,this.Cz=!1,this.Gz=s.scriptFolder,this.Iz="",this.Ez="",this._z="",this.Dz=s.fileMap||new Map,this.Nz=new Map,"html5"===i||"scirra-arcade"===i||"instant-games"===i);this.Az=e?"remote":"local",this.Lz=new Map,this.Oz=[],this.Rz=[],this.Pz=!1,this.kz=0,this.Fz=0,this.jz=0,this.zz=!1,this.Bz=w.er(w.g1,()=>this.Uz(),50),this.Wz=w.er(w.n1,Math.max(w.hardwareConcurrency,8)),this.Qz=w.er(w.n1,20),this.Jz=new self.v7(this)}hr(){for(const t of this.Lz.values())t.hr();this.Lz.clear(),w.On(this.Rz),this.$c=null}N7(){return this.$c}Vz(t){this.yz=t}j7(){return this.yz}Yz(){return this.Gz}qz(t){this.Iz=t}U7(){return this.Iz}Zz(t){this.Ez=t}Xz(){return this.Ez}Kz(t){this._z=t}$z(){return this._z}tB(){return this.Tz}wo(t,s){return s=s||this.Az,w.do(t)?("flat"===this.yz&&(t=t.toLowerCase()),this.wz&&this.Tz?this.sB(t):"playable-ad-single-file"===this.$c.iB()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):("local"===s?this.Wz:this.Qz).ec(()=>w.wo(t))):w.wo(t)}So(t){return w.do(t)?("flat"===this.yz&&(t=t.toLowerCase()),this.wz&&this.Tz?this.eB(t):"playable-ad-single-file"===this.$c.iB()?w.bo(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.Az?this.Wz:this.Qz).ec(()=>w.So(t))):w.So(t)}yo(t){return w.do(t)?("flat"===this.yz&&(t=t.toLowerCase()),this.wz&&this.Tz?this.hB(t):"playable-ad-single-file"===this.$c.iB()?w.xo(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.Az?this.Wz:this.Qz).ec(()=>w.yo(t))):w.yo(t)}async Mo(t){const s=await this.yo(t);return JSON.parse(s)}rB(t,s){return"flat"===this.yz&&(t=t.toLowerCase()),this.$c.w7("runtime","cordova-fetch-local-file",{filename:t,as:s})}hB(t){return this.rB(t,"text")}async sB(t){const s=await this.rB(t,"buffer"),i=e(t);return new Blob([s],{type:i})}async nB(t){"flat"===this.yz&&(t=t.toLowerCase());let s=this.Mz.get(t);if(!s){const i=await this.sB(t);s=URL.createObjectURL(i),this.Mz.set(t,s)}return s}eB(t){return this.rB(t,"buffer")}z7(t){"flat"===this.yz&&(t=t.toLowerCase());let s=this.Iz+t;return s="Gecko"===w.ci.Mi&&"preview"===this.$c.iB()?this.oB(s):s}k7(t){return w.fo(t)?Promise.resolve(t):this.wz&&this.Tz?this.nB(t):"playable-ad-single-file"===this.$c.iB()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.yz&&(t=t.toLowerCase()),Promise.resolve(t))}aB(s){if(w.fo(s)||"preview"!==this.$c.iB()||!this.bz||!s)return s;try{const t=new URL(s,location.href);return t.searchParams.set("__c3_client_id",this.bz),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+s),s}}uB(t){return this.k7(t)}lB(t){if(t.cB&&!pr.has(t.cB))throw new Error("invalid load policy");let s=this.Lz.get(t.url);return s||(s=w.er(w.fB,this,{url:t.url,size:t.size||0,cB:t.cB||this.Az}),this.Lz.set(s.dB(),s),this.Pz)||(this.kz+=s.Xl(),this.Rz.push(s.pB().then(()=>this.mB(s.Xl())))),s}gB(t){this.Lz.delete(t.dB())}async yB(){try{await Promise.all(this.Rz),this.jz=1}catch(t){console.error("Error loading: ",t),this.zz=!0,this.Uz()}}MB(){this.Pz=!0}wB(){return this.zz}mB(t){this.Fz+=t,this.Bz.D1()}Uz(){const t=w.er(w.Event,"loadingprogress");this.jz=w.cr(this.Fz/this.kz,0,1),t.progress=this.jz,this.$c.Rf().dispatchEvent(t)}SB(){return this.jz}TB(t){w.Fn(this.Oz,t),this.Oz.length&&this.Rz.push(this.bB())}async bB(){const t=[],s=[];for(const[i,e,h]of this.Oz)this.kz+=h,t.push(this.xB(i,e,s).then(()=>this.mB(h)));await Promise.all(t),this.$c.AN()&&0<s.length&&await this.$c.w7("runtime","load-webfonts",{webfonts:s})}async xB(s,i,e){try{let t=await this.k7(i);"Gecko"===w.ci.Mi&&(s=`'${s}'`),("Gecko"===w.ci.Mi&&"preview"===this.$c.iB()||"playable-ad-single-file"===this.$c.iB())&&(t=this.oB(t));const h=new FontFace(s,`url('${t}')`);(this.$c.AN()?self:document).fonts.add(h),await h.load(),this.$c.AN()&&e.push({name:s,url:t})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${s}': `,t)}}G7(t){return!!this.xz[t]}vB(t,s){this.Cz=!!s;for(const[i,e,h]of t)this.vz.set(i,{fileName:i,CB:e.map(t=>({type:t[0],GB:t[1],IB:i+t[1],fileSize:t[2]})),EB:h})}_B(t){"flat"===this.yz&&(t=t.toLowerCase());const s=this.vz.get(t);if(!s)return null;let i=null;for(const e of s.CB)if(i||"audio/webm; codecs=opus"!==e.type||(i=e),this.G7(e.type))return e;return i}DB(t){const s=this._B(t);return s?{url:this.z7(s.IB),type:s.type}:null}NB(){if(this.Cz){const t=[];for(const s of this.vz.values())if(!s.EB){const i=this._B(s.fileName);i&&t.push({AB:s.fileName,url:this.z7(i.IB),type:i.type,fileSize:i.fileSize})}return t}return[]}LB(t){return"preview"===this.$c.iB()&&(t=new URL(t,location.href).toString()),this.Dz.get(t)||null}oB(t){let s=this.Nz.get(t);if(!s){const i=this.LB(t);if(!i)return t;s=URL.createObjectURL(i),this.Nz.set(t,s)}return s}SN(){return this.Jz}async V7(...t){const s=await Promise.all(t.map(t=>this.k7(t)));if(this.$c.AN())if(1===t.length){const i=t[0];await self.c3_import((w.do(i)?"./":"")+i)}else{const e=t.map(t=>`import "${w.do(t)?"./":""}${t}";`).join("\n"),h=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));await self.c3_import(h)}else await Promise.all(s.map(t=>r(t)))}async H7(t){if(WebAssembly.compileStreaming){const s=await this.k7(t);return WebAssembly.compileStreaming(fetch(s))}{const i=await w.So(t);return WebAssembly.compile(i)}}async Z7(t){const s=await this.k7(t);return this.$c.w7("runtime","add-stylesheet",{url:s})}}}{const gr=self.js;gr.OB=class extends gr.tr{constructor(t,s){super(),this.RB=t,this.$c=t.N7(),this.PB=s.url||"",this.kB=s.size,this.jB=s.cB,this.zB=s.blob||null,this.BB=!!this.zB,this.Ng=null}hr(){this.Ng=null,this.RB=null,this.$c=null,this.zB=null}dB(){return this.PB}Xl(){return this.kB}pB(){return"local"===this.jB||this.zB?(this.BB=!0,Promise.resolve()):(this.Ng||(this.Ng=this.RB.wo(this.PB,this.jB).then(t=>(this.BB=!0,this.Ng=null,this.zB=t)).catch(t=>{console.error("Error loading resource: ",t),this.Ng=null})),this.Ng)}UB(){return this.BB}WB(){return this.zB?Promise.resolve(this.zB):this.Ng||this.RB.wo(this.PB,this.jB)}}}{const yr=self.js,Mr=new yr.n1,wr=new Set;yr.fB=class extends yr.OB{constructor(t,s){super(t,s),this.QB=null,this.JB=null,this.ud=0,this.VB=-1,this.YB=-1,wr.add(this)}hr(){if(0!==this.ud)throw new Error("released image asset which still has texture references");this.RB.gB(this),this.QB=null,wr.delete(this),super.hr()}static HB(){for(const t of wr)t.QB=null,t.JB=null,t.ud=0}Wj(t,s){return s=s||{},this.ud++,this.JB?Promise.resolve(this.JB):(this.QB||(s.cS=this.$c.Yk().qB(),this.QB=this.ZB(t,s)),this.QB)}async ZB(s,i){try{const e=await this.WB();return 0===this.ud?this.QB=null:await Mr.ec(async()=>{const t=await s.fE(e,i);return this.QB=null,0===this.ud?(s.y5(t),null):(this.JB=t,this.VB=t.$p(),this.YB=t.dm(),this.JB)})}catch(t){throw console.error("Failed to load texture: ",t),t}}mv(){if(this.ud<=0)throw new Error("texture released too many times");if(this.ud--,0===this.ud&&this.JB){const t=this.JB.Nw();t.y5(this.JB),this.JB=null}}XB(){return this.ud}x5(){return this.JB}$p(){return this.VB}dm(){return this.YB}async KB(){const t=await this.WB();return yr.ji.ImageBitmap?createImageBitmap(t):yr.Co(t)}}}{let t=function(t,s){return t.l7().$B()-s.l7().$B()};t;const Sr=self.js;Sr.tU=class extends Sr.tr{constructor(t,s,i){super(),this.sU=t,this.Ya=s,this.Ha=i,this.iU=[],this.eU=!0,this.hU=new Set,this.rU=!1}hr(){Sr.On(this.iU),this.hU.clear(),this.sU=null}i0(){Sr.On(this.iU),this.eU=!0,this.hU.clear(),this.rU=!1}nU(){this.eU=!1}Hl(){if(this.iU.length){if(this.iU.length>this.hU.size)return!1;this.oU()}return!0}aU(t){this.hU.has(t)?(this.hU.delete(t),0===this.hU.size&&(this.rU=!1)):(this.iU.push(t),this.eU=1===this.iU.length)}p0(t){this.hU.add(t),this.rU=!0,50<=this.hU.size&&this.oU()}oU(){this.rU&&(this.iU.length===this.hU.size?this.i0():(Sr.Wn(this.iU,this.hU),this.hU.clear(),this.rU=!1))}uU(){this.eU||(this.iU.sort(t),this.eU=!0)}lU(t){this.oU(),this.uU(),this.iU.length&&t.push(this.iU)}}}{const Tr=self.js;Tr.cU=class extends Tr.tr{constructor(t,s){super(),this.fU=t,this.dU=s,this.pU=Tr.er(Tr.Jl)}hr(){this.pU.hr(),this.pU=null}mU(t,s,i){let e=this.pU.hi(t,s);return e||(i?(e=Tr.er(Tr.tU,this,t,s),this.pU.Set(t,s,e),e):null)}gU(t){return Math.floor(t/this.fU)}yU(t){return Math.floor(t/this.dU)}MU(e,h,r){if(h)for(let i=h.gu(),t=h.Mu();i<=t;++i)for(let t=h.yu(),s=h.wu();t<=s;++t)if(!r||!r.Uu(i,t)){const n=this.mU(i,t,!1);n&&(n.p0(e),n.Hl())&&this.pU.ql(i,t)}if(r)for(let i=r.gu(),t=r.Mu();i<=t;++i)for(let t=r.yu(),s=r.wu();t<=s;++t)h&&h.Uu(i,t)||this.mU(i,t,!0).aU(e)}wU(t,s){let i=this.gU(t.gu()),e=this.yU(t.yu()),h=this.gU(t.Mu()),r=this.yU(t.wu());for(;i<=h;++i)for(let t=e;t<=r;++t){const n=this.mU(i,t,!1);n&&n.lU(s)}}SU(t){let s=t.gu(),i=t.yu(),e=t.Mu(),h=t.wu();for(;s<=e;++s)for(let t=i;t<=h;++t){const r=this.mU(s,t,!1);r&&r.nU()}}}}{let n=function(t,s){return t.l7().$B()-s.l7().$B()},t=function(t,s){return t.l7().d4()-s.l7().d4()};n,t;const S=self.js,br=new S.Rect,xr=new S.Vu,vr=[],Cr=(new S.Rect,new S.Rect,self.ys),vh=Cr.Cs,Uh=Cr.Gs,xh=Cr.Ts,Gr=xh.create(),Ir=vh.create(),Er=Uh.create(),_r=vh.create(),Dr=vh.create(),Nr=vh.create(),Ar=S.er(S.Va),Lr=(S.er(S.Rect),[]),Or=[],Rr=[],Pr={name:"",sid:-1,TU:!1,isVisible:!0,oO:!0,lO:!1,backgroundColor:[1,1,1,1],CO:!0,bU:[1,1],opacity:1,EO:!1,xU:!1,vU:!1,CU:!1,scaleRate:1,gD:0,vO:0,GU:[],IU:[],EU:[]};S._U=class extends S.tr{constructor(t,s,i){super(),i=Object.assign({},Pr,i),this.DU=t,this.$c=t.N7(),this.NU=s,this.ur=i.name,this.Bg=-1,this.AU=!!i.lO,this.LU=-1,this.OU=i.sid,this.RU=!!i.TU,this.PU=!!i.isVisible,this.kU=!!i.oO,this.FU=S.er(S.Fo),this.FU.Ra(i.backgroundColor),this.jU=!!i.CO,this.zU=i.bU[0],this.BU=i.bU[1],this.Hw=S.er(S.Fo,1,1,1,i.opacity),this.UU=S.er(S.Fo),this.WU=!!i.EO,this.QU=!!i.xU,this.JU=!!i.vU,this.VU=!!i.CU,this.YU=i.scaleRate,this.Yw=i.gD,this.HU=null,this.qU=1,this.qw=i.vO,this.ZU=0,this.XU=0,this.KU=0,this.$U=!1,this.uG=S.er(S.Rect),this.tW=S.er(S.Rect),this.sW=S.er(S.Rect),this.iW=!0,this.o5=xh.create(),this.eW=!0,this.iD=xh.create(),this.hW=!0,this.rW=S.er(S.Hg.Kg),this.nW=!0,this.oW=[],this.aW=i.GU,this.uW=[],this.lW=[],this.cW=new Map,this.iU=[],this.fW=!1,this.dW=!1,this.pW=!1;const h=this.$c.Yk();this.mW=S.er(S.gW,this,i.IU),this.dN=S.er(S.Hg.f_,h.yW(),{s_:(t,s)=>{const i=s.rN(),e=i.aE();t.Kw(i.MW()),t.gE(e),t.yE(e),h.wW(e)},e_:t=>this.d6().SW(t)}),this.TW=!0,this.bW=!0,this.xW=null,this.vW=[],this.GW=!1,this.IW=S.er(S.Rect,0,0,-1,-1),this.EW=S.er(S.Rect,0,0,-1,-1),this._W=new self.L6(this),this.DW(),this.NW()&&(this.xW=S.er(S.cU,this.$c.ON(),this.$c.PN())),this.AW=i.EU.map(t=>S._U.LW(this.DU,this,t))}OW(){for(const t of this.aW){const s=this.$c.RW(t[1]);this.DU.PW(s),s.kW()||(s.FW(t),s.jW(this.Bg)),this.uW.push(t),this.cW.set(t[2],t)}S.Fn(this.oW,this.uW),this.aW=null}static LW(t,s,i){return S.er(S._U,t,s,{name:i[0],sid:i[2],isVisible:i[3],oO:i[13],lO:i[19],backgroundColor:i[4].map(t=>t/255),CO:i[5],bU:[i[6],i[7]],opacity:i[8],EO:i[9],xU:i[17],vU:i[18],CU:i[10],scaleRate:i[11],gD:i[12],vO:i[16],GU:i[14],IU:i[15],EU:i[20]})}hr(){for(const t of this.AW)t.hr();S.On(this.AW);for(const s of this.iU)this.$c.e8(s);S.On(this.iU),this.mW.hr(),this.mW=null,this.dN.hr(),this.dN=null,this._W=null,this.NU=null,this.DU=null,this.$c=null}zW(t){return this.cW.get(t)}BW(h){let r=this.DU.UW(),n=0,o=this.uW;for(let e=0,t=o.length;e<t;++e){let t=o[e],s=this.$c.RW(t[1]),i=!0;if(!s.WW()||r){const a=this.$c.QW(t,this,!0);h.push(a),s.JW()&&(i=!1,this.lW.push(a.l8()))}i&&(o[n]=o[e],++n)}S.Ln(o,n),this.$c.c6(),this.g7()}VW(t,s){if(!t.WL().SL())throw new Error("instance is not of world type");const i=t.l7();if(i.c7()!==this)throw new Error("instance added to wrong layer");this.iU.push(t),0!==i.d4()&&(this.pW=!0),s&&this.NW()&&t.l7().lR(),this.g7(t)}YW(t){this.iU.includes(t)||(this.iU.push(t),0!==t.l7().d4()&&(this.pW=!0),this.g7(t))}HW(t,s){const i=t.l7();if(i.c7()!==this)throw new Error("instance added to wrong layer");this.iU.unshift(t),0!==i.d4()&&(this.pW=!0),this.g7(t),s&&this.NW()&&t.l7().lR()}qW(t,s){const i=this.iU.indexOf(t);i<0||(s&&this.NW()&&t.l7().ZW(),this.iU.splice(i,1),this.g7(t),this.XW())}KW(){this.pW=!0}XW(){0===this.iU.length&&(this.pW=!1)}$W(t){if(t){const s=new Set;for(const i of this.iU){const e=i.l7().$B();0<=e&&s.add(e)}let t=-1;for(const h of this.iU){const r=h.l7();if(!(0<=r.$B())){for(++t;s.has(t);)++t;r.tQ(t)}}}this.iU.sort(n)}sQ(){}iQ(){for(const t of this.iU)t.ZO().JW()||this.$c.e8(t);this.$c.c6(),S.On(this.iU),this.pW=!1,this.g7()}eQ(s,t,i,e,h,r){const n=this.$c.VN(),o=this.$c.hQ(),a=s.rQ(),u=[];for(const l of this.uW){const c=l[0],f=c[0],d=c[1];if(t.Uu(f,d)){const p=o[l[1]];if(p!==s){if(!a)continue;if(!s.nQ(p))continue}let t=h;if(!t){const y=this.$c.a7();t=this.JA()===y?this:(t=y.oQ(this.Jc()))||y.d7(this.yN())}const m=this.$c.QW(l,t,!1,void 0,void 0,!1,r),g=(t.n6(m),m.l7());g.pR(i,e),g.lR(),n.o6(!0),m.a6(),n.o6(!1),u.push(m)}}return u}e6(){return this.iU.length}JA(){return this.DU}Jc(){return this.ur}aQ(t){this.Bg=t}yN(){return this.Bg}uQ(t){this.LU=t}nF(){return this.LU}cO(){return this.AU}fO(t){this.AU!==(t=!!t)&&(this.AU=t,this.DU.lQ(),this.$c.y7())}cQ(){let t=-1,s=this.Z6();return t=(s?s.tO():this.JA().fQ()).indexOf(this)}dQ(){return this.OU}N7(){return this.$c}pQ(){return this.RU}mQ(){for(const t of this.X6())if(t.pQ())return!0;return!1}gQ(){return this.$c.gQ()}d6(){return this.mW}gN(){return this.yQ(),this.dN}yQ(){const t=this.MQ();if(this.TW||t!==this.bW||this.dN.eD()){const s=this.d6().wQ();this.dN.hD(s.map(t=>t.V3()),{r_:s.map(t=>t.yN()),n_:!t,c_:!0}),this.TW=!1,this.bW=t}}XP(){this.d6().XP(),this.TW=!0}NW(){return this.VU&&!this.JU}SQ(){return this.xW}TQ(){this.GW=!1}nO(){for(const t of this.bQ())if(!t.eO())return!1;return!0}eO(){return this.PU}hO(t){this.PU!==(t=!!t)&&(this.PU=t,this.$c.y7())}uO(t){this.kU=!!t}aO(){return this.kU}pO(){for(const t of this.bQ())if(!t.aO())return!1;return!0}LO(t){if(this.$U!==(t=!!t)){if(this.$U=t){const s=this.JA();this.XU=s.x6(),this.KU=s.C6()}this.xQ(),this.$c.y7()}}vQ(){return this.$U}b6(t){const s=this.JA(),i=s.CQ(),e=s.GQ();this.XU!==(t=(t=e<t?e:t)<i?i:t)&&(this.XU=t,this.vQ())&&(this.xQ(),this.$c.y7())}v6(t){const s=this.JA(),i=s.IQ(),e=s.EQ();this.KU!==(t=(t=e<t?e:t)<i?i:t)&&(this.KU=t,this.vQ())&&(this.xQ(),this.$c.y7())}x6(){return this.vQ()?this.XU:this.JA().x6()}C6(){return this.vQ()?this.KU:this.JA().C6()}RO(){return this._Q(),this.uG}DQ(){return this._Q(),this.tW}NQ(){return this._Q(),this.sW}J6(){const t=this.JA();return[t.AQ(),t.LQ()]}ny(t){return this.$c.ny(t)}OQ(l,e){const h=this.DQ();if(0===l)e.C(h);else{let n=h.vu(),o=h.Cu(),t=this.RQ(l),s=h.width()/t,i=h.height()/t,[a,u]=this.J6();if(.5!==a||.5!==u){let t=this.PQ(),s=this.$c,i=this.ny()/t,e=(a-.5)*s.kQ()/i,h=(u-.5)*s.FQ()/i,r=this.T6();0!==r&&(Ar.set(e,h),Ar.rotate(r),e=Ar.Xa(),h=Ar.$a());const c=S.Er(t,0,l);n+=S.Lt(e,0,c),o+=S.Lt(h,0,c)}e.set(n-s/2,o-i/2,n+s/2,o+i/2)}}xI(){return this.Hw.ia()}CI(t){t=S.cr(t,0,1),this.Hw.ia()!==t&&(this.Hw.Zo(t),this.DW(),this.$c.y7())}DW(){this.UU.C(this.Hw),this.UU.da()}MW(){return this.UU}MQ(){return this.Hw.ua(1,1,1,1)}MO(){return this.YU}yO(t){this.YU!==t&&(this.YU=t,this.xQ(),this.$c.y7())}TO(){return this.zU}xO(){return this.BU}jQ(t,s){this.zU===t&&this.BU===s||(this.zU=t,this.BU=s,this.xQ(),this.$c.y7())}SO(t){this.jQ(t,this.xO())}bO(t){this.jQ(this.TO(),t)}m4(t){this.qw!==t&&(this.qw=t,this.$c.y7())}d4(){return this.qw}S6(t){t=S.dr(t),this.ZU!==t&&(this.ZU=t,this.xQ(),this.$c.y7())}T6(){return S.dr(this.DU.T6()+this.ZU)}wO(){return this.ZU}zQ(){return 0<this.iU.length}p7(){return this.iU}BQ(){return this.UQ()&&this.JU?(S.Fn(Rr,this.p7()),Rr.sort((t,s)=>this.WQ(t,s)),Rr):this.p7()}QQ(t){S.Jh(t,this.BQ());for(const s of this.AW)s.nO()&&0<s.xI()&&s.QQ(t)}WQ(t,s){const i=this.JA().JQ(),e=i[0],h=i[1],r=i[2],n=t.l7(),o=s.l7(),a=n.a4()-e,u=n.c4()-h,l=n.d4()-r,c=o.a4()-e,f=o.c4()-h,d=o.d4()-r;return c*c+f*f+d*d-(a*a+u*u+l*l)}AO(){return this.FU}IO(){return this.jU}GO(t){this.jU!==(t=!!t)&&(this.jU=t,this.$c.y7())}DO(){return this.WU}_O(t){this.WU!==(t=!!t)&&(this.WU=t,this.$c.y7())}VQ(){return!this.N7().YQ()||!this.QU}UQ(){return!this.VQ()}HQ(){return this.UQ()&&this.JA().qQ()}ZQ(){if(!this.HQ())return!1;for(const t of this.AW)if(!t.ZQ())return!1;return!0}Xw(t){this.Yw!==t&&(this.Yw=t,this.$c.y7())}NO(){return this.Yw}XQ(){return!this.NU}Z6(){return this.NU}KQ(t){this.NU=t}tO(){return this.AW}$Q(){return 0<this.AW.length}tJ(t,s=!0){s?this.AW.push(t):this.AW.unshift(t)}sJ(t,s,i){let e=this.AW.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.AW.splice(e,0,t)}iJ(t){const s=this.AW.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.AW.splice(s,1)}eJ(){for(const t of this.AW)if(t.hJ())return!0;return!1}*iO(){for(const t of this.AW)yield*t.iO();yield this}*X6(){let t=this.Z6();for(;t;)yield t,t=t.Z6()}*bQ(){yield this,yield*this.X6()}rJ(t){for(const s of this.X6())if(s===t)return!0;return!1}nJ(t){return this===t||this.zU===t.zU&&this.BU===t.BU&&this.qU===t.qU&&this.YU===t.YU&&this.ZU===t.ZU&&this.x6()===t.x6()&&this.C6()===t.C6()}oJ(){return{parallaxX:this.TO(),parallaxY:this.xO(),scale:this.gO(),scaleRate:this.MO(),angle:this.wO(),hasOwnScroll:this.vQ(),scrollX:this.x6(),scrollY:this.C6()}}aJ(t){this.jQ(t.parallaxX,t.parallaxY),this.mO(t.scale),this.yO(t.scaleRate),this.S6(t.angle),this.LO(t.hasOwnScroll),this.b6(t.scrollX),this.v6(t.scrollY),this._Q()}uJ(t){if(0!==t.size){const s=S.Wn(this.iU,t);0<s&&(this.XW(),this.g7())}}g7(t){this.fW=!1,this.GW=!1,t&&!t.ZO().WL().bL()||(this.dW=!1)}lJ(){if(!this.fW){if(this.iU.sort(t),this.NW())for(let t=0,s=this.iU.length;t<s;++t){const i=this.iU[t].l7();i.tQ(t),this.xW.SU(i.cJ())}else for(let t=0,s=this.iU.length;t<s;++t)this.iU[t].l7().tQ(t);this.fW=!0}}fJ(){if(!this.dW){let t=this.DU.dJ(this.nF()),s=t.map(t=>[...t.iO()]).flat(),i=0;for(const e of s){for(const h of e.p7())h.ZO().WL().bL()&&h.l7().pJ(i++);e.mJ()}}}mJ(){this.dW=!0}gJ(t,s,i){const e=t.l7(),h=s.l7();if(e.c7()!==this||h.c7()!==this)throw new Error("can't arrange Z order unless both objects on this layer");let r=e.f7(),n=h.f7();return r!==n+(i?1:-1)&&(S.jn(this.iU,r),r<n&&n--,i&&n++,n===this.iU.length?this.iU.push(t):this.iU.splice(n,0,t),this.g7(t),!0)}yJ(t,s){let i=[],e=0,h=0,r=t.length,n=s.length;for(;e<r&&h<n;){const o=t[e],a=s[h];o.l7().$B()<a.l7().$B()?(i.push(o),++e):(i.push(a),++h)}for(;e<r;++e)i.push(t[e]);for(;h<n;++h)i.push(s[h]);return i}MJ(s){const i=[],e=s.length;for(let t=0;t<e-1;t+=2){const h=s[t],r=s[t+1];i.push(this.yJ(h,r))}return e%2==1&&i.push(s[e-1]),i}wJ(t){for(;1<t.length;)t=this.MJ(t);return t[0]}SJ(){return this.lJ(),S.On(vr),this.xW.wU(this.RO(),vr),vr.length?1===vr.length?vr[0]:this.wJ(vr):[]}hJ(){return this.nO()&&0<this.xI()&&this.TJ()}TJ(){if(this.zQ()||!this.IO())return!0;for(const t of this.AW)if(t.TJ())return!0;return!1}bJ(){return this.DO()||!this.MQ()||0!==this.NO()||this.mW.xJ()}vJ(){if(this.bJ())return!0;for(const t of this.AW)if(t.vJ())return!0;return!1}aE(){return this.HU}RQ(t){if(this.DU.H6())return 1;{const s=this.CJ();return s/(s-t)}}GJ(t){const s=this.$c.YO();if(this.DU.H6())return s;{const i=this.CJ(),e=this.ny();return e/Math.abs(i-t)*s}}xQ(){this.hW=!0,this.nW=!0,this.iW=!0}IJ(t){return this.hW&&(this.EJ(t,this.iD,0,0,null),this.hW=!1),this.iD}PQ(t){return this.ny(t)/this._J()}CJ(){return this.HQ()?this.JA().JQ()[2]:this.PQ()}DJ(){if(this.HQ()){const t=this.JA().JQ();return[t[0],t[1],t[2]]}return this.NJ()}NJ(t=0,s=0,h=0){let r=this.$c,i=this.JA(),e=r.AJ(),n=r.LJ(),o=(this.x6()-e)*this.zU+e,a=(this.C6()-n)*this.BU+n,u=(r.jN()&&(o=Math.round(o),a=Math.round(a)),o+t),l=a+s,c=i.H6()?this.ny(h):this.PQ(h),[f,d]=this.J6();if(.5!==f||.5!==d){let t=this.ny(h)/c,s=(f-.5)*r.kQ()/t,i=(d-.5)*r.FQ()/t,e=this.T6();0!==e&&(Ar.set(s,i),Ar.rotate(e),s=Ar.Xa(),i=Ar.$a()),u+=s,l+=i}return[u,l,c]}EJ(t,s,i,e,h){const r=this.$c,n=this.JA();if(this.HQ()){vh.C(_r,n.JQ()),vh.C(Dr,n.OJ()),vh.C(Nr,n.RJ());const o=r.AJ(),a=r.LJ(),u=Dr[0]-_r[0],l=Dr[1]-_r[1],c=Dr[2]-_r[2];_r[0]=(_r[0]-o)*this.zU+o,_r[1]=(_r[1]-a)*this.BU+a,_r[2]*=Math.max(this.zU,this.BU),Dr[0]=_r[0]+u,Dr[1]=_r[1]+l,Dr[2]=_r[2]+c}else{const[f,d,p]=this.NJ(i,e,h),m=(vh.set(_r,f,d,p),vh.set(Dr,f,d,p-100),this.T6());0===m?vh.set(Nr,0,1,0):vh.set(Nr,Math.sin(m),Math.cos(m),0)}t.Iy(s,_r,Dr,Nr,h||r.FQ())}PJ(){this.eW=!0,this.nW=!0,this.iW=!0}kJ(t){return this.eW&&(this.FJ(t),this.eW=!1),this.o5}FJ(t){const s=this.$c.Yk(),[i,e]=this.J6();if(this.DU.H6())t.Gy(this.o5,s.jJ(),s.zJ());else if(.5===i&&.5===e)xh.C(this.o5,s.BJ());else{const h=s.jJ(),r=s.zJ();t.vy(this.o5,h/r,i,e)}}$j(t,s=!0,i=0,e=0,h=0){s&&t.fI(this.kJ(t));let r=null;r=0===i&&0===e&&0===h?this.IJ(t):(this.EJ(t,Gr,i,e,h),Gr),t.MI(r)}UJ(t){this.$j(t),t.cM(this.d4())}WJ(t){let s=null;if(t.lw()&&this.$c.QJ()){const i=this.$c.Yk().JJ(this);i&&(s=i.ZC(),t.xE(s))}return s}VJ(t){if(t.Cy()&&this.$c.QJ()){const s=2*(this.yN()+1);t.StartMeasuringRenderPassTime(s,1+s)}}K4(t,s,i){let e=this.$c.Yk(),h=this.bJ(),r=null,n=this.WJ(t);if(this.VJ(t),h){const o={lS:this.$c.kN(),qS:!0,YJ:!!t.Cy()&&this.$c.HJ()};"low"===e.qJ()&&(o.width=e.jJ(),o.height=e.zJ()),r=this.$c.ZJ(o),this.HU=r,t.pE(r),this.IO()&&t.sE(0,0,0,0)}else this.HU=s,t.pE(s);if(this.IO()||t.Yl(this.FU),this.DU.XJ(t,this.HU,this.AW,h&&this.IO()),this.VJ(t),this.$j(t),t.cM(this.d4()),t.hE(this.UQ()),this._J()>Number.EPSILON){this.lJ();const a=this.NW()&&0===this.d4()&&!this.pW;this.HQ()?this.KJ(t):a?this.$J(t):this.tV(t,this.BQ())}t.cM(0),t.dM(0),h&&(t.hE(!1),this.sV(t,r,s,i)),n&&t.CE(n),this.HU=null}tV(i,e){let h=this.RO(),r=this.HU,n=this.JA().H6(),o=this.JA().iV(),a=null;for(let t=0,s=e.length;t<s;++t){const u=e[t];if(u!==a){const l=(a=u).l7();l.nO()&&l.eV(h,o,n)&&this.hV(u,l,i,r)}}}KJ(e){const h=this.HU,r=this.rV(),n=Lr,o=Or,a=this.BQ();for(let s=0,i=a.length;s<i;){const u=a[s],l=u.l7();if(l.nO()&&l.nV(r)){(!u.oV()||0<l.aV())&&o.push(u);const c=u.l7().gR();n.push(u);let t=s+1;for(;t<i;++t){const f=a[t],d=f.l7();if(d.nO()&&d.nV(r)){if(d.gR()!==c)break;(f.oV()?(0<d.aV()&&o.push(f),n):o).push(f)}}if(1!==n.length||n[0].uV()){this.lV(e,n);for(let t=0,s=o.length;t<s;++t){const p=o[t],m=p.l7();m.cV(!0),this.hV(p,m,e,h),m.cV(!1)}}else{this.hV(u,l,e,h);for(let t=0,s=o.length;t<s;++t){const g=o[t];if(g!==u){const y=g.l7(),M=y.c7();M.hV(g,y,e,h)}}}s=t,S.On(n),S.On(o)}else++s}}lV(i,e){const h=this.HU;i.wE();for(let t=0,s=e.length;t<s;++t){const r=e[t],n=r.l7();n.fV(!0),this.dV(r,n,i)}i.SE();for(let t=0,s=e.length;t<s;++t){const o=e[t],a=o.l7();this.hV(o,a,i,h),a.fV(!1)}i.bE()}$J(t){let s=this.xW,i=this.EW,e=this.IW,h=this.RO(),r;i.set(s.gU(h.gu()),s.yU(h.yu()),s.gU(h.Mu()),s.yU(h.wu())),this.GW&&i.equals(e)?r=this.vW:(r=this.SJ(),this.GW=!0,e.C(i)),this.tV(t,r),r!==this.vW&&S.Fn(this.vW,r)}hV(t,s,i,e){s.xJ()?this.pV(t,s,i,e):this.dV(t,s,i)}dV(t,s,i){const e=s.mV();i.Hy()!==e&&e.Zw(),t.K4(i)}pV(t,s,i,e){this.gV(t,s,i,e,null)&&this.$j(i)}gV(t,s,i,e,h){const r=s.aR().gN();return r.pD(i,e,{mD:t,gD:s.NO(),devicePixelRatio:this.$c.yV(),time:t.MV(),yD:this.$c.wV()*this._J(),MD:this.T6(),jD:s.MR(),zD:r.eN()?null:this.SV(s),xD:h&&h.xD,vD:h&&h.vD,CD:h&&h.CD,GD:h&&h.GD}),i.cM(this.d4()),r.SI()}sV(t,s,i,e){const h=this.mW.wQ(),r=this.$c;0===h.length?(t.pE(i),t.Ly(),e&&0===this.Yw&&this.MQ()?t.mE(s):(t.Xw(this.Yw),t.Kw(this.UU),t.gE(s)),t.yE(s),r.wW(s)):this.gN().pD(t,i,{mD:this,gD:this.NO(),devicePixelRatio:r.yV(),yD:r.wV()*this._J(),MD:this.T6(),jD:this.RO(),zD:null,h_:!0})}gO(){return this.qU}mO(t){this.qU!==t&&(this.qU=t,this.DU.TV(),this.xQ(),this.$c.y7())}YO(){return this._J()*this.$c.YO()}gF(){return this._J()*this.$c.gF()}_J(){return(this.qU*this.DU.w6()-1)*this.YU+1}_Q(){if(this.iW){this.iW=!1;let t=this.$c.AJ(),s=this.$c.LJ(),i=(this.x6()-t)*this.zU+t,e=(this.C6()-s)*this.BU+s,h=this._J(),r=this.$c.kQ()/h,n=this.$c.FQ()/h,o=i-r/2,a=e-n/2;this.$c.jN()&&(o=Math.round(o),a=Math.round(a));const u=this.tW,l=(u.set(o,a,o+r,a+n),this.T6()),c=(0!==l&&(br.C(u),br.offset(-u.vu(),-u.Cu()),xr.pl(br,l),xr.gl(br),br.offset(u.vu(),u.Cu()),u.C(br)),this.qw);this.OQ(c,this.uG),this.HQ()?this.bV(c,this.sW):this.sW.C(this.uG)}}bV(t,s){let i=this.$c.Yk(),e=i.pF(),h=i.mF(),[r,n]=this.kO(0,0,t),[o,a]=this.kO(e,0,t),[u,l]=this.kO(e,h,t),[c,f]=this.kO(0,h,t),d=Math.min(r,o,u,c),p=Math.min(n,a,l,f),m=Math.max(r,o,u,c),g=Math.max(n,a,l,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}kO(t,s,i=0){return this.xV(t,s,i,this.gF())}WO(t,s,i=0){return this.xV(t,s,i,this.YO()*this.gQ())}xV(t,s,i,e){const h=this.$c,r=h.Nw(),n=this._J(),o=h.kQ()/n,a=h.FQ()/n,u=Er,l=(Uh.set(u,0,0,o,a),t/=e,s=u[3]-s/e,this.kJ(r)),c=this.IJ(r),f=Ir,d=S.Hg.Xg(t,s,i,c,l,u,f);return d?[f[0],f[1]]:[NaN,NaN]}vV(t,s){const i=this.qU,e=this.YU,h=this.zU,r=this.BU,n=this.ZU,o=(this.qU=1,this.YU=1,this.zU=1,this.BU=1,this.ZU=0,this.xQ(),this.kO(t,s));return this.qU=i,this.YU=e,this.zU=h,this.BU=r,this.ZU=n,this.xQ(),o}BO(t,s,i=0){return this.CV(t,s,i,this.gF())}JO(t,s,i=0){return this.CV(t,s,i,this.YO()*this.gQ())}CV(t,s,i,e){const h=this.$c,r=h.Nw(),n=this._J(),o=h.kQ()/n,a=h.FQ()/n,u=Er,l=(Uh.set(u,0,0,o,a),this.kJ(r)),c=this.IJ(r),f=Ir,d=S.Hg.qg(t,s,i,c,l,u,f);return d?[f[0]*e,(u[3]-f[1])*e]:[NaN,NaN]}GV(t,s){return t*=this.YO()*this.gQ(),0!==s&&(t*=this.RQ(s)),t}SV(t){const s=t.MR(),i=t.gR(),e=t.aV(),u=i+e,l=s.gu(),c=s.yu(),f=s.Mu(),d=s.wu();if(this.HQ()){if(this.IV(l,c,i)||this.IV(f,c,i)||this.IV(f,d,i)||this.IV(l,d,i))return null;if(0<e&&(this.IV(l,c,u)||this.IV(f,c,u)||this.IV(f,d,u)||this.IV(l,d,u)))return null}else if(u>=this.PQ())return null;let[p,m]=this.JO(l,c,i),[g,y]=this.JO(f,d,i);if(0!==this.T6()||0<e||this.HQ()){const[M,w]=this.JO(f,c,i),[S,T]=this.JO(l,d,i);if(0<e){let[t,s]=this.JO(l,c,u),[i,e]=this.JO(f,c,u),[h,r]=this.JO(f,d,u),[n,o]=this.JO(l,d,u),a=Math.min(p,g,M,S,t,i,h,n);g=Math.max(p,g,M,S,t,i,h,n),p=a,a=Math.min(m,y,w,T,s,e,r,o),y=Math.max(m,y,w,T,s,e,r,o),m=a}else{let t=Math.min(p,g,M,S);g=Math.max(p,g,M,S),p=t,t=Math.min(m,y,w,T),y=Math.max(m,y,w,T),m=t}}return br.set(p,m,g,y),br}rV(){return this.nW&&(this.EV(),this.nW=!1),this.rW}EV(){const t=this.$c.Nw(),s=this.kJ(t),i=this.IJ(t);this.rW.n2(i,s)}IV(t,s,i){return this.rV().a2(t,s,i)}_V(){const t={d:this.pQ(),s:this.gO(),a:this.wO(),v:this.eO(),i:this.aO(),html:this.cO(),bc:this.FU.toJSON(),t:this.IO(),sx:this.XU,sy:this.KU,hosp:this.$U,px:this.TO(),py:this.xO(),c:this.Hw.toJSON(),sr:this.MO(),fx:this.mW.b4(),cg:this.lW};return t}DV(t){this.RU=!!t.d,this.qU=t.s,this.ZU=t.a,this.PU=!!t.v,this.kU=!t.hasOwnProperty("i")||t.i,this.AU=!!t.html,this.FU.Ra(t.bc),this.jU=!!t.t,t.hasOwnProperty("sx")&&(this.XU=t.sx),t.hasOwnProperty("sy")&&(this.KU=t.sy),t.hasOwnProperty("hosp")&&(this.$U=!!t.hosp),this.zU=t.px,this.BU=t.py,this.Hw.Ra(t.c),this.DW(),this.YU=t.sr,S.Fn(this.lW,t.cg),S.Fn(this.uW,this.oW);let i=new Set(this.lW),e=0;for(let t=0,s=this.uW.length;t<s;++t)i.has(this.uW[t][2])||(this.uW[e]=this.uW[t],++e);S.Ln(this.uW,e),this.mW.x4(t.fx),this.TW=!0}NV(){this.$W(!1),this.g7(),this.xQ(),this.PJ()}E6(){return this._W}n6(t,s=!1){if(this.iU.includes(t))s&&this.iU.sort((t,s)=>{const i=t.l7().AV(),e=s.l7().AV();return i-e});else if(t.LV()){const i=[...t.VR()];i.push(t),i.sort((t,s)=>{const i=t.l7().AV(),e=s.l7().AV();return i-e});for(const e of i)if(e.a8())for(const h of e.u8())if(!i.includes(h)){const r=[...h.VR()];r.push(h),r.sort((t,s)=>{const i=t.l7().AV(),e=s.l7().AV();return i-e}),r&&r.length&&i.splice(i.length,0,...r)}for(const n of i)n.WL().SL()&&this.VW(n,!0)}else if(t.WL().SL()&&this.VW(t,!0),t.a8())for(const o of t.u8()){const a=[...o.VR()];if(a.push(o),a.sort((t,s)=>{const i=t.l7().AV(),e=s.l7().AV();return i-e}),a&&a.length)for(const u of a)u.WL().SL()&&this.VW(u,!0)}}}}{let u=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},T=function(t,s){I!==t&&(t.UJ(s),I=t)},b=(u,T,self.js),e=self.C3Debugger,h=(b.er(b.Rect),b.er(b.Rect),b.er(b.Rect)),x=b.er(b.Fo),t=self.ys,l=t.Cs,a=[],v=[],C=[],G=[],I=null;b.OV=class extends b.tr{constructor(t,s,i){super(),this.RV=t,this.$c=t.N7(),this.ur=i[0],this.PV=i[1],this.kV=i[2],this.Bm=i[1],this.Um=i[2],this.FV=!!i[3],this.jV=!!i[4],this.zV=i[5],this.BV=i[6],this.UV=i[7],this.WV=null,this.OU=i[8],this.Bg=s,this.XU=0,this.KU=0,this.qU=1,this.ZU=0,this.QV=new Set,this.JV=new Set,this.VV=new Set,this.YV=[],this.HV=[],this.qV=new Map,this.ZV=new Map,this.XV=[],this.KV=!1,this.$V=l.create(),this.tY=l.create(),this.sY=l.create(),this.iY=[],this.eY=[],this.hY=new Map,this.rY=new Map,this.nY=-1;const h=this.$c.Yk();this.mW=b.er(b.gW,this,i[11]),this.dN=b.er(b.Hg.f_,h.yW(),{s_:(t,s)=>{const i=s.rN(),e=i.aE();t.GI(),t.gE(e),t.yE(e),h.wW(e)},e_:t=>this.d6().SW(t)}),this.TW=!0,this.aY=!1,this.HU=null,this.uY={},this.lY=new Map,this.cY=!0,this.fY=new self.f6(this),this.dY=b.er(b.Event.Rf);for(const e of i[9])this.iY.push(b._U.LW(this,null,e));this.pY();for(const r of this.N6())r.OW();for(const n of i[10]){const o=this.$c.RW(n[1]);if(!o)throw new Error("missing nonworld object class");o.kW()||o.FW(n),this.XV.push(n),this.PW(o)}}hr(){for(const t of this.eY)t.hr();b.On(this.eY),this.VV.clear(),this.WV=null,this.RV=null,this.$c=null}N7(){return this.$c}Jc(){return this.ur}dQ(){return this.OU}yN(){return this.Bg}d6(){return this.mW}gN(){return this.yQ(),this.dN}yQ(){const t="low"===this.$c.Yk().qJ();if(this.TW||this.aY!==t||this.dN.eD()){const s=this.d6().wQ();this.dN.hD(s.map(t=>t.V3()),{r_:s.map(t=>t.yN()),o_:t,c_:!0}),this.TW=!1,this.aY=t}}XP(){this.d6().XP(),this.TW=!0}mY(){let i=this.eY[0]._J();for(let t=1,s=this.eY.length;t<s;++t){const e=this.eY[t];0===e.TO()&&0===e.xO()||(i=Math.min(i,e._J()))}return i}gY(){return.5*this.$c.kQ()/this.mY()}yY(){return.5*this.$c.FQ()/this.mY()}CQ(){return this.MY()?-1/0:this.gY()}GQ(){return this.MY()?1/0:this.$p()-this.gY()}IQ(){return this.MY()?-1/0:this.yY()}EQ(){return this.MY()?1/0:this.dm()-this.yY()}b6(t){const s=this.CQ(),i=this.GQ();this.XU!==(t=(t=i<t?i:t)<s?s:t)&&(this.XU=t,this.wY(),this.$c.y7())}x6(){return this.XU}v6(t){const s=this.IQ(),i=this.EQ();this.KU!==(t=(t=i<t?i:t)<s?s:t)&&(this.KU=t,this.wY(),this.$c.y7())}C6(){return this.KU}MY(){return this.FV}TV(){this.b6(this.x6()),this.v6(this.C6());for(const t of this.eY)t.vQ()&&(t.b6(t.x6()),t.v6(t.C6()))}W6(t,s){this.zV===t&&this.BV===s||(this.zV=t,this.BV=s,this.SY()&&(this.TY(),this.wY(),this.$c.y7()))}AQ(){return this.H6()?.5:this.zV}LQ(){return this.H6()?.5:this.BV}iV(){const t=this.AQ(),s=this.LQ();return t<0||1<t||s<0||1<s}V6(){this.jV&&(this.jV=!1,this.TY(),this.wY(),this.$c.y7())}Y6(){this.jV||(this.jV=!0,this.TY(),this.wY(),this.$c.y7())}H6(){return this.jV}SY(){return!this.H6()}bY(t){this.KV!==(t=!!t)&&(this.KV=t,this.wY(),this.$c.y7())}qQ(){return this.KV}xY(t,s,i,e,h,r,n,o,a){u(this.$V,t,s,i)&&u(this.tY,e,h,r)&&u(this.sY,n,o,a)||(l.set(this.$V,t,s,i),l.set(this.tY,e,h,r),l.set(this.sY,n,o,a),this.vY())}vY(){this.wY(),this.$c.y7()}JQ(){return this.$V}OJ(){return this.tY}RJ(){return this.sY}w6(){return this.qU}M6(t){this.qU!==t&&(this.qU=t,this.wY(),this.TV(),this.$c.y7())}S6(t){t=b.dr(t),this.ZU!==t&&(this.ZU=t,this.wY(),this.$c.y7())}T6(){return this.ZU}$p(){return this.Bm}um(t){!isFinite(t)||t<1||(this.Bm=t)}dm(){return this.Um}tm(t){!isFinite(t)||t<1||(this.Um=t)}CY(){return this.WV}fQ(){return this.iY}*N6(){for(const t of this.iY)yield*t.iO()}D6(){return this.eY}GY(){return this.eY.length}c7(t){return"number"==typeof t?this.d7(t):this.oQ(t.toString())}d7(t){return t=b.cr(Math.floor(t),0,this.eY.length-1),this.eY[t]}oQ(t){return this.hY.get(t.toLowerCase())||null}IY(t){return!!this.oQ(t)}EY(t){return this.rY.get(t)||null}TY(){for(const t of this.eY)t.PJ()}wY(){for(const t of this.eY)t.xQ()}R6(t,s,i){if(this.IY(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=2<=i?s:s.Z6(),h=b.er(b._U,this,e,{name:t,sid:Math.floor(1e15*Math.random()),TU:!0});this._Y(h,s,i),this.N7().y7(),this.lQ()}k6(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.DY(t),this._Y(t,s,i),this.N7().y7(),this.lQ())}j6(t){if(this.DY(t)){const s=this.$c.VN();s.o6(!0),t.hr(),s.o6(!1),this.N7().y7(),this.lQ()}}B6(){const t=new Set;for(const s of this.N6())s.pQ()&&!s.mQ()&&t.add(s);if(0!==t.size){const i=this.$c.VN();i.o6(!0);for(const e of t)this.DY(e),e.hr();i.o6(!1),this.N7().y7(),this.lQ()}}_Y(s,i,e){if(2<=e)if(i){if(i===s||i.rJ(s))throw new Error(`cannot move layer '${s.Jc()}' to sub-layer of itself`);i.tJ(s,2===e),s.KQ(i)}else 2===e?this.iY.push(s):this.iY.unshift(s),s.KQ(null);else{const t=i.Z6();if(t){if(i.rJ(s))throw new Error(`cannot move layer '${s.Jc()}' to sub-layer of itself`);t.sJ(s,i,0===e),s.KQ(t)}else{let t=this.iY.indexOf(i);if(-1===t)throw new Error("cannot find layer to insert by");0===e&&++t,this.iY.splice(t,0,s),s.KQ(null)}}}DY(t){const s=t.Z6();if(s)return s.iJ(t),!0;if(1<this.iY.length){const i=this.iY.indexOf(t);if(-1===i)throw new Error("cannot find layer to remove");return this.iY.splice(i,1),!0}return!1}pY(){this.eY=[...this.N6()],this.hY.clear(),this.rY.clear();for(let t=0,s=this.eY.length;t<s;++t){const i=this.eY[t];i.aQ(t),this.hY.set(i.Jc().toLowerCase(),i),this.rY.set(i.dQ(),i)}}NY(){let t=0;for(const s of this.iY){for(const i of s.iO())i.uQ(t);s.cO()&&t++}}AY(){return this.iY.at(-1).nF()+1}async lQ(){this.pY(),this.NY(),this.nY=this.AY()}LY(){return this.nY}OY(){this.nY=-1}dJ(t){const s=[];for(const i of this.iY){const e=i.nF();if(e===t)s.push(i);else if(t<e)break}return s}oJ(){return{scrollX:this.x6(),scrollY:this.C6(),scale:this.w6(),angle:this.T6(),vpX:this.AQ(),vpY:this.LQ()}}aJ(t){this.b6(t.scrollX),this.v6(t.scrollY),this.M6(t.scale),this.S6(t.angle),this.W6(t.vpX,t.vpY)}RY(){let t=this.iY.filter(t=>t.hJ())[0];for(;t;){if(!t.IO())return x.Xo(t.AO()),x.Zo(1),x;if(t.bJ())return x.Wo(0,0,0,0),x;t=t.tO().filter(t=>t.hJ())[0]}return x.Wo(0,0,0,0),x}UW(){return this.cY}PY(){return[...this.QV]}PW(t){if(t.a8())for(const s of t.FY().kY())this.QV.add(s);else this.QV.add(t)}jY(){return[...this.JV]}zY(t,s){if(t===this||!s)return Promise.resolve();t&&(b.Do(this.JV,t.JV),t.JV.clear());const i=[];for(const e of this.QV)this.JV.has(e)||(i.push(e.BY(s)),this.JV.add(e));return Promise.all(i)}async UY(t){if(t.rQ())throw new Error("cannot load textures for family");const s=this.$c.Nw();if(s&&!s.bC()&&!this.JV.has(t)){this.JV.add(t);const i=t.BY(s);this.WY(i),await i,t.QY(),this.$c.y7()}}WY(t){this.VV.add(t),t.then(()=>this.VV.delete(t)).catch(()=>this.VV.delete(t))}JY(){return Promise.all([...this.VV])}VY(t){if(t.rQ()||0<t.e6())throw new Error("cannot unload textures");const s=this.$c.Nw();s&&this.JV.has(t)&&(this.JV.delete(t),t.YY(s))}HY(t,s){if(t!==this&&s)for(const i of this.JV)i.JW()||t.QV.has(i)||(i.YY(),this.JV.delete(i))}qY(){this.JV.clear()}async ZY(t){const s=this.$c,i=this.RV,e=s.VN(),h=(this.UV&&(this.WV=e.XY(this.UV),this.WV.KY()),i.$Y(this),this.Bm=this.PV,this.Um=this.kV,this.XU=s.ON()/2,this.KU=s.PN()/2,this.TV(),this.TY(),this.wY(),this.NY(),await this.$c.Yk().tH(this.AY(),!0),this.sH(t),this.$c.iH(!0),this.eH(),this.cY||this.hH(),this.rH(this.YV),this.rH(this.HV),this.nH(),i.oH(),s.c6(),this.$c.iH(!1),this.$c.aH());if(await Promise.all(h),b.On(h),!s.uH()){for(const r of this.YV)r.lH();for(const n of this.HV)n.cH(this.qV,this.ZV);for(const[o,a]of Object.entries(this.uY)){const u=this.$c.fH(parseInt(o,10));u&&!u.rQ()&&u.WW()&&b.On(a)}for(const l of this.YV)l.dH();for(const c of this.HV)c.dH()}b.On(this.YV),b.On(this.HV),this.qV.clear(),this.ZV.clear(),await Promise.all([...this.QV].map(t=>t.pH(this.$c.Nw()))),t&&(s.Rf().dispatchEvent(new b.Event("beforefirstlayoutstart")),await s.mH(new b.Event("beforeprojectstart"))),await this.gH(new b.Event("beforeanylayoutstart")),s.Rf().dispatchEvent(new b.Event("beforelayoutstart")),await this.mH(new b.Event("beforelayoutstart")),s.uH()||await s.P8(b.SH.wH.MH.yH,null,null),s.Rf().dispatchEvent(new b.Event("afterlayoutstart")),await this.mH(new b.Event("afterlayoutstart")),await this.gH(new b.Event("afteranylayoutstart")),t&&(s.Rf().dispatchEvent(new b.Event("afterfirstlayoutstart")),await s.mH(new b.Event("afterprojectstart"))),e.TH(i),await this.JY(),this.cY=!1}sH(t){for(const s of this.$c.hQ())if(!s.rQ()&&s.SL())for(const i of s.t6()){const e=i.l7(),h=e.c7(),r=b.cr(h.yN(),0,this.eY.length-1),n=this.eY[r];e.m7(n,!0),n.YW(i)}if(!t)for(const o of this.eY)o.$W(!1)}eH(){for(const t of this.eY)t.BW(this.YV),t.sQ()}hH(){let s=!1;for(const[t,i]of Object.entries(this.uY)){const e=this.$c.fH(parseInt(t,10));if(e&&!e.rQ()&&e.WW())for(const h of i){let t=null;if(!e.SL()||(t=h.hasOwnProperty("instJson")?this.EY(h.instJson.w.l):this.EY(h.w.l))){const r=this.$c.QW(e,t,!1,0,0,!0);h.hasOwnProperty("instJson")?r.x4(h.instJson):r.x4(h),s=!0,this.HV.push(r),h.hasOwnProperty("instJson")&&(this.qV.set(r,h),this.ZV.set(h.index,r))}}}for(const n of this.eY)n.$W(!0),n.g7();s&&(this.$c.c6(),this.$c.bH())}rH(s){for(const i of s)if(i.a8()){const e=i.l7(),t=i.xH();for(const h of i.ZO().FY().vH())if(h!==i.ZO()){const r=h.t6();if(r.length>t)i.CH(r[t]);else{let t;t=e?this.$c.QW(h,e.c7(),!0,e.a4(),e.c4(),!0):this.$c.QW(h,null,!0,0,0,!0),this.$c.c6(),h.GH(),i.CH(t),s.push(t)}}}}nH(){for(const t of this.XV){const s=this.$c.RW(t[1]);s.a8()||this.$c.QW(t,null,!0)}}IH(){let i=[],e=this.XV,h=0;for(let t=0,s=e.length;t<s;++t){const r=e[t],n=this.$c.RW(r[1]);n.JW()?n.a8()&&n.FY().EH()||i.push(this.$c.QW(r,null,!0)):(e[h]=r,++h)}b.Ln(e,h),this.$c.c6(),this.rH(i)}eQ(t,s,i,e,h,r,n){if(i)return i.eQ(t,s,h,r,e,n);{const o=[];for(const a of this.eY)o.push(a.eQ(t,s,h,r,e,n));return o.flat()}}async _H(){const t=this.RV;this.$c.uH()||(await this.gH(new b.Event("beforeanylayoutend")),await this.mH(new b.Event("beforelayoutend")),await this.$c.P8(b.SH.wH.MH.DH,null,null),await this.mH(new b.Event("afterlayoutend")),await this.gH(new b.Event("afteranylayoutend"))),t.NH(!0),this.$c.VN().AH(),this.cY||this.LH();for(const s of this.eY)s.iQ();for(const i of this.$c.hQ())if(!(i.JW()||i.SL()||i.WL().ML()||i.rQ())){for(const e of i.t6())this.$c.e8(e);this.$c.c6()}t.NH(!1),t.BA()===this&&t.$Y(null)}OH(t,s){const i=t.ZO().dQ().toString(),e=(this.uY.hasOwnProperty(i)||(this.uY[i]=[]),this.uY[i]),h={index:s,instJson:t.b4(),sceneGraphJson:{children:[]}};e.push(h),this.lY.set(t,h)}RH(t){const s=this.lY.get(t);for(const i of t.PH()){const e=this.lY.get(i);e&&s.sceneGraphJson.children.push({index:e.index,flags:b.FH.kH(i.l7())})}}LH(){this.lY.clear();let t=0;for(const s of this.eY){s.lJ();for(const i of s.p7()){const e=i.ZO();!e.JW()&&e.WW()&&(this.OH(i,t),t++)}}for(const h of this.eY)for(const r of h.p7()){const n=r.ZO();!n.JW()&&n.WW()&&this.RH(r)}this.lY.clear()}jH(){this.uY={},this.cY=!0}aE(){return this.HU}bJ(){const t=this.$c,s=t.Nw().lw();return"low"===t.Yk().qJ()||s&&t.HJ()||this.mW.xJ()||s&&t.YQ()}zH(t){const s=this.$c.Yk();if(this.bJ()){t.pE(null),t.sE(0,0,0,0);const i={lS:this.$c.kN(),qS:t.Cy()||this.$c.HJ()||this.mW.xJ(),YJ:!!t.Cy()&&this.$c.HJ()};"low"===s.qJ()&&(i.width=s.jJ(),i.height=s.zJ()),this.HU=this.$c.ZJ(i)}else this.HU=null}BH(t){this.$c.UH(t)&&(t.hE(!1),t.pE(null),t.Ly(),t.mE(this.HU))}WH(t){this.bJ()&&(t.hE(!1),this.QH(t,this.HU))}JH(t){t.pE(this.HU),t.Yl(this.RY()),this.$c.YQ()&&t.eE();const s=this.dJ(0);this.XJ(t,this.HU,s,!0),t.Cy()&&t.StartMeasuringRenderPassTime(0,1),this.WH(t),this.HU=null}VH(t,s){let i=null;this.$c.UH(t)&&(i=this.HU),t.pE(i),t.sE(0,0,0,0),this.$c.YQ()&&t.eE();const e=this.dJ(s);this.XJ(t,i,e,!0),this.BH(t),t.iw(),this.$c.Yk().YH(s)}XJ(t,e,s,h){const r=s.filter(t=>t.hJ());for(let s=0,i=r.length;s<i;){const n=r[s];if(n.ZQ()&&!n.vJ()){a.push(n);for(let t=s+1;t<i;++t){const o=r[t];if(!o.ZQ()||o.vJ())break;a.push(r[t])}if(2<=a.length||1===a.length&&a[0].eJ()){this.HH(t,e,a),s+=a.length,b.On(a);continue}b.On(a)}n.K4(t,e,h&&0===s),++s}}QH(t,s){const i=this.mW.wQ(),e=this.$c;0===i.length?(t.pE(null),t.Ly(),t.mE(s),t.yE(s),e.wW(s)):(h.set(0,0,e.kQ(),e.FQ()),this.gN().pD(t,null,{mD:this,gD:3,devicePixelRatio:this.$c.yV(),yD:this.$c.wV()*this.w6(),MD:this.T6(),jD:h,zD:null,h_:!0}))}HH(e,h,t){t[0].IO()||(x.Xo(t[0].AO()),x.Zo(1),e.Yl(x));this.$c.Yk();e.hE(!0);const r=v,n=C,o=G;for(const a of t)a.lJ(),a.QQ(r);const s=t[0],i=s.WJ(e);s.VJ(e);for(let s=0,i=r.length;s<i;){const u=r[s],l=u.l7(),c=l.c7();if(l.nO()&&l.nV(c.rV())){(!u.oV()||0<l.aV())&&o.push(u);const f=u.l7().gR();n.push(u);let t=s+1;for(;t<i;++t){const d=r[t],p=d.l7();if(p.nO()&&p.nV(p.c7().rV())){if(p.gR()!==f)break;(d.oV()?(0<p.aV()&&o.push(d),n):o).push(d)}}if(1!==n.length||n[0].uV()){this.qH(e,h,n);for(let t=0,s=o.length;t<s;++t){const m=o[t],g=m.l7(),y=g.c7();g.cV(!0),T(y,e),y.hV(m,g,e,h),g.cV(!1)}}else{T(c,e),c.hV(u,l,e,h);for(let t=0,s=o.length;t<s;++t){const M=o[t];if(M!==u){const w=M.l7(),S=w.c7();T(S,e),S.hV(M,w,e,h)}}}s=t,b.On(n),b.On(o)}else++s}i&&e.CE(i),b.On(r),I=null}qH(i,e,h){i.wE();for(let t=0,s=h.length;t<s;++t){const r=h[t],n=r.l7(),o=n.c7();n.fV(!0),T(o,i),o.dV(r,n,i)}i.SE();for(let t=0,s=h.length;t<s;++t){const a=h[t],u=a.l7(),l=u.c7();T(l,i),l.hV(a,u,i,e),u.fV(!1)}i.bE()}_V(){const t={sx:this.x6(),sy:this.C6(),s:this.w6(),a:this.T6(),w:this.$p(),h:this.dm(),ortho:this.H6(),vpX:this.AQ(),vpY:this.LQ(),fv:this.cY,persist:this.uY,fx:this.mW.b4(),layers:{},dynamicLayers:[]};for(const s of this.eY)if(s.pQ()){const i=s.Z6();t.dynamicLayers.push({sid:s.dQ(),name:s.Jc(),parentSid:i?i.dQ():null,siblingIndex:s.cQ(),data:s._V()})}else t.layers[s.dQ().toString()]=s._V();return t}DV(t){this.XU=t.sx,this.KU=t.sy,this.qU=t.s,this.ZU=t.a,this.Bm=t.w,this.Um=t.h,this.jV=!!t.ortho,t.hasOwnProperty("vpX")&&(this.zV=t.vpX),t.hasOwnProperty("vpY")&&(this.BV=t.vpY),this.cY=!!t.fv,this.uY=t.persist,this.mW.x4(t.fx),this.TW=!0;for(const[s,i]of Object.entries(t.layers)){const e=parseInt(s,10),h=this.EY(e);h&&h.DV(i)}if(t.hasOwnProperty("dynamicLayers")){this.B6(),this.$c.c6();const r=new Map,n=t.dynamicLayers;for(let t=n.length-1;0<=t;--t){const o=n[t],a=o.sid,u=o.name,l=o.parentSid,c=o.siblingIndex,f=o.data;if(this.pY(),!this.IY(u)&&!this.EY(a)){let t,s;if(null===l)t=null,s=this.iY;else{if(!(t=this.EY(l)))continue;s=t.tO()}const d=b.er(b._U,this,t,{name:u,sid:a,TU:!0});s.push(d);let i=r.get(s);i||(i=[],r.set(s,i)),i.push({uR:d,siblingIndex:c}),d.DV(f)}}for(const[p,m]of r){m.sort((t,s)=>t.siblingIndex-s.siblingIndex);for(const g of m){let t=g.uR,s=g.siblingIndex,i=p.indexOf(t);p.splice(i,1),p.splice(s,0,t)}}}this.lQ(),this.TY(),this.wY()}UA(){return this.fY}UN(){return this.dY}ZH(t){t.layout=this.UA();const s=this.$c,i=s.XH()&&!s.VN().u6();i&&e.StartMeasuringScriptTime(),this.dY.dispatchEvent(t),i&&e.AddScriptTime()}mH(t){return t.layout=this.UA(),this.dY.Wf(t)}gH(t){return t.layout=this.UA(),this.$c.mH(t)}KH(){this.$H(this.iY)}$H(t,s=0){const i=t.slice(0);i.reverse();for(const e of i)console.log("\t".repeat(s)+"- "+e.Jc()),this.$H(e.tO(),s+1)}}}{const kr=self.js;kr.tq=class extends kr.tr{constructor(t){super(),this.$c=t,this.sq=[],this.iq=new Map,this.eq=new Map,this.hq=null,this.rq=[],this.nq=null,this.oq=0,this.aq=null}hr(){this.$c=null,this.hq=null,this.nq=null,this.aq=null,kr.On(this.sq),this.iq.clear(),this.eq.clear(),kr.On(this.rq)}W5(t){const s=kr.er(kr.OV,this,this.sq.length,t);this.sq.push(s),this.iq.set(s.Jc().toLowerCase(),s),this.eq.set(s.dQ(),s)}N7(){return this.$c}uq(t){this.nq=t}lq(){if(this.nq)return this.nq;if(this.sq.length)return this.sq[0];throw new Error("no first layout")}cq(t){return this.iq.get(t.toLowerCase())||null}fq(t){return this.eq.get(t)||null}pq(t){return t=kr.cr(Math.floor(t),0,this.sq.length-1),this.sq[t]}JA(t){return"number"==typeof t?this.pq(t):this.cq(t.toString())}YA(){return this.sq}$Y(t){this.hq=t}BA(){return this.hq}mq(t){if(this.rq.includes(t))throw new Error("layout already running");this.rq.push(t)}gq(t){const s=this.rq.indexOf(t);if(-1===s)throw new Error("layout not running");this.rq.splice(s,1)}*yq(){this.hq&&(yield this.hq),this.rq.length&&(yield*this.rq)}Mq(t){return this.hq===t||this.rq.includes(t)}NH(t){if(t)this.oq++;else{if(this.oq<=0)throw new Error("already unset");this.oq--}}l6(){return 0<this.oq}ZA(t){this.aq=t}oH(){this.aq=null}qA(){return!!this.aq}wq(){return this.aq}Sq(){const t=this.BA();t&&t.TY()}Tq(){const t=this.BA();t&&t.wY()}}}{const T=self.js,Fr=new RegExp("<(.+?)>","g");T.bq=class extends T.tr{constructor(t){super(),this.$c=t,this.xq=T.er(T.vq),this.Cq=null,this.Gq=[],this.Iq=new Map,this.Eq=new Map,this._q=new Map,this.Dq=[],this.Nq=[],this.Aq=[],this.Lq=!1,this.Oq=!1,this.Rq=!1,this.Pq=()=>this.kq(),this.Fq=()=>this.jq(),this.zq=()=>this.Bq(),this.Uq=()=>this.Wq(),this.Qq=t=>this.Jq(t.QP),this.Vq=t=>this.Yq(),this.Hq=t=>this.qq(),this.Zq=t=>this.Xq(),this.Kq=[],this.$q=0}hr(){this.tZ(),this.Pq=null,this.Fq=null,this.zq=null,this.Uq=null,this.Qq=null,this.Hq=null;for(const t of this.Gq)t.j9(),t.hr();T.On(this.Gq),this.Gq=null,this.xq.hr(),this.xq=null,T.On(this.Dq),this.Dq=null,T.On(this.Nq),this.Nq=null,T.On(this.Aq),this.Aq=null,this.Iq.clear(),this.Iq=null,this.Eq.clear(),this.Eq=null,this._q.clear(),this._q=null,T.On(this.Kq),this.Kq=null,this.$c=null}sZ(){const t=this.$c.Rf();t.addEventListener("pretick",this.Pq),t.addEventListener("tick2",this.Fq),t.addEventListener("beforelayoutchange",this.zq),t.addEventListener("layoutchange",this.Uq),t.addEventListener("instancedestroy",this.Qq),t.addEventListener("beforeload",this.Vq),t.addEventListener("afterload",this.Hq),t.addEventListener("afterlayoutstart",this.Zq)}tZ(){const t=this.$c.Rf();t.removeEventListener("pretick",this.Pq),t.removeEventListener("tick2",this.Fq),t.removeEventListener("beforelayoutchange",this.zq),t.removeEventListener("layoutchange",this.Uq),t.removeEventListener("instancedestroy",this.Qq),t.removeEventListener("beforeload",this.Vq),t.removeEventListener("afterload",this.Hq),t.removeEventListener("afterlayoutstart",this.Zq)}W5(t){this.xq.ec(t);const s=T.eZ.iZ(t,this);this.ec(s),this.hZ(s),this._q.set(s.Jc(),0)}rZ(t){const s=this.nZ(),i=t.f8(),e=s.hi(i),h=T.eZ.rZ(i+":"+this._q.get(i),e,this);return this.oZ(i),this.ec(h),h}oZ(t){this._q.set(t,this._q.get(t)+1)}aZ(){for(const t of this.Gq)if(!t.uZ()){const s=t.f8();this.oZ(s)}}lZ(){for(const t of this._q.keys())this._q.set(t,0)}ec(t){this.Gq.push(t),this.Iq.set(t.Jc().toLowerCase(),t)}p0(t){t.cZ(),t.uZ()||(T.zn(this.Gq,t),T.zn(this.Dq,t),T.zn(this.Nq,t),T.zn(this.Aq,t),this.Iq.delete(t.Jc().toLowerCase()),this.fZ(t),t.k9())||t.hr()}L8(t){this.$c.L8(t,this.Cq,null)}N7(){return this.$c}nZ(){return this.xq}dZ(t){this.Cq=t}pZ(){return this.Cq}*mZ(){for(const t of this.Gq)yield t}*gZ(){for(const t of this.Nq)yield t}yZ(t,s){this.Eq.has(t)||this.Eq.set(t,new Set),this.Eq.get(t).add(s)}hZ(t){for(const s of t.MZ())this.yZ(s,t)}fZ(t){for(const[s,i]of this.Eq.entries())i.has(t)&&(i.delete(t),0===i.size)&&this.Eq.delete(s)}wZ(t){if(this.Eq.has(t))return this.Eq.get(t)}SZ(t,s){if(s)for(const i of this.Gq){const e=s.every(t=>i.TZ(t.QP,t.trackId));if(e&&i.Jc().includes(t.Jc()))return i}}bZ(t){return this.Iq.get(t.toLowerCase())||null}xZ(t){for(const s of this.Dq)if(s.Jc()===t)return s;for(const i of this.Nq)if(i.Jc()===t)return i;return null}*vZ(i){if(Fr.test(i)){Fr.lastIndex=0;let t,s=new Set;do{if(t=Fr.exec(i)){const e=t[1].split(",");for(const h of e)s.add(h)}}while(t);for(const r of s.values()){const n=this.bZ(r);n&&(yield n)}s.clear()}else{const t=this.bZ(i);t&&(yield t)}}*CZ(t){for(const s of this.Gq)s.B9(t)&&(yield s)}GZ(t){this.Dq.includes(t)||this.Dq.push(t),this.IZ()}EZ(t){T.zn(this.Nq,t),this._Z()}DZ(t){this.Nq.includes(t)?(t.NZ(!0),t.AZ(!1),t.LZ(!1)):(t.NZ(!1),t.AZ(!0),t.LZ(!1),this.Dq.includes(t)||this.Dq.push(t)),this.IZ()}OZ(t){t.NZ(!1),t.AZ(!1),t.RZ(),T.zn(this.Dq,t),this._Z()}PZ(t){t.NZ(!1),t.AZ(!1),this.Nq.includes(t)&&(t.LZ(!0),this.Aq.push(t),T.zn(this.Nq,t)),this.Dq.includes(t)&&t.LZ(!0)}kZ(t){t.NZ(!1),t.AZ(!1),t.LZ(!1),t.q9(1),T.zn(this.Nq,t)}FZ(t){this.PZ(t),t.RZ()}kq(){if(!this.N7().uH()&&this.Lq&&!this.Oq){for(this.Rq=!0;this.Dq.length;){const t=this.Dq.pop();(t.jZ()?(t.zZ(),this.Aq):(t.BZ(),this.Nq)).push(t),0!==t.UZ()&&(this.$q=1)}const s=this.$c.WZ(),i=this.$c.QZ(),e=this.$c.bA();for(let t=this.Nq.length-1;0<=t;t--){const h=this.Nq[t];h&&h.JZ(s,e,i)}this.Rq=!1,0!==this.$q&&this.N7().y7()}}jq(){if(!this.N7().uH()&&this.Lq&&!this.Oq){let i;for(let t=0,s=this.Aq.length;t<s;t++){const e=this.Aq[t];i=i||new Set,e.cZ(),this.VZ(e),i.add(e)}if(i){T.Wn(this.Aq,i);for(let t=this.$q=0,s=this.Nq.length;t<s;t++)if(0!==this.Nq[t].UZ()){this.$q=1;break}}this._Z()}}VZ(t){t.k9()||t.YZ()&&t.HZ()&&t.qZ()&&t.ZZ()}IZ(){this.Lq||(this.Lq=!0)}_Z(){this.Aq.length||this.Nq.length||this.Dq.length||this.Rq||(this.Lq=!1)}Bq(){for(this.Oq=!0;this.Dq.length;)this.OZ(this.Dq.pop());const t=new Set;for(const s of this.Nq){const i=s.Bq();i&&(s.cZ(),t.add(s))}T.Wn(this.Nq,t),t.clear();for(const e of this.Aq){const h=e.Bq();h&&(e.cZ(),t.add(e))}T.Wn(this.Aq,t),this._Z();for(const r of this.Gq)r.XZ()}Wq(){this.Oq=!1}Jq(t){const s=t.ZO(),i=this.wZ(s);if(i)if(this.$c.uH())this.Kq.push(t);else for(const e of i)e.uZ()||(e.k9()?this.p0(e):e.YZ()||(this.VZ(e),this.p0(e)))}Yq(){for(const t of this.Dq.map(t=>t))this.VZ(t),this.p0(t);for(const s of this.Nq.map(t=>t))this.VZ(s),this.p0(s)}qq(){for(const t of this.Kq)this.Jq(t);T.On(this.Kq);for(const s of this.Gq)s.qq()}Xq(){const t=this.$c.QA(),s=t.BA();if(s)for(const i of this.Gq){const e=i.KZ();e&&s.Jc()===e&&this.DZ(i)}}_V(){return{timelinesJson:this.$Z(),scheduledTimelinesJson:this.tX(),playingTimelinesJson:this.sX(),markedForRemovalTimelinesJson:this.iX(),hasRuntimeListeners:this.Lq,changingLayout:this.Oq,isTickingTimelines:this.Rq}}DV(t){t&&(this.lZ(),this.eX(t.timelinesJson),this.hX(t.scheduledTimelinesJson),this.rX(t.playingTimelinesJson),this.nX(t.markedForRemovalTimelinesJson),this.Lq=!t.hasRuntimeListeners,this.Oq=!!t.changingLayout,this.Rq=!!t.isTickingTimelines,this.aZ(),this.IZ(),this._Z())}$Z(){return this.Gq.map(t=>t._V())}eX(t){for(const s of t){let t=this.bZ(s.name);if(t)t.DV(s);else{const i=this.aX(s);if(!i)continue;const e=this.bZ(i);(t=this.rZ(e)).DV(s)}t.uX()||this.p0(t)}}aX(t){const s=t.name,i=s.split(":");return i&&2===i.length?i[0]:null}tX(){return this.lX(this.Dq)}hX(t){this.cX(t,this.Dq)}sX(){return this.lX(this.Nq)}rX(t){this.cX(t,this.Nq)}iX(){return this.lX(this.Aq)}nX(t){this.cX(t,this.Aq)}fX(t,s){if(s)for(const i of s)if(i===t.Jc())return!0;return!1}lX(t){return t.map(t=>t.Jc())}cX(t,s){const i=new Set;for(const e of s)this.fX(e,t)||i.add(e);if(T.Wn(s,i),t)for(const h of t){const r=this.bZ(h);if(r){const n=s.find((s=>t=>t.Jc()===s)(h));n||s.push(r)}}}}}{const jr=self.js,zr=[0,0],Br=[0,0],Ur=[0,0],Wr=[0,0,0,0,0],Qr=new Array(4),Jr=[{x:0,y:0,t:0,It:0},{x:0,y:0,t:0,It:0},{x:0,y:0,t:0,It:0}],Vr={x:0,y:0,t:0,It:0};jr.dX=class{constructor(t,s){this.pX=!1,this.mX=t,this.gX=[];let i=null;if(i=s?this.mX.yX(s):jr.first(this.mX.MX())){const e=i.pk("offsetX"),h=i.pk("offsetY");if(e&&h){this.wX=e,this.SX=h;const r=e.TX(),n=h.TX();for(let t=1,s=Math.min(r.length,n.length);t<s;++t){const o=r[t],a=(o.bX(),o.xX()),u=n[t],l=(u.bX(),u.xX());a&&"cubic-bezier"===a.vX()&&l&&"cubic-bezier"===l.vX()?this.gX.push(jr.er(jr.CX,a,l,o,u,this.gX.length)):(a&&"line"===a.vX()&&l&&l.vX(),this.gX.push(jr.er(jr.GX,o,u,this.gX.length)))}this.pX=!0}}}hr(){for(const t of this.gX)t.hr();jr.On(this.gX),this.gX=null,this.mX=null,this.wX=null,this.SX=null}IX(){return this.pX}EX(){return this.gX}_X(t){const s="relative"===this.wX.DX()?t.a4():0,i="relative"===this.SX.DX()?t.c4():0;for(const e of this.gX)e._X(s,i)}qg(s,i,t){let e=NaN,h=this.gX.length;for(let t=0;t<h;t++){const r=this.gX[t];if("cubic-bezier"===r.q3()){const n=r.qg(s,i);(isNaN(e)||n[3]<e)&&(e=n[3],Ur[0]=n[2],Ur[1]=r.yN())}}return Ur}NX(s,i,t){const e=t.tRange;jr.de(e[0])||(e[0]=0),jr.de(e[1])||(e[1]=1);let h=NaN,r=this.gX.length;for(let t=0;t<r;t++){const n=this.gX[t];if("cubic-bezier"===n.q3()){const o=n.AX(s,i,e);(isNaN(h)||o[3]<h)&&(h=o[3],Ur[0]=o[2],Ur[1]=n.yN())}}return Ur}LX(t,s){return this.gX[s].LX(t)}OX(t,s){return this.gX[s].OX(t)}},jr.CX=class{constructor(t,s,i,e,h){this.Bg=h;const r=t.RX("cubic-bezier"),n=i.RX("cubic-bezier"),o=s.RX("cubic-bezier"),a=e.RX("cubic-bezier");this.PX=t.kX(),this.FX=s.kX(),this.jX=t.kX()+r.zX(),this.BX=s.kX()+o.zX(),this.UX=i.kX()+n.WX(),this.QX=e.kX()+a.WX(),this.JX=i.kX(),this.VX=e.kX(),this.YX=0,this.HX=0,this.qX=0,this.ZX=0,this.XX=0,this.KX=0,this.$X=0,this.tK=0,this.sK=0,this.iK=0,this.eK=0,this.hK=0,this.rK=0,this.nK=0,this.oK=0,this.aK=0,this.uK=0,this.lK=0,this.cK=0,this.fK=0,this.dK=NaN,this.pX=!1,this.pK=100,this.mK=new Array(this.pK+1),this.mK[0]=0,this.gK=0,this.yK=[],this.MK=[];for(let t=0;t<100;t++)this.MK.push({x:0,y:0,t:0,It:0});this.wK()}hr(){jr.On(this.mK),this.mK=null,jr.On(this.yK),this.yK=null,jr.On(this.MK),this.MK=null}q3(){return"cubic-bezier"}yN(){return this.Bg}SK(){return Math.floor(this.gK/25)}TK(){return 1/this.SK()}_X(t,s){this.bK=t,this.xK=s,this.mK=new Array(this.pK+1),this.mK[0]=0,this.wK(),this.YX=this.PX+this.bK,this.HX=this.FX+this.xK,this.qX=this.jX+this.bK,this.ZX=this.BX+this.xK,this.XX=this.UX+this.bK,this.KX=this.QX+this.xK,this.$X=this.JX+this.bK,this.tK=this.VX+this.xK,this.sK=3*(this.qX-this.YX),this.iK=3*(this.ZX-this.HX),this.eK=3*(this.XX-this.qX),this.hK=3*(this.KX-this.ZX),this.rK=3*(this.$X-this.XX),this.nK=3*(this.tK-this.KX),this.oK=3*(this.qX-this.YX),this.aK=3*(this.YX+this.XX-2*this.qX),this.uK=this.$X-this.YX+3*(this.qX-this.XX),this.lK=3*(this.ZX-this.HX),this.cK=3*(this.HX+this.KX-2*this.ZX),this.fK=this.tK-this.HX+3*(this.ZX-this.KX)}Map(t){if(!this.pX)return NaN;const s=this.vK(t);return Br[0]=this.CK(s),Br[1]=this.GK(s),Br}qg(t,s){const i=this.IK(100),e=this.EK(t,s,i),h=this._K(t,s,i,e);return Wr[0]=h.x,Wr[1]=h.y,Wr[2]=h.t,Wr[3]=h.It,Wr}AX(t,s,i){const e=this.IK(100),h=this.DK(t,s,e,i),r=this._K(t,s,e,h);return Wr[0]=r.x,Wr[1]=r.y,Wr[2]=r.t,Wr[3]=r.It,Wr}LX(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,r=i*this.sK+e*this.eK+h*this.rK,n=i*this.iK+e*this.hK+h*this.nK,o=Math.hypot(r,n);return zr[0]=r/o,zr[1]=n/o,zr}OX(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,r=i*this.sK+e*this.eK+h*this.rK,n=i*this.iK+e*this.hK+h*this.nK;return Math.atan2(n,r)}vK(h){if(this.pX){let t=h*this.mK[this.pK],s=0,i=this.pK,e=0;for(;s<i;)e=s+((i-s)/2|0),this.mK[e]<t?s=e+1:i=e;this.mK[e]>t&&e--;const r=this.mK[e];return r===t?e/this.pK:(e+(t-r)/(this.mK[e+1]-r))/this.pK}}CK(t){return this.pX?self.nc.Cc("cubicbezier")(t,this.PX+this.bK,this.jX+this.bK,this.UX+this.bK,this.JX+this.bK):NaN}GK(t){return this.pX?self.nc.Cc("cubicbezier")(t,this.FX+this.xK,this.BX+this.xK,this.QX+this.xK,this.VX+this.xK):NaN}IK(s){if(!(this.yK.length>=(s=s||100))){this.yK=new Array(s),s++;for(let t=0;t<s-1;t++){const i=t/(s-1),e=i**2,h=i**3,r=this.oK*i,n=this.aK*e,o=this.uK*h,a=this.lK*i,u=this.cK*e,l=this.fK*h,c=this.YX+r+n+o,f=this.HX+a+u+l;this.MK[t].x=c,this.MK[t].y=f,this.MK[t].t=i,this.MK[t].It=0,this.yK[t]=this.MK[t]}}return this.yK}EK(s,i,e,t=0,h=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.dK))for(let t=0;t<100;t++){const n=e[t],o=n.x-s,a=n.y-i;n.It=o*o+a*a,n.It<h&&(h=n.It,r=t)}else{for(let t=this.dK;t<this.dK+5&&!(t>=e.length);t++){const u=e[t],l=u.x-s,c=u.y-i;u.It=l*l+c*c,u.It<h&&(h=u.It,r=t)}for(let t=this.dK;t>this.dK-5&&!(t<0);t--){const f=e[t],d=f.x-s,p=f.y-i;f.It=d*d+p*p,f.It<h&&(h=f.It,r=t)}}return this.dK=r}DK(s,i,e,h,r=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.dK))for(let t=0;t<100;t++){const o=e[t],a=o.x-s,u=o.y-i;o.It=a*a+u*u,o.t>=h[0]&&o.t<=h[1]&&o.It<r&&(r=o.It,n=t)}else{for(let t=this.dK;t<this.dK+5&&!(t>=e.length);t++){const l=e[t],c=l.x-s,f=l.y-i;l.It=c*c+f*f,l.t>=h[0]&&l.t<=h[1]&&l.It<r&&(r=l.It,n=t)}for(let t=this.dK;t>this.dK-5&&!(t<0);t--){const d=e[t],p=d.x-s,m=d.y-i;d.It=p*p+m*m,d.t>=h[0]&&d.t<=h[1]&&d.It<r&&(r=d.It,n=t)}}return this.dK=n}_K(n,o,a,u){let l=a[u],t=1,c=Number.MAX_SAFE_INTEGER;t:do{let t=a.length,s=0===u?0:u-1,i=u===t-1?t-1:u+1,e=a[s].t,h=a[i].t,r=(h-e)/4;if(r<.001)break;Qr[0]=a[s];for(let t=1;t<=2;t++){const f=e+t*r,d=f**2,p=f**3,m=this.oK*f,g=this.aK*d,y=this.uK*p,M=this.lK*f,w=this.cK*d,S=this.fK*p,T=this.YX+m+g+y,b=this.HX+M+w+S,x=T-n,v=b-o,C=x*x+v*v;if(C<c){c=C,u=t,Vr.x=T,Vr.y=b,Vr.t=f,Vr.It=C,l=Vr;break t}const G=Jr[t-1];G.x=T,G.y=b,G.t=f,G.It=C,Qr[t]=G}Qr[3]=a[i],a=Qr}while(t++<20);return l}wK(){this.pX=!0;let s=this.CK(0),i=this.GK(0),e=0;for(let t=1;t<=this.pK;t++){const h=this.CK(.01*t),r=this.GK(.01*t),n=s-h,o=i-r;e+=Math.hypot(n,o),this.mK[t]=e,s=h,i=r}this.gK=e}},jr.GX=class{constructor(t,s,i){this.Bg=i,this.NK=t.kX(),this.AK=s.kX(),this.bK=0,this.xK=0}hr(){}q3(){return"line"}yN(){return this.Bg}_X(t,s){this.bK=t,this.xK=s}a4(){return this.NK+this.bK}c4(){return this.AK+this.xK}}}{const b=self.js;b.eZ=class extends b.tr{constructor(t,s,i){super(),this.$c=i.N7(),this.LK=i,this.RK=s,this.ur=t,this.PK=[],this.kK=0,this.FK=null,this.jK=0,this.zK(),this.BK=null,this.UK=null,this.WK=0,this.QK=0,this.JK=1,this.VK=0,this.YK=1,this.HK=!1,this.qK=!1,this.ZK=!1,this.XK=!0,this.KK=!1,this.$K=!1,this.t$=-1,this.s$=!1,this.i$=!1,this.e$=!1,this.h$=!1,this.r$=NaN,this.n$=[""],this.o$="",this.a$=!1,this.$q=0,this.u$=0,this.l$=null}static iZ(t,s){const i=s.nZ(),e=i.c$(),h=i.hi(t[e]),r=b.er(b.eZ,t[e],h,s);return r.f$(!0),r}static rZ(t,s,i){return b.er(b.eZ,t,s,i)}hr(){if(!this.k9()){const t=this.$c.Rf();this.LK.OZ(this),this.LK.FZ(this);for(const s of this.PK)s.hr();b.On(this.PK),this.PK=null,this.$c=null,this.LK=null,this.RK=null,this.KK=!0,this.BK=null,this.UK=null,this.d$(t)}}d$(t){const s=b.er(b.Event,"timelinestatereleased");s.p$=this,t.dispatchEvent(s)}q3(){return 0}zK(){for(const t of this.RK.g$().m$())this.kK=this.PK.push(b.y$.W5(this,t))}M$(){return this.LK}N7(){return this.$c}MX(){return this.PK}w$(e,h,r,n){if(this.u$){let i;for(let s=0;s<this.PK.length;s++){let t=this.PK[s];if(e===t.ak()){const o=t.pk(r);o&&h.constructor===o.S$().constructor&&o.DX()===n.DX()&&(i=i||[]).push(o)}}return i}}uX(){return!!this.PK.length}yX(t){for(const s of this.PK)if(b.mh(s.fk(),t))return s;return null}T$(t){for(const s of this.PK)if(!s.b$()&&b.mh(s.Jc(),t))return s;return null}KF(t){this.ur=t}Jc(){return this.ur}x$(){return this.RK}f8(){return this.RK.Jc()}Q9(){return this.RK.Q9()}W9(t){this.RK.W9(t)}v$(){return this.RK.v$()}C$(t){this.RK.C$(t)}G$(){return this.RK.G$()}I$(t){this.RK.I$(t)}DX(){return this.RK.DX()}E$(t){this.RK.DX(t)}nk(t){for(const s of this.MX())s.nk(t)}V9(){return this.RK.V9()}J9(t){return this.RK.J9(t)}H9(){return this.RK.H9()}Y9(t){return this.RK.Y9(t)}h9(){return this.RK.h9()}_$(t){return this.RK._$(t)}q9(t){return this.JK=t}Z9(){return this.JK}KZ(){return this.RK.KZ()}D$(){return this.RK.D$()}N$(){return this.RK.N$()}A$(){return this.VK}L$(){return!this.IsPlaying()||0<this.JK}K9(){return this.BK||(this.BK=new Promise(t=>{this.UK=t})),this.BK}RZ(){this.BK&&(this.UK(),this.BK=null,this.UK=null)}O$(t){this.n$=b.eZ.R$(t),this.a$=!0}X9(){return this.n$}P$(){return this.a$&&(this.o$=this.n$.join(" ")),this.a$=!1,this.o$}B9(t){if(!this.n$)return!1;if(!this.n$.length)return!1;const s=b.eZ.R$(t);return!!s&&!!s.length&&s.every(b.eZ.k$,this)}F$(){b.SH.Timeline&&this.constructor===b.eZ&&(b.SH.Timeline.MH.PushTriggerTimeline(this),this.LK.L8(b.SH.Timeline.MH.OnTimelineStarted),this.LK.L8(b.SH.Timeline.MH.OnTimelineStartedByName),this.LK.L8(b.SH.Timeline.MH.OnTimelineStartedByTags),this.LK.L8(b.SH.Timeline.MH.OnAnyTimelineStarted),b.SH.Timeline.MH.PopTriggerTimeline())}j$(){this.t$=this.$c.z$()}ZZ(){this.e$||(this.e$=!0,b.SH.Timeline&&this.constructor===b.eZ&&(b.SH.Timeline.MH.PushTriggerTimeline(this),this.LK.L8(b.SH.Timeline.MH.OnTimelineFinished),this.LK.L8(b.SH.Timeline.MH.OnTimelineFinishedByName),this.LK.L8(b.SH.Timeline.MH.OnTimelineFinishedByTags),this.LK.L8(b.SH.Timeline.MH.OnAnyTimelineFinished),b.SH.Timeline.MH.PopTriggerTimeline()))}NZ(t){this.HK=t}B$(){return this.t$===this.$c.z$()}IsPlaying(t=!1){return!!this.B$()||!(!this.U$()||t)||this.HK}W$(){return this.IsPlaying(!0)}sk(){return this.Q$()}Q$(){return!(this.k9()||this.U$()||this.W$()||this.HZ())}AZ(t){this.qK=t}U$(){return this.qK}J$(t){this.XK=t;const s=this.$E();(s<=0||s>=this.Q9())&&(this.XK=!0)}HZ(){return this.XK}k9(){return this.KK}LZ(t){this.$K=t}jZ(){return this.$K}V$(t){this.s$=t}Y$(){return this.s$}f$(t){this.i$=!!t}uZ(){return this.i$}qZ(){return this.ZK}$E(){return this.WK}U9(t){const s=this.$E();this.H$(t),this.J$(!1),this.HZ()||this.V$(!0),!this.W$()&&!this.U$()&&this.ZK||(this.W$()||this.U$()||this.ZK?this.W$()?this.j9():this.U$()&&(this.LK.OZ(this),this.q$()):this.q$()),this.Z$(),this.X$(this.$E(),!1,!0,!0,s),this.K$(),this.$q&&this.N7().y7(),this.$$()}H$(t){(t=b.de(t)?t:this.Q9())<0?this.WK=0:t>=this.Q9()?this.WK=this.Q9():this.WK=t}ttt(t){(t=b.de(t)?t:this.Q9())<0?this.WK=0:t>=this.Q9()?this.WK=this.Q9():this.WK=t;for(const s of this.PK)s.stt()}$$(){b.SH.Timeline&&this.constructor===b.eZ&&(b.SH.Timeline.MH.PushTriggerTimeline(this),this.LK.L8(b.SH.Timeline.MH.OnTimeSet),this.LK.L8(b.SH.Timeline.MH.OnTimeSetByName),this.LK.L8(b.SH.Timeline.MH.OnTimeSetByTags),b.SH.Timeline.MH.PopTriggerTimeline())}itt(){if(!this.V9())if(this.H9()&&1===this.VK){if(this.L$()){if(this.$E()>=this.Q9())return!1}else if(this.$E()<=0)return!1}else if(!this.V9()&&!this.H9())if(this.L$()){if(this.$E()>=this.Q9())return!1}else if(this.$E()<=0)return!1;return!0}z9(){this.k9()||this.itt()&&this.Play(!0)}Play(t=!1){return!this.k9()&&!this.U$()&&(this.W$()&&this.B$()?this.ett():!this.W$()&&!!(this.HZ()||t||this.Y$())&&this.htt())}ett(){return this.V$(!1),this.LK.EZ(this),this.LK.DZ(this),this.K9(),!0}htt(){return this.V$(!1),this.LK.DZ(this),this.K9(),!0}j9(t=!1){this.k9()||(this.J$(t),this.LK.PZ(this),this.HZ()&&this.RZ())}i0(t=!0,s=!1){if(!this.k9()){if(!this.W$()&&this.U$())return this.LK.OZ(this);if(!this.HZ()){this.j9(!0),this.L$()?this.H$(0):this.H$(this.Q9());const i=this.$E();this.Z$(),s?this.ntt(i):this.X$(i,!1,!1,!0),t&&this.$$(),this.K$(),this.$q&&t&&this.N7().y7()}}}ott(){this.i0(!1,!0)}ntt(t){this.X$(t,!1,!1,!0,NaN,!1,!0)}Bq(){if(!this.k9()){if(!this.N7().uH()&&this.att())return!1;this.LK.kZ(this),this.N7().uH()||this.ott()}return!0}q$(){this.BZ(!0)}zZ(){this.BZ(!1,!0),this.NZ(!1),this.AZ(!1)}BZ(t=!1,s=!1){if(!this.jZ()||s){if(t){this.e$=!1,this.ZK=!0,this.h$=!0,this.Z$();for(const i of this.PK)i.BZ()}else if(this.NZ(!0),this.AZ(!1),this.F$(),this.HZ()){this.t$=-1,0!==this.VK&&(this.JK=Math.abs(this.JK)),this.VK=0,this.YK=1,this.XK=!1,this.e$=!1,this.ZK=!0,this.h$=!0,this.L$()?this.H$(0):this.H$(this.Q9()),this.Z$();for(const e of this.PK)e.BZ()}else{this.h$=!0,this.e$=!1,this.Z$();for(const h of this.PK)h.utt()}this.K$()}}UZ(){return this.$q}Z$(){this.u$=0;for(const t of this.PK)t.QC()&&(this.u$=1)}K$(){this.$q=0;for(const t of this.PK)t.ltt(),0===this.$q&&1===t.UZ()&&(this.$q=1),this.FK||1!==t.ctt()||(this.FK||(this.FK=[]),this.jK=this.FK.push(t))}JZ(t,s,i){if(this.N$()){if(0===t&&0===this.r$)return;this.r$=t,t=i}else{if(0===i&&0===this.r$)return;t=this.r$=i,s=1}const e=this.WK+this.QK,h=t*s*this.JK,r=e+h,n=this.RK.ftt;r<0?(this.WK=0,this.QK=-r):n<=r?(this.WK=n,this.QK=this.WK-r):(this.WK=r,this.QK=0);let o=!1,a=!1,u=this.V9(),l=this.H9();u||l?u&&!l?0<this.JK?this.WK>=n&&(this.ttt(0),a=!0):this.WK<=0&&(this.ttt(n),a=!0):!u&&l?0<this.JK?this.WK>=n&&(this.H$(n),this.q9(-1*this.Z9()),a=!0,1===this.VK?this.YK<this.h9()?(this.YK++,this.VK=0):o=!0:0===this.VK&&(this.VK=1)):this.WK<=0&&(this.H$(0),this.q9(-1*this.Z9()),a=!0,1===this.VK?this.YK<this.h9()?(this.YK++,this.VK=0):o=!0:0===this.VK&&(this.VK=1)):u&&l&&(0<this.JK?this.WK>=n&&(this.H$(n),this.q9(-1*this.Z9()),a=!0,this.VK++,b.wrap(this.VK,0,2)):this.WK<=0&&(this.H$(0),this.q9(-1*this.Z9()),a=!0,this.VK++,b.wrap(this.VK,0,2))):0<this.JK?this.WK>=n&&(this.YK<this.h9()?(this.YK++,this.ttt(0),a=!0):(this.H$(n),o=!0)):this.WK<=0&&(this.YK<this.h9()?(this.YK++,this.ttt(n),a=!0):(this.H$(0),o=!0));let c,f=this.kK;if(o){for(c=0;c<f;c++)this.PK[c].dtt();this.j9(!0),this.j$()}else{const d=this.jK;for(c=0;c<d;c++)this.FK[c].ptt();if(1===this.u$)for(c=0;c<f;c++){const p=this.PK[c],m=p.mtt(),g=this.WK-m,y=e-m;g<0&&0<y?(this.WK=m<0?0:n<=m?n:m,p.Rc(m,!0,!1,a,this.h$,!1)):p.Rc(this.WK,!0,!1,a,this.h$,!1)}else for(c=0;c<f;c++)this.PK[c].Rc(this.WK,!0,!1,a,this.h$,!1);for(c=0;c<d;c++)this.FK[c].gtt();this.h$&&(this.h$=!1)}}X$(s,i=!1,e=!1,h=!1,r=NaN,t=!1,n=!1){for(const o of this.PK)o.ptt();for(const a of this.PK){let t=s;if("number"==typeof r&&!isNaN(r)){const u=this.$E(),l=u-a.mtt(),c=r-a.mtt();l<0&&0<c&&(t=a.mtt(),this.H$(t))}a.Rc(t,i,e,h,this.h$,n)}for(const f of this.PK)f.gtt();this.h$&&t&&(this.h$=!1)}ytt(){const t=this.RK.g$().Mtt(),s=b.y$.W5(this,t);return this.kK=this.PK.push(s),s}cZ(){if(!this.k9())for(const t of this.PK)t.wtt()}XZ(){for(const t of this.PK)t.XZ()}Stt(){for(const t of this.PK)t.Ttt()}btt(t,s,i){if(s){if("number"==typeof i&&0<=i){const e=this.PK[i];return e?(e.xtt(s),void this.LK.yZ(s.ZO(),this)):void 0}for(const h of this.PK)if(h.b$())if(t){if(h.fk()===t){h.xtt(s),this.LK.yZ(s.ZO(),this);break}}else if(!h.vtt()){h.xtt(s),this.LK.yZ(s.ZO(),this);break}}}TZ(t,s){for(const i of this.PK)if(i.b$())if(s){if(s===i.fk()&&t===i.ak())return!0}else if(t===i.ak())return!0;return!1}YZ(){return this.PK.some(t=>!t.b$()||t.Ctt())}att(){return this.PK.some(t=>{if(t.b$()){if(!t.Ctt())return!1;const s=t.ZO();return s?s.JW():!1}return!1})}pk(t){for(const s of this.MX())for(const i of s.Gtt())if(i.Itt()===t)return i}Ett(t){for(const s of this.PK)if(t===s.ak())return s;return null}_tt(t){let s=t?t.split(" "):[],i=new Set(s.map(t=>t.toLowerCase().trim()));s=[...i.values()];for(const e of this.MX())for(const h of e.Dtt()){const r=s.every(t=>h.Ntt(t));if(r)return h}}MZ(){const t=[];for(const s of this.MX())t.push(s.ZO());return t.filter(t=>t)}qq(){for(const t of this.MX())t.qq()}_V(){return{tracksJson:this.Att(),name:this.ur,playheadTime:this.$E(),playbackRate:this.JK,pingPongState:this.VK,currentRepeatCount:this.YK,isPlaying:this.HK,isScheduled:this.qK,initialStateSet:this.ZK,finishedTriggers:this.e$,complete:this.XK,released:this.KK,markedForRemoval:this.$K,completedTick:this.t$,implicitPause:this.s$,isTemplate:this.i$,tags:this.n$.join(" "),stringTags:this.o$,tagsChanged:this.a$,firstTick:this.h$}}DV(t){t&&(this.Ltt(t.tracksJson),this.ur=t.name,this.WK=t.playheadTime,this.JK=t.playbackRate,this.VK=t.pingPongState,this.YK=t.currentRepeatCount,this.HK=!!t.isPlaying,this.qK=!!t.isScheduled,this.ZK=!!t.initialStateSet,this.e$=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.XK=!!t.complete,this.KK=!!t.released,this.$K=!!t.markedForRemoval,this.t$=t.completedTick,this.s$=!!t.implicitPause,this.i$=!!t.isTemplate,this.n$=t.tags.split(" "),this.o$=t.stringTags,this.a$=!!t.tagsChanged,this.h$=!!t.firstTick)}Att(){return this.PK.map(t=>t._V())}Ltt(t){this.Stt(),t.forEach((t,s)=>{const i=this.PK[s];i.DV(t)}),this.PK.filter(t=>t.Ctt())}static k$(t){const s=this.X9();return""===t?1===s.length&&""===s[0]:s.map(t=>t.toLowerCase()).includes(t.toLowerCase())}static R$(t){if(b.Fe(t))return t.slice(0);if(b.xe(t))return t.split(" ");throw new Error("invalid tags")}Ott(){return this.l$||(this.l$=b.er(self.ek,this)),this.l$}}}{const Yr=self.js;Yr.y$=class extends Yr.tr{constructor(t,s){super(),this.mX=t,this.Rtt=s,this.Ptt=s.g$(),this.ktt=NaN,this.Ftt=NaN,this.jtt=null,this.ztt=null,this.Btt=!1,this.FC=0<s.mtt(),this.Utt=!1,this.Wtt=!1,this.Qtt=NaN,this.Jtt=null,this.Vtt=this.Rtt.Htt().Ytt(),this.qtt=[],this.Ztt(),this.Xtt=0,this.$q=0,this.Ktt=0}static W5(t,s){return Yr.er(Yr.y$,t,s)}hr(){this.Vtt=null;for(const t of this.qtt)t.hr();Yr.On(this.qtt),this.qtt=null,this.mX=null,this.jtt=null,this.ztt=null,this.Rtt=null,this.Jtt=null}Ztt(){for(const t of this.Rtt.tst().$tt())this.qtt.push(Yr.sst.W5(this,t))}wtt(){for(const t of this.qtt)t.wtt()}XZ(){for(const t of this.qtt)t.XZ();this.jtt=null,this.ztt=null}ist(){return this.mX}N7(){return this.mX.N7()}Dtt(){return this.Vtt||(this.Vtt=this.Rtt.Htt().Ytt()),this.Vtt}Gtt(){return this.qtt}pk(s){for(let t=0;t<this.qtt.length;t++){const i=this.qtt[t];if(i.Itt()===s)return i}}est(){this.jtt||this.ak()}hst(){return!!this.jtt&&!this.jtt.dF()}Ctt(){if(!this.b$())return!1;const t=this.rst(),s=this.N7().r7(t);return!!s&&!s.dF()}ZO(){if(this.b$()){const t=this.nst();if(-1!==t)return this.N7().RW(t)}}ost(){return this.mX.MX().indexOf(this)}Ttt(){this.jtt=null,this.ktt=NaN,this.ztt=null,this.Ftt=NaN,this.Btt=!0}vtt(){return!!this.jtt}ak(){if(!this.Btt){if(!this.jtt||!this.hst()){const t=this.rst();this.jtt=this.N7().r7(t)}return this.jtt}}xtt(t){if(this.Btt=!1,this.jtt!==t){this.XZ(),this.jtt=t,this.Ftt=t.ZO().yN(),this.ktt=t.l8(),this.ztt=t.l7();for(const s of this.ast()){const i=s.ust,e=s.lst,h=i.cst();switch(h){case"instance-variable":{e.fst();const r=t.ZO(),n=r.dst(s.name),o=r.pst(n),a=r.mst(n);o===s.name&&a===s.type&&e.gst(n);break}case"behavior":{const u=s.BP,l=this.ZO(),c=t.ZO(),f=e.WP(c);if(u&&f){const d=u.Jc();l.yst(d),c.yst(d),e.fst();e.Mst(f.dQ())}break}}}}}*ast(){for(const t of this.qtt){const s=t.S$(),i=this.ZO(),e={ust:t,lst:s};switch(t.cst()){case"world-instance":e.property=t.Itt();break;case"instance-variable":{const h=s.fst();e.name=i.pst(h),e.type=i.mst(h);break}case"effect":{const r=i.d6(),n=s.wst(r);e.Sst=n;break}case"behavior":{const o=s.WP(i);e.BP=o;break}case"plugin":e.UL=i.WL()}yield e}}l7(){if(!this.ztt||!this.hst()){const t=this.ak();t&&(this.ztt=t.l7())}return this.ztt}Tst(){return this.Rtt}rst(){return isNaN(this.ktt)?this.Rtt.rst():this.ktt}bst(t){this.Rtt.bst(t)}G$(){return this.Rtt.G$()}I$(t){this.Rtt.I$(t)}DX(){return this.Rtt.DX()}fk(){return this.Rtt.fk()}mtt(){return this.Rtt.mtt()}xst(){return this.Rtt.xst()}vst(t){this.Rtt.vst(t)}E$(t){this.Rtt.E$(t)}nk(t){for(const s of this.Dtt())s.nk(t);for(const i of this.Gtt())i.nk(t)}Cst(){return this.Rtt.Cst()}Gst(t){this.Rtt.Gst(t)}nst(){return isNaN(this.Ftt)?this.Rtt.nst():this.Ftt}Ist(t){this.Rtt.Ist(t)}Est(t){this.Rtt.Est(t)}_st(){const t=this.ak();if(t){const s=t.LP();if(s.Dst())return t.LP()._st()}return this.Rtt._st()}Nst(t){this.Rtt.Nst(t)}Ast(){const t=this.ak();if(t){const s=t.LP();if(s.Dst())return t.LP().Ast()}return this.Rtt.Ast()}q3(){return this.Rtt.q3()}Jc(){return this.Rtt.Jc()}b$(){return 0===this.q3()}Lst(){return 1===this.q3()}Ost(){return 2===this.q3()}Rst(){return this.Xtt}UZ(){return this.$q}ctt(){return this.Ktt}QC(){return this.FC}stt(){for(const t of this.qtt)t.stt()}BZ(){if(this.est(),this.hst()||!this.b$()){const t=this.ist(),s=t.L$(),i=s?0:this.xst();for(const h of this.qtt)h.BZ(i),0===this.Xtt&&1===h.Rst()&&(this.Xtt=1),0===this.$q&&1===h.UZ()&&(this.$q=1);this.Ktt=0;const e=this.qtt.some(t=>t.ctt());e&&(this.Ktt=1),this.Jtt=this.Pst(i),this.Utt=!1,this.Wtt=!1,this.Rc(i),this.kst(this.Pst(i))}}utt(){if(this.est(),this.hst()||!this.b$()){this.mX.L$();const t=this.mX.$E()-this.mtt();this.Jtt=this.Pst(t);for(const s of this.qtt)s.utt(t)}}dtt(){if(!this.ist().HZ()&&(this.est(),this.hst()||!this.b$())&&!this.FC){const t=this.mX.$E(),s=this.mtt()+this.xst();s<=t?this.Rc(this.xst(),!0,!1,!0,!1,!1,!0):t<=0&&this.Rc(0,!0,!1,!0,!1,!1,!0)}}ltt(){for(let t=0,s=this.qtt.length;t<s;t++){const i=this.qtt[t];i.ltt(),0===this.Xtt&&1===i.Rst()&&(this.Xtt=1),0===this.$q&&1===i.UZ()&&(this.$q=1)}}ptt(){const s=this.qtt.length;for(let t=0;t<s;t++)this.qtt[t].ptt()}Rc(i,t=!1,e=!1,h=!1,s=!1,r=!1,n=!1){this.jtt||this.ak();const o=this.jtt&&!this.jtt.dF(),a=0===this.Rtt.lf;if((o||!a)&&!(r&&a&&this.ZO().JW()||(i-=this.mtt())<0)){this.Fst(i,t),this.jst(i,t,s);for(let t=0,s=this.qtt.length;t<s;t++)this.qtt[t].Rc(i,e,h,n);this.zst(i,t),0!==this.Xtt&&(this.ztt||(this.ztt=this.jtt.l7()),this.ztt)&&this.ztt.lR()}}gtt(){const s=this.qtt.length;for(let t=0;t<s;t++)this.qtt[t].gtt()}Fst(t,s){if(s&&this.FC&&!this.Utt){const i=this.ist();if(i.L$()){if(t<0)return}else if(t>this.xst())return;for(const e of this.qtt)e.BZ();this.Utt=!0}}zst(t,s){if(s&&this.FC&&!this.Wtt){const i=this.ist();if(i.L$()){if(t>=this.xst()){for(const e of this.qtt)e.Rc(this.xst(),!1,!0);this.Wtt=!0}}else if(t<=0){for(const h of this.qtt)h.Rc(0,!1,!0);this.Wtt=!0}}}jst(t,s,i){if(!i&&s&&Yr.SH.Timeline){const e=this.ist(),h=this.Jtt.bX(),r=this.Jtt.$E(),n=h?h.$E():e.Q9();if(t<=r||n<=t)if(this.Jtt=this.Ptt.Bst(t,this.Rtt),e.L$())h&&this.kst(this.Jtt);else{const o=this.Jtt.bX();o&&this.kst(o)}}}Pst(t){const s=this.Ptt.Ust(t,this.Rtt);return s||this.Ptt.Bst(t,this.Rtt)}kst(t){if(Yr.SH.Timeline){const s=this.ist(),i=s.M$();Yr.SH.Timeline.MH.PushTriggerTimeline(s),Yr.SH.Timeline.MH.PushTriggerKeyframe(t),i.L8(Yr.SH.Timeline.MH.OnAnyKeyframeReached),i.L8(Yr.SH.Timeline.MH.kst),Yr.SH.Timeline.MH.PopTriggerTimeline(s),Yr.SH.Timeline.MH.PopTriggerKeyframe(t)}}Wst(){const t=this.Rtt.Htt(),s=t.Qst();return s}Jst(){const t=this.Rtt.tst(),s=t.Vst(),i=Yr.sst.W5(this,s);return this.qtt.push(i),i}Yst(t){const s=this.Rtt.Htt();s.Hst(t)}qst(t){for(const s of this.qtt)s.qst(t)}Zst(){for(const t of this.qtt)t.Zst()}Xst(){if(this.est(),this.hst()||!this.b$())for(const t of this.qtt)t.Xst()}Kst(){if(this.est(),this.hst()||!this.b$()){let t=!1;for(const s of this.qtt){const i=s.Kst();!t&&i&&(t=!0)}if(t){const e=this.Wst();e.U9(this.ist().$E()),e.nk("noease"),e.Gst(!0),e.O$("")}}}qq(){isNaN(this.Qtt)||this.$st(this.Qtt),this.Qtt=NaN}_V(){const t=this.ak(),s=t?t.l8():this.rst();return{propertyTracksJson:this.tit(),lastKeyframeDataItemJson:this.sit(),initialStateOfNestedSet:this.Utt,endStateOfNestedSet:this.Wtt,instanceUid:s,cleared:this.Btt}}DV(t){if(t){this.iit(t.propertyTracksJson),this.eit(t.lastKeyframeDataItemJson),this.Qtt=t.instanceUid,this.Utt=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Utt=t.initialStateOfNestedSet),this.Wtt=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.Wtt=t.endStateOfNestedSet),this.Btt=!!t.hasOwnProperty("cleared")&&t.cleared;for(const s of this.qtt)0===this.Xtt&&1===s.Rst()&&(this.Xtt=1),0===this.$q&&1===s.UZ()&&(this.$q=1);this.Ktt=0,this.qtt.some(t=>t.ctt())&&(this.Ktt=1)}}sit(){const t=this.Rtt.Htt();return t.hit(this.Jtt)}tit(){return this.qtt.map(t=>t._V())}iit(t){t.forEach((t,s)=>{const i=this.qtt[s];i.DV(t)})}$st(t){if(Yr.de(t)){const s=this.N7().r7(t);if(s){const i=this.ist();i.btt(this.Rtt.fk(),s,this.ost())}}}eit(t){const s=this.Rtt.Htt();this.Jtt=s.rit(t)}}}{const Hr=self.js;Hr.sst=class extends Hr.tr{constructor(t,s){super(),this.nit=t,this.oit=s,this.ait=s.tst(),this.Xtt=0,this.$q=0,this.Ktt=0,this.uit=this.S$(),this.lit=this.oit.fit().cit(),this.dit=null,this.pit=null}static W5(t,s){return Hr.er(Hr.sst,t,s)}hr(){this.nit=null,this.uit&&(this.uit.hr(),this.uit=null),this.lit=null,this.oit=null,this.ait=null}Rst(){return this.Xtt}UZ(){return this.$q}ctt(){return this.Ktt}mit(){return!!this.pit}git(t){this.pit=t}yit(){return this.pit}Mit(){return this.nit}wit(){return this.oit}tst(){return this.ait}ist(){return this.nit.ist()}N7(){return this.nit.N7()}ak(){return this.nit.ak()}S$(){if(!this.uit){let t=this.oit.cst(),s;switch(t){case"behavior":s=new Hr.sst.Sit(this);break;case"effect":s=new Hr.sst.Tit(this),this.$q=1;break;case"instance-variable":s=new Hr.sst.bit(this);break;case"plugin":s=new Hr.sst.xit(this),this.$q=1;break;case"world-instance":s=new Hr.sst.vit(this),this.$q=1,this.Xtt=1;break;case"value":s=new Hr.sst.Cit(this);break;case"audio":s=new Hr.sst.Git(this)}this.uit=s}return this.uit}cst(){return this.oit.cst()}Iit(t){this.oit.Iit(t)}Eit(){return this.oit._it()}Dit(t){this.oit.Nit(t)}dk(){return this.S$().Ait()}Itt(){return this.oit.Lit()}Oit(t){this.oit.Rit(t)}Pit(){return this.oit.q3()}kit(t){this.oit.Fit(t)}jit(){return this.tst().zit(this.oit).q3()}Bit(){return this.oit.Bit()}Uit(t){this.oit.Uit(t)}Wit(){return this.oit.Wit()}Qit(t){this.oit.Qit(t)}Cst(){return this.oit.Cst()}Gst(t){this.oit.Gst(t)}G$(){return this.oit.G$()}I$(t){this.oit.I$(t)}DX(){return this.oit.DX()}E$(t){this.oit.E$(t)}nk(t){for(const s of this.Jit())s.nk(t)}Vit(){return this.oit.Vit()}Jit(){return this.lit||(this.lit=this.oit.fit().cit()),this.lit}TX(){return this.oit.fit().TX()}Yit(t){return this.ait.Yit(t,this.oit)}Hit(t){return this.ait.Hit(t,this.oit)}qit(t){let s=this.ait.Yit(t,this.oit),i;return i=s?this.ait.Zit(t,this.oit):(s=this.ait.Hit(t,this.oit),this.ait.Xit(t,this.oit)),{start:s,end:i}}*Kit(){for(const t of this.Jit())yield t.kX()}*$it(){for(const t of this.Jit())yield t.$E()}wtt(){this.S$().wtt()}XZ(){this.S$().XZ()}tet(){return this.S$().tet()}stt(){this.S$().stt()}BZ(t){this.S$().BZ(),this.dit=this.iet(t),this.ltt()}utt(t){this.S$().utt(),this.dit=this.iet(t)}ltt(){const t=this.Mit();if(this.Ktt=0,t.b$()){const s=this.ist(),i=t.ak(),e=this.S$(),h=this.Itt(),r=e.eet();if(r){const n=s.w$(i,e,h,this);n&&n.length&&(this.Ktt=1)}else this.Ktt=0}}iet(t){const s=this.ist(),i=this.ait.Yit(t,this.oit);return i||(s.L$()?this.ait.Hit(t,this.oit):this.ait.Xit(t,this.oit))}ptt(){this.uit.ptt()}Rc(t,s=!1,i=!1,e=!1){let h,r,n=!1;if(s)h=this.ait.Hit(t,this.oit);else{if(this.dit){const o=this.ist(),a=this.dit.bX(),u=this.dit.$E(),l=a?a.$E():o.Q9();(t<=u||l<=t)&&(this.dit=this.ait.Hit(t,this.oit),n=!0)}else this.dit=this.ait.Hit(t,this.oit),n=!0;h=this.dit}h&&(r=h.bX()),this.uit.Rc(t,h,r,s,i,e,n)}het(t){if(this.dit){const e=this.ist(),h=this.dit.bX(),r=this.dit.$E(),n=h?h.$E():e.Q9();(t<=r||n<=t)&&(this.dit=this.ait.Hit(t,this.oit))}else this.dit=this.ait.Hit(t,this.oit);const s=this.dit,i=s.bX();return this.uit.het(t,s,i)}ret(t,s,i){return this.uit.het(t,s,i)}gtt(){this.uit.gtt()}static net(t,s){const i=s.wit(),e=s.ait;return e.Hit(t,i)}static oet(t,s){const i=s.wit(),e=s.ait;return e.Xit(t,i)}aet(){const t=this.oit.fit(),s=t.uet();return this.dit=null,s}qst(t){this.dit=null;const s=this.oit.fit();s.let(t)}Zst(){this.S$().Zst()}Xst(){const t=this.S$().Xst();if(t){const s=this.ait.zit(this.oit),i=this.S$().tet();s.cet(i)}}Kst(){const t=this.S$().Kst();return t&&this.fet(),this.S$().det(),t}fet(){const t=this.ist().$E(),s=this.S$(),i=Hr.sst.net(t,this),e=this.aet();e.Fit(i.q3()),e.U9(t),e.nk(i.pet()),e.Gst(!0),e.met(s.yet()),e.cet(s.tet())}_V(){return{sourceAdapterJson:this.S$()._V()}}DV(t){t&&this.S$().DV(t.sourceAdapterJson)}}}{const qr=self.js,Zr=qr.sst;Zr.vit=class{constructor(t){this.Met=t,this.wet=null,this.Tet()}hr(){this.wet&&(this.wet.hr(),this.wet=null),this.Met=null}eet(){return this.wet.eet()}pk(){return this.Met}wtt(){this.wet&&this.wet.wtt()}XZ(){this.wet&&this.wet.XZ()}Tet(){return this.wet||(this.wet=this.bet()),this.wet}fst(){}yN(){return this.fst()}xet(){}stt(){this.Tet().stt()}BZ(){this.Tet().BZ()}utt(){this.Tet().utt()}ptt(){this.wet.vet()}Rc(t,s,i,e,h,r,n){let o=this.Met.jit(),a;switch(o){case"numeric":a=Zr.Cet.Rc(t,s,i,this.Met);break;case"angle":a=Zr.Get.Rc(t,s,i,this.Met);break;case"boolean":a=Zr.Iet.Rc(t,s,i,this.Met);break;case"color":a=Zr.Eet.Rc(t,s,i,this.Met);break;case"text":a=Zr._et.Rc(t,s,i,this.Met)}this.wet.Det(t,a,s,i,e,h,r,n)}het(t,s,i){switch(this.Met.jit()){case"numeric":return Zr.Cet.Rc(t,s,i,this.Met);case"angle":return Zr.Get.Rc(t,s,i,this.Met);case"boolean":return Zr.Iet.Rc(t,s,i,this.Met);case"color":return Zr.Eet.Rc(t,s,i,this.Met);case"text":return Zr._et.Rc(t,s,i,this.Met)}}gtt(){this.wet.Net()}Zst(){this.Tet().Aet()}det(){this.Tet().det()}tet(){return this.Tet().tet()}Xst(){return this.Tet().Xst()}Kst(){return this.Tet().Kst()}yet(){const t=this.Met,s=t.Mit(),i=s.ist().$E(),e=Zr.net(i,t),h=e.bX(),r=t.jit();switch(r){case"numeric":return Zr.Cet.Rc(i,e,h,t);case"angle":return Zr.Get.Rc(i,e,h,t);case"boolean":return Zr.Iet.Rc(i,e,h,t);case"color":return Zr.Eet.Rc(i,e,h,t);case"text":return Zr._et.Rc(i,e,h,t)}}bet(){const t=this.Met,s=t.Vit()?t.jit():"";switch(s){case"combo":case"boolean":case"text":case"string":return new Zr.Oet.Let(this);case"numeric":case"number":case"angle":return new("combo"===this.Met.Pit()?Zr.Oet.Let:Zr.Oet.Ret)(this);case"color":case"offsetColor":return new Zr.Oet.Pet(this);default:return new Zr.Oet.Ret(this)}}_V(){return{propertyAdapterJson:this.Tet()._V()}}DV(t){t&&this.Tet().DV(t.propertyAdapterJson)}}}{const Xr=self.js;class Kr extends Xr.sst.vit{constructor(t){super(t),this.ket=NaN}fst(){return this.Met.wit()._it()[0]}yN(){return this.ket||super.yN()}xet(){return this.Met.Mit().ak()}gst(t){const s=this.Met.wit()._it()[0];s!==t&&(this.ket=t)}Rc(t,s,i,e,h,r,n){this.Tet().Fet(s.Ait())&&super.Rc(t,s,i,e,h,r,n)}het(t,s,i){if(this.Tet().Fet(s.Ait()))return super.het(t,s,i)}_V(){return Object.assign(super._V(),{index:this.ket})}DV(t){t&&(super.DV(t),this.ket=t.index)}}Xr.sst.bit=Kr}{const $r=self.js;class tn extends $r.sst.vit{constructor(t){super(t),this.OU=NaN}fst(){const t=this.Met.wit();return t._it()[1]}xet(){const t=this.Met.wit(),s=this.Met.Mit(),i=this.OU||t._it()[0],e=s.ak(),h=e.jet(i),r=e.zet()[h];return r.LP()}WP(t){const s=this.Met.wit(),i=s._it()[2];return t.Bet(i)}Mst(t){const s=this.Met.wit();s._it()[0]!==t&&(this.OU=t)}Rc(t,s,i,e,h,r,n){const o=this.Met.Mit(),a=o.ak();this.WP(a.ZO())&&super.Rc(t,s,i,e,h,r,n)}het(t,s,i){const e=this.Met.Mit(),h=e.ak();if(this.WP(h.ZO()))return super.het(t,s,i)}_V(){return Object.assign(super._V(),{sid:this.OU})}DV(t){t&&(super.DV(t),this.OU=t.sid)}}$r.sst.Sit=tn}{const sn=self.js;class en extends sn.sst.vit{constructor(t){super(t)}fst(){return this.Met.wit()._it()[1]}xet(){const t=this.Met,s=t.Mit(),i=s.l7(),e=i.aR(),h=e.d6(),r=this.wst(h),n=r.yN();return e.qP(n)?e.Uet(n):null}wst(t){const s=this.Met,i=s.wit()._it()[0];return t.Wet(i)}Rc(t,s,i,e,h,r,n){this.Qet()&&super.Rc(t,s,i,e,h,r,n)}het(t,s,i){if(this.Qet())return super.het(t,s,i)}Qet(){const t=this.Met,s=t.Mit(),i=s.l7(),e=i.aR(),h=e.d6(),r=this.wst(h);if(r){const n=r.yN();return e.qP(n)}}}sn.sst.Tit=en}{const hn=self.js;class rn extends hn.sst.vit{constructor(t){super(t)}fst(){return this.Met.wit()._it()[0]}xet(){return this.Met.Mit().ak().LP()}Rc(t,s,i,e,h,r,n){const o=this.Met.Mit(),a=o.ZO().WL(),u=o.ak().ZO().WL();a===u&&super.Rc(t,s,i,e,h,r,n)}het(t,s,i){const e=this.Met.Mit(),h=e.ZO().WL(),r=e.ak().ZO().WL();if(h===r)return super.het(t,s,i)}Jet(){const t=this.Met.Mit(),s=t.ZO().WL();if(hn.SH.Vet&&s instanceof hn.SH.Vet&&("initial-frame"===this.Met.Itt()||"initial-animation"===this.Met.Itt()))switch(this.Met.DX()){case"relative":case"absolute":return null}}}hn.sst.xit=rn}{const nn=self.js;class on extends nn.sst.vit{constructor(t){super(t),this.Yet=0,this.Het=!1}eet(){return!1}BZ(){let t=this.Met.tst(),s=this.Met.wit();s=t.zit(s),this.Yet=s.kX()}utt(){}Ait(){return this.Het||this.Met.Rc(0),this.Yet}Rc(t,s,i,e,h,r,n){this.Yet=nn.sst.Cet.Rc(t,s,i,this.Met),this.Het=!0}Zst(){}det(){}tet(){return this.Yet}Xst(){return!1}Kst(){return!1}_V(){return{value:this.Yet,init:this.Het}}DV(t){t&&(this.Yet=t.value,this.Het=!t.hasOwnProperty("init")||t.init)}}nn.sst.Cit=on}{const an=self.js;class un extends an.sst.vit{constructor(t){super(t),this.qet=!1,this.Zet=null,this.Xet=null,this.Ket=null,this.mX=this.Met.ist(),this.nit=this.Met.Mit(),this.$et=this.Met.Eit(),this.tht=this.$et[0],this.sht=this.$et[1],this.$et[3]?this.iht=this.$et[3]:this.iht=Math.random().toString(36).slice(2),this.eht=NaN,this.hht=NaN,this.rht=NaN,this.nht=null,this.oht()}hr(){super.hr(),this.Zet=null,this.Xet=null,this.Ket=null,this.mX=null,this.nit=null,this.$et=null,this.tht=null,this.nht=null}oht(){if(self.js.SH.Audio){const t=this.Met.N7(),s=t.aht(self.js.SH.Audio);s&&(this.Zet=s.zL().LP()),this.Xet=self.js.SH.Audio.uht,this.Ket=self.js.SH.Audio.lht}}cht(){if(!this.nht){const t=this.Met.Mit(),s=t.pk("audioSource");s&&(this.nht=s.S$())}}fht(){const t=this.Met.Mit(),s=t.pk("volume");return(s?s.S$():this).hht}wtt(){super.wtt(),this.qet=!1,this.Zet&&(this.Ket&&(this.eht=this.Ket.PlaybackTime.call(this.Zet,this.iht),this.hht=this.Ket.Volume.call(this.Zet,this.iht)),this.Xet)&&this.Xet.j9.call(this.Zet,this.iht)}dht(){return this.iht}pht(){return this.rht}mht(t){this.rht=t}BZ(){super.BZ(),this.eht=NaN,this.qet=!1}utt(){super.utt();const t=this.Met.ist(),s=t.$E();switch(this.eht=s-this.sht,this.Met.Itt()){case"audioSource":break;case"volume":this.hht=this.Met.het(s)}this.qet=!1}Rc(t,s,i,e,h,r,n){if(this.Zet)switch(this.Met.Itt()){case"audioSource":{if(!this.mX.L$())return;if(e)return void(this.Xet&&this.Xet.j9.call(this.Zet,this.iht));if(t<this.sht)return void(this.qet=!1);const o=this.Ket.PlaybackRate.call(this.Zet,this.iht),a=this.mX.Z9();if(a!==o&&this.Xet.q9.call(this.Zet,this.iht,a),this.qet)return;if(!this.Met.ist().IsPlaying())return;if(this.qet=!0,isNaN(this.eht)){const u=self.performance.now(),l=t-this.sht,c=this.Zet.GetAudioContextState();if("suspended"===c)return void(this.qet=!1);const f=self.performance.now(),d=(f-u)/1e3,p=l+d;if(this.Xet){let t=this.pht();isNaN(t)?(this.mht(0),t=0):this.mht(t),this.Xet.PlayFromTimeline.call(this.Zet,this.tht,t,this.iht,p)}}else{const m=this.eht,g=(this.eht=NaN,this.fht()),y=(this.hht=NaN,this.Zet.GetAudioContextState());if("suspended"===y)return void(this.qet=!1);this.Xet&&(this.mht(g),this.Xet.PlayFromTimeline.call(this.Zet,this.tht,g,this.iht,m))}break}case"volume":this.cht(),super.Rc(t,s,i,e,h,r,n)}}het(t,s,i){if(this.Zet)switch(this.Met.Itt()){case"audioSource":return;case"volume":return this.cht(),super.het(t,s,i)}}ght(t,s){return this.nht?this.nht.pht():0}yht(t,s,i,e){this.nht&&this.nht.mht(this.ght()+s),this.Xet&&this.nht&&this.Xet.mht.call(this.Zet,this.nht.dht(),this.nht.pht())}Mht(t,s,i){this.nht&&this.nht.mht(s),this.Xet&&this.nht&&this.Xet.mht.call(this.Zet,this.nht.dht(),this.nht.pht())}wht(){return!0}_V(){return{audioPlaybackStarted:this.qet,audioTag:this.iht,pauseTime:this.eht,pauseVolume:this.hht,volume:this.rht}}DV(t){t&&(this.qet=t.audioPlaybackStarted,this.iht=t.audioTag,this.eht=t.pauseTime,this.hht=t.pauseVolume,this.rht=t.volume,this.oht())}}an.sst.Git=un}{const ln=self.js;ln.sst.Oet=class{constructor(t){this.uit=t,this.Met=t.pk(),this.ztt=this.Met.Mit().l7(),this.Sht=this.Met.Itt(),this.Tht=!1,this.bht=null,this.xht=null}hr(){this.uit=null,this.Met=null,this.ztt=null,this.bht=null,this.xht=null}eet(){return!1}wtt(){}XZ(){this.ztt=null,this.bht=null,this.xht=null}S$(){return this.uit}pk(){return this.Met}l7(){return this.ztt||(this.ztt=this.Met.Mit().l7()),this.ztt}vht(t){this.Tht=!!t}Cht(){return this.Tht}stt(){}BZ(){}utt(){}Aet(){this.bht=this.tet()}det(){this.bht=null}tet(){}Xst(){}Kst(){}Fet(t){const s=typeof this.Ght(),i=typeof t;return s==i}vet(){}Det(t,s,i,e,h,r,n,o){}Net(){}Iht(){const t=this.Eht(()=>{const t=this.Met.wit(),s=this.Met.tst();return s.zit(t)},()=>{const t=this.Met.wit(),s=this.Met.tst();return s._ht(t)});return t.Dht()}Nht(){const t=this.Met.ist(),e=t.$E()-this.Met.Mit().mtt(),s=this.Eht(()=>{const t=this.Met.wit(),s=this.Met.tst();return s.Hit(e,t)},()=>{const t=this.Met.wit(),s=this.Met.tst(),i=s.Xit(e,t);return i||s._ht(t)});return s.Dht()}Eht(t,s){const i=this.Met.ist();return(i.L$()?t:s)()}Aht(t,s){const i=this.Met.DX();return("relative"===i?t:s)()}Lht(t,s){return(this.Cht()?(this.vht(!1),t):s)()}Oht(t){}Rht(){return this.uit.yN()}Pht(){return this.xht||(this.xht=this.uit.xet()),this.xht}kht(t,s,i,e,h,r){const n=this.Met.cst();switch(n){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return h();case"audio":return r()}}_V(){return{firstAbsoluteUpdate:this.Tht,saveState:this.bht}}DV(t){t&&(this.Tht=t.firstAbsoluteUpdate,this.bht=t.saveState)}Fht(t,s=!1){const i=[];for(const e of t){const h=e.Mit().mtt();for(const r of e.Jit())(!s||0!==r.$E())&&s||i.push({time:h+r.$E(),value:r.Dht()})}return i.sort((t,s)=>t.time-s.time)}jht(t,s,i){return this.zht(s,i)}zht(s,i){for(let t=i.length-1;0<=t;t--){const e=i[t].time;if(e<=s)return i[t]}return null}}}{const cn=self.js,fn=new Map,dn=[0,0,0];class pn extends cn.sst.Oet{constructor(t){super(t)}stt(){}BZ(){}utt(){}tet(){const t=this.Met.cst(),s=this.Pht(),i=this.Rht();switch(t){case"behavior":return this.Bht(s.Uht(i));case"effect":return this.Bht(s[i]);case"plugin":return this.Bht(s.Uht(i));case"world-instance":return this.Bht(this.Ght())}}Xst(){const t=this.Iht();return!this.Wht(t,this.Ght())}Kst(){return!cn.ge(this.bht)&&!this.Wht(this.bht,this.Ght())}Wht(t,s){return t=this.Qht(t),s=this.Qht(s),t.oa(s)}Iht(){const t=super.Iht();return this.Qht(t)}Nht(){const t=super.Nht();return this.Qht(t)}Oht(t){}Bht(t){return(cn.Ke(t,cn.Fo)?t.toArray():t).slice(0,3)}Qht(t){return cn.Ke(t,cn.Fo)?t:new cn.Fo(t[0],t[1],t[2],1)}Fet(t){return!0}eet(){return!0}vet(){const t=this.Met.ist(),s=this.Met.ak(),i=this.Met.S$(),e=t.w$(s,i,this.Sht,this.Met);if(e&&1<e.length){fn.has(s)||fn.set(s,new Map);const h=fn.get(s),r=this.Met.cst(),n=(h.has(r)||h.set(r,new Map),h.get(r));n.has(this.Sht)||n.set(this.Sht,{Jht:!1,color:new cn.Fo(0,0,0,1)})}}Vht(t,s,i){const e=fn.get(t).get(s).get(i);return e.Jht=!0,e.color}Det(t,s,i,e,h,r,n,o){const a=this.Met.ist(),u=this.Met.Mit(),l=this.Met.ak(),c=this.Met.S$(),f=this.Met.cst(),d=this.Sht,p=a.w$(l,c,d,this.Met);if(p&&1<p.length){const m=this.Fht(p,!0),g=this.jht(a,a.$E(),m);if(g){const y=u.mtt(),M=g.time-y;if(0==M)this.Vht(l,f,this.Sht).Jo(s[0],s[1],s[2]);else if(!(M<0)){const w=s[0],S=s[1],T=s[2],b=this.Met.Rc(M,!1,!0),x=cn.Fo.za(w,b[0]),v=cn.Fo.za(S,b[1]),C=cn.Fo.za(T,b[2]);this.Vht(l,f,this.Sht).Jo(x,v,C)}}}else this.Yht(s[0],s[1],s[2])}Net(){const t=this.Met.ak();if(fn.has(t)){const s=fn.get(t),i=this.Met.cst();if(s.has(i)){const e=s.get(i);if(e.has(this.Sht)){const h=e.get(this.Sht),r=h.Jht,n=h.color;r&&this.Yht(n.Ko(),n.$o(),n.ta()),0===e.size&&s.delete(i),0===s.size&&fn.delete(t)}}}}Ght(){const t=this.Met.cst(),s=this.Pht(),i=this.Rht();switch(t){case"behavior":return this.Qht(s.Uht(i));case"effect":return s[i].clone();case"plugin":return this.Qht(s.Uht(i));case"world-instance":return this.l7().vR().clone()}}Yht(t,s,i){const e=this.Met.cst(),h=this.Pht(),r=this.Rht();switch(e){case"behavior":dn[0]=t,dn[1]=s,dn[2]=i,h.Hht(r,dn);break;case"effect":h[r].Qo(t,s,i);break;case"plugin":dn[0]=t,dn[1]=s,dn[2]=i,h.Hht(r,dn);break;case"world-instance":this.l7().qht(t,s,i)}}_V(){}DV(t){}}cn.sst.Oet.Pet=pn}{const mn=self.js,gn=mn.sst;class yn extends mn.sst.Oet{constructor(t){super(t)}stt(){}BZ(){}utt(){}tet(){return this.Ght()}Xst(){const t=this.Iht();return t!==this.tet()}Kst(){return!mn.ge(this.bht)&&this.bht!==this.tet()}eet(){return!1}Det(t,s,i,e,h,r,n,o){const a=this.Met,u=a.Mit(),l=a.cst(),c=a.ist(),f=u.ak(),d=a.S$(),p=this.Sht,m=c.w$(f,d,p,a);if(m&&1<m.length){const y=this.Fht(m),M=t+u.mtt(),w=this.jht(c,M,y);w&&(s=w.value)}const g=a.jit();switch(g){case"numeric":if(gn.Cet.Zht(this.Rht(),this.Pht(),s,l))break;return;case"angle":if(gn.Get.Zht(this.Rht(),this.Pht(),s,l))break;return;case"boolean":if(gn.Iet.Zht(this.Rht(),this.Pht(),s,l))break;return;case"color":if(gn.Eet.Zht(this.Rht(),this.Pht(),s,l))break;return;case"text":if(!gn._et.Zht(this.Rht(),this.Pht(),s,l))return}this.Yht(s)}Ght(){const t=this.Met.cst(),s=this.Pht(),i=this.Rht();switch(t){case"behavior":return s.Uht(i);case"effect":return s[i];case"instance-variable":return s.Xht(i);case"plugin":return s.Uht(i)}}Yht(t){const s=this.Met.cst(),i=this.Pht(),e=this.Rht();switch(s){case"behavior":i.Hht(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.Kht(e,t);break;case"plugin":i.Hht(e,t)}}}mn.sst.Oet.Let=yn}{const Mn=self.js,wn=(Mn.sst.Oet,new Map),Sn=(t,s,i,e,h,r=!1,n=null,o=null)=>{wn.set(t,{$ht:s,trt:i,srt:e,round:h,irt:r,init:n,reset:o})};Sn("offsetX",(t,s,i,e)=>{"relative"===e.Met.DX()?t.ert(s,i.ist().D$()):t.ert(s)},(t,s)=>t.u4(s),t=>t.a4(),!0),Sn("offsetY",(t,s,i,e)=>{"relative"===e.Met.DX()?t.hrt(s,i.ist().D$()):t.hrt(s)},(t,s)=>t.f4(s),t=>t.c4(),!0),Sn("offsetWidth",(s,t,o,i,e)=>{if(0!==t){const h="relative"===i.Met.DX(),u=1===i.rrt.q3();if((h||u)&&s.KR()&&s.rP()){if(isNaN(i.nrt)){let e=[],t=s.FR();for(;t;)e.push(t),t=t.FR();e.reverse();let a=(t,s)=>s.ist().Ett(t.ak()),h=(t,s)=>{const i=a(t,s);if(i)return i._st();const e=t.ak().LP();return e.Dst()?e._st():t.art().ort()},r=(t,s,i,e=0)=>{const h=a(t,s);if(!h)return e;const r=h.pk(i);if(!r)return e;const n=r.wit().fit();if(!n)return e;const o=n._ht();return o?o.Ait():e},n;if(u){let t=e[e.length-1];n=t.$p()}else{let s=e[0],t=s.art().ort(),i=s.art().urt();n=t*i,n=(n+=r(s,o,"offsetWidth"))+h(s,o)*r(s,o,"offsetScaleX");for(let t=1;t<e.length;t++){const l=(s=e[t]).art().urt();n=(n=(n*=l)+r(s,o,"offsetWidth"))+h(s,o)*r(s,o,"offsetScaleX")}}i.nrt=0===n?Number.EPSILON:n}e||s.km(t/i.nrt,!0)}else s.km(t)}},(t,s)=>t.um(s),t=>t.$p(),!0),Sn("offsetHeight",(s,t,o,i,e)=>{if(0!==t){const h="relative"===i.Met.DX(),a=1===i.rrt.q3();if((h||a)&&s.KR()&&s.oP()){if(isNaN(i.nrt)){let e=[],t=s.FR();for(;t;)e.push(t),t=t.FR();e.reverse();let h=(t,s)=>{e=t;const i=s.ist().Ett(e.ak());var e;if(i)return i.Ast();const h=t.ak().LP();return h.Dst()?h.Ast():t.art().lrt()},r=(t,s,i,e=0)=>{const h=s.ist().Ett(t.ak());if(!h)return e;const r=h.pk(i);if(!r)return e;const n=r.wit().fit();if(!n)return e;const o=n._ht();return o?o.Ait():e},n;if(a){let t=e[e.length-1];n=t.dm()}else{let s=e[0],t=s.art().lrt(),i=s.art().crt();n=t*i,n=(n+=r(s,o,"offsetHeight"))+h(s,o)*r(s,o,"offsetScaleY");for(let t=1;t<e.length;t++){const u=(s=e[t]).art().crt();n=(n=(n*=u)+r(s,o))+h(s,o)*r(s,o,"offsetScaleY")}}i.nrt=0===n?Number.EPSILON:n}e||s.frt(t/i.nrt,!0)}else s.frt(t)}},(t,s)=>t.tm(s),t=>t.dm(),!0),Sn("offsetAngle",(t,s,i,e,h)=>{t.drt(s)},(t,s)=>t.S6(s),t=>t.T6(),!1,!0),Sn("offsetOpacity",(t,s,i,e,h)=>{const r=e.prt||1,n=(s/=r,t.xI()),o=n+s;if(0===e.mrt)1<o?e.mrt+=o-1:o<0&&(e.mrt+=o),t.grt(s);else{const a=t.xI()+s;0<s&&0<e.mrt?1<a&&(e.mrt+=a-1):0<s&&e.mrt<0?(e.mrt+=s,0<e.mrt&&(t.grt(e.mrt),e.mrt=0)):s<0&&0<e.mrt?(e.mrt+=s,e.mrt<0&&(t.grt(e.mrt),e.mrt=0)):s<0&&e.mrt<0&&a<0&&(e.mrt+=a)}},(t,s)=>{t.CI(s)},t=>t.xI(),!1,!0,(r,h,n)=>{switch(r.mrt=0,r.Met.DX()){case"relative":{r.Met.tst();let t=r.Met.wit(),s=t.fit(),i=s.cit(),e=r.l7().xI(),h=e;for(const o of i){const a=o.$E(),u=r.Met.het(a);h=e+u,h=Mn.cr(h,0,1)}r.yrt=e-h,r.yrt=Math.round(100*(r.yrt+Number.EPSILON))/100,h=e;for(let t=i.length-1;0<=t;t--){const l=i[t].$E(),c=r.Met.het(l);h-=c,h=Mn.cr(h,0,1)}r.Mrt=h,r.Mrt=Math.round(100*(r.Mrt+Number.EPSILON))/100;break}}const t="relative"===r.Met.DX(),s=1===r.rrt.q3();if((t||s)&&h.KR()&&h.dP()){let s=[],t=h.FR();for(;t;)s.push(t),t=t.FR();s.reverse();let i=(t,s,i)=>{const e=s.ist().Ett(t.ak());if(!e)return 0;const h=e.pk(i);if(!h)return 0;const r=h.wit().fit();if(!r)return 0;const n=r._ht();return n?n.Ait():0},e=s[0].art().wrt();e+=i(s[0],n,"offsetOpacity");for(let t=1;t<s.length;t++)e+=i(s[t],n,"offsetOpacity");r.prt=0===e?1:e}},i=>{switch(i.Met.DX()){case"relative":{i.mrt=0;let t=i.l7(),s=t.xI();s=Math.round(100*(s+Number.EPSILON))/100,i.Met.ist().L$()?(t.CI(s+i.yrt),i.FT=0):(t.CI(s-i.Mrt),i.FT=i.S$().yet());break}}}),Sn("offsetOriginX",(t,s)=>t.Srt(s),(t,s)=>t.Trt(s),t=>t.S9(),!1),Sn("offsetOriginY",(t,s)=>t.brt(s),(t,s)=>t.xrt(s),t=>t.b9(),!1),Sn("offsetZElevation",(t,s)=>t.vrt(s),(t,s)=>t.m4(s),t=>t.d4(),!0),Sn("offsetScaleX",(t,s,i,e)=>{if(0!==s){const h=t.$p()<0?-1:1;if("relative"===e.Met.DX()&&t.KR()&&t.rP()){const r=i._st()*h*s;isNaN(e.nrt)&&wn.get("offsetWidth").$ht(t,1,i,e,!0),t.km(r/e.nrt,!0)}else t.km(i._st()*h*s)}},(t,s,i)=>{t.um(i._st()*s)},(e,h)=>{const r=e.$p()<0?-1:1;if(e.rP()){let t=e.FR(),s=h.ist().Ett(t.ak()),i=NaN;if(s)i=t.$p()/s._st();else{const n=t.ak().LP();i=n.Dst()?t.$p()/n._st():1}return e.$p()*r/(h._st()*i)}return e.$p()*r/h._st()},!1),Sn("offsetScaleY",(t,s,i,e)=>{if(0!==s){const h=t.dm()<0?-1:1;if("relative"===e.Met.DX()&&t.KR()&&t.oP()){const r=i.Ast()*h*s;isNaN(e.nrt)&&wn.get("offsetHeight").$ht(t,1,i,e,!0),t.frt(r/e.nrt,!0)}else t.frt(i.Ast()*h*s)}},(t,s,i)=>{t.tm(i.Ast()*s)},(e,h)=>{const r=e.dm()<0?-1:1;if(e.oP()){let t=e.FR(),s=h.ist().Ett(t.ak()),i=NaN;if(s)i=t.dm()/s.Ast();else{const n=t.ak().LP();i=n.Dst()?t.dm()/n.Ast():1}return e.dm()*r/(h.Ast()*i)}return e.dm()*r/h.Ast()},!1);class Tn extends Mn.sst.Oet{constructor(t){super(t),this.FT=0,this.mrt=0,this.yrt=0,this.Mrt=0,this.prt=NaN,this.nrt=NaN,this.Crt=void 0,this.Grt=void 0,this.Irt=null,this.Ert=null,this._rt=null,this.Drt=null,this.Nrt=null,this.Art=null,this.Lrt=null,this.Ort=null,this.Rrt=!1,this.Prt=!1,Mn.Ke(this.Met.ist(),Mn.krt)?this.rrt=new Mn.sst.Oet.Frt(this):this.rrt=new Mn.sst.Oet.jrt(this);const s=this.Met.Itt();switch(this.Met.cst()){case"world-instance":{const i=wn.get(s);this.Irt=i.srt,this.Ert=i.$ht,this._rt=i.trt,this.Rrt=i.round,this.Prt=i.irt,this.Nrt=i.init,this.Drt=i.reset;break}case"audio":this.Art=t.ght,this.Lrt=t.yht,this.Ort=t.Mht,this.Rrt=!!t.wht(),this.Prt=!1}}hr(){this.rrt=null,this.Irt=null,this.Ert=null,this._rt=null,this.Drt=null,this.Nrt=null,this.Art=null,this.Lrt=null,this.Ort=null,super.hr()}eet(){return this.rrt.eet()}zrt(){return this.FT}Brt(t){this.FT=t}stt(){this.Drt&&this.Drt(this)}BZ(){const t=this.rrt.BZ();if("number"==typeof t&&(this.FT=t),this.Nrt){const s=this.l7(),i=this.Met.Mit();this.Nrt(this,s,i)}}utt(){const t=this.rrt.utt();"number"==typeof t&&(this.FT=t)}tet(){return this.Ght()}Xst(){const t=this.Iht();return t!==this.tet()}Kst(){return!Mn.ge(this.bht)&&this.bht!==this.tet()}vet(){this.rrt.vet()}Det(t,s,i,e,h,r,n,o){return this.rrt.Det(t,s,i,e,h,r,n,o)}Net(){this.rrt.Net()}Ght(){const t=this.Pht(),s=this.Rht(),i=this.l7(),e=this.Met.Mit(),h=this.Met.cst();switch(h){case"behavior":return t.Uht(s);case"effect":return t[s];case"instance-variable":return t.Xht(s);case"plugin":return t.Uht(s);case"world-instance":return this.Irt(i,e);case"audio":return this.Art.call(this.S$(),i,e)}}Yht(t,s,i){const e=this.Pht(),h=this.Rht(),r=this.l7(),n=this.Met.Mit(),o=this.Met.cst();switch(o){case"behavior":e.Urt(h,t);break;case"effect":e[h]+=t;break;case"instance-variable":e.Wrt(h,t);break;case"plugin":e.Urt(h,t,this.S$().Jet());break;case"world-instance":this.Ert(r,t,n,this);break;case"audio":this.Lrt.call(this.S$(),r,t,n,this)}}Qrt(t,s,i){let e=this.Met.G$();if("discrete"!==(e="default"===e?"continuous":e)||s){if("discrete"===e&&i){const u=this.Met.ist(),l=u.$E(),c=this.Met.Yit(l);if(!c)return}const h=this.Pht(),r=this.Rht(),n=this.l7(),o=this.Met.Mit(),a=this.Met.cst();switch(a){case"behavior":h.Hht(r,t);break;case"effect":h[r]=t;break;case"instance-variable":h.Kht(r,t);break;case"plugin":h.Hht(r,t,this.S$().Jet());break;case"world-instance":this._rt(n,t,o);break;case"audio":this.Ort.call(this.S$(),n,t,o)}}}Jrt(t,s,i,e,h,r,n,o){this.rrt.Jrt(t,s,i,e,h,r,n,o)}Vrt(t,s,i,e,h){let r=(t="angle"===this.Met.Pit()?Mn.mr(t):t).toString(),n=r.split(".")[1]||"",o=n.length,a=this.Ght(),u;switch(u=0===o?this.Rrt?Math.round(a):this.Prt?"angle"===this.Met.Pit()?Mn.pr(Math.round(Mn.mr(a))):Number(Mn.toFixed(a,2)):a:this.Rrt?Number(Mn.toFixed(a,o)):(this.Prt,a),this.Yht(u-a,s,i),this.Met.Itt()){case"offsetWidth":case"offsetScaleX":{const l=this.l7(),c=l.$p(),f=Number(Mn.toFixed(c,2));l.km(f-c);break}case"offsetHeight":case"offsetScaleY":{const d=this.l7(),p=d.dm(),m=Number(Mn.toFixed(p,2));d.frt(m-p);break}}}_V(){return Object.assign(super._V(),{v:this.FT,a:this.mrt,fod:this.yrt,bod:this.Mrt,of:this.prt,sf:this.nrt,armorf:this.Crt,armandf:this.Grt})}DV(t){t&&(super.DV(t),this.FT=t.v,this.mrt=t.a,this.yrt=Mn.de(t.fod)?t.fod:0,this.Mrt=Mn.de(t.bod)?t.bod:0,this.prt=Mn.de(t.of)?t.of:NaN,this.nrt=Mn.de(t.sf)?t.sf:NaN,this.Crt=Mn.de(t.armorf)?t.armorf:void 0,this.Grt=Mn.de(t.armandf)?t.armandf:void 0)}}Mn.sst.Oet.Ret=Tn}{const bn=self.js;class xn{constructor(t){this.Yrt=!1,this.Yet=0,this.Hrt=!1,this.qrt=!1,this.qtt=t;for(let t=0,s=this.qtt.length;t<s;t++)this.qtt[t].git(this)}Gtt(){return this.qtt}Zrt(){this.Yrt=!0}Xrt(){return this.Yrt}met(t){this.Yet=t}Ait(){return this.Yet}Krt(t){this.Hrt=t}$rt(){return this.Hrt}dtt(t){this.qrt=t}tnt(){return this.qrt}i0(){this.Yrt=!1,this.Yet=0,this.Hrt=!1,this.qrt=!1}}class vn{constructor(t){this.snt=t}hr(){this.snt=null}q3(){return 0}BZ(){const t=this.snt;this.snt.pk();return t.Aht(()=>t.Eht(()=>0,()=>t.S$().yet()),()=>{})}utt(){}eet(){this.snt;const t=this.snt.pk();switch(t.DX()){case"relative":return!1;case"absolute":return!0}}vet(){this.snt;const t=this.snt.pk(),s=t.Itt();switch(t.DX()){case"relative":break;case"absolute":if(t.mit()){const i=t.yit();i.i0()}else{const e=t.ist(),h=t.ak(),r=t.S$(),n=e.w$(h,r,s,t);n&&1<n.length&&new xn(n)}}}Det(t,s,i,e,h,r,n,o){const a=this.snt,u=this.snt.pk();switch(u.DX()){case"relative":{const l=a.zrt();a.Yht(s-l,i,e),r&&this.Jrt(t,i,e,h,l,s),a.Brt(s);break}case"absolute":{const c=u.ist(),f=u.Mit();u.ak(),u.S$();if(u.mit()){const d=u.yit(),p=d.Gtt(),m=a.Fht(p,!0),g=a.jht(c,c.$E(),m);if(g){const y=f.mtt(),M=g.time-y;if(0==M)d.dtt(n),d.Krt(o),d.Zrt(),d.met(d.Ait()+s);else{if(M<0)return;const w=u.het(M);d.dtt(n),d.Krt(o),d.Zrt(),d.met(d.Ait()+(s-w))}}}else a.Qrt(s,o,n);break}}}Net(){const t=this.snt,s=this.snt.pk();switch(s.DX()){case"relative":break;case"absolute":if(s.mit()){const i=s.yit();i.Xrt()&&t.Qrt(i.Ait(),i.$rt(),i.tnt())}}}Jrt(t,s,i,e,h,r){const n=this.snt;e||(s&&t===s.$E()?n.Vrt(s.kX(),s,i):i&&t===i.$E()?n.Vrt(i.kX(),s,i):r-h==0&&n.Vrt(s.kX(),s,i))}}bn.sst.Oet.jrt=vn}{const Cn=self.js;class Gn{constructor(t){this.snt=t}hr(){this.snt=null}q3(){return 1}BZ(){const t=this.snt;return t.vht(!0),this.Oht(t.Iht())}utt(){const t=this.snt;if(t.Iht()!==t.Nht())return t.vht(!0),this.Oht(t.Nht())}eet(){return!1}vet(){}Det(t,s,i,e,h,r,n,o){const a=this.snt,u=a.zrt();switch(a.pk().DX()){case"relative":a.Yht(s-u,i,e),r&&this.Jrt(t,i,e,h,u,s,!1,n);break;case"absolute":a.Cht()?(a.vht(!1),a.Yht(u,i,e)):0===t&&0===a.pk().ist().Q9()?a.Qrt(s,!0,!1):(a.Yht(s-u,i,e),r&&this.Jrt(t,i,e,h,u,s,this.int(),n))}a.Brt(s)}Net(){}Oht(t){const s=this.snt;return t-s.tet()}int(){let t=this.snt,s=t.l7().ak(),i=t.pk().N7(),e=i.M$(),h=0;for(const r of e.gZ())0===r.q3()?r.TZ(s)&&h++:1===r.q3()&&r.ak()===s&&h++;return h<=1}Jrt(t,s,i,e,h,r,n,o){const a=this.snt;e?s&&t===s.$E()?a.Vrt(s.kX(),s,i,n,o):i&&t===i.$E()?a.Vrt(i.kX(),s,i,n,o):i||a.Vrt(s.kX(),s,i,n,o):s&&t===s.$E()?a.Vrt(s.kX(),s,i,n,o):i&&t===i.$E()?a.Vrt(i.kX(),s,i,n,o):r-h==0&&a.Vrt(s.kX(),s,i,n,o)}}Cn.sst.Oet.Frt=Gn}{const In=self.js,En=self.nc;In.sst.Cet=class{constructor(){}static Zht(t,s,i,e){let h;switch(e){case"behavior":h=s.Uht(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Xht(t);break;case"plugin":h=s.Uht(t)}return h!==i}static Rc(r,n,o,a){if(!o){let t=a.wit(),s=a.tst();return(t=s._ht(t)).kX()}let u=a.G$();if("default"===u&&(u="continuous"),"discrete"===(u="combo"===a.Pit()?"discrete":u))return n.kX();if("continuous"===u||"step"===u){const l=a.ist().v$();if("step"===u&&0!==l){const g=1/l;r=Math.floor(r*g)/g}const c=n.kX(),f=o.kX(),d=n.RX("cubic-bezier"),p=o.RX("cubic-bezier"),m=d&&d.ent()&&p&&p.hnt();if(!m&&c===f)return c;let t=n.$E(),s=o.$E(),i=("step"===u&&0!==l&&(r=In.cr(r,t,s)),In.normalize(r,t,s)),e=n.pet(),h;if(m){const y=s-t;h=En.Cc(e)(y*i,0,1,y),h=En.Cc("cubicbezier")(h,c,c+d.zX(),f+p.WX(),f)}else h=En.Cc(e)((s-t)*i,c,f-c,s-t);return"integer"===a.Pit()?Math.floor(h):h}}}}{const _n=self.js;_n.sst.Get=class{constructor(){}static Zht(t,s,i,e){let h;switch(e){case"behavior":h=s.Uht(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Xht(t);break;case"plugin":h=s.Uht(t)}return h!==i}static Rc(t,s,i,e){if(!i){let t=e.wit(),s=e.tst();return(t=s._ht(t)).kX()}let h=e.G$();if("default"===h&&(h="continuous"),"discrete"===(h="combo"===e.Pit()?"discrete":h))return s.kX();if("continuous"===h||"step"===h){const r=e.ist().v$();if("step"===h&&0!==r){const c=1/r;t=Math.floor(t*c)/c}const n=s.$E(),o=i.$E(),a=s.kX(),u=i.kX(),l=("step"===h&&0!==r&&(t=_n.cr(t,n,o)),s.RX("angle"));if(!l){if(a===u)return a;const f=_n.normalize(t,n,o),d=self.nc.Cc(s.pet());return _n.vr(a,u,d(f,0,1,1))}{const p=l.rnt();if(a===u&&0===p)return a;const m=_n.normalize(t,n,o),g=self.nc.Cc(s.pet()),y=g(m,0,1,1);switch(l.nnt()){case"closest":return _n.vr(a,u,y,p);case"clockwise":return _n.Cr(a,u,y,p);case"anti-clockwise":return _n.Gr(a,u,y,p)}}}}}}{const Dn=self.js;Dn.sst.Iet=class{constructor(){}static Zht(t,s,i,e){let h;switch(e){case"behavior":h=s.Uht(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Xht(t);break;case"plugin":h=s.Uht(t)}return!!h!=!!i}static Rc(t,s,i,e){if(i)return s.kX()?1:0;{let t=e.wit(),s=e.tst();return(t=s._ht(t)).kX()?1:0}}}}{const Nn=self.js,An=[0,0,0],Ln=[0,0,0],On=[0,0,0];Nn.sst.Eet=class{constructor(){}static Zht(t,s,i,e){let h;switch(e){case"behavior":h=s.Uht(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Xht(t);break;case"plugin":h=s.Uht(t)}return Array.isArray(i)?(An[0]=i[0],An[1]=i[1],An[2]=i[2]):(On.ba(i),An[0]=Math.floor(255*On.Ko()),An[1]=Math.floor(255*On.$o()),An[2]=Math.floor(255*On.ta())),Array.isArray(h)?(Ln[0]=h[0],Ln[1]=h[1],Ln[2]=h[2]):(On.ba(h),Ln[0]=Math.floor(255*On.Ko()),Ln[1]=Math.floor(255*On.$o()),Ln[2]=Math.floor(255*On.ta())),An[0]!==Ln[0]||An[1]!==Ln[1]||An[2]!==Ln[2]}static Rc(t,s,i,e){if(!i){let t=e.wit(),s=e.tst(),i=(t=s._ht(t)).kX();return An[0]=i[0],An[1]=i[1],An[2]=i[2],An}let h=e.G$();if("discrete"===(h="default"===h?"continuous":h)){const r=s.kX();return An[0]=r[0],An[1]=r[1],An[2]=r[2],An}if("continuous"===h||"step"===h){const n=e.ist().v$();if("step"===h&&0!==n){const b=1/n;t=Math.floor(t*b)/b}const o=s.$E(),a=i.$E(),u=s.kX(),l=i.kX(),c=("step"===h&&0!==n&&(t=Nn.cr(t,o,a)),Nn.normalize(t,o,a)),f=s.pet(),d=u[0],p=u[1],m=u[2],g=l[0],y=l[1],M=l[2],w=self.nc.Cc(f),S=a-o,T=S*c;return An[0]=d===g?d:w(T,d,g-d,S),An[1]=p===y?p:w(T,p,y-p,S),An[2]=m===M?m:w(T,m,M-m,S),An}}}}{const Rn=self.js;Rn.sst._et=class{constructor(){}static Zht(t,s,i,e){let h;switch(e){case"behavior":h=s.Uht(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Xht(t);break;case"plugin":h=s.Uht(t)}return h!==i}static Rc(t,s,i,e){if(i)return s.kX();{let t=e.wit(),s=e.tst();return(t=s._ht(t)).kX()}}}}{const Pn=self.js;Pn.vq=class{constructor(){this.ont=new Map}hr(){for(const t of this.ont.values())t.hr();this.ont.clear(),this.ont=null}ec(t){const s=new Pn.ant(t),i=s.Jc();this.ont.set(i,s)}hi(t){return this.ont.get(t)}c$(){return 0}static unt(t,s,i,e){if(s)for(const h of s)Pn.vq.lnt("create",h,t,i,e)}static cnt(t,s,i,e){if(s)for(const h of s)Pn.vq.lnt("create-including-disabled",h,t,i,e)}static fnt(i,t,s,e){i.length?t.forEach((t,s)=>{i[s].DV(t)}):t.forEach(t=>{Pn.vq.lnt("load",t,i,s,e)})}static lnt(t,s,i,e,h){let r;if("function"==typeof e)switch(t){case"load":r=new e(null,h);break;case"create":case"create-including-disabled":r=new e(s,h)}else if("object"==typeof e){const n=e.prop,o=s[n],a=e.map.get(o);switch(t){case"load":r=new a(null,h);break;case"create":case"create-including-disabled":r=new a(s,h)}}switch(t){case"load":r.DV(s),i.push(r);break;case"create":if("function"==typeof r.Cst&&!r.Cst())return r.hr();i.push(r);break;case"create-including-disabled":i.push(r)}}}}{const kn=self.js;kn.ant=class{constructor(t){this.ur="",this.ftt=NaN,this.dnt=0,this.pnt="default",this.mnt="default",this.gnt=!1,this.ynt=!1,this.Mnt=1,this.Ptt=null,this.wnt="",this.Snt=!1,this.Tnt=!0,t&&(this.ur=t[0],this.ftt=t[1],this.dnt=t[2],this.pnt=t[3],this.mnt=t[4],this.gnt=!!t[6],this.ynt=!!t[7],this.Mnt=t[8],this.wnt=t[9],this.Snt=!!t[10],this.Tnt=!!t[11],this.Ptt=new kn.bnt(t[5],this))}hr(){this.Ptt.hr(),this.Ptt=null}g$(){return this.Ptt||(this.Ptt=new kn.bnt(null,this)),this.Ptt}Jc(){return this.ur}KF(t){this.ur=t}Q9(){return this.ftt}W9(t){this.ftt=t}v$(){return this.dnt}C$(t){this.dnt=t}G$(){return this.pnt}I$(t){this.pnt=t}DX(){return this.mnt}E$(t){this.mnt=t}V9(){return this.gnt}J9(t){this.gnt=t}H9(){return this.ynt}Y9(t){this.ynt=t}h9(){return this.Mnt}_$(t){this.Mnt=t}KZ(){return this.wnt}D$(){return this.Snt}N$(){return this.Tnt}_V(){return{trackDataJson:this.Ptt._V(),name:this.ur,totalTime:this.ftt,step:this.dnt,interpolationMode:this.pnt,resultMode:this.mnt,loop:this.gnt,pingPong:this.ynt,repeatCount:this.Mnt,startOnLayout:this.wnt,transformWithSceneGraph:!!this.Snt,useSystemTimescale:this.Tnt}}DV(t){t&&(this.g$().DV(t.trackDataJson),this.ur=t.name,this.ftt=t.totalTime,this.dnt=t.step,this.pnt=t.interpolationMode,this.mnt=t.resultMode,this.gnt=t.loop,this.ynt=t.pingPong,this.Mnt=t.repeatCount,this.wnt=t.startOnLayout,this.Snt=!!t.transformWithSceneGraph,this.Tnt=!!t.useSystemTimescale)}}}{const Fn=self.js;class jn{constructor(t,s){this.Ptt=s,this.xnt=null,this.vnt=null,this.ktt=NaN,this.Ftt=NaN,this.pnt="default",this.mnt="default",this.Dl=!1,this.Cnt=null,this.ait=null,this.if="",this.Gnt=null,this.Int=0,this.Ent=this.Ptt.x$().Q9(),this.lf=0,this.ur="",t&&(t[0]&&(this.xnt=t[0],this.ktt=t[0][2],this.Ftt=t[0][1]),this.pnt=t[1],this.mnt=t[2],this.Dl=!!t[3],t[6]&&(this.if=t[6]),t[7]&&(this.Gnt=t[7],this.Int=t[7][0],this.Ent=t[7][1]),t[8]&&(this.vnt=t[8]),t[8]&&(this.vnt=t[8]),t[9]&&(this.lf=t[9]),t[10]&&(this.ur=t[10]),this.Cnt=new Fn._nt(t[4],this),this.ait=new Fn.Dnt(t[5],this))}hr(){this.xnt=null,this.Ptt=null,this.Cnt&&(this.Cnt.hr(),this.Cnt=null),this.ait&&(this.ait.hr(),this.ait=null),this.Gnt=null}g$(){return this.Ptt}Htt(){return this.Cnt||(this.Cnt=new Fn._nt(null,this)),this.Cnt}tst(){return this.ait||(this.ait=new Fn.Dnt(null,this)),this.ait}Nnt(){return this.xnt}nst(){return this.Ftt}Ist(t){this.Ftt=t}rst(){return this.ktt}bst(t){this.ktt=t}G$(){return this.pnt}I$(t){this.pnt=t}DX(){return this.mnt}E$(t){this.mnt=t}Cst(){return this.Dl}Gst(t){this.Dl=!!t}fk(){return this.if}mtt(){return this.Int}xst(){return this.Ent}vst(t){this.Ent=t}_st(){return this.vnt[0]}Est(t){this.vnt||(this.vnt=[]),this.vnt[0]=t}Ast(){return this.vnt||(this.vnt=[]),this.vnt[1]}Nst(t){this.vnt||(this.vnt=[]),this.vnt[1]=t}q3(){return this.lf}Jc(){return this.ur}_V(){return{keyframeDataJson:this.Cnt._V(),propertyTrackDataJson:this.ait._V(),instanceData:this.xnt,additionalInstanceData:this.vnt,instanceUid:this.ktt,objectClassIndex:this.Ftt,interpolationMode:this.pnt,resultMode:this.mnt,enabled:this.Dl,id:this.if,nestedData:this.Gnt,type:this.lf,name:this.ur}}DV(t){t&&(this.xnt=t.instanceData,this.ktt=t.instanceUid,this.Ftt=t.objectClassIndex,this.pnt=t.interpolationMode,this.mnt=t.resultMode,this.Dl=t.enabled,this.if=t.id,this.lf=t.type||0,this.ur=t.name||"",this.Ent=this.Ptt.x$().Q9(),t.nestedData&&(this.Gnt=t.nestedData,this.Int=this.Gnt[0],this.Ent=this.Gnt[1]),t.additionalInstanceData&&(this.vnt=t.additionalInstanceData),this.Htt().DV(t.keyframeDataJson),this.tst().DV(t.propertyTrackDataJson))}}Fn.bnt=class{constructor(t,s){this.RK=s,this.Ant=[],Fn.vq.unt(this.Ant,t,jn,this)}hr(){this.RK=null;for(const t of this.Ant)t.hr();Fn.On(this.Ant),this.Ant=null}x$(){return this.RK}Mtt(){const t=new jn(null,this);return this.Ant.push(t),t}Lnt(t){return t.Htt().Ytt()[0]}Ont(t){const s=t.Htt().Ytt();return s.at(-1)}Ust(s,t){const i=t.Htt().Ytt(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.$E()===s)return h}}Rnt(s,t){const i=t.Htt().Ytt(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.$E()>s)return h}}Pnt(s,t){const i=t.Htt().Ytt(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.$E()>=s)return h}}Bst(s,t){const i=t.Htt().Ytt();for(let t=i.length-1;0<=t;t--){const e=i[t];if(e.$E()<=s)return e}}*m$(){for(const t of this.Ant)yield t}_V(){return{trackDataItemsJson:this.Ant.map(t=>t._V())}}DV(t){t&&Fn.vq.fnt(this.Ant,t.trackDataItemsJson,jn,this)}}}{const zn=self.js;class Bn{constructor(t,s){this.ait=s,this.knt="",this.Fnt=null,this.Sht=null,this.lf=null,this.jnt=NaN,this.znt=NaN,this.pnt="default",this.mnt="default",this.Dl=!1,this.Bnt=null,this.Unt=!0,t&&(this.knt=t[0][0],this.Fnt=t[0].slice(1),this.Sht=t[1],this.lf=t[2],this.jnt=t[3],this.znt=t[4],this.pnt=t[5],this.mnt=t[6],this.Dl=!!t[7],this.Bnt=new zn.Wnt(t[8],this),this.Unt=t[9])}hr(){this.Bnt.hr(),this.Bnt=null,this.ait=null,this.Fnt=null}tst(){return this.ait}fit(){return this.Bnt||(this.Bnt=new zn.Wnt(null,this)),this.Bnt}cst(){return this.knt}Iit(t){this.knt=t}_it(){return this.Fnt}Nit(t){this.Fnt=t}Lit(){return this.Sht}Rit(t){this.Sht=t}q3(){return this.lf}Fit(t){this.lf=t}Bit(){return this.jnt}Uit(t){this.jnt=t}Wit(){return this.znt}Qit(t){this.znt=t}G$(){return this.pnt}I$(t){this.pnt=t}DX(){return this.mnt}E$(t){this.mnt=t}Cst(){return this.Dl}Gst(t){this.Dl=!!t}Vit(){return!!this.Unt}_V(){return{propertyKeyframeDataJson:this.Bnt._V(),sourceAdapterId:this.knt,sourceAdapterArguments:this.Fnt,property:this.Sht,type:this.lf,min:this.jnt,max:this.znt,interpolationMode:this.pnt,resultMode:this.mnt,enabled:this.Dl,canHavePropertyKeyframes:this.Unt}}DV(t){t&&(this.knt=t.sourceAdapterId,this.Fnt=t.sourceAdapterArguments,this.Sht=t.property,this.lf=t.type,this.jnt=t.min,this.znt=t.max,this.pnt=t.interpolationMode,this.mnt=t.resultMode,this.Dl=t.enabled,this.Unt=t.canHavePropertyKeyframes,this.fit().DV(t.propertyKeyframeDataJson))}}zn.Dnt=class{constructor(t,s){this.Rtt=s,this.Qnt=[],zn.vq.unt(this.Qnt,t,Bn,this)}hr(){this.Rtt=null;for(const t of this.Qnt)t.hr();zn.On(this.Qnt),this.Qnt=null}Tst(){return this.Rtt}Vst(){const t=new Bn(null,this);return this.Qnt.push(t),t}zit(t){const s=t.fit();return s.cit()[0]}_ht(t){const s=t.fit(),i=s.cit();return i.at(-1)}Yit(s,t){const i=t.fit(),e=i.cit(),h=e.length;for(let t=0;t<h;t++){const r=e[t];if(r.$E()===s)return r}}Zit(s,t){const i=t.fit(),e=i.cit(),h=e.length;for(let t=0;t<h;t++){const r=e[t];if(r.$E()>s)return r}}Xit(s,t){const i=t.fit(),e=i.cit(),h=e.length;for(let t=0;t<h;t++){const r=e[t];if(r.$E()>=s)return r}}Hit(s,t){const i=t.fit(),e=i.cit();for(let t=e.length-1;0<=t;t--){const h=e[t];if(h.$E()<=s)return h}}*$tt(){for(const t of this.Qnt)yield t}_V(){return{propertyTrackDataItemsJson:this.Qnt.map(t=>t._V())}}DV(t){t&&zn.vq.fnt(this.Qnt,t.propertyTrackDataItemsJson,Bn,this)}}}{const Un=self.js;class Wn{constructor(t,s){if(this.Cnt=s,this.q_=-1,this.Jnt="noease",this.Vnt=!1,this.n$=null,this.Ynt=null,t){this.q_=t[0],this.Jnt=t[1],this.Vnt=!!t[2];const i=t[3];this.n$=i?i.split(" "):[],this.Ynt=new Set(this.n$.map(t=>t.toLowerCase())),this.Hnt=null}}hr(){this.Cnt=null,Un.On(this.n$),this.n$=null,this.Ynt.clear(),this.Ynt=null,this.Hnt=null}Htt(){return this.Cnt}bX(){return this.Hnt}qnt(t){this.Hnt=t}$E(){return this.q_}U9(t){this.q_=t,this.Cnt.Znt()}pet(){return this.Jnt}nk(t){this.Jnt=t}Cst(){return this.Vnt}Gst(t){this.Vnt=!!t}X9(){return this.n$}O$(t){this.n$=t?t.split(" "):[],this.Ynt=new Set(this.n$.map(t=>t.toLowerCase()))}Xnt(){return this.Ynt}Ntt(t){return this.Ynt.has(t.toLowerCase())}_V(){return{time:this.q_,ease:this.Jnt,enable:this.Vnt,tags:this.n$}}DV(t){t&&(this.q_=t.time,this.Jnt=t.ease,this.Vnt=t.enable,this.n$=t.tags,this.Ynt=new Set(this.n$.map(t=>t.toLowerCase())))}}Un._nt=class{constructor(t,s){this.Rtt=s,this.Vtt=[],Un.vq.unt(this.Vtt,t,Wn,this),this.Znt()}hr(){this.Rtt=null;for(const t of this.Vtt)t.hr();Un.On(this.Vtt),this.Vtt=null}Znt(){this.Vtt.sort((t,s)=>t.$E()-s.$E());for(let t=0;t<this.Vtt.length;t++){const s=this.Vtt[t];s.qnt(this.Vtt[t+1])}}Tst(){return this.Rtt}Knt(){return this.Vtt.length}Ytt(){return this.Vtt}Qst(){const t=new Wn(null,this);return this.Vtt.push(t),this.Znt(),t}Hst(t){for(const s of this.Vtt)if(t(s)){const i=this.Vtt.indexOf(s);-1!==i&&(s.hr(),this.Vtt.splice(i,1))}this.$nt(),this.Znt()}$nt(){this.Vtt.sort((t,s)=>t.$E()-s.$E())}hit(t){return this.Vtt.indexOf(t)}rit(t){return this.Vtt[t]}*tot(){for(const t of this.Vtt)yield t}*sot(){for(let t=this.Vtt.length-1;0<=t;t--)yield this.Vtt[t]}_V(){return{keyframeDataItemsJson:this.Vtt.map(t=>t._V())}}DV(t){t&&(Un.vq.fnt(this.Vtt,t.keyframeDataItemsJson,Wn,this),this.Znt())}}}{const Qn=self.js;class Jn{constructor(t,s){this.Bnt=s,this.Yet=null,this.iot=null,this.lf="",this.q_=NaN,this.Jnt="noease",this.Vnt=!1,this.eot=null,this.hot=void 0,this.rot="line",t&&(this.Yet=t[0][0],this.iot=t[0][1],this.lf=t[0][2],this.q_=t[1],this.Jnt=t[2],this.Vnt=!!t[3],this.rot=t[5],this.eot=null,t[4]&&(this.eot=new Qn.not(t[4],this)),this.Hnt=null,this.oot=null)}hr(){this.Bnt=null,this.eot&&(this.eot.hr(),this.eot=null),this.Hnt=null,this.oot=null}aot(){return this.eot}qnt(t){this.Hnt=t}bX(){return this.Hnt}uot(t){this.oot=t}xX(){return this.oot}Ait(){return this.Yet}met(t){"color"===this.lf&&Qn.de(t)?(this.Yet[0]=Qn.Ur(t),this.Yet[1]=Qn.Wr(t),this.Yet[2]=Qn.Qr(t)):this.Yet=t}Dht(){return this.iot}cet(t){"color"===this.lf&&Qn.de(t)?(this.iot[0]=Qn.Ur(t),this.iot[1]=Qn.Wr(t),this.iot[2]=Qn.Qr(t)):this.iot=t}kX(){const t=this.Bnt.wit().DX();return"relative"===t?this.Ait():"absolute"===t?this.Dht():void 0}q3(){return this.lf}Fit(t){this.lf=t}$E(){return this.q_}U9(t){this.q_=t,this.Bnt.lot()}pet(){return this.Jnt}nk(t){this.Jnt=t}Cst(){return this.Vnt}Gst(t){this.Vnt=!!t}vX(){return this.rot}RX(s){if(this.eot){if(!this.hot&&null!==this.hot){const i=this.eot.cot();if(i){const e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.fk()===s)return this.hot=h,this.hot}}this.hot=null}return this.hot}}_V(){const t=this.eot;return{addonDataJson:t&&t._V(),value:this.Yet,aValue:this.iot,type:this.lf,time:this.q_,ease:this.Jnt,enable:this.Vnt}}DV(t){t&&(t.addonDataJson&&this.eot._SetFromJson(t.addonDataJson),this.Yet=t.value,this.iot=t.aValue,this.lf=t.type,this.q_=t.time,this.Jnt=t.ease,this.Vnt=t.enable)}}Qn.Wnt=class{constructor(t,s){this.oit=s,this.lit=[],this.fot=[],Qn.vq.unt(this.lit,t,Jn,this),Qn.vq.cnt(this.fot,t,Jn,this),this.lot()}hr(){this.oit=null;for(const t of this.lit)t.hr();Qn.On(this.lit),this.lit=null;for(const s of this.fot)s.hr();Qn.On(this.fot),this.fot=null}lot(){let s=this.lit;s.sort((t,s)=>t.$E()-s.$E());for(let t=0;t<s.length;t++){const i=s[t];t+1<s.length&&i.qnt(s[t+1]),0<=t-1&&i.uot(s[t-1])}(s=this.fot).sort((t,s)=>t.$E()-s.$E());for(let t=0;t<s.length;t++){const e=s[t];t+1<s.length&&e.qnt(s[t+1]),0<=t-1&&e.uot(s[t-1])}}uet(){const t=new Jn(null,this);return this.lit.push(t),this.lot(),t}let(t){for(const s of this.lit)if(t(s)){const i=this.lit.indexOf(s);-1!==i&&(s.hr(),this.lit.splice(i,1))}this.dot(),this.lot()}dot(){this.lit.sort((t,s)=>t.$E()-s.$E())}wit(){return this.oit}pot(){return this.lit.length}_ht(){return this.lit[this.lit.length-1]}cit(){return this.lit}TX(){return this.fot}*mot(){for(const t of this.lit)yield t}*got(){for(let t=this.lit.length-1;0<=t;t--)yield this.lit[t]}_V(){const t=this.lit,s=this.fot;return{propertyKeyframeDataItemsJson:t.map(t=>t._V()),propertyKeyframeDataItemsIncludingDisabledJson:s.map(t=>t._V())}}DV(t){t&&(Qn.vq.fnt(this.lit,t.propertyKeyframeDataItemsJson,Jn,this),Qn.vq.fnt(this.fot,t.propertyKeyframeDataItemsIncludingDisabledJson,Jn,this),this.lot())}}}{const Vn=self.js;class Yn{constructor(t,s){this.eot=s,this.if=t[0],this.yot=t[1]}hr(){this.eot=null,this.yot=null}aot(){return this.eot}fk(){return this.if}_V(){return{id:this.if,data:this.yot}}DV(t){t&&(this.if=t.id,this.yot=t.data)}}class Hn extends Yn{constructor(t,s){super(t,s),this.Mot=this.yot[0],this.wot=!!this.yot[1],this.Sot=this.yot[2],this.Tot=!!this.yot[3]}hr(){super.hr()}zX(){return this.Mot}ent(){return this.wot}WX(){return this.Sot}hnt(){return this.Tot}_V(){return Object.assign(super._V(),{startAnchor:this.Mot,startEnable:!!this.wot,endAnchor:this.Sot,endEnable:!!this.Tot})}DV(t){t&&(super.DV(t),this.Mot=t.startAnchor,this.wot=!!t.startEnable,this.Sot=t.endAnchor,this.Tot=!!t.endEnable)}}class qn extends Yn{constructor(t,s){super(t,s),this.bot=this.yot[0],this.xot=this.yot[1]}hr(){super.hr()}nnt(){return this.bot}rnt(){return this.xot}_V(){return Object.assign(super._V(),{direction:this.bot,revolutions:this.xot})}DV(t){t&&(super.DV(t),this.bot=t.direction,this.xot=t.revolutions)}}Vn.not=class{constructor(t,s){this.vot=s,this.Cot=[],Vn.vq.unt(this.Cot,t,{prop:0,map:new Map([["cubic-bezier",Hn],["angle",qn]])},this)}hr(){this.vot=null;for(const t of this.Cot)t.hr();Vn.On(this.Cot),this.Cot=null}Got(){return this.vot}cot(){return this.Cot}*Iot(){for(const t of this.Cot)yield t}_V(){return{addonDataItemsJson:this.Cot.map(t=>t._V())}}DV(t){t&&Vn.vq.fnt(this.Cot,t.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",Hn],["angle",qn]])},this)}}}{let m=self.js,i=0;m.krt=class extends m.eZ{constructor(t,s){super("tween-"+i++,t,s),this.if="",this.Eot=!1,this._ot="start-value",this.jtt=null,this.Dot=null,this.Not=null,this.nit=null,this.Aot=null}d$(t){const s=m.er(m.Event,"tweenstatereleased");s.Lot=this,t.dispatchEvent(s)}q3(){return 1}zK(){for(const t of this.RK.g$().m$())this.PK.push(m.Oot.W5(this,t));this.nit=this.PK[0]}ytt(){const t=this.RK.g$().Mtt(),s=m.Oot.W5(this,t);return this.PK.push(s),this.Rot(),s}Rot(){this.nit=this.PK[0]}pk(t){return this.nit.Gtt()[0]}kit(t){this.Pot=t}ak(){const t=this.MX();if(t&&t.length){const s=t[0];if(this.nit=s){const i=s.ak();return s.hst()?i:void 0}}}kot(t){this.Not||(this.Not=[]),this.Not.push(t)}Fot(t){this.Dot||(this.Dot=[]),this.Dot.push(t)}jot(t){if(this.Not){const s=this.Not.indexOf(t);-1!==s&&this.Not.splice(s,1)}}zot(t){if(this.Dot){const s=this.Dot.indexOf(t);-1!==s&&this.Dot.splice(s,1)}}Bot(t,s){for(const i of this.PK)for(const e of i.qtt)if(e.Itt()===s){const h=e.tst(),r=e.wit(),n=h.zit(r);n.met(t),n.cet(t)}}Uot(t){for(const s of this.PK)for(const i of s.qtt)if(i.Itt()===t)return i}Wot(t){for(const s of t){const i=this.Uot(s);this.Bot(i.tet(),s)}if(this.L$()){const e=this.Q9()-this.$E();this.W9(e);for(const h of this.PK)h.vst(e);this.H$(0)}else{const r=this.$E();this.W9(r);for(const n of this.PK)n.vst(r);this.H$(r)}this.q$()}Qot(t,s){const i=this.Uot(s),e=i.tst(),h=i.wit(),r=e._ht(h);r.U9(this.Q9()),r.met(t),r.cet(t)}Jot(t){this.if=t}fk(){return this.if}Vot(t){this._ot=t}Yot(){return this._ot}ck(t){this.Eot=t}lk(){return this.Eot}F$(){if(this.Not)for(const t of this.Not)t(this);if(!this.HZ())for(const s of this.PK)s.Kst()}j$(){this.t$=this.$c.z$()}ZZ(){if(!this.e$&&(this.e$=!0,this.Dot))for(const t of this.Dot)t(this)}U9(t){this.Hot(),super.U9(t)}ttt(t){(t=m.de(t)?t:this.Q9())<0?this.WK=0:t>=this.Q9()?this.WK=this.Q9():this.WK=t,this.nit.stt()}BZ(t){if(!this.qZ()&&"current-state"===this.Yot())for(const s of this.PK)s.Xst();super.BZ(t)}j9(t=!1){if(super.j9(t),!this.HZ())for(const s of this.PK)s.Zst()}i0(t=!0,s=!1){this.Hot(),super.i0(t,s)}Hot(){for(const t of this.PK){const s=t=>{const s=t.$E(),i=this.Q9();return 0!==s&&s!==i};t.Yst(s),t.qst(s)}}Bq(){if(!this.k9()){const t=this.ak();if(t&&t.ZO().JW())return!1;this.LK.kZ(this),this.ott()}return!0}JZ(h,t,s){if(this.jtt||(this.jtt=this.ak()),!this.jtt||this.jtt.dF())this.j9(!0),this.j$();else{const i=this.jtt.bA();if(0!==(h=-1!==i?s*i:h)||0!==this.r$){this.r$=h;const r=this.WK+this.QK,n=h*this.JK,o=r+n,a=this.RK.ftt;o<0?(this.WK=0,this.QK=-o):a<=o?(this.WK=a,this.QK=this.WK-o):(this.WK=o,this.QK=0);let t=!1,s=!1,i=this.V9(),e=this.H9();i||e?i&&!e?0<this.JK?this.WK>=a&&(this.ttt(0),this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),s=!0):this.WK<=0&&(this.ttt(a),this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),s=!0):!i&&e?0<this.JK?this.WK>=a&&(this.H$(a),this.q9(-1*this.Z9()),s=!0,1===this.VK?this.YK<this.h9()?(this.YK++,this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong),this.VK=0):(this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong),t=!0):0===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong),this.VK=1)):this.WK<=0&&(this.H$(0),this.q9(-1*this.Z9()),s=!0,1===this.VK?this.YK<this.h9()?(this.YK++,this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong),this.VK=0):(t=!0,this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong)):0===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong),this.VK=1)):i&&e&&(0<this.JK?this.WK>=a&&(this.H$(a),this.q9(-1*this.Z9()),s=!0,0===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong)),1===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong)),this.VK++,this.VK=m.wrap(this.VK,0,2)):this.WK<=0&&(this.H$(0),this.q9(-1*this.Z9()),s=!0,0===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong)),1===this.VK&&(this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),this.qot(m.Zot.Tween.MH.OnAnyTweenPingPong),this.qot(m.Zot.Tween.MH.OnTweensPingPong)),this.VK++,this.VK=m.wrap(this.VK,0,2))):0<this.JK?this.WK>=a&&(this.YK<this.h9()?(this.YK++,this.ttt(0),this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),s=!0):(this.H$(a),t=!0)):this.WK<=0&&(this.YK<this.h9()?(this.YK++,this.ttt(a),this.qot(m.Zot.Tween.MH.OnAnyTweenLoop),this.qot(m.Zot.Tween.MH.OnTweensLoop),s=!0):(this.H$(0),t=!0)),t?(this.nit.dtt(),this.j9(!0),this.j$()):(this.nit.Rc(this.WK,!0,!1,s,this.h$,!1),this.h$&&(this.h$=!1))}}}qot(t){const s=this.ak(),i=s.Xot(m.Zot.Tween);i.PushTriggerTween(this),this.$c.L8(t,s,i.WP()),i.PopTriggerTween()}_V(){const t=super._V(),s=this.x$();return Object.assign(t,{tweenDataItemJson:s._V(),id:this.if,destroyInstanceOnComplete:this.Eot,initialValueMode:this._ot})}DV(t){if(t){const s=this.x$();s.DV(t.tweenDataItemJson),super.DV(t),this.if=t.id,this.Eot=t.destroyInstanceOnComplete,this._ot=t.initialValueMode,this.Rot()}}static IsPlaying(t){return t.IsPlaying()}static sk(t){return t.sk()}static Kot(t){return!!t.H9()&&0===t.A$()}static $ot(t){return!!t.H9()&&1===t.A$()}static tat(t){const s=t.runtime.M$(),i=new m.ant;if(t.json){i.DV(t.json.tweenDataItemJson);const e=new m.krt(i,s);return e.DV(t.json),e}{const h=new m.krt(i,s),r=(m.Fe(t.sat)||(t.sat=[t.sat]),h.Jot(t.id),h.O$(t.tags),h.Vot(t.initialValueMode),h.ck(t.releaseOnComplete),h.J9(t.loop),h.Y9(t.pingPong),h.W9(t.time),h.C$(0),h.I$("default"),h.E$(t.sat[0].resultMode),h._$(t.repeatCount),h.ytt()),n=(r.bst(t.QP.l8()),r.I$("default"),r.E$(t.sat[0].resultMode),r.Gst(!0),r.Ist(t.QP.ZO().yN()),t.QP.LP()),o=n.Dst()?n._st():t.QP.l7().$p(),a=n.Dst()?n.Ast():t.QP.l7().dm(),u=(r.Est(o),r.Nst(a),r.Wst()),l=(u.U9(0),u.nk("noease"),u.Gst(!0),u.O$(""),r.Wst());l.U9(t.time),l.nk("noease"),l.Gst(!0),l.O$("");for(const c of t.sat){const f=r.Jst(),d=(f.Iit(c.sourceId),f.Dit(c.sourceArgs),f.Oit(c.property),f.kit(c.type),f.Uit(NaN),f.Qit(NaN),f.I$("default"),f.E$(c.resultMode),f.Gst(!0),f.aet()),p=(d.Fit(c.valueType),d.U9(0),d.nk(c.ease),d.Gst(!0),d.met(c.startValue),d.cet(c.startValue),f.aet());p.Fit(c.valueType),p.U9(t.time),p.nk(c.ease),p.Gst(!0),p.met(c.endValue),p.cet(c.endValue),f.S$()}return h}}static bst(t,s){if(!isNaN(s))for(const i of t.MX())i.bst(s)}iat(t,s){return this.Aot||(this.Aot=m.er(self.hk,this,t,s)),this.Aot}}}{const Zn=self.js;Zn.Oot=class extends Zn.y${constructor(t,s){super(t,s),this.eat=null,this.hat=null}static W5(t,s){return Zn.er(Zn.Oot,t,s)}rat(){1===this.qtt.length?this.eat=this.qtt[0]:(this.eat=this.qtt[0],this.hat=this.qtt[1])}Ztt(){for(const t of this.Rtt.tst().$tt())this.qtt.push(Zn.nat.W5(this,t));this.rat()}Jst(){const t=this.Rtt.tst(),s=t.Vst(),i=Zn.nat.W5(this,s);return this.qtt.push(i),this.rat(),i}BZ(){if(this.est(),this.hst()||!this.b$()){const t=this.ist(),s=t.L$(),i=s?0:this.xst();for(const h of this.qtt)h.BZ(i),0===this.Xtt&&1===h.Rst()&&(this.Xtt=1),0===this.$q&&1===h.UZ()&&(this.$q=1);this.Ktt=0;const e=this.qtt.some(t=>t.ctt());e&&(this.Ktt=1),this.Jtt=this.Pst(i),this.Utt=!1,this.Wtt=!1,this.Rc(i)}}ptt(){}Rc(t,s=0,i=!1,e=!1,h,r=!1,n=!1){if(this.jtt||this.ak(),this.jtt){const o=!this.jtt.dF();return o?(!r||!this.ZO().JW())&&((this.hat?(this.eat.Rc(t,i,e,n),this.hat):this.eat).Rc(t,i,e,n),void(0!==this.eat.Rst()&&(this.ztt||(this.ztt=this.jtt.l7()),this.ztt)&&this.ztt.lR())):!1}}gtt(){}DV(t){super.DV(t),this.rat()}}}{const Xn=self.js;Xn.nat=class extends Xn.sst{constructor(t,s){super(t,s),this.oat=!1}static W5(t,s){return Xn.er(Xn.nat,t,s)}Rc(t,s=!1,i=!1,e=!1){let h,r;if(this.oat)h=this.lit[0],r=this.lit[1];else{if(s)h=this.ait.Hit(t,this.oit);else{if(this.dit){const n=this.ist(),o=this.dit.bX(),a=this.dit.$E(),u=o?o.$E():n.Q9();(t<=a||u<=t)&&(this.dit=this.ait.Hit(t,this.oit))}else this.dit=this.ait.Hit(t,this.oit);h=this.dit}r=h.bX()}this.uit.Rc(t,h,r,s,i,e)}aet(){const t=this.oit.fit(),s=t.uet();return this.dit=null,this.oat=this.Jit().length<=2,s}qst(t){this.dit=null;const s=this.oit.fit();s.let(t),this.oat=this.Jit().length<=2}_V(){return{sourceAdapterJson:this.S$()._V(),basic:this.oat}}DV(t){t&&(this.S$().DV(t.sourceAdapterJson),this.oat=t.basic)}}}{const Kn=self.js,$n=self.nc;Kn.Pc=class extends Kn.tr{constructor(t,s=!0){super(),this.ur=t[0],this.aat=t[2],this.uat=[];for(const i of t[1]){const e=Kn.lat.W5(this,i);this.uat.push(e)}for(let t=0;t<this.uat.length;t++){const h=this.uat[t],r=this.uat[t+1],n=this.uat[t-1];h.qnt(r),h.uot(n)}this.cat=new Map,this.fat=new Map,this.dat(),s&&$n.Fc(this.ur,(t,s,i,e)=>this.Rc(t,s,i,e),null,{transition:this})}static W5(t){return Kn.er(Kn.Pc,t)}hr(){for(const t of this.uat)t.hr();Kn.On(this.uat),this.uat=null,this.cat.clear(),this.cat=null,this.fat.clear(),this.fat=null}kc(t){this.aat=!!t}pat(t){const s=this.fat.get(t);if(s)return s;for(const i of this.uat)if(i.mat()===t)return this.fat.set(t,i),i}gat(s){for(let t=this.uat.length-1;0<=t;t--){const i=this.uat[t],e=i.mat();if(e<=s){let t=i;if(e<s)return t;if(e===s){for(;t;){const h=t.xX();if(!h)break;if(h.mat()!==t.mat())break;t=h}return t}}}}Rc(t,s,i,e){let h=t/e;if(this.aat){const M=this.pat(0),w=this.pat(1),S=s+(s+i)*M.yat(),T=(s+i)*w.yat(),b=T-S;return 0===e?S+b:$n.zc(t,S,b,e)}0===e&&(h=1);let r=this.gat(h),n=r.bX();if(!n){const x=r.xX(),v=r;r=x,n=v}const o=n.mat()-r.mat(),a=Kn.lr(h,r.mat(),n.mat(),0,o);if(r.Mat()||0==o){const C=s+(s+i)*r.yat(),G=(s+i)*n.yat(),I=G-C;return 0==o?1===a?C+I:C:$n.zc(a,C,I,o)}let u=r.mat(),l=r.yat(),c=r.mat()+r.wat(),f=r.yat()+r.Sat(),d=n.mat()+n.Tat(),p=n.yat()+n.bat(),m=n.mat(),g=n.yat(),y=$n.Cc("spline")(a,u,l,c,f,d,p,m,g,this.cat.get(r));return(1-(y+=r.yat()))*s+y*(s+i)}dat(){this.cat.clear();for(let t=0;t<this.uat.length-1;t++){const s=this.uat[t];if(s.ent()){const i=s,e=this.uat[t+1];if(e.hnt()){const h=i.mat(),r=i.mat()+i.wat(),n=e.mat()+e.Tat(),o=e.mat();this.cat.set(i,$n.Bc(h,r,n,o))}}}}}}{const to=self.js;to.lat=class extends to.tr{constructor(t,s){super(),this.xat=t,this.vat=s[0],this.Cat=s[1],this.Gat=s[2],this.Iat=s[3],this.Eat=s[4],this._at=s[5],this.wot=s[6],this.Tot=s[7],this.Dat=s[8],this.Hnt=null,this.oot=null}hr(){this.xat=null}static W5(t,s){return to.er(to.lat,t,s)}qnt(t){this.Hnt=t}bX(){return this.Hnt}uot(t){this.oot=t}xX(){return this.oot}mat(){return this.vat}yat(){return this.Cat}wat(){return this.Gat}Sat(){return this.Iat}Tat(){return this.Eat}bat(){return this._at}ent(){return this.wot}hnt(){return this.Tot}Mat(){return"linear"===this.Dat}Nat(){return"cubic"===this.Dat}}}{const so=self.js;so.Aat=class extends so.tr{constructor(t){super(),this.$c=t,this.Lat=[]}hr(){for(const t of this.Lat)t.hr();so.On(this.Lat),this.Lat=null}W5(t){this.Lat.push(so.Pc.W5(t))}}}{const io=self.js;io.Oat=class extends io.tr{constructor(t){super(),this.$c=t,this.Rat=null,this.Pat=null,this.Qq=t=>this.Jq(t.QP)}hr(){if(this.tZ(),this.Rat){for(const t of this.Rat.values())t.clear();this.Rat.clear()}this.Rat=null,this.$c=null}W5(t){if(this.Rat||(this.Rat=new Map),t){const s=t[0][16],i=s[0],e=t[1],h=(this.Rat.has(e)||this.Rat.set(e,new Map),this.Rat.get(e));h.set(i,t)}}sZ(){const t=this.$c.Rf();t&&t.addEventListener("instancedestroy",this.Qq)}tZ(){const t=this.$c.Rf();t&&t.removeEventListener("instancedestroy",this.Qq)}kat(){return!!this.Rat&&0!==this.Rat.size}Fat(t,s){let i=0;if(i=t instanceof io.jat?t.yN():t,this.Rat.has(i)){const e=this.Rat.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}}zat(t,s){this.Pat||(this.Pat=new WeakMap),this.Pat.has(t)||this.Pat.set(t,s)}Bat(t){if(!this.Pat)return"";const s=this.Pat.get(t);return s||""}Jq(t){this.Pat&&this.Pat.has(t)&&this.Pat.delete(t)}}}{const eo=self.js;eo.Uat=class{constructor(t){this.$c=t,this.Wat=new eo.Qat}hr(){this.Wat.hr(),this.Wat=null,this.$c=null}N7(){return this.$c}W5(t){this.Wat.ec(t)}Jat(t){return this.Wat.hi(t)}Vat(){return this.Wat.Vat()}}}{const ho=self.js;ho.Yat=class{constructor(t,s,i,e,h,r,n){this.$c=h.N7(),this.Hat=h,this.qat=t,this.Zat=i,this.Xat=e,this.Ug=s,this.Cq=r,this.Kat=n??r.ak().l8(),this.$at(),this.tut=this.iut?.sut()??-1,this.eut=[],this.hut=null,this.rut=NaN,this.nut=null,this.out=null,this.aut=null,this.uut="",this.lut=null,this.cut="",this.fut="",this.dut=0,this.mut=!1,this.KK=!1}hr(){this.KK||(ho.On(this.eut),this.eut=null,this.$c=null,this.Hat=null,this.Xat=null,this.Cq=null,this.hut=null,this.rut=NaN,this.nut&&this.nut.clear(),this.nut=null,this.out=null,this.aut=null,this.uut="",this.lut=null,this.cut="",this.fut="",this.KK=!0)}rr(){return this.KK}gut(){return this.Hat}N7(){return this.$c}Jc(){return this.qat}yut(){return this.Xat}P9(){return this.Ug}pZ(){return this.Cq||(this.Cq=this.$c.r7(this.Kat).LP()),this.Cq}Mut(){return this.wut(this.tut)}Sut(){const t=this.Mut();return t?t.P9():""}Tut(t){const s=this.Mut();if(s){if(ho.de(t)){const i=s.but(),e=i?i[t]:void 0;if(ho.de(e))return this.wut(e)}if("string"==typeof t)for(const h of s.but()){const r=this.wut(h);if(r.P9()===t)return this.wut(r.sut())}}}xut(t){const s=this.Tut(t);return s?s.P9():""}vut(t){const s=this.Tut(t);if(!s)return-1;const i=s.but();return i?i.indexOf(s.sut()):-1}Cut(){const t=this.Mut();if(!t)return 0;const s=t.but();return s?s.length:0}wut(t){return this.Xat.wut(t)}i0(){const t=this.Gut();t.Iut(!0)}Iut(t){if(this.Eut()){for(const[s,i]of this.Eut().entries())i.Iut(!1);this.Eut().clear()}if(this.nut=null,this.hut=null,this._ut=null,this.out=null,this.uut="",this.lut=null,this.cut="",this.fut="",this.eut=[],t){this.Hat.Dut(this);const e=this.iut.sut();e!==this.tut&&this.Nut(e)}else this.tut=this.iut.sut()}Aut(){const t=this.Xat.wut(this.tut);return t?t.Out().Lut():0}Rut(t){const s=this.Put(t);return s?s.Jc():""}kut(t){let s;return ho.de(t)&&(s=this.Put(t)),"string"==typeof t&&(s=this.Fut(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Ait():""}jut(t){let s;ho.de(t)&&(s=this.Put(t));const i=(s="string"==typeof t?this.Fut(t):s).zut();ho.de(i)&&(this.eut.push(this.tut),this.Nut(i))}But(t){const s=this.Xat.Uut(t);if(s){const i=this.Xat.wut(s.sut());i&&(this.eut.push(this.tut),this.Nut(i.sut()))}}Wut(){const t=this.eut.pop();ho.de(t)?this.Nut(t):this.Qut()&&(this.Hat.Dut(this.Qut(),!0,!1,!1),this.Qut().Nut(this.Jut()),this.Gut().Vut(this.Qut()))}Yut(t){const s=this.Mut();if(s){s.sut();const i=this.Tut(t);i&&(this.eut.push(this.tut),this.Nut(i.sut()))}}Hut(s){if(ho.de(s)){const t=this.Xat.wut(this.tut),i=t.Out().qut();return!!i[s]}if("string"==typeof s){const e=this.Xat.wut(this.tut),h=e.Out().qut();for(let t=0;t<h.length;t++)if(h[t].Jc()===s)return!0}return!1}Zut(){this.mut=!0}Xut(){return 0<this.dut}Kut(){this.dut++}$ut(){this.dut--,0===this.dut&&this.mut&&this.Hat.tlt(this)}Nut(t){const i=this.tut,s=this.pZ().ak();if(this.Kut(),this.Hat.slt(this),this.$c.L8(ho.SH.Flowchart.MH.OnBeforeAnyNodeChange,s),this.$c.L8(ho.SH.Flowchart.MH.OnBeforeTaggedNodeChange,s),this.$c.L8(ho.SH.Flowchart.MH.OnBeforeAnyNodeChangeInFlowchart,s),this.$c.L8(ho.SH.Flowchart.MH.OnBeforeTaggedNodeChangeInFlowchart,s),this.tut=t,this.$c.L8(ho.SH.Flowchart.MH.OnAnyNodeChange,s),this.$c.L8(ho.SH.Flowchart.MH.OnTaggedNodeChange,s),this.$c.L8(ho.SH.Flowchart.MH.OnAnyNodeChangeInFlowchart,s),this.$c.L8(ho.SH.Flowchart.MH.OnTaggedNodeChangeInFlowchart,s),this.Hat.ilt(),this.$ut(),!this.rr()){const e=this.wut(this.tut);if("reference"===e.q3()){const h=e.elt();if(this.hlt(e)){this.eut.pop();const r=this.rlt(e),n=(this.Hat.Dut(r,!0,!0,!1),r.nlt(this,i),this.Gut());n.Vut(r)}else{const o=e.olt();if(h){this.eut.pop();let s=e.ult();if(s){let t=this.Hat.llt(s);for(;t;)s=ho.Wd(s),t=this.Hat.llt(s)}else{s=h+"-ref";let t=this.Hat.llt(s);for(;t;)s=ho.Wd(s),t=this.Hat.llt(s)}const a=this.Hat.clt(h,o,s,this.Cq,!0),u=(a.nlt(this,i),this.flt(e,a),this.Gut());a.dlt(u),u.Vut(a)}}}}}Put(t){const s=this.Xat.wut(this.tut);if(!s)return null;const i=s.Out().qut();if(!i)return null;const e=i[t];return e||null}Fut(t){const s=this.Xat.wut(this.tut);if(!s)return null;const i=s.Out().plt(t);return i||null}$at(s){if("number"==typeof s){let t=this.wut(s);t=t||this.Xat.mlt(),this.iut=t}else{let t=this.Xat.Uut(this.Zat);t=t||this.Xat.mlt(),this.iut=t}}_V(){return this.mut?null:{flowchartName:this.qat,flowchartTag:this.Ug,startNodeTag:this.Zat,currentNodeId:this.tut,previousNodeIds:this.eut,pluginUID:this.Cq.ak().l8(),reference:{previousFlowchartTag:this.Qut()?this.Qut().P9():"",previousStartNodeId:ho.de(this.Jut())?this.Jut():NaN,referencesJson:this.glt(),currentReferenceFlowchartTag:this.ylt()?this.ylt().P9():"",rootFlowchartTag:this.Gut()?this.Gut().P9():""}}}glt(){if(!this.Mlt())return null;const t=[];for(const[s,i]of this.Eut().entries())t.push({flowchartElementId:s.sut(),flowchartStateTag:i.P9()});return t.length?t:null}DV(t){if(t){if(this.qat=t.flowchartName,this.Ug=t.flowchartTag,this.Zat=t.startNodeTag,this.tut=t.currentNodeId,this.eut=t.previousNodeIds,this.Kat=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.uut=s.previousFlowchartTag,this.rut=s.previousStartNodeId,this.lut=s.referencesJson,this.cut=s.currentReferenceFlowchartTag,this.fut=s.rootFlowchartTag}this.$at()}}Qut(){return"string"==typeof this.uut&&this.uut&&(this.hut=this.Hat.llt(this.uut),this.uut=""),this.hut}Jut(){return this.rut}nlt(t,s){this.hut=t,this.rut=s}ylt(){return"string"==typeof this.cut&&this.cut&&(this.out=this.Hat.llt(this.cut),this.cut=""),this.out}Vut(t){this.out=t,this.out===this&&(this.out=null)}Gut(){return"string"==typeof this.fut&&this.fut&&(this.aut=this.Hat.llt(this.fut),this.fut=""),this.aut||this}dlt(t){this.aut=t}Mlt(){return this.wlt(),!!this.nut}hlt(t){return this.wlt(),this.nut&&this.nut.has(t)}wlt(){if(this.lut){this.nut&&this.nut.clear(),this.nut||(this.nut=new Map);for(const t of this.lut){const s=this.Hat.llt(t.flowchartStateTag),i=s.wut(t.flowchartElementId);this.nut.set(i,s)}this.lut=null}}Eut(){return this.wlt(),this.nut}rlt(t){return this.wlt(),this.nut.get(t)}flt(t,s){this.nut||(this.nut=new Map),this.nut.set(t,s)}}}{const ro=self.js;ro.Slt=class{constructor(t){this.$c=t,this.Tlt=new Map,this.blt=null,this.xlt=[],this.vlt=()=>this.qq(),this.Clt=null}hr(){ro.On(this.xlt),this.xlt=null,this.Tlt.clear(),this.Tlt=null,this.blt=null,this.$c=null,this.Clt=null}N7(){return this.$c}clt(t,s,i,e,h,r){const n=this.$c.gut().Jat(t);if(n){if(!this.Tlt.has(i)){const o=new ro.Yat(t,i,s,n,this,e,r);return this.Tlt.set(i,o),h&&this.Dut(o,!0),o}console.warn(`[Flowcharts] there already is a flowchart with the tag '${i}'`)}else console.warn(`[Flowcharts] no flowchart found with name '${t}'`)}tlt(t){if(t.Zut(),!t.Xut()){const s=t.P9();this.Tlt.delete(s),t.hr(),this.blt===t&&(this.blt=null)}}Glt(t){t.i0()}llt(t){return this.Tlt.get(t)}slt(t){this.xlt.push(t)}ilt(){this.xlt.pop()}Dut(t,s=!1,i=!1,e=!0){if(e){const h=t.ylt();t=h||t}t!==this.blt&&(this.Ilt(),this.Elt(t,s,i))}_lt(t){return"string"==typeof t?this.llt(t):this.xlt.length?this.xlt[this.xlt.length-1]:this.blt}Ilt(){if(this.blt&&!this.blt.rr()){const t=this.blt.pZ().ak();this.blt.Kut(),this.slt(this.blt),this.$c.L8(ro.SH.Flowchart.MH.OnBeforeFlowchartChange,t),this.ilt(),this.blt.$ut()}}Elt(t,s=!1,i=!1){if(this.blt=t,this.blt&&!this.blt.rr()){const e=this.blt.pZ().ak();this.blt.Kut(),this.slt(this.blt),this.$c.L8(ro.SH.Flowchart.MH.OnFlowchartChange,e),!0!==i&&"number"!=typeof i||this.blt.$at(i),s&&(this.$c.L8(ro.SH.Flowchart.MH.OnAnyNodeChange,e),this.$c.L8(ro.SH.Flowchart.MH.OnTaggedNodeChange,e)),this.ilt(),this.blt.$ut()}}_V(){return{flowchartJsonObjects:[...this.Tlt.values()].map(t=>t._V()),currentFlowchartTag:this.blt?this.blt.P9():null}}DV(t){if(t){this.Clt=t;const s=new Map;for(const i of this.Clt.flowchartJsonObjects){const e=i.flowchartTag;if(this.Tlt.has(e)){const h=this.Tlt.get(e);h.DV(i),s.set(e,h)}else{const r=this.clt(i.flowchartName,i.startNodeTag,i.flowchartTag,null,!1,i.pluginUID);r.DV(i),s.set(i.flowchartTag,r)}}for(const[n,o]of this.Tlt.entries())s.has(n)||o.hr();this.Tlt.clear(),this.Tlt=s,this.$c.uH()?this.$c.Rf().addEventListener("afterload",this.vlt):this.qq()}}qq(){this.$c.Rf().removeEventListener("afterload",this.vlt);const t=this.Tlt.get(this.Clt.currentFlowchartTag);t&&this.Dut(t,!0),this.Clt=null}}}{const no=self.js;no.Qat=class{constructor(){this.Dlt=new Map}hr(){for(const t of this.Dlt.values())t.hr();this.Dlt.clear(),this.Dlt=null}ec(t){const s=new no.Nlt(t),i=s.Jc();this.Dlt.set(i,s)}hi(t){return this.Dlt.get(t)}Vat(){return!!this.Dlt.size}static Alt(t,s,i,e){if(s)for(const h of s){const r=new i(h,e);t.push(r)}}}}{const oo=self.js;oo.Nlt=class{constructor(t){this.ur=t[0],this.Llt=new oo.Olt(t[1],this)}hr(){this.Llt.hr(),this.Llt=null}Rlt(){return this.Llt}wut(t){return this.Llt.wut(t)}Uut(t){return this.Llt.Uut(t)}mlt(){return this.Llt.mlt()}Jc(){return this.ur}}}{const ao=self.js;class uo{constructor(t,s){this.Llt=s,this.lf=t[7],this.Plt=t[0],this.Ug=t[1],this.klt=t[2],this.Flt=null,this.jlt=null,"dictionary"===this.lf&&(this.Flt=t[3],this.jlt=t[4]),this.zlt=t[6],this.Blt=null,this.Ult=null,this.Wlt=null,"reference"===this.lf&&(this.Blt=t[8],this.Ult=t[9],this.Wlt=t[10]),this.Qlt=new ao.Jlt(t[5],this)}hr(){this.Llt=null}Rlt(){return this.Llt}Out(){return this.Qlt}sut(){return this.Plt}P9(){return this.Ug}Vlt(){return this.zlt}but(){return this.klt}Ylt(){return this.Flt}Hlt(){return this.jlt}q3(){return this.lf}elt(){return this.Blt}olt(){return this.Ult}ult(){return this.Wlt}}ao.Olt=class{constructor(t,s){this.Xat=s,this.qlt=[],this.Zlt=new Map,this.Xlt=new Map,this.Klt=null,ao.Qat.Alt(this.qlt,t,uo,this);for(const i of this.qlt){const e=i.sut(),h=i.P9(),r=i.Vlt(),n=(this.Zlt.set(e,i),h&&this.Xlt.set(h,i),r&&(this.Klt=i),i.Out());for(const o of n.$lt()){const a=o.sut();this.Zlt.set(a,o)}}}hr(){this.Xat=null;for(const t of this.qlt)t.hr();ao.On(this.qlt),this.qlt=null}yut(){return this.Xat}wut(t){return this.Zlt.get(t)}Uut(t){return this.Xlt.get(t)}mlt(){return this.Klt}*tct(){for(const t of this.qlt)yield t}}}{const lo=self.js;class co{constructor(t,s){this.Qlt=s,this.Plt=t[0],this.ur=t[1],this.Yet=t[2],this.sct=t[3]}hr(){this.Qlt=null}Out(){return this.Qlt}sut(){return this.Plt}Jc(){return this.ur}Ait(){return this.Yet}zut(){return this.sct}}lo.Jlt=class{constructor(t,s){this.ict=s,this.ect=[],this.hct=new Map,lo.Qat.Alt(this.ect,t,co,this);for(const i of this.ect)this.hct.set(i.Jc(),i)}hr(){this.ict=null;for(const t of this.ect)t.hr();lo.On(this.ect),this.ect=null}rct(){return this.ict}Lut(){return this.ect.length}qut(){return this.ect}plt(t){return this.hct.get(t)}*$lt(){for(const t of this.ect)yield t}}}{const fo=self.js;fo.nct=class extends fo.tr{constructor(t){super(),this.oct=t,this.uct=[],this.uct.push(fo.er(fo.lct,this)),this.Bg=0,this.cct=this.uct[0]}hr(){for(const t of this.uct)t.hr();fo.On(this.uct),this.cct=null,this.oct=null}ZO(){return this.oct}s6(){return this.cct}fct(){return this.uct[this.Bg-1]}Yl(){this.s6().Yl()}dct(){const t=this.uct,s=++this.Bg;if(s===t.length){const i=fo.er(fo.lct,this);t.push(i),this.cct=i}else{const e=t[s];e.i0(),this.cct=e}}pct(){const t=this.uct,s=++this.Bg,i=(s===t.length&&t.push(fo.er(fo.lct,this)),t[s]);i.T0(t[s-1]),this.cct=i}cj(){this.cct=this.uct[--this.Bg]}mct(i){const e=this.uct;for(let t=0,s=e.length;t<s;++t)e[t].mct(i)}}}{const po=self.js;po.lct=class extends po.tr{constructor(t){super(),this.uct=t,this.oct=this.uct.ZO(),this.gct=this.oct.N7().rA(),this.yct=!0,this.iU=[],this.Mct=[]}hr(){this.wct(),this.uct=null,this.oct=null,this.gct=null}wct(){po.On(this.iU),po.On(this.Mct)}ZO(){return this.oct}Sct(){return this.yct}Tct(){return this.yct?!!this.oct.e6():!!this.iU.length}t6(){return this.yct?this.oct.t6():this.iU}bct(){return!!this.Mct.length}xct(){return this.Mct}vct(){const t=this.t6();return t.length?t:this.Mct}i0(){this.yct=!0,po.On(this.Mct)}Yl(){this.yct=!0}T0(t){t.Sct()?this.i0():(this.yct=!1,po.Fn(this.iU,t.iU),po.On(this.Mct))}Cct(t){this.iU.push(t)}Gct(t){this.Mct.push(t)}Ict(t){this.yct=!!t}Ect(){return this.iU}_ct(){return this.Mct}Dct(t){this.yct=!1,po.On(this.iU),this.iU.push(t)}Nct(t){this.yct=!1,po.Fn(this.iU,t)}Act(t){this.yct=!1,po.On(this.iU);for(const s of t)this.iU.push(s)}Lct(t,s){for(const i of s)t.has(i)||this.Mct.push(i)}Oct(t){for(const s of t)this.iU.push(s);po.Wn(this.Mct,t)}Rct(){po.On(this.Mct)}Pct(t){if(t)if(this.gct.qF().KN().kct()){this.Sct()&&(po.On(this.iU),po.Fn(this.Mct,t.ZO().t6()),this.yct=!1);const s=this.Mct.indexOf(t);-1!==s&&(this.iU.push(this.Mct[s]),this.Mct.splice(s,1))}else this.Dct(t)}mct(t){po.Wn(this.iU,t),po.Wn(this.Mct,t)}}}{const mo=self.js;mo.Fct=class extends mo.tr{constructor(t){super(),this.jct=t,this.$c=this.jct.N7(),this.uct=[],this.uct.push(mo.er(mo.zct,this,null)),this.Bg=0,this.Bct=[]}hr(){for(const t of this.uct)t.hr();mo.On(this.uct),mo.On(this.Bct),this.jct=null,this.$c=null}VN(){return this.jct}N7(){return this.$c}qF(){return this.uct[this.Bg]}Uct(){return this.uct}Wct(){return this.Bg}ZF(t){const s=this.uct,i=++this.Bg;if(i===s.length){const e=mo.er(mo.zct,this,t);return s.push(e),e}{const h=s[i];return h.i0(t),h}}cj(){--this.Bg}Qct(t){this.Bct.push(t)}Jct(){this.Bct.pop()}hA(){const t=this.Bct;return 0===t.length?null:t.at(-1)}}}{const go=self.js;go.zct=class extends go.tr{constructor(t,s){super(),this.uct=t,this.$c=this.uct.N7(),this.Vct=s,this.Yct=0,this.Hct=0,this.qct=!1,this.Zct=!1,this.Xct=null,this.Kct=0,this.$ct=0,this.tft=null}hr(){this.i0(null),this.uct=null,this.$c=null}i0(t){this.Vct=t,this.Yct=0,this.Hct=0,this.qct=!1,this.Zct=!1,this.tft=null}ift(t,s){this.Vct=t,this.Yct=0,this.Hct=s}eft(){this.Yct=0,this.Hct=0}KN(){return this.Vct}hft(t){this.Vct=t}rft(){return this.Yct}nft(t){this.Yct=t}oft(){return this.Hct}aft(t){this.Hct=t}uft(t){this.qct=!!t}lft(){return this.qct}cft(t){this.Zct=!!t}fft(){return this.Zct}dft(t){this.Xct=t}pft(){return this.Xct}mft(t,s){this.Kct=t,this.$ct=s}nA(){return this.Kct}oA(t){this.$ct=t}gft(){return this.$ct}yft(){const t=this.Vct;return!!t.Mft()||this.Yct<t.wft()-1&&!!t.HF().length}Sft(t){this.tft=t}Tft(){return this.tft}}}{const yo=self.js;yo.bft=class extends yo.tr{constructor(t){super(),this.jct=t,this.$c=this.jct.N7(),this.uct=[],this.Bg=-1,this.cct=null,this.xft=[]}hr(){yo.On(this.uct),this.jct=null,this.$c=null}vft(t){this.xft=t;const s=this.xft.slice(0);this.uct.push(s),this.Bg=0,this.cct=s}VN(){return this.jct}N7(){return this.$c}Cft(){return this.cct}ZF(){const t=++this.Bg,s=this.uct;t===s.length?s.push(this.xft.slice(0)):yo.Fn(s[t],this.xft),this.cct=s[t]}cj(){this.cct=this.uct[--this.Bg]}}}{const Mo=self.js;Mo.Gft=class extends Mo.tr{constructor(t){super(),this.jct=t,this.$c=this.jct.N7(),this.uct=[],this.Bg=-1}hr(){Mo.On(this.uct),this.jct=null,this.$c=null}VN(){return this.jct}N7(){return this.$c}Ift(){return 0<=this.Bg}Cft(){return this.uct[this.Bg]}ZF(){if(++this.Bg,this.Bg===this.uct.length){const t=Mo.er(Mo.Eft,this);return this.uct.push(t),t}{const s=this.uct[this.Bg];return s.i0(),s}}cj(){--this.Bg}_ft(s){const i=this.uct;for(let t=this.Bg;0<=t;--t){const e=i[t];if(e.Jc()===s)return e}return null}Dft(){return this.uct.slice(0,this.Bg+1)}}}{const wo=self.js;wo.Eft=class extends wo.tr{constructor(t){super(),this.Nft=t,this.ur="",this.Bg=0,this.Aft=!1,this.Lft=NaN}i0(){this.ur="",this.Bg=0,this.Aft=!1,this.Lft=NaN}KF(t){this.ur=t}Jc(){return this.ur}aj(t){this.Bg=t}yN(){return this.Bg}j9(){this.Aft=!0}lj(){return this.Aft}Oft(t){this.Lft=t}Rft(){return this.Lft}}}{const So=self.js;So.Pft=class extends So.tr{constructor(){super(),this.uct=[],this.Bg=-1}hr(){So.On(this.uct)}Cft(){return this.uct[this.Bg]}ZF(){if(++this.Bg,this.Bg!==this.uct.length)return this.uct[this.Bg];{const t=[];return this.uct.push(t),t}}cj(){--this.Bg}}}{let t=function(t,s){return t.yN()-s.yN()},r=function(i,e){for(let t=0,s=i.length;t<s;++t)if(i[t]!==e[t])return!1;return!0};t,r;const x=self.js;x.kft=class extends x.tr{constructor(t){super(),this.$c=t,this.Fft=[],this.jft=new Map,this.zft=[],this.Bft=new Map,this.Uft=new Map,this.Wft=new Map,this.Qft=new Map,this.Jft=new Map,this.Vft=new Map,this.Yft=0,this.Hft=[],this.qft=[],this.Zft=[],this.Xft=new Map,this.Kft=new Map,this.gct=x.er(x.Fct,this),this.$ft=x.er(x.bft,this),this.Nft=x.er(x.Gft,this),this.t0t=[],this.s0t=[],this.i0t=[],this.e0t=0,this.h0t=0,this.r0t=0,this.n0t=[],this.o0t=[],this.a0t=[],this.u0t=new Map,this.l0t=new Map,self.c3_callFunction=(t,s)=>this.c0t(t,s)}hr(){this.AH(),this.gct.hr(),this.gct=null,this.$ft.hr(),this.$ft=null,x.On(this.s0t),x.On(this.i0t),this.$c=null,x.On(this.Fft),this.jft.clear()}W5(t){const s=x.er(x.f0t,this,t);this.Fft.push(s),this.jft.set(s.Jc().toLowerCase(),s)}d0t(t){this.t0t.push(t)}p0t(){for(const t of this.Kft.values())t.m0t();for(const s of this.Xft.values())s.p0t();for(const i of this.Kft.values())i.p0t();for(const e of this.Fft)e.p0t();for(const h of this.Fft)h.KY();for(const r of this.t0t)r.p0t(!1);x.On(this.t0t),this.$ft.vft(this.Zft)}N7(){return this.$c}XY(t){return this.jft.get(t.toLowerCase())||null}g0t(t){this.zft.push(t),this.Bft.set(t.y0t(),t)}M0t(t){this.Uft.set(t.dQ(),t)}w0t(t){this.Wft.set(t.dQ(),t)}S0t(t){this.Qft.set(t.dQ(),t)}T0t(t){switch(t.b0t()){case 0:this.Xft.set(t.x0t().toLowerCase(),t);break;case 1:this.Kft.set(t.x0t().toLowerCase(),t)}}v0t(t){this.Vft.set(t.dQ(),t),(t.JW()?this.Hft:this.qft).push(t)}C0t(i){2<=i.length&&i.sort(t);let e=this.Jft.get(i.length);e||(e=[],this.Jft.set(i.length,e));for(let t=0,s=e.length;t<s;++t){const h=e[t];if(r(i,h))return h}return e.push(i),i}G0t(t){return this.Zft.push(t.I0t()),this.Yft++}rA(){return this.gct}E0t(){return this.rA().qF()}KN(){return this.E0t().KN()}_0t(){const t=this.E0t(),s=t.KN();return s.D0t(t.rft())}N0t(){const t=this.E0t(),s=t.KN();return s.A0t(t.oft())}L0t(){return this.$ft}XF(){return this.Nft}O0t(t){const s=[];for(t=t.R0t();t;)x.Jh(s,t.P0t()),t=t.R0t();return s}k0t(t){const s={};for(const i of this.O0t(t))s[i.F0t()]=i.j0t();return Object.create(Object.prototype,s)}z0t(t){return this.Vft.get(t)||null}B0t(t){return this.Uft.get(t)||null}U0t(t){return this.Wft.get(t)||null}W0t(t){return this.Qft.get(t)||null}YN(t){return this.Xft.get(t.toLowerCase())||null}Q0t(t,s){let i=this.Kft.get((t.Jc()+"."+s).toLowerCase());if(i)return i;if(!t.rQ())for(const e of t.J0t())if(i=this.Kft.get((e.Jc()+"."+s).toLowerCase()))return i;return null}V0t(){return this.Hft}Y0t(){return this.qft}H0t(t){for(const s of this.Hft)s.q0t();if(t)for(const i of this.qft)i.VS()&&i.q0t()}Z0t(t){return this.Bft.get(t.toLowerCase())||null}X0t(t){const s=this.Uft.get(t);return s&&s.K0t()?s:null}$0t(){return this.zft}t1t(){for(const t of this.zft)t.s1t()}i1t(){for(const t of this.Fft)t.e1t()}h1t(t){this.i1t(),this.e0t++;for(const s of t.yq()){const i=s.CY();i&&(this.$c.r1t(s),i.Tx(),this.$c.n1t())}this.e0t--}async o1t(t){this.i1t(),this.e0t++;for(const s of this.a1t(t))await this.$c.u1t(s);this.e0t--}*a1t(t){for(const s of t.yq()){const i=s.CY();i&&(this.$c.r1t(s),yield*i.l1t(),this.$c.n1t())}}c1t(t,s,i,e){let h=!1;if(!t.BA())return this.f1t(s,i,e);this.h0t++;for(const r of t.yq()){const n=r.CY();if(n){this.$c.r1t(r);for(const a of n.d1t()){const u=a.c1t(s,i,e);h=h||u}const o=n.c1t(s,i,e);h=h||o,this.$c.n1t()}}return this.h0t--,h}*p1t(t,s,i,e){let h=!1;if(!t.BA())return this.f1t(s,i,e);this.h0t++;for(const r of t.yq()){const n=r.CY();if(n){this.$c.r1t(r);for(const a of n.d1t()){const u=yield*a.p1t(s,i,e);h=h||u}const o=yield*n.p1t(s,i,e);h=h||o,this.$c.n1t()}}return this.h0t--,h}f1t(t,s,i){return this.s0t.push([t,s,i]),!1}m1t(t,s,i){let e=null,h=new Promise(t=>e=t);return this.i0t.push([t,s,i,e]),h}*g1t(){if(this.$c.y1t())throw new Error("should not be in breakpoint");const t=this.$c.QA();for(;this.i0t.length;){const[s,i,e,h]=this.i0t.shift(),r=yield*this.p1t(t,s,i,e);h(r)}}async M1t(){for(const t of this.g1t())await this.$c.u1t(t)}w1t(t,i,e,h){let r=!1,s=t.BA(),n=s.CY();if(n){this.h0t++,this.$c.r1t(s);const o=n.d1t();for(let t=0,s=o.length;t<s;++t){const u=o[t].w1t(i,e,h);r=r||u}const a=n.w1t(i,e,h);return r=r||a,this.$c.n1t(),this.h0t--,r}}*S1t(t,i,e,h){let r=!1,s=t.BA(),n=s.CY();if(n){this.h0t++,this.$c.r1t(s);const o=n.d1t();for(let t=0,s=o.length;t<s;++t){const u=yield*o[t].S1t(i,e,h);r=r||u}const a=yield*n.S1t(i,e,h);return r=r||a,this.$c.n1t(),this.h0t--,r}}T1t(){return this.h0t}b1t(){return 0<this.T1t()}x1t(){return++this.h0t}v1t(){--this.h0t}C1t(){return 0<this.e0t}u6(){return this.C1t()||this.b1t()}TH(t){for(const[s,i,e]of this.s0t)this.c1t(t,s,i,e);x.On(this.s0t)}o6(t){t?this.r0t++:this.r0t--}h8(){return 0<this.r0t}G1t(i){for(let t=0,s=i.length;t<s;++t)i[t].I1t().Yl()}E1t(i){for(let t=0,s=i.length;t<s;++t)i[t].I1t().dct()}rj(i){for(let t=0,s=i.length;t<s;++t)i[t].I1t().pct()}oj(i){for(let t=0,s=i.length;t<s;++t)i[t].I1t().cj()}$N(s){const i=new Set,e=this.gct.Uct(),h=this.gct.Wct();for(let t=0;t<=h;++t){const r=e[t].Tft();if(r)for(const n of r)s&&s.has(n)||i.add(n)}return i}_1t(t){const s=new Set([...t]),i=this.$N(s);if(0<i.size){for(const e of i)e.I1t().dct();return[...i]}return null}D1t(){const t=x.er(x.N1t,this);return this.n0t.push(t),t}A1t(){return this.n0t}L1t(){if(this.n0t.length){let i=this.E0t(),e=!1;this.e0t++;for(let t=0,s=this.n0t.length;t<s;++t){const h=this.n0t[t];h.O1t()&&h.R1t(i),h.P1t()&&(e=!0)}e&&(this.k1t(),i.i0(null)),this.e0t--}}async F1t(){if(this.n0t.length){let i=this.E0t(),e=!1;this.e0t++;for(let t=0,s=this.n0t.length;t<s;++t){const h=this.n0t[t];h.O1t()&&await h.j1t(i),h.P1t()&&(e=!0)}e&&(this.k1t(),i.i0(null)),this.e0t--}}k1t(){const t=x.Un(this.n0t,t=>t.P1t());for(const s of t)s.hr()}AH(){for(const t of this.n0t)t.hr();x.On(this.n0t)}z1t(t){for(const s of this.n0t)s.mct(t);for(const i of t){const e=this.l0t.get(i);if(this.l0t.delete(i),e)for(const{resolve:h}of e.B1t.values())h(!0)}}U1t(t){this.o0t.push(t)}W1t(){x.On(this.o0t)}Q1t(){const t=Promise.all(this.o0t);return this.o0t=[],t}aA(t){const s=t.toLowerCase();this.a0t.push(s),this.$c.L8(x.SH.wH.MH.J1t,null),this.a0t.pop();for(const e of this.$c.VN().A1t())e.V1t()&&e.Y1t()===s&&e.H1t();const i=this.u0t.get(s);i&&(i.resolve(),this.u0t.delete(s))}lA(t){const i=t.toLowerCase(),s=this.u0t.get(i);if(s)return s.promise;{let s=null,t=new Promise(t=>s=t);return this.u0t.set(i,{promise:t,resolve:s}),t}}q1t(){if(0===this.a0t.length)throw new Error("not in a signal");return this.a0t.at(-1)}Z1t(t){let s=this.l0t.get(t);return s||(s={X1t:[],B1t:new Map},this.l0t.set(t,s)),s}T8(t,s){const i=this.Z1t(t),e=s.toLowerCase();i.X1t.push(e),this.$c.L8(t.WL().$1t().MH.K1t,t),i.X1t.pop();for(const r of this.$c.VN().A1t())r.tdt()&&r.Y1t()===e&&r.sdt(t);const h=i.B1t.get(e);h&&(h.resolve(!1),i.B1t.delete(e)),0===i.X1t.length&&0===i.B1t.size&&this.l0t.delete(t)}b8(t,s){const i=this.Z1t(t),e=s.toLowerCase(),h=i.B1t.get(e);if(h)return h.promise;{let s=null,t=new Promise(t=>s=t);return i.B1t.set(e,{promise:t,resolve:s}),t}}idt(t){const s=this.Z1t(t);if(s&&0!==s.X1t.length)return s.X1t.at(-1);throw new Error("not in a signal")}_V(){return{groups:this.edt(),cnds:this.hdt(),acts:this.rdt(),vars:this.ndt(),waits:this.odt()}}DV(t){this.adt(t.groups),this.udt(t.cnds),this.ldt(t.acts),this.cdt(t.vars),this.fdt(t.waits)}edt(){const t={};for(const s of this.$0t())t[s.dQ().toString()]=s.ddt();return t}adt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),h=this.X0t(e);h&&h.pdt(i)}}hdt(){const t={};for(const[s,i]of this.Wft){const e=i._V();e&&(t[s.toString()]=e)}return t}udt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[h,r]of this.Wft)r.DV(s.get(h)||null)}rdt(){const t={};for(const[s,i]of this.Qft){const e=i._V();e&&(t[s.toString()]=e)}return t}ldt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[h,r]of this.Qft)r.DV(s.get(h)||null)}ndt(){const t={};for(const[s,i]of this.Vft)i.mdt()||!i.JW()&&!i.VS()||(t[s.toString()]=i.Ait());return t}cdt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),h=this.z0t(e);h&&h.met(i)}}odt(){return this.n0t.filter(t=>!t.gdt()).map(t=>t._V())}fdt(t){this.AH();for(const s of t){const i=x.N1t.ydt(this,s);i&&this.n0t.push(i)}}Mdt(){return[...this.$c.QA().yq()].map(t=>t.CY()).filter(t=>t).map(t=>t.wdt())}Sdt(t){for(;t;){const s=t.R0t();if(s instanceof x.Tdt)return s;t=s}return null}c0t(t,s){Array.isArray(s)||(s=[]);const i=this.YN(t.toLowerCase());if(!i)return null;if(!i.Ql())return i.HN();const e=i.bdt();if(s.length<e.length)for(s=s.slice(0);s.push(e[s.length].I0t()),s.length<e.length;);const h=i.ZN();return h.tA(h.XN(),!1,i.iA(),i.HN(),...s)}}}{const To=self.js;To.f0t=class extends To.tr{constructor(t,s){super(),this.jct=t,this.$c=t.N7(),this.ur=s[0],this.xdt=[],this.vdt=new Map,this.Cdt=new Map,this.Gdt=new Map,this.Idt=!1,this.Edt=[],this._dt=[],this.Ddt=new Set;for(const i of s[1])this.Ndt(i,null,this.xdt);this.Adt=this.$c.XH()?{type:"sheet",name:this.ur,Ldt:0,children:[]}:null}hr(){this.jct=null,this.$c=null}Ndt(t,s,i){switch(t[0]){case 0:case 3:this.Odt(t,s,i);break;case 1:this.Rdt(t,s,i);break;case 2:this.Pdt(t,s,i);break;case 4:this.kdt(t,s);break;case 5:this.Fdt(t,s,i);break;case 6:this.jdt(t,s);break;default:throw new Error("invalid event type")}}Odt(t,s,i){const e=To.zdt.W5(this,s,t);if(e.kct()){i.push(e);const h=e.Bdt();for(let t=0,s=h.length;t<s;++t)h[t].Udt()&&this.Wdt(e,t)}else e.Udt()?this.Wdt(e,0):i.push(e)}kdt(t,s){const i=To.Tdt.Qdt(this,s,t);this.jct.T0t(i)}jdt(t,s){const i=To.Tdt.Jdt(this,s,t);this.jct.T0t(i)}Rdt(t,s,i){const e=To.Vdt.W5(this,s,t);i.push(e)}Pdt(t,s,i){const e=To.Ydt.W5(this,s,t);i.push(e)}Fdt(t,s,i){const e=To.Hdt.W5(this,s,t);i.push(e)}Wdt(h,r){h.kct()||this.jct.d0t(h);const n=h.D0t(r),o=n.qdt(),a=n.ZO();if(n.Zdt()){let t=this.Cdt.get(a),s=(t||(t=new Map,this.Cdt.set(a,t)),n.Xdt().toLowerCase()),i=t.get(o),e=(i||(i=new Map,t.set(o,i)),i.get(s));e||(e=[],i.set(s,e)),e.push([h,r])}else{let t=this.vdt.get(a),s=(t||(t={Kdt:new Map,$dt:new Map},this.vdt.set(a,t)),n.WP()),i,e=(s?(i=t.$dt.get(s))||(i=new Map,t.$dt.set(s,i)):i=t.Kdt,i.get(o));e||(e=[],i.set(o,e)),e.push([h,r])}}p0t(){const i=this.xdt;for(let t=0,s=i.length;t<s;++t){const e=t<s-1&&i[t+1]instanceof To.zdt&&i[t+1].tpt();i[t].p0t(e)}}spt(t){this.Edt.push(t)}KY(){To.On(this._dt),this.ipt(this),this.Ddt.clear()}ipt(t){const s=t._dt,i=t.Ddt;for(const e of this.Edt){const h=e.ept();e.hpt()&&t!==h&&!i.has(h)&&(i.add(h),h.ipt(t),s.push(h))}}d1t(){return this._dt}VN(){return this.jct}N7(){return this.$c}Jc(){return this.ur}rpt(t,s){this.Gdt.set(s,t)}npt(t){return this.Gdt.get(t)||null}e1t(){this.Idt=!1}Tx(){if(!this.Idt){const t=this.$c,s=t.opt(),i=s?performance.now():0,e=(this.Idt=!0,this.VN()),h=e.E0t();for(const r of this.xdt)r.Tx(h),e.G1t(r.HF()),e.W1t(),t.c6();h.i0(null),s&&(this.Adt.Ldt+=performance.now()-i)}}*l1t(){if(!this.Idt){this.Idt=!0;const t=this.$c,s=this.VN(),i=s.E0t();for(const e of this.xdt)yield*e.l1t(i),s.G1t(e.HF()),s.W1t(),t.c6();i.i0(null)}}c1t(e,h,r){if(!h)return this.apt(e,h,null,null);{let t=h.ZO(),s=!1,i=this.apt(e,h,t,r);s=s||i;for(const n of t.J0t())i=this.apt(e,h,n,r),s=s||i}}apt(t,s,i,e){const h=this.vdt.get(i);if(!h)return!1;const r=e?h.$dt.get(e):h.Kdt;if(!r)return!1;const n=r.get(t);if(!n)return!1;let o=!1;for(const[a,u]of n){const l=this.upt(s,a,u);o=o||l}return o}*p1t(e,h,r){if(!h)return yield*this.lpt(e,h,null,null);{let t=h.ZO(),s=!1,i=yield*this.lpt(e,h,t,r);s=s||i;for(const n of t.J0t())i=yield*this.lpt(e,h,n,r),s=s||i}}*lpt(t,s,i,e){const h=this.vdt.get(i);if(!h)return!1;const r=e?h.$dt.get(e):h.Kdt;if(!r)return!1;const n=r.get(t);if(!n)return!1;let o=!1;for(const[a,u]of n){let t;t=a.cpt()?this.upt(s,a,u):yield*this.fpt(s,a,u),o=o||t}return o}w1t(t,s,i){const e=s.ZO(),h=this.Cdt.get(e);if(!h)return!1;const r=h.get(t);if(!r)return!1;const n=r.get(i);if(!n)return!1;let o=!1;for(let t=0,s=n.length;t<s;++t){const a=n[t],u=this.upt(null,a[0],a[1]);o=o||u}return o}*S1t(t,s,i){const e=s.ZO(),h=this.Cdt.get(e);if(!h)return!1;const r=h.get(t);if(!r)return!1;const n=r.get(i);if(!n)return!1;let o=!1;for(let h=0,t=n.length;h<t;++h){let t=n[h],s=t[0],i=t[1],e;e=s.cpt()?this.upt(null,s,i):yield*this.fpt(null,s,i),o=o||e}return o}upt(t,s,i){let e=this.$c,h=this.jct,r=h.KN(),n=h.rA(),o=h.T1t(),a=!1;r&&h.E1t(r.XN()),h.E1t(s.XN());const u=1<o,l=(u&&h.L0t().ZF(),n.ZF(s));if(t){const f=s.Bdt()[i].ZO(),d=f.s6();d.Dct(t),t.a8()&&t.dpt()}let c=!0;if(s.FR()){const p=s.ppt();for(let t=0,s=p.length;t<s;++t)if(!p[t].mpt(l)){c=!1;break}}return c&&(s.kct()?s.gpt(l,i):s.Tx(l),a=l.lft()),n.cj(),u&&h.L0t().cj(),h.oj(s.XN()),r&&h.oj(r.XN()),r||1!==o||(h.W1t(),h.h8())||e.c6(),a}*fpt(t,s,i){let e=this.$c,h=this.jct,r=h.KN(),n=h.rA(),o=h.T1t(),a=!1;r&&h.E1t(r.XN()),h.E1t(s.XN());const u=1<o,l=(u&&h.L0t().ZF(),n.ZF(s));if(t){const f=s.Bdt()[i].ZO(),d=f.s6();d.Dct(t),t.a8()&&t.dpt()}let c=!0;if(s.FR()){const p=s.ppt();for(let t=0,s=p.length;t<s;++t)if(!(yield*p[t].ypt(l))){c=!1;break}}return c&&(s.kct()?yield*s.Mpt(l,i):yield*s.l1t(l),a=l.lft()),n.cj(),u&&h.L0t().cj(),h.oj(s.XN()),r&&h.oj(r.XN()),r||1!==o||(h.W1t(),h.h8())||e.c6(),a}wdt(){return this.Adt}}}{let l=function(t,s){return!0};l;const bo=self.js,xo=[];function*j(t,s){return!0}bo.zdt=class extends bo.tr{constructor(t,s,i){super(),this.WV=t,this.$c=t.N7(),this.wpt=s,this.Spt=null,this.gct=this.$c.VN().rA(),this.Tpt=[],this.bpt=[],this.xpt=!1,this.vpt=!1,this.Cpt=!1,this.Gpt=!1,this.Ipt=!!i[2],this.Ept=!1,this._pt=null,this.Dpt=[],this.Xet=[],this.Npt=[],this.Apt=l,this.Lpt=j,this.Opt=!1,this.Rpt=!1,this.Ppt="",this.kpt=!1,this.Fpt=null,this.Adt=null,this.OU=i[4],this.jpt=i[5],this.WV.rpt(this,this.jpt),this.zpt=this.$c.XH()?{Bpt:i[3][0],Upt:i[3][1],Wpt:!1,Qpt:!1,Jpt:!1,Vpt:!1}:null,this.VN().M0t(this),3===i[0]&&this.Ypt(i[1]);let e=0;for(const h of i[6]){const r=bo.Hpt.W5(this,h,e++);this.Dpt.push(r),this.qpt(r.ZO())}e=0;for(const n of i[7]){const o=bo.Zpt.W5(this,n,e++);this.Xet.push(o)}if(9===i.length){const a=i[8];for(const u of a)this.WV.Ndt(u,this,this.Npt)}this.Dpt.length&&(this.Ept=null===this.Dpt[0].ZO()&&this.Dpt[0].qdt()===bo.SH.wH.MH.Xpt),0===this.Dpt.length&&(this.Dpt=xo),0===this.Xet.length&&(this.Xet=xo),0===this.Npt.length&&(this.Npt=xo)}static W5(t,s,i){return bo.er(bo.zdt,t,s,i)}Ypt(t){this.Opt=!0,this.Rpt=!!t[0],this.kpt=this.Rpt,this.Ppt=t[1].toLowerCase(),this.Fpt=[],this.VN().g0t(this),this.$c.XH()&&(this.Adt={type:"group",name:t[1],Ldt:0,children:[]})}Kpt(t){this.Fpt.push(t)}$pt(t,s){for(const i of t.FY().vH())s.includes(i)||s.push(i)}tmt(t,s){if(t)if(s.includes(t)||s.push(t),t.rQ())for(const i of t.smt())i.a8()&&this.$pt(i,s);else t.a8()&&this.$pt(t,s)}qpt(t){this.tmt(t,this.Tpt)}imt(t){this.tmt(t,this.bpt)}emt(){this.Tpt=this.$c.hQ()}p0t(t){this.Gpt=!!t,this.hmt(),this.rmt();for(const s of this.Dpt)s.p0t();if(0<this.Xet.length){let t=!1;for(const e of this.Xet)e.p0t(),e.nmt()&&(t=!0);t?(this.Apt=this.omt,this.Lpt=this.amt):(this.Apt=this.umt,this.Lpt=this.lmt)}const i=this.Npt;for(let t=0,s=i.length;t<s;++t){const h=t<s-1&&i[t+1]instanceof bo.zdt&&i[t+1].tpt();i[t].p0t(h)}this.zpt&&this.cmt(),this.Adt&&this.fmt().wdt().children.push(this.Adt)}wdt(){return this.Adt}fmt(){let t=this.FR();for(;t;){if(t.K0t())return t;t=t.FR()}return this.WV}cmt(){const t=this.zpt;t.Wpt=this.Dpt.every(t=>t.cpt()),t.Qpt=this.Xet.every(t=>t.cpt()),t.Jpt=this.Npt.every(t=>t.cpt()),t.Vpt=t.Wpt&&t.Qpt&&t.Jpt}dmt(){let t=this;for(;t.cmt(),t=t.FR(););}hmt(){if(this.K0t()){let t=this.FR();for(this.Cpt=!0;t;){if(!t.K0t()){this.Cpt=!1;break}t=t.FR()}}}pmt(){const t=this.$c.hQ();if(this.Tpt===t)this.bpt=t;else{this.bpt=bo.Vn(this.Tpt);let t=this.FR();for(;t;){for(const i of t.Tpt)this.imt(i);t=t.FR()}const s=this.VN();this.Tpt=s.C0t(this.Tpt),this.bpt=s.C0t(this.bpt)}}rmt(){if(this.mmt()){this._pt=[];let t=this.FR();for(;t;)this._pt.push(t),t=t.FR();this._pt.reverse()}}gmt(){this.vpt=!0,this.wpt&&this.wpt.gmt()}Mft(){return this.vpt}HF(){return this.Tpt}XN(){return this.xpt||(this.xpt=!0,this.pmt()),this.bpt}ymt(t){return this.Tpt.includes(t)}ppt(){return this._pt}CY(){return this.WV}VN(){return this.WV.VN()}N7(){return this.$c}FR(){return this.wpt}Mmt(t){this.Spt=t}R0t(){return this.Spt||this.wpt}wmt(){return this.jpt}Smt(){return this.zpt&&this.zpt.Upt}Tmt(){return this.Smt()&&this.zpt.Bpt}bmt(t){this.zpt.Bpt=!!t,this.dmt()}K0t(){return this.Opt}xmt(){return this.Cpt}tpt(){return this.Ept}vmt(){return this.Gpt}y0t(){return this.Ppt}ddt(){return this.kpt}s1t(){this.pdt(this.Rpt)}pdt(t){if(t=!!t,!this.Opt)throw new Error("not a group");if(this.kpt!==t){this.kpt=t;for(const s of this.Fpt)s.Cmt();if(this.Fpt.length){const i=this.$c.a7(),e=i.CY();e&&e.KY()}}}dQ(){return this.OU}kct(){return this.Ipt}Udt(){return this.Dpt.length&&this.Dpt[0].Udt()}Gmt(){return this.Spt&&this.Spt instanceof bo.Tdt}mmt(){return this.Gmt()||this.Dpt.some(t=>t.Udt())}Bdt(){return this.Dpt}wft(){return this.Dpt.length}D0t(t){if((t=Math.floor(t))<0||t>=this.Dpt.length)throw new RangeError("invalid condition index");return this.Dpt[t]}Imt(t){return this.D0t(t)}Emt(t){let s=t.yN();if(0!==s){--s;const i=t._mt()?t.Dmt():t.ZO();for(;0<=s;--s){const e=this.Dpt[s];if(i===e.ZO()||e._mt()&&e.Dmt()===i)return!1}}return!0}Nmt(){return this.Xet}Amt(){return this.Xet.length}A0t(t){if((t=Math.floor(t))<0||t>=this.Xet.length)throw new RangeError("invalid action index");return this.Xet[t]}Lmt(s){s=Math.floor(s);const t=this.Xet.find(t=>t.Omt()===s);if(t)return t;throw new RangeError("invalid action debug index")}Rmt(t){return 0<=(t=Math.floor(t))&&t<this.Xet.length}Pmt(){return this.Npt}P0t(){return this.Npt.filter(t=>t instanceof bo.Vdt)}mpt(i){i.hft(this);let e=this.Dpt,h=0===e.length;for(let t=0,s=e.length;t<s;++t){const r=e[t];if(i.nft(t),r.e9())throw new Error("trigger cannot be used as sub-event to a loop");if(r.Tx())h=!0;else if(!this.Ipt)return!1}return!this.Ipt||h}gpt(t,s){t.hft(this),t.nft(s),this.Dpt[s].Tx()&&(this.Apt(t,0)&&this.kmt(t),t.uft(!0))}*ypt(i){i.hft(this);let e=this.Dpt,h=0===e.length;for(let s=0,t=e.length;s<t;++s){const r=e[s];if(i.nft(s),r.e9())throw new Error("trigger cannot be used as sub-event to a loop");let t;if(t=r.cpt()?r.Tx():yield*r.l1t())h=!0;else if(!this.Ipt)return!1}return!this.Ipt||h}*Mpt(s,t){s.hft(this),s.nft(t);let i=this.Dpt[t],e;if(e=i.cpt()?i.Tx():yield*i.l1t()){let t;(t=this.Fmt()?this.Apt(s,0):yield*this.Lpt(s,0))&&(this.jmt()?this.kmt():yield*this.zmt()),s.uft(!0)}}Tx(t){t.hft(this),this.Ept||t.cft(!1),this.Ipt?this.Bmt(t):this.Umt(t)}*l1t(t){(this.Tmt()||this.$c.Wmt())&&(yield this),t.hft(this),this.Ept||t.cft(!1),this.Ipt?yield*this.Qmt(t):yield*this.Jmt(t)}Bmt(i){let e=this.Dpt,h=0===e.length;for(let t=0,s=e.length;t<s;++t){const r=e[t];if(!r.Udt()){i.nft(t);const n=r.Tx();h=h||n}}i.uft(h),h&&(this.Apt(i,0)&&this.kmt(i),this.Gpt)&&i.cft(!0)}*Qmt(i){let e=this.Dpt,h=0===e.length;for(let s=0,t=e.length;s<t;++s){const r=e[s];if(!r.Udt()){i.nft(s);let t;t=r.cpt()?r.Tx():yield*r.l1t(),h=h||t}}if(i.uft(h),h){let t;(t=this.Fmt()?this.Apt(i,0):yield*this.Lpt(i,0))&&(this.jmt()?this.kmt():yield*this.zmt()),this.Gpt&&i.cft(!0)}}Umt(i){const e=this.Dpt;for(let t=0,s=e.length;t<s;++t){const h=e[t],r=(i.nft(t),h.Tx());if(!r)return void i.uft(!1)}i.uft(!0),this.Apt(i,0)&&this.kmt(i),i.lft()&&this.Gpt&&i.cft(!0)}*Jmt(i){const e=this.Dpt;for(let s=0,t=e.length;s<t;++s){const h=e[s];i.nft(s);let t;if(!(t=h.cpt()?h.Tx():yield*h.l1t()))return void i.uft(!1)}i.uft(!0);let t;(t=this.Fmt()?this.Apt(i,0):yield*this.Lpt(i,0))&&(this.jmt()?this.kmt():yield*this.zmt()),i.lft()&&this.Gpt&&i.cft(!0)}umt(i,e){const h=this.Xet;for(let t=e,s=h.length;t<s;++t){const r=h[t];i.aft(t),r.Tx()}return!0}*lmt(i,e){const h=this.Xet;for(let t=e,s=h.length;t<s;++t){const r=h[t];i.aft(t),r.cpt()?r.Tx():yield*r.l1t()}return!0}omt(i,e){const h=this.VN(),r=this.Xet;for(let t=e,s=r.length;t<s;++t){const n=r[t],o=(i.aft(t),n.Tx());if(n.Vmt()&&!0===o)return!1;n.Ymt()&&o instanceof Promise&&h.U1t(o)}return!0}*amt(i,e){const h=this.VN(),r=this.Xet;for(let s=e,t=r.length;s<t;++s){const n=r[s];i.aft(s);let t;if(t=n.cpt()?n.Tx():yield*n.l1t(),n.Vmt()&&!0===t)return!1;n.Ymt()&&t instanceof Promise&&h.U1t(t)}return!0}Hmt(t){this.Apt(t,t.oft())&&this.kmt()}*qmt(t){(yield*this.Lpt(t,t.oft()))&&(yield*this.zmt())}kmt(){if(this.Npt.length){const t=this.K0t()&&this.$c.opt(),s=t?performance.now():0,i=this.gct,e=i.ZF(this);this.vpt?this.Zmt(e):this.Xmt(e),i.cj(),t&&(this.Adt.Ldt+=performance.now()-s)}}Zmt(e){const h=this.Opt,r=this.Cpt,n=this.VN(),o=this.Npt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],u=a.HF(),l=!r||!h&&t<i;l&&n.rj(u),a.Tx(e),l?n.oj(u):n.G1t(u)}}Xmt(i){const e=this.Npt;for(let t=0,s=e.length;t<s;++t)e[t].Tx(i)}*zmt(){if(this.Npt.length){const t=this.gct,s=t.ZF(this);this.vpt?yield*this.Kmt(s):yield*this.$mt(s),t.cj()}}*Kmt(e){const h=this.Opt,r=this.Cpt,n=this.VN(),o=this.Npt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],u=a.HF(),l=!r||!h&&t<i;l&&n.rj(u),yield*a.l1t(e),l?n.oj(u):n.G1t(u)}}*$mt(i){const e=this.Npt;for(let t=0,s=e.length;t<s;++t)yield*e[t].l1t(i)}nj(i,e){e.eft();const h=this.Dpt;if(!this.kct())for(let t=i.rft()+1,s=h.length;t<s;++t){const r=h[t],n=(e.nft(t),r.Tx());if(!n)return!1}return this.Apt(e,0)&&this.kmt(e),!0}*tgt(i,e){e.eft();const h=this.Dpt;if(!this.kct())for(let s=i.rft()+1,t=h.length;s<t;++s){const r=h[s];e.nft(s);let t;if(!(t=r.cpt()?r.Tx():yield*r.l1t()))return!1}let t;return(t=this.Fmt()?this.Apt(e,0):yield*this.Lpt(e,0))&&(this.jmt()?this.kmt():yield*this.zmt()),!0}cpt(){return!this.Tmt()&&!this.$c.Wmt()&&this.zpt.Vpt}Fmt(){return!this.$c.Wmt()&&this.zpt.Qpt}jmt(){return!this.$c.Wmt()&&this.zpt.Jpt}sgt(i){if(this.FR()){const e=this.ppt();for(let t=0,s=e.length;t<s;++t)if(!e[t].mpt(i))return!1}return!0}*igt(i){if(this.FR()){const e=this.ppt();for(let t=0,s=e.length;t<s;++t)if(!(yield*e[t].ypt(i)))return!1}return!0}egt(t,s,i){if(0<s.length)if(i){const e=s.map(t=>t.hi(0));t.L0t().ZF(),this.Spt.hgt(e)}else this.Spt.rgt(s);else i&&t.L0t().ZF()}ngt(t,s,i,e){let h,r,n=0<t.length,o=null,a=this.$c,u=this.gct,l=a.VN(),c=l.x1t(),f=1<c;if(this.egt(l,s,f),n&&(i?l.rj(t):l.E1t(t)),null!==e){if(e.ogt){const p=i?e.ogt.s6():e.ogt.I1t().fct(),m=e.agt.s6();m.Nct(p.t6()),m.Rct(),i||e.agt.ugt()}else if(e.lgt){const g=e.lgt.s6();g.Nct(e.cgt),g.Rct()}e.fgt&&(o=l._1t(t))}const d=u.ZF(this);if(i&&d.Sft(t),this.sgt(d)){d.hft(this);const y=this.Spt.Ymt();y&&([r,h]=this.Spt.dgt()),this.Umt(d),y&&this.Spt.pgt(r)}return u.cj(),f&&l.L0t().cj(),null!==o&&l.oj(o),n&&l.oj(t),l.v1t(),h}*mgt(t,s,i,e){let h,r,n=((this.Tmt()||this.$c.Wmt())&&(yield this),0<t.length),o=null,a=this.$c,u=this.gct,l=a.VN(),c=l.x1t(),f=1<c;if(this.egt(l,s,f),n&&(i?l.rj(t):l.E1t(t)),null!==e){if(e.ogt){const p=i?e.ogt.s6():e.ogt.I1t().fct(),m=e.agt.s6();m.Nct(p.t6()),m.Rct(),i||e.agt.ugt()}else if(e.lgt){const g=e.lgt.s6();g.Nct(e.cgt),g.Rct()}e.fgt&&(o=l._1t(t))}const d=u.ZF(this);if(i&&d.Sft(t),yield*this.igt(d)){d.hft(this);const y=this.Spt.Ymt();y&&([r,h]=this.Spt.dgt()),yield*this.Jmt(d),y&&this.Spt.pgt(r)}return u.cj(),f&&l.L0t().cj(),null!==o&&l.oj(o),n&&l.oj(t),l.v1t(),h}ggt(t,s){const i=this.XN(),e=0<i.length,h=this.$c,r=this.gct,n=h.VN(),o=n.x1t(),a=1<o,u=(a&&n.L0t().ZF(),this.Spt.hgt(t),e&&(s?n.rj(i):n.E1t(i)),r.ZF(this));this.sgt(u)&&(u.hft(this),this.Umt(u)),r.cj(),a&&n.L0t().cj(),e&&n.oj(i),n.v1t()}*ygt(t,s){(this.Tmt()||this.$c.Wmt())&&(yield this);const i=this.XN(),e=0<i.length,h=this.$c,r=this.gct,n=h.VN(),o=n.x1t(),a=1<o,u=(a&&n.L0t().ZF(),this.Spt.hgt(t),e&&(s?n.rj(i):n.E1t(i)),r.ZF(this));(yield*this.igt(u))&&(u.hft(this),yield*this.Jmt(u)),r.cj(),a&&n.L0t().cj(),e&&n.oj(i),n.v1t()}tA(t,s,i,e,...h){let r,n,o=0<t.length,a=this.$c,u=this.gct,l=a.VN(),c=l.x1t(),f=1<c;f&&l.L0t().ZF(),0<h.length&&this.Spt.hgt(h),o&&(s?l.rj(t):l.E1t(t));const d=u.ZF(this);if(d.mft(i,e),u.Qct(d),a.$F(!1),this.sgt(d)){d.hft(this);const p=this.Spt.Ymt();p&&([n,r]=this.Spt.dgt()),this.Umt(d),p&&this.Spt.pgt(n)}return a.$F(!0),u.cj(),u.Jct(),f&&l.L0t().cj(),o&&l.oj(t),l.v1t(),r||d.gft()}}}{let e=self.js,t=[],s=!1;e.Hdt=class extends e.tr{constructor(t,s,i){super();const e=t.N7(),h=t.VN(),r=(this.WV=t,this.jct=h,this.$c=t.N7(),this.wpt=s,e.Mgt(i[1]));this.wgt=r,this.jpt=i[2],this.WV.rpt(this,this.jpt),this.zpt=e.XH()?{Bpt:i[3][0],Upt:i[3][1]}:null}static W5(t,s,i){return e.er(e.Hdt,t,s,i)}p0t(){const t=this.wgt,s=this.$c.VN().k0t(this);this.wgt=t.bind(null,this.$c.gL(),s)}FR(){return this.wpt}R0t(){return this.wpt}CY(){return this.WV}wmt(){return this.jpt}Smt(){return this.zpt&&this.zpt.Upt}Tmt(){return this.Smt()&&this.zpt.Bpt}bmt(t){this.zpt.Bpt=!!t}tpt(){return!1}HF(){return t}XN(){return this.wpt?this.wpt.XN():t}Tx(t){t.hft(this),this.jct.U1t(this.Sgt())}async Sgt(){try{await this.wgt()}catch(t){console.error(`Unhandled exception running script %c${this.CY().Jc()}, event ${this.wmt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),s||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),s=!0)}}*l1t(t){t.hft(this),(this.Tmt()||this.$c.Wmt())&&(yield this),this.Tx(t)}cpt(){return!this.Tmt()&&!this.$c.Wmt()}static Tgt(){return s}static bgt(){s=!0}}}{const vo=self.js;vo.Tdt=class extends vo.tr{constructor(t,s,i){super(),this.WV=t,this.$c=t.N7(),this.wpt=s,this.xgt=0,this.vgt="",this.Cgt=0,this.Ggt=[],this.Igt=!0,this.Egt="",this.oct=null,this._gt=!1,this.Dgt=[],this.Ngt=!1,this.Agt=!1,this.Lgt=0,this.Ogt=-1,this.Rgt=new Map,this.Pgt=vo.zdt.W5(t,s,i),this.Pgt.Mmt(this)}kgt(t){this.xgt=0,this.vgt=t[0],this.Cgt=t[1],this.Ggt=t[2].map(t=>vo.Vdt.W5(this.WV,this,t)),this.Igt=t[3],this.Agt=t[4],this.Ngt=t[5]}Fgt(t){this.xgt=1,this.Egt=t[1],this.oct=this.$c.RW(t[2]),this.Pgt.qpt(this.oct),this.vgt=this.oct.Jc()+"."+this.Egt,this.Cgt=t[3],this.Ggt=t[4].map(t=>vo.Vdt.W5(this.WV,this,t)),this.Igt=t[5],this.Agt=t[6],this.Ngt=t[7],this.oct.jgt(this)}static Qdt(t,s,i){const e=vo.er(vo.Tdt,t,s,i),h=i[1];return e.kgt(h),e}static Jdt(t,s,i){const e=vo.er(vo.Tdt,t,s,i),h=i[1];return e.Fgt(h),e}m0t(){if(this.oct&&this.oct.rQ())for(const t of this.oct.smt())if(t.zgt(this.Egt)){this._gt=!0;break}}p0t(){for(const t of this.Ggt)t.p0t();this.Pgt.p0t(!1)}b0t(){return this.xgt}P0t(){return this.Ggt}bdt(){return this.Ggt}qN(){return this.Ggt.length}Bgt(t){this.Dgt.push(t)}Ugt(){return this.Dgt}rgt(i){const e=this.Ggt;for(let t=0,s=e.length;t<s;++t)e[t].met(i[t].hi(0))}hgt(i){const e=this.Ggt;for(let t=0,s=e.length;t<s;++t)e[t].met(i[t])}Wgt(){return this.Ggt.map(t=>t.Ait())}FR(){return this.wpt}R0t(){return this.wpt}x0t(){return this.vgt}Qgt(){return this.Egt}Jgt(){return this._gt}iA(){return this.Cgt}ZO(){return this.oct}Ql(){return this.Igt}HN(){switch(this.Cgt){case 0:return null;case 2:return"";default:return 0}}ZN(){return this.Pgt}sA(){return this.Ngt}Ymt(){return this.Agt}dgt(){const t=this.Lgt++;this.Ogt=t;let s,i=new Promise(t=>s=t);return this.Rgt.set(t,{resolve:s,Vgt:0}),[t,i]}pgt(t){const s=this.Rgt.get(t);0===s.Vgt&&(s.resolve(),this.Rgt.delete(t)),this.Ogt=-1}Ygt(){const t=this.Rgt.get(this.Ogt);return t.Vgt++,this.Ogt}Hgt(t){this.Ogt=t;const s=this.Rgt.get(t);s.Vgt--}qgt(t,s){const i=new Map,e=[];for(const h of this.oct.s6().t6()){const r=h.ZO();if(r.zgt(this.Egt)){const n=i.get(r);Array.isArray(n)?n.push(h):i.set(r,[h])}else e.push(h)}if(0<e.length&&this.Pgt.ngt(t,s,this.Ngt,{lgt:this.oct,cgt:e}),0<i.size)for(const[o,a]of i){const u=o.Zgt(this.Egt).ZN(),l=[...new Set([...t,...u.HF()])];u.ngt(l,s,this.Ngt,{lgt:o,cgt:a})}}*Xgt(t,s){const i=new Map,e=[];for(const h of this.oct.s6().t6()){const r=h.ZO();if(r.zgt(this.Egt)){const n=i.get(r);Array.isArray(n)?n.push(h):i.set(r,[h])}else e.push(h)}if(0<e.length&&(yield*this.Pgt.mgt(t,s,this.Ngt,{lgt:this.oct,cgt:e})),0<i.size)for(const[o,a]of i){const u=o.Zgt(this.Egt).ZN(),l=[...new Set([...t,...u.HF()])];yield*u.mgt(l,s,this.Ngt,{lgt:o,cgt:a})}}}}{const Co=self.js,Go=[];Co.Vdt=class extends Co.tr{constructor(t,s,i){super();const e=t.VN();this.WV=t,this.jct=e,this.$c=t.N7(),this.wpt=s,this.$ft=e.L0t(),this.ur=i[1],this.lf=i[2],this.Kgt=i[3],this.MS=!!i[4],this.$gt=!!i[5],this.t2t=s instanceof Co.Tdt,this.OU=i[6],this.s2t=this.$c.F0t(i[8]),this.i2t=t=>this.met(t),this.e2t=()=>this.Ait(),this.h2t=!this.wpt||this.MS||this.$gt,this.Yet=this.Kgt,this.r2t=-1,this.n2t()&&(this.Yet=this.Yet?1:0),!this.o2t()||this.VS()||this.mdt()||(this.r2t=e.G0t(this)),e.v0t(this)}static W5(t,s,i){return Co.er(Co.Vdt,t,s,i)}p0t(){if(this.o2t()&&!this.VS()&&!this.mdt()&&!this.a2t()){const t=this.jct.Sdt(this);t&&t.Bgt(this)}}Jc(){return this.ur}F0t(){return this.s2t}FR(){return this.wpt}R0t(){return this.FR()}JW(){return!this.FR()}o2t(){return!this.JW()}a2t(){return this.t2t}VS(){return this.MS}mdt(){return this.$gt}fe(){return 0===this.lf}xe(){return 1===this.lf}n2t(){return 2===this.lf}tpt(){return!1}dQ(){return this.OU}I0t(){return this.Kgt}HF(){return Go}Tx(t){!this.o2t()||this.VS()||this.mdt()||this.met(this.I0t())}cpt(){return!0}*l1t(t){this.Tx(t)}met(t){this.fe()?"number"!=typeof t&&(t=parseFloat(t)):this.xe()?"string"!=typeof t&&(t=t.toString()):this.n2t()&&(t=t?1:0),this.h2t?this.Yet=t:this.$ft.Cft()[this.r2t]=t}Ait(){return this.h2t?this.Yet:this.$ft.Cft()[this.r2t]}u2t(){let t=this.Ait();return t=this.n2t()?!!t:t}q0t(){this.Yet=this.Kgt}j0t(){return{configurable:!1,enumerable:!0,get:this.e2t,set:this.i2t}}}}{const Io=self.js,Eo=[];Io.Ydt=class extends Io.tr{constructor(t,s,i){super();const e=t.VN();this.WV=t,this.jct=e,this.$c=t.N7(),this.wpt=s,this.l2t=null,this.c2t=i[1],this.s0=!0}static W5(t,s,i){return Io.er(Io.Ydt,t,s,i)}p0t(){this.l2t=this.jct.XY(this.c2t),this.WV.spt(this);let t=this.FR();for(;t;)t instanceof Io.zdt&&t.K0t()&&t.Kpt(this),t=t.FR();this.Cmt(),this.$c.XH()&&this.WV.wdt().children.push(this.l2t.wdt())}FR(){return this.wpt}HF(){return Eo}ept(){return this.l2t}Tx(t){const s=!!this.FR(),i=this.$c.hQ();s&&this.jct.E1t(i),this.l2t.Tx(),s&&this.jct.oj(i)}*l1t(t){const s=!!this.FR(),i=this.$c.hQ();s&&this.jct.E1t(i),yield*this.l2t.l1t(),s&&this.jct.oj(i)}cpt(){return!1}hpt(){return this.s0}Cmt(){let t=this.FR();for(;t;){if(t instanceof Io.zdt&&t.K0t()&&!t.ddt())return void(this.s0=!1);t=t.FR()}this.s0=!0}}}{let a=function(t,s){return s<=t?t%s:(t<0&&(t<=-s&&(t%=s),t<0)&&(t+=s),t)};a;const _o=self.js;_o.f2t=class extends _o.tr{constructor(t){super(),this.D4=t,this.$c=t.N7()}p0t(){}static d2t(t,s){const i=s[0],e=[Oo,Ao,Lo,Ro,Do,No];return _o.er(e[i],t,s)}};class Do extends _o.f2t{constructor(t,s){super(t),this.p2t=this.$c.m2t(),this.wgt=this.$c.Mgt(s[1]),this.wgt!==_o.SH.wH.lht.random&&this.wgt!==_o.SH.wH.lht.g2t||this.D4.y2t()}M2t(){return this.p2t.w2t(this.wgt,this.p2t)}}class No extends _o.f2t{constructor(t,s){super(t),this.S2t=null,this.vgt=s[1],this.D4.y2t()}p0t(){const t=this.$c.VN(),s=(this.S2t=t.YN(this.vgt),this.vgt=null,this.D4.ZN()),i=this.S2t.ZN();this.T2t=[...new Set([...s.XN(),...i.XN()])],this.T2t=t.C0t(this.T2t)}M2t(){const t=this.S2t;if(t.Ql()){const s=t.ZN();return _o.zdt.prototype.tA.bind(s,this.T2t,t.sA(),t.iA(),t.HN())}{const i=t.HN();return()=>i}}}class Ao extends _o.f2t{constructor(t,s){super(t),this.oct=this.$c.RW(s[1]),this.wgt=this.$c.Mgt(s[2]),this.b2t=!!s[3],this.gct=this.$c.VN().rA(),this.D4.x2t(this.oct)}M2t(){return this.oct.WL().w2t(this.wgt,this.oct.zL().LP())}v2t(...t){const s=this.oct,i=s.s6().vct(),e=i.length;if(0===e)return this.b2t?"":0;const h=a(this.D4.C2t(),e);return this.gct.qF().dft(s),this.wgt.apply(i[h].LP(),t)}G2t(t,...s){const i=this.oct,e=i.t6(),h=e.length;if(0===h)return this.b2t?"":0;const r=a(t,h);return this.gct.qF().dft(i),this.wgt.apply(e[r].LP(),s)}}class Lo extends _o.f2t{constructor(t,s){super(t),this.oct=this.$c.RW(s[1]),this.I2t=s[3],this.b2t=!!s[2],this.D4.x2t(this.oct)}E2t(){const t=this.oct.s6().vct(),s=t.length;if(0===s)return this.b2t?"":0;const i=a(this.D4.C2t(),s);return t[i]._2t(this.I2t)}D2t(){const t=this.oct,s=t.s6().vct(),i=s.length;if(0===i)return this.b2t?"":0;const e=a(this.D4.C2t(),i),h=s[e],r=h.ZO().N2t(t.A2t());return h._2t(this.I2t+r)}L2t(t){const s=this.oct,i=s.t6(),e=i.length;if(0===e)return this.b2t?"":0;let h=a(t,e),r=i[h],n=0;return s.rQ()&&(n=r.ZO().N2t(s.A2t())),r._2t(this.I2t+n)}}class Oo extends _o.f2t{constructor(t,s){super(t),this.oct=this.$c.RW(s[1]),this.O2t=this.oct.Bet(s[2]),this.R2t=this.oct.yst(s[2]),this.wgt=this.$c.Mgt(s[3]),this.b2t=!!s[4],this.gct=this.$c.VN().rA(),this.D4.x2t(this.oct)}P2t(...t){const s=this.oct,i=s.s6().vct(),e=i.length;if(0===e)return this.b2t?"":0;let h=a(this.D4.C2t(),e),r=(this.gct.qF().dft(s),i[h]),n=0;return s.rQ()&&(n=r.ZO().k2t(s.A2t())),this.wgt.apply(r.zet()[this.R2t+n].LP(),t)}F2t(t,...s){const i=this.oct,e=i.t6(),h=e.length;if(0===h)return this.b2t?"":0;let r=a(t,h),n=(this.gct.qF().dft(i),e[r]),o=0;return i.rQ()&&(o=n.ZO().k2t(i.A2t())),this.wgt.apply(n.zet()[this.R2t+o].LP(),s)}}class Ro extends _o.f2t{constructor(t,s){super(t),this.j2t=null,this.z2t=s[1]}p0t(){this.j2t=this.$c.VN().z0t(this.z2t)}B2t(){return this.j2t}}}{let r=function(t){const s=self.U2t[t];if(s)return s;throw new Error("invalid expression number")};r;const Po=self.js;Po.W2t=class extends Po.tr{constructor(t,s,i){super(),this.D4=t,this.Bg=i,this.lf=s,this.hi=null,this.Q2t=!1,this.$gt=!1}static W5(t,s,i){const e=s[0],h=[ko,Fo,Jo,zo,Uo,jo,Wo,ko,zo,zo,Vo,Yo,Jo,qo,Fo,Qo,Bo,Ho,Zo,Xo,Ko,$o];return Po.er(h[e],t,e,i,s)}p0t(){}y2t(){this.Q2t=!0}x2t(t){this.Q2t||!t||t.WL().ML()||(this.Q2t=!0)}J2t(){return this.Q2t}yN(){return this.Bg}N7(){return this.D4.N7()}ZN(){return this.D4.ZN()}mdt(){return this.$gt}V2t(){return 4===this.lf}};class ko extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.Y2t=0;const h=e[1];this.H2t=h[0],this.q2t=[],this.Z2t=null;for(let t=1,s=h.length;t<s;++t)this.q2t.push(Po.f2t.d2t(this,h[t]));this.q2t.length?this.hi=this.X2t:(this.hi=r(this.H2t),this.$gt=!0)}K2t(t){if(t<0||t>=this.q2t.length)throw new RangeError("invalid numbered node");return this.q2t[t]}p0t(){for(const s of this.q2t)s.p0t();const t=r(this.H2t);this.q2t.length?this.Z2t=t(this):this.Z2t=t}C2t(){return this.Y2t}X2t(t){return this.Y2t=t,this.Z2t()}}class Fo extends ko{constructor(t,s,i,e){super(t,s,i,e),this.hi=this.$2t,14===s&&(this.ZN().emt(),this.D4 instanceof Po.Zpt)&&this.ZN().gmt()}$2t(t){this.Y2t=t;const s=this.Z2t();return"string"==typeof s?s:""}tyt(){return r(this.H2t)()}}class jo extends ko{constructor(t,s,i,e){super(t,s,i,e),2<=t.syt()?this.hi=this.E6:this.hi=this.c7,this.$gt=!1}c7(t){this.Y2t=t;const s=this.Z2t(),i=this.N7().a7();return i.c7(s)}E6(t){const s=this.c7(t);return s?s.E6():null}}class zo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.iyt=e[1],this.hi=this.eyt,this.$gt=!0}eyt(){return this.iyt}}class Bo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.hyt=e[1],this.hi=this.ryt,this.$gt=!0}ryt(){return this.hyt}}class Uo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.oct=this.N7().RW(e[1]),2<=t.syt()?this.hi=this.kL:this.hi=this.ZO;const h=this.ZN();h.qpt(this.oct),this.D4 instanceof Po.Zpt?h.gmt():h.FR()&&h.FR().gmt(),this.$gt=!0}ZO(){return this.oct}kL(){return this.oct?this.oct.kL():null}}class Wo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.DU=this.N7().QA().cq(e[1]),2<=t.syt()?this.hi=this.UA:this.hi=this.JA,this.$gt=!0}JA(){return this.DU}UA(){return this.DU?this.DU.UA():null}}class Qo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.mX=this.N7().M$().bZ(e[1]),2<=t.syt()?this.hi=this.Ott:this.hi=this.ist,this.$gt=!0}ist(){return this.mX}Ott(){return this.mX?this.mX.Ott():null}}class Jo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.nyt=e[1],this.hi=this.oyt,this.$gt=!0}oyt(){return this.nyt}}class Vo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.ayt=e[1];const h=this.D4.ZO();!(this.D4 instanceof Po.Hpt&&this.D4.VS())&&h&&h.rQ()?(this.hi=this.uyt,this.y2t()):(this.hi=this.lyt,this.$gt=!0)}lyt(){return this.ayt}uyt(t){t=t||0;let s=this.D4.ZO(),i=s.s6(),e=i.t6(),h=null;if(e.length)h=e[t%e.length].ZO();else if(i.bct()){const r=i.xct();h=r[t%r.length].ZO()}else{if(!(0<s.e6()))return 0;{const n=s.t6();h=n[t%n.length].ZO()}}return this.ayt+h.N2t(s.A2t())}}class Yo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.z2t=e[1],this.j2t=null,2<=t.syt()?this.hi=this.cyt:this.hi=this.fyt,this.$gt=!0}p0t(){this.j2t=this.N7().VN().z0t(this.z2t)}fyt(){return this.j2t}cyt(){return null}}class Ho extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.dyt=e[1],this.S2t=null,2<=t.syt()?this.hi=this.pyt:this.hi=this.myt,this.$gt=!0}p0t(){this.S2t=this.N7().VN().YN(this.dyt),this.dyt=null}myt(){return this.S2t}pyt(){return null}}class qo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.gyt=[],this.yyt=[],this.$gt=!0;for(let t=1,s=e.length;t<s;++t){const h=Po.W2t.W5(this.D4,e[t],0);this.gyt.push(h),this.yyt.push(0),h.mdt()||(this.$gt=!1)}this.hi=this.Myt}p0t(){for(const t of this.gyt)t.p0t()}Myt(){const i=this.gyt,e=this.yyt;for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0);return e}}class Zo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.wyt=e[1],this.hi=this.pet,this.$gt=!0}pet(){return this.wyt}}class Xo extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.Syt=e[1],this.hi=this.Tyt,this.$gt=!0}Tyt(){return this.Syt}}class Ko extends ko{constructor(t,s,i,e){super(t,s,i,e),this.hi=this.f8,this.$gt=!1}f8(){return this.Z2t()}}class $o extends Po.W2t{constructor(t,s,i,e){super(t,s,i),this.Xat=this.N7().gut().Jat(e[1]),this.hi=this.byt,this.$gt=!0}byt(){return this.Xat.Jc()}}}{let e=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0)};e;const ta=self.js,sa=[],ia=function(){};ta.Hpt=class extends ta.tr{constructor(t,i,s){if(super(),this.Pgt=t,this.$c=t.N7(),this.Bg=s,this.wgt=this.$c.Mgt(i[1]),this.xyt=0<i[3],this.vyt=2===i[3],this.Cyt=!!i[4],this.Gyt=!!i[5],this.MS=!!i[6],this.OU=i[7],this.Iyt=this.Pgt.kct(),this.oct=null,this.O2t=null,this.R2t=-1,this.p2t=null,this.Tx=ia,this.l1t=ia,this.Ks=[],this.Eyt=[],this._yt=!1,this.Dyt=null,this.Nyt=null,this.zpt=this.$c.XH()?{Bpt:i[8][0],Ayt:i[8][1]}:null,-1===i[0]?this.p2t=this.$c.m2t():(this.oct=this.$c.RW(i[0]),i[2]&&(this.O2t=this.oct.Bet(i[2]),this.R2t=this.oct.yst(i[2])),this.Pgt.FR()&&this.Pgt.FR().gmt()),10===i.length){let s=i[9];for(let t of s)this.Ks.push(ta.W2t.W5(this,t,this.Ks.length)),this.Eyt.push(0)}0===this.Ks.length&&(this.Ks=sa,this.Eyt=sa),this.Pgt.VN().w0t(this)}static W5(t,s,i){return ta.er(ta.Hpt,t,s,i)}p0t(){for(const t of this.Ks)t.p0t(),t.J2t()&&(this._yt=!0);this.vyt?(this.Tx=this.Lyt,this.l1t=this.Oyt):this.p2t?(this.Ryt(),this.l1t=this.Pyt):this.oct.WL().ML()?(this.kyt(),this.l1t=this.Fyt):this.MS?(this.Tx=this.jyt,this.l1t=this.zyt):(this.Tx=this.Byt,this.l1t=this.Uyt)}Ryt(){const t=this.p2t,s=this.p2t;this.Wyt(t,s,this.Qyt)}kyt(){const t=this.oct.WL(),s=this.oct.zL().LP();this.Wyt(t,s,this.Jyt)}Wyt(t,s,i){const e=this.wgt,h=this.Gyt,r=this.Ks;if(0===r.length){const n=t.w2t(e,s);h?this.Tx=function(){return ta.xor(n(),h)}:this.Tx=n}else if(1===r.length){const o=r[0];if(!h&&o.mdt())this.Tx=t.Vyt(e,s,o.hi(0));else{const a=t.w2t(e,s);this.Tx=function(){return ta.xor(a(o.hi(0)),h)}}}else if(2===r.length){const u=r[0],l=r[1];if(!h&&u.mdt()&&l.mdt())this.Tx=t.Yyt(e,s,u.hi(0),l.hi(0));else{const c=t.w2t(e,s);this.Tx=function(){return ta.xor(c(u.hi(0),l.hi(0)),h)}}}else if(3===r.length){const f=r[0],d=r[1],p=r[2];if(!h&&f.mdt()&&d.mdt()&&p.mdt())this.Tx=t.Hyt(e,s,f.hi(0),d.hi(0),p.hi(0));else{const m=t.w2t(e,s);this.Tx=function(){return ta.xor(m(f.hi(0),d.hi(0),p.hi(0)),h)}}}else this.Tx=i}dQ(){return this.OU}qdt(){return this.wgt}ZO(){return this.oct}WP(){return this.O2t}qyt(){return this.O2t?this.O2t.zP():this.oct?this.oct.WL():null}syt(){const t=this.qyt();return t?t.Zyt():1}ZN(){return this.Pgt}N7(){return this.$c}yN(){return this.Bg}Omt(){return this.yN()}Udt(){return this.xyt}Zdt(){return this.vyt}Xyt(){return this.Gyt}e9(){return this.Cyt}VS(){return this.MS}Kyt(){return this.zpt.Bpt}$yt(){return!!this.p2t}_mt(){return this.$yt()||this.oct.WL().ML()}Dmt(){for(const t of this.Ks)if(t.V2t())return t.ZO();return null}tMt(t){this.zpt.Bpt=!!t,this.Pgt.dmt()}sMt(){return this.zpt.Ayt}cpt(){return!this.Kyt()&&!this.$c.Wmt()&&!this.sMt()}iMt(){return this.Dyt||(this.Dyt=new Map),this.Dyt}eMt(){return this.Nyt||(this.Nyt=new Map),this.Nyt}Qyt(){const t=this.Eyt;return e(this.Ks,t),ta.xor(this.wgt.apply(this.p2t,t),this.Gyt)}*Pyt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const s=this.Eyt;e(this.Ks,s);let t=this.wgt.apply(this.p2t,s);return ta.Po(t)&&(t=yield*t),ta.xor(t,this.Gyt)}return this.Tx()}Jyt(){const t=this.Eyt,s=(e(this.Ks,t),this.oct.zL().LP());return ta.xor(this.wgt.apply(s,t),this.Gyt)}*Fyt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){let t=this.Eyt,s=(e(this.Ks,t),this.oct.zL().LP()),i=this.wgt.apply(s,t);return ta.Po(i)&&(i=yield*i),ta.xor(i,this.Gyt)}return this.Tx()}Lyt(){return!0}*Oyt(){return(this.Kyt()||this.$c.Wmt())&&(yield this),!0}hMt(){if(this.O2t){if(2<=this.O2t.zP().Zyt())throw new Error("not yet implemented");return this.O2t}return 2<=this.oct.WL().Zyt()?this.oct.kL():this.oct}jyt(){const t=this.Eyt,s=(e(this.Ks,t),this.wgt.apply(this.hMt(),t));return this.oct.ugt(),s}*zyt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const s=this.Eyt;e(this.Ks,s);let t=this.wgt.apply(this.hMt(),s);return ta.Po(t)&&(t=yield*t),this.oct.ugt(),t}return this.Tx()}Byt(){const i=this.Ks,e=this.Eyt,t=this.oct.s6();for(let t=0,s=i.length;t<s;++t){const h=i[t];h.J2t()||(e[t]=h.hi(0))}return t.Sct()?this.rMt(t):this.nMt(t)}*Uyt(){return(this.Kyt()||this.$c.Wmt())&&(yield this),this.Byt()}oMt(i){const e=this.Ks,h=this.Eyt;for(let t=0,s=e.length;t<s;++t){const r=e[t];r.J2t()&&(h[t]=r.hi(i))}}rMt(i){const t=this.oct,e=t.rQ(),h=t.A2t(),r=this.R2t,n=0<=r,o=t.t6(),a=this._yt,u=this.Eyt,l=this.wgt,c=this.Gyt,f=this.Iyt&&!this.xyt;i.wct();for(let s=0,t=o.length;s<t;++s){const d=o[s];a&&this.oMt(s);let t;if(n){const p=e?d.ZO().k2t(h):0;t=l.apply(d.zet()[r+p].LP(),u)}else t=l.apply(d.LP(),u);ta.xor(t,c)?i.Cct(d):f&&i.Gct(d)}return t.aMt(!0),i.Ict(!1),t.ugt(),i.Tct()}nMt(t){let s=this.oct,i=s.rQ(),e=s.A2t(),h=s.a8(),r=this.R2t,n=0<=r,o=this._yt,a=this.Eyt,u=this.wgt,l=this.Gyt,c=this.Iyt&&!this.xyt,f=t.Ect(),d=t._ct(),p=c&&!this.Pgt.Emt(this),m=p?d:f,g=0,y=!1;for(let s=0,t=m.length;s<t;++s){const w=m[s];o&&this.oMt(s);let t;if(n){const S=i?w.ZO().k2t(e):0;t=u.apply(w.zet()[r+S].LP(),a)}else t=u.apply(w.LP(),a);ta.xor(t,l)?(y=!0,p?(f.push(w),h&&w.uMt()):(m[g]=w,h&&w.lMt(g),++g)):p?(m[g]=w,h&&w.cMt(g),++g):c&&(d.push(w),h)&&w.fMt()}ta.Ln(m,g),h&&s.dMt(p,g);const M=y;return p&&!y&&(y=this.pMt(f)),s.aMt(M||c),c?y:t.Tct()}pMt(i){const t=this.oct,e=t.rQ(),h=t.A2t(),r=this._yt,n=this.R2t,o=0<=n,a=this.Eyt,u=this.wgt,l=this.Gyt;for(let s=0,t=i.length;s<t;++s){const c=i[s];r&&this.oMt(s);let t;if(o){const f=e?c.ZO().k2t(h):0;t=u.apply(c.zet()[n+f].LP(),a)}else t=u.apply(c.LP(),a);if(ta.xor(t,l))return!0}return!1}mMt(t,s){return this.Ks[t].hi(s)}Xdt(){const t=this.Ks;if(t.length)return t[0].tyt();throw new Error("no parameters")}_V(){if(!this.Dyt||!this.Dyt.size)return null;const s={};for(const[i,e]of this.Dyt.entries()){let t=e;"collmemory"===i&&(t=[...e.entries()].map(t=>[t[0].l8(),t[1].l8(),t[2]])),s[i]=t}return{ex:s}}DV(t){if(this.Dyt&&(this.Dyt.clear(),this.Dyt=null),t){const s=this.$c,i=t.ex;if(i){const e=this.iMt();e.clear();for(const[h,r]of Object.entries(i)){let t=r;"collmemory"===h&&(t=ta.er(ta.Jl,r.map(t=>[s.r7(t[0]),s.r7(t[1]),t[2]]).filter(t=>t[0]&&t[1]))),e.set(h,t)}}}}}}{let h=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0)};h;const ea=self.js,ha=[],ra=function(){},na=function*(){};ea.Zpt=class extends ea.tr{constructor(t,s,i){super();const e=(this.Pgt=t).N7(),h=(this.$c=e,this.Bg=i,this.OU=4<=s.length?s[3]:-1,this.gMt=5<=s.length?255&s[4]:0,this.yMt=5<=s.length?s[4]>>8:0,this.wgt=null,this.oct=null,this.O2t=null,this.R2t=-1,this.p2t=null,this.MMt="",this.wMt=null,this.SMt=null,this.Tx=ra,this.l1t=ra,this.Ks=[],this.Eyt=[],this._yt=!1,this.Dyt=null,this.Nyt=null,-3===s[0]),r=h?s[2]:s[5];if(this.zpt=e.XH()||h?{Bpt:r[0],Ayt:r[1],index:r[2]}:null,-1===s[0])this.p2t=e.m2t(),this.wgt=e.Mgt(s[1]);else if(-2===s[0])this.MMt=s[1];else if(h){const n=e.Mgt(s[1]);this.wgt=n,this.Tx=this.TMt,this.l1t=this.bMt,this.yMt|=8}else this.oct=e.RW(s[0]),4&this.yMt?(this.MMt=s[1],this.wMt=e.RW(s[2])):(s[2]&&(this.O2t=this.oct.Bet(s[2]),this.R2t=this.oct.yst(s[2])),this.wgt=e.Mgt(s[1]));if(7===s.length){const o=s[6];for(const a of o)this.Ks.push(ea.W2t.W5(this,a,this.Ks.length)),this.Eyt.push(0)}0===this.Ks.length&&(this.Ks=ha,this.Eyt=ha),this.xMt()&&(this.Pgt.emt(),this.Pgt.gmt()),this.Pgt.VN().S0t(this)}static W5(t,s,i){return ea.er(ea.Zpt,t,s,i)}p0t(){for(const t of this.Ks)t.p0t(),t.J2t()&&(this._yt=!0);if(this.p2t)this.Ryt(),this.l1t=this.Pyt;else if(this.MMt)4&this.yMt?this.vMt():this.CMt(),this.MMt="",this.wMt=null;else if(this.Tx===this.TMt){const s=this.wgt,i=this.$c.VN().k0t(this.Pgt);this.wgt=s.bind(null,this.$c.gL(),i)}else this.O2t?this.Ymt()?(this.Tx=this.GMt,this.l1t=this.IMt):(this.Tx=this.EMt,this.l1t=this._Mt):this.oct.WL().ML()?(this.kyt(),this.l1t=this.Fyt):this.VS()?(this.Tx=this.DMt,this.l1t=this.NMt):this.Ymt()?(this.Tx=this.AMt,this.l1t=this.LMt):this.OMt()?(this.Tx=this.RMt,this.l1t=this.PMt):this.Ks.length?this.Ks.every(t=>t.J2t())?(this.Tx=this.kMt,this.l1t=this.FMt):this._yt?(this.Tx=this.jMt,this.l1t=this.zMt):this.Ks.every(t=>t.mdt())?(h(this.Ks,this.Eyt),this.Tx=this.BMt,this.l1t=this.UMt):(this.Tx=this.WMt,this.l1t=this.QMt):(this.Tx=this.BMt,this.l1t=this.UMt)}Ryt(){const t=this.p2t,s=this.p2t;this.Wyt(t,s,this.Qyt)}kyt(){const t=this.oct.WL(),s=this.oct.zL().LP();this.Wyt(t,s,this.Jyt)}CMt(){const t=this.Pgt.VN(),i=t.YN(this.MMt);if(i.Ql()){const e=0!=(2&this.yMt);this.SMt=i.ZN();let s=[...new Set([...this.Pgt.XN(),...this.SMt.XN()])];s=t.C0t(s);const h=!i.sA()&&this.JMt()?{fgt:!0}:null;if(this.Tx=ea.zdt.prototype.ngt.bind(this.SMt,s,this.Ks,e,h),this.$c.XH()){const r=this;this.l1t=function*(){(r.Kyt()||r.$c.Wmt())&&(yield r);const t=yield*r.SMt.mgt(s,r.Ks,e,h);return t}}else this.l1t=na}else this.Tx=ra,this.l1t=na}vMt(){const r=this.Pgt.VN(),n=r.Q0t(this.wMt,this.MMt);if(n.Ql()){const o=0!=(2&this.yMt);this.SMt=n.ZN();let s=[...new Set([...this.Pgt.XN(),...this.SMt.XN(),this.oct,n.ZO()])],t=(s=r.C0t(s),!this.oct.rQ()&&!n.ZO().rQ()),i=!this.oct.rQ()&&n.ZO().rQ(),e=this.oct.rQ(),h=null;if(!n.sA()&&this.JMt()&&((h=h||{}).fgt=!0),!i&&o||((h=h||{}).ogt=this.oct,h.agt=n.ZO()),t||i||e&&!n.Jgt()?this.Tx=ea.zdt.prototype.ngt.bind(this.SMt,s,this.Ks,o,h):e&&(this.Tx=ea.Tdt.prototype.qgt.bind(n,s,this.Ks)),this.$c.XH()){const a=this;t||i||e&&!n.Jgt()?this.l1t=function*(){(a.Kyt()||a.$c.Wmt())&&(yield a);const t=yield*a.SMt.mgt(s,a.Ks,o,h);return t}:e&&(this.l1t=function*(){(a.Kyt()||a.$c.Wmt())&&(yield a);const t=yield*n.Xgt(s,a.Ks);return t})}else this.l1t=na}else this.Tx=ra,this.l1t=na}Wyt(t,s,i){const e=this.wgt,h=this.Ks;if(0===h.length)this.Tx=t.w2t(e,s);else if(1===h.length){const r=h[0];if(r.mdt())this.Tx=t.Vyt(e,s,r.hi(0));else{const n=t.w2t(e,s);this.Tx=function(){return n(r.hi(0))}}}else if(2===h.length){const o=h[0],a=h[1];if(o.mdt()&&a.mdt())this.Tx=t.Yyt(e,s,o.hi(0),a.hi(0));else{const u=t.w2t(e,s);this.Tx=function(){return u(o.hi(0),a.hi(0))}}}else if(3===h.length){const l=h[0],c=h[1],f=h[2];if(l.mdt()&&c.mdt()&&f.mdt())this.Tx=t.Hyt(e,s,l.hi(0),c.hi(0),f.hi(0));else{const d=t.w2t(e,s);this.Tx=function(){return d(l.hi(0),c.hi(0),f.hi(0))}}}else this.Tx=i}dQ(){return this.OU}Ymt(){return 0!=(8&this.yMt)}Vmt(){return 0!=(16&this.yMt)}OMt(){return 1===this.gMt}VS(){return 2===this.gMt}xMt(){return 0!=(1&this.yMt)}nmt(){return this.Ymt()||this.Vmt()}ZO(){return this.oct}qyt(){return this.O2t?this.O2t.zP():this.oct?this.oct.WL():null}syt(){const t=this.qyt();return t?t.Zyt():1}ZN(){return this.Pgt}JMt(){let t=this.Pgt;do{if(t instanceof ea.Tdt&&t.sA())return!0}while(t=t.R0t());return!1}N7(){return this.$c}yN(){return this.Bg}Omt(){return this.zpt.index}Kyt(){return this.zpt.Bpt}tMt(t){this.zpt.Bpt=!!t,this.Pgt.dmt()}sMt(){return this.zpt.Ayt}cpt(){return!this.Kyt()&&!this.$c.Wmt()&&!this.sMt()}iMt(){return this.Dyt||(this.Dyt=new Map),this.Dyt}eMt(){return this.Nyt||(this.Nyt=new Map),this.Nyt}Qyt(){const t=this.Eyt;return h(this.Ks,t),this.wgt.apply(this.p2t,t)}*Pyt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const t=this.Eyt,s=(h(this.Ks,t),yield*this.wgt.apply(this.p2t,t));return s}return this.Tx()}Jyt(){const t=this.Eyt;return h(this.Ks,t),this.wgt.apply(this.oct.zL().LP(),t)}*Fyt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const t=this.Eyt,s=(h(this.Ks,t),yield*this.wgt.apply(this.oct.zL().LP(),t));return s}return this.Tx()}BMt(){const i=this.Eyt,e=this.oct.s6().t6();for(let t=0,s=e.length;t<s;++t)this.wgt.apply(e[t].LP(),i)}*UMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const i=this.Eyt,e=this.oct.s6().t6();for(let t=0,s=e.length;t<s;++t)yield*this.wgt.apply(e[t].LP(),i)}else this.BMt()}WMt(){const i=this.Eyt,e=(h(this.Ks,i),this.oct.s6().t6());for(let t=0,s=e.length;t<s;++t)this.wgt.apply(e[t].LP(),i)}*QMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const i=this.Eyt,e=(h(this.Ks,i),this.oct.s6().t6());for(let t=0,s=e.length;t<s;++t)yield*this.wgt.apply(e[t].LP(),i)}else this.WMt()}kMt(){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6();for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);s.apply(n.LP(),h)}}*FMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6();for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);yield*s.apply(n.LP(),h)}}else this.kMt()}jMt(){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.J2t()||(h[t]=i.hi(0))}for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.J2t()&&(h[t]=o.hi(i))}s.apply(n.LP(),h)}}*zMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.J2t()||(h[t]=i.hi(0))}for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.J2t()&&(h[t]=o.hi(i))}yield*s.apply(n.LP(),h)}}else this.jMt()}RMt(){const e=this.Ks,h=this.Eyt,s=this.wgt,t=this.oct,i=t.VMt(),r=t.s6().t6();i.YMt(s);for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);s.apply(n.LP(),h)}i.HMt(s)}*PMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const e=this.Ks,h=this.Eyt,s=this.wgt,t=this.oct,i=t.VMt(),r=t.s6().t6();i.YMt(s);for(let i=0,t=r.length;i<t;++i){const n=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);yield*s.apply(n.LP(),h)}i.HMt(s)}else this.RMt()}DMt(){const t=this.Eyt;return h(this.Ks,t),this.wgt.apply(this.O2t||this.oct,t)}*NMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const s=this.Eyt;h(this.Ks,s);let t=this.wgt.apply(this.O2t||this.oct,s);return t=ea.Po(t)?yield*t:t}return this.DMt()}EMt(){const t=this.oct,s=t.rQ(),e=t.A2t(),h=this.Ks,r=this._yt,n=this.Eyt,o=this.wgt,a=this.R2t,u=t.s6().t6();for(let t=0,s=h.length;t<s;++t){const i=h[t];i.J2t()||(n[t]=i.hi(0))}for(let i=0,t=u.length;i<t;++i){const l=u[i];if(r)for(let t=0,s=h.length;t<s;++t){const f=h[t];f.J2t()&&(n[t]=f.hi(i))}const c=s?l.ZO().k2t(e):0;o.apply(l.zet()[a+c].LP(),n)}}*_Mt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const t=this.oct,s=t.rQ(),e=t.A2t(),h=this.Ks,r=this._yt,n=this.Eyt,o=this.wgt,a=this.R2t,u=t.s6().t6();for(let t=0,s=h.length;t<s;++t){const i=h[t];i.J2t()||(n[t]=i.hi(0))}for(let i=0,t=u.length;i<t;++i){const l=u[i];if(r)for(let t=0,s=h.length;t<s;++t){const f=h[t];f.J2t()&&(n[t]=f.hi(i))}const c=s?l.ZO().k2t(e):0;yield*o.apply(l.zet()[a+c].LP(),n)}}else this.EMt()}AMt(){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6(),n=[];for(let i=0,t=r.length;i<t;++i){const o=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);n.push(s.apply(o.LP(),h))}return Promise.all(n)}*LMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const e=this.Ks,h=this.Eyt,s=this.wgt,r=this.oct.s6().t6(),n=[];for(let i=0,t=r.length;i<t;++i){const o=r[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);n.push(yield*s.apply(o.LP(),h))}return Promise.all(n)}return this.AMt()}GMt(){const t=this.oct,s=t.rQ(),e=t.A2t(),h=this.Ks,r=this.Eyt,n=this.wgt,o=this.R2t,a=t.s6().t6(),u=[];for(let i=0,t=a.length;i<t;++i){const l=a[i];for(let t=0,s=h.length;t<s;++t)r[t]=h[t].hi(i);const c=s?l.ZO().k2t(e):0;u.push(n.apply(l.zet()[o+c].LP(),r))}return Promise.all(u)}*IMt(){if((this.Kyt()||this.$c.Wmt())&&(yield this),this.sMt()){const t=this.oct,s=t.rQ(),e=t.A2t(),h=this.Ks,r=this.Eyt,n=this.wgt,o=this.R2t,a=t.s6().t6(),u=[];for(let i=0,t=a.length;i<t;++i){const l=a[i];for(let t=0,s=h.length;t<s;++t)r[t]=h[t].hi(i);const c=s?l.ZO().k2t(e):0;u.push(yield*n.apply(l.zet()[o+c].LP(),r))}return Promise.all(u)}return this.GMt()}async TMt(){try{await this.wgt()}catch(t){console.error(`Unhandled exception running script %c${this.Pgt.CY().Jc()}, event ${this.Pgt.wmt()}, action ${this.Omt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),ea.Hdt.Tgt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),ea.Hdt.bgt())}}*bMt(){return(this.Kyt()||this.$c.Wmt())&&(yield this),this.TMt()}_V(){return this.Dyt&&this.Dyt.size?{ex:ea.Lo(this.Dyt)}:null}DV(t){if(this.Dyt&&(this.Dyt.clear(),this.Dyt=null),t){const s=t.ex;s&&(this.Dyt=ea.Oo(s))}}}}{let d=function(t){return t instanceof self.HO?r.O6(t):t.ak()},l=function(t){return d(t).l7()},w=function(t,s){return W.compare(l(this).a4(),t,s)},S=function(t,s){return W.compare(l(this).c4(),t,s)},T=function(){return l(this).bR()},b=function(){const t=l(this),s=t.JA(),i=t.MR();return i.Mu()<0||i.wu()<0||i.gu()>s.$p()||i.yu()>s.dm()},x=function(i,e,h){const t=this.s6(),r=t.t6();if(!r.length)return!1;let n=r[0],o=n.l7(),a=n,u=W.yr(o.a4(),o.c4(),e,h);for(let t=1,s=r.length;t<s;++t){n=r[t],o=n.l7();const l=W.yr(o.a4(),o.c4(),e,h);(0===i&&l<u||1===i&&l>u)&&(u=l,a=n)}return t.Pct(a),!0},v=function(t){const s=l(this);s.a4()!==t&&(s.u4(t),s.lR())},C=function(t){const s=l(this);s.c4()!==t&&(s.f4(t),s.lR())},G=function(t,s){const i=l(this);i.qMt(t,s)||(i.cR(t,s),i.lR())},I=function(t,s){if(t){const i=d(this),e=t.KL(i);if(e){const[h,r]=e.ZMt(s),n=i.l7();n.a4()===h&&n.c4()===r||(n.cR(h,r),n.lR())}}},E=function(t){if(0!==t){const s=l(this);s.pR(s.XMt()*t,s.KMt()*t),s.lR()}},_=function(t,s){if(0!==s){const i=l(this);t=W.pr(t),i.pR(Math.cos(t)*s,Math.sin(t)*s),i.lR()}},D=function(){return l(this).a4()},N=function(){return l(this).c4()},A=function(){const t=d(this);return t.N7().pA(t)},L=function(t,s){return W.compare(l(this).$p(),t,s)},O=function(t,s){return W.compare(l(this).dm(),t,s)},R=function(t){const s=l(this);s.$p()!==t&&(s.um(t),s.lR())},P=function(t){const s=l(this);s.dm()!==t&&(s.tm(t),s.lR())},k=function(t,s){const i=l(this);i.$p()===t&&i.dm()===s||(i.Yv(t,s),i.lR())},X=function(){return l(this).$p()},K=function(){return l(this).dm()},$=function(){return l(this).MR().gu()},tt=function(){return l(this).MR().yu()},st=function(){return l(this).MR().Mu()},it=function(){return l(this).MR().wu()},et=function(){const t=l(this).MR();return(t.gu()+t.Mu())/2},ht=function(){const t=l(this).MR();return(t.yu()+t.wu())/2},rt=function(t,s){return W.Sr(l(this).T6(),W.pr(s))<=W.pr(t)},nt=function(t){return W.br(l(this).T6(),W.pr(t))},ot=function(t,s){const i=W.pr(t),e=W.pr(s),h=l(this).T6(),r=!W.br(e,i);return r?!(!W.br(h,i)&&W.br(h,e)):W.br(h,i)&&!W.br(h,e)},at=function(t){const s=l(this),i=W.dr(W.pr(t));isNaN(i)||s.T6()===i||(s.S6(i),s.lR())},ut=function(t){if(!isNaN(t)&&0!==t){const s=l(this);s.S6(s.T6()+W.pr(t)),s.lR()}},lt=function(t){if(!isNaN(t)&&0!==t){const s=l(this);s.S6(s.T6()-W.pr(t)),s.lR()}},ct=function(t,s){const i=l(this),e=i.T6(),h=W.Tr(e,W.pr(s),W.pr(t));isNaN(h)||e===h||(i.S6(h),i.lR())},ft=function(t,s,i){const e=l(this),h=e.T6(),r=s-e.a4(),n=i-e.c4(),o=Math.atan2(n,r),a=W.Tr(h,o,W.pr(t));isNaN(a)||h===a||(e.S6(a),e.lR())},dt=function(t,s){const i=l(this),e=i.T6(),h=t-i.a4(),r=s-i.c4(),n=Math.atan2(r,h);isNaN(n)||e===n||(i.S6(n),i.lR())},pt=function(){return W.mr(l(this).T6())},mt=function(t,s){return W.compare(W.kr(100*l(this).xI(),6),t,s)},F=function(){return l(this).nO()},gt=function(t){const s=d(this),i=s.l7();t=2===t?!i.nO():0!==t,i.nO()!==t&&(i.hO(t),s.N7().y7())},yt=function(t){const s=W.cr(t/100,0,1),i=d(this),e=i.l7();if(e.dP()){if(e.art().$Mt()===s)return}else if(e.xI()===s)return;e.CI(s),i.N7().y7()},Mt=function(t){u.ma(t);const s=d(this),i=s.l7();i.vR().oa(u)||(i.CR(u),s.N7().y7())},wt=function(){const t=l(this).vR();return W.zr(t.Ko(),t.$o(),t.ta(),t.ia())},St=function(){return W.kr(100*l(this).xI(),6)},Tt=function(t){return!!t&&l(this).c7()===t},bt=function(i){const t=this.s6(),e=t.t6();if(!e.length)return!1;let s=e[0],h=s;for(let t=1,s=e.length;t<s;++t){const r=e[t],n=r.l7(),o=h.l7(),a=n.c7().yN(),u=o.c7().yN();0===i?(u<a||a===u&&n.f7()>o.f7())&&(h=r):(a<u||a===u&&n.f7()<o.f7())&&(h=r)}return t.Pct(h),!0},xt=function(t,s,i){const e=l(this),h=0===t?e.d4():e.gR();return W.compare(h,s,i)},vt=function(){l(this).IR()},Ct=function(){l(this)._R()},Gt=function(t){t&&l(this).NR(t)},It=function(t,s){const i=0===t;if(s){const e=d(this),h=s.twt(e);h&&e.l7().LR(h,i)}},Et=function(t){const s=d(this),i=s.l7();i.d4()!==t&&(i.m4(t),s.N7().y7())},_t=function(){return l(this).c7().yN()},Dt=function(){return l(this).c7().Jc()},Nt=function(){return l(this).f7()},At=function(){return l(this).d4()},Lt=function(){return l(this).gR()},Ot=function(t){const s=d(this),i=s.ZO().d6().Wet(t);if(i){const e=i.yN(),h=s.l7().aR();return h.qP(e)}},Rt=function(t,s){const i=d(this),e=i.ZO().d6().Wet(s);if(e){const h=e.yN(),r=1===t,n=i.l7().aR();n.qP(h)!==r&&(n.ZP(h,r),n.XP(),i.N7().y7())}},Pt=function(t,s,i){const e=d(this),h=e.ZO().d6().Wet(t);if(h){s=Math.floor(s);const r=h.V3().H3(s);if(r){"color"===r?(u.ma(i),i=u):"percent"===r&&(i/=100);const n=h.yN(),o=e.l7().aR(),a=o.$P(n,s,i);a&&o.qP(n)&&e.N7().y7()}}},j=function(t,s,i,e){const h=s.l8(),r=i.l8();h<r?t.Set(s,i,e):t.Set(i,s,e)},z=function(t,s,i){const e=s.l8(),h=i.l8();e<h?t.ql(s,i):t.ql(i,s)},B=function(t,s){t.Zl(s)},U=function(t,s,i){const e=s.l8(),h=i.l8();return e<h?t.hi(s,i):t.hi(i,s)},e=function(t,s,i,e){if(!s)return!1;const h=0!==i||0!==e,r=t.l7(),n=t.N7(),o=n.vN(),a=n._0t(),u=a.ZN().kct(),l=a.ZO(),c=a.Xyt(),f=s.s6(),d=l!==s;H=s,Y=d&&!c;let p,m=0,g=0,y=q=!1;f.Sct()?(Q.C(r.MR()),Q.offset(i,e),o.swt(r.c7(),s,Q,V),p=V):!u||n.iwt()&&!f._ct().length&&f.Ect().length?p=f.Ect():(p=f._ct(),q=!0),h&&(m=r.a4(),g=r.c4(),r.pR(i,e),r.lR());for(const M of p)if(o.tL(t,M)){if(y=!0,c)break;d&&Z.add(M)}return h&&(r.cR(m,g),r.lR()),W.On(V),y},i=function(t){const s=t.N7().KN().kct(),i=H.s6(),e=i.Ect(),h=i._ct();i.Sct()?(i.Act(Z),s&&(W.On(h),i.Lct(Z,H.t6()))):s?q?i.Oct(Z):(i.Lct(Z,e),i.Act(Z)):i.Act(Z),H.ugt()},kt=function(t,s){Y&&(s&&i(t),Z.clear(),H=null,Y=!1)},Ft=function(M){if(this.$c.ewt())return function*(M){if(M){let t=this.$c,s=t.vN(),e=t.VN(),i=e.rA(),h=e._0t(),r=h.ZO(),n=h.iMt(),o=h.eMt(),a=i.qF(),u=t.z$(),l=u-1,c=a.KN(),f=i.ZF(c),d=n.get("collmemory"),p=(d||(d=W.er(W.Jl),n.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Rf().addEventListener("instancedestroy",t=>B(d,t.QP))),r.s6()),m=M.s6(),g=p.t6(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.Sct()?(s.swt(w.l7().c7(),M,w.l7().MR(),J),y=J,s.hwt(w,M,y)):y=m.t6();for(let t=0;t<y.length;++t){const S=y[t];if(s.tL(w,S)||s.rwt(w,S)){let t=U(d,w,S),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const T=!s||i<l;if(j(d,w,S,u),T){const b=c.HF(),x=(e.rj(b),r.s6()),v=M.s6();if(x.Ict(!1),v.Ict(!1),r===M){const C=x.Ect();W.On(C),C.push(w),C.push(S),r.ugt()}else{const G=x.Ect(),I=v.Ect();W.On(G),W.On(I),G.push(w),I.push(S),r.ugt(),M.ugt()}yield*c.tgt(a,f),e.oj(b)}}else z(d,w,S)}W.On(J)}i.cj()}return!1}.call(this,M);if(M){let t=this.$c,s=t.vN(),e=t.VN(),i=e.rA(),h=e._0t(),r=h.ZO(),n=h.iMt(),o=h.eMt(),a=i.qF(),u=t.z$(),l=u-1,c=a.KN(),f=i.ZF(c),d=n.get("collmemory"),p=(d||(d=W.er(W.Jl),n.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Rf().addEventListener("instancedestroy",t=>B(d,t.QP))),r.s6()),m=M.s6(),g=p.t6(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.Sct()?(s.swt(w.l7().c7(),M,w.l7().MR(),J),y=J,s.hwt(w,M,y)):y=m.t6();for(let t=0;t<y.length;++t){const S=y[t];if(s.tL(w,S)||s.rwt(w,S)){let t=U(d,w,S),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const T=!s||i<l;if(j(d,w,S,u),T){const b=c.HF(),x=(e.rj(b),r.s6()),v=M.s6();if(x.Ict(!1),v.Ict(!1),r===M){const C=x.Ect();W.On(C),C.push(w),C.push(S),r.ugt()}else{const G=x.Ect(),I=v.Ect();W.On(G),W.On(I),G.push(w),I.push(S),r.ugt(),M.ugt()}c.nj(a,f),e.oj(b)}}else z(d,w,S)}W.On(J)}i.cj()}return!1},jt=function(t){return e(d(this),t,0,0)},zt=function(t,s,i){return e(d(this),t,s,i)},Bt=function(){return l(this).KR()},Ut=function(){return l(this).LV()},Wt=function(i,e){const t=this.s6(),h=t.t6();if(0===h.length)return!1;let s=i.s6(),r=s.t6();if(s.Sct()){const a=[...this.$c.nwt(i)];0<a.length&&(r=r.concat(a))}if(0===r.length)return!1;const n=new Set(r),o=new Set;for(let t=0,s=h.length;t<s;++t){const u=h[t];if(1===e)for(const l of u.BR())l.owt(i)&&n.has(l)&&o.add(l);else{let t;if(0===e){if(null===(t=u.FR()))continue}else t=u.zR();t.owt(i)&&n.has(t)&&o.add(t)}}return 0!==o.size&&(s.Act(o),i.ugt(),!0)},Qt=function(i,e){const t=this.s6(),h=t.t6();if(0===h.length)return!1;let s=i.s6(),r=s.t6();if(s.Sct()){const a=[...this.$c.nwt(i)];0<a.length&&(r=r.concat(a))}if(0===r.length)return!1;const n=new Set(r),o=new Set;for(let t=0,s=h.length;t<s;++t){const u=h[t];2===e&&!u.LV()&&u.owt(i)&&n.has(u)&&o.add(u);for(const l of 0===e?u.children():u.VR())2===e&&l.LV()||l.owt(i)&&n.has(l)&&o.add(l)}return 0!==o.size&&(s.Act(o),i.ugt(),!0)},Jt=function(i,e,h){const t=this.s6(),r=t.t6();if(0===r.length)return!1;let s=i.s6(),n=s.t6();if(s.Sct()){const u=[...this.$c.nwt(i)];0<u.length&&(n=n.concat(u))}if(0===n.length)return!1;const o=new Set(n),a=[];for(let t=0,s=r.length;t<s;++t){const l=r[t];if(0===e){const c=l.JR(h);null!==c&&c.owt(i)&&o.has(c)&&a.push(c)}else if(1===e)for(const f of l.children())if(f.owt(i)){if(0===h){o.has(f)&&a.push(f);break}--h}}return 0!==a.length&&(s.Nct(a),i.ugt(),!0)},Vt=function(t,s,i){const e=d(this);switch(t){case 0:default:return W.compare(e.WR(),s,i);case 1:return W.compare(e.awt(),s,i)}},Yt=function(t,s,i,e,h,r,n,o,a,u){const l=d(this),c=l.N7().N0t().ZO();for(const f of t.uwt(l,c)){if(!f.WL().DL())return;l.HR(f,{tP:s,iP:i,hP:e,nP:h,aP:r,fP:n,lP:o,pP:a,gP:u})}},Ht=function(t){const s=d(this),i=s.N7().N0t().ZO();for(const e of t.uwt(s,i))s.qR(e)},qt=function(){const t=d(this);if(t.KR()){const s=t.FR();s.qR(t)}},Zt=function(){return d(this).WR()},Xt=function(){return d(this).awt()},Kt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=l(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.TP(),i.lR()):i.wP(t,s)},$t=function(t,s,i,e,h,r,n,o){const a=l(this),u=a.xP(t,s,{mode:0===i?"absolute":"relative",x:e,y:h,vO:r,u:n,v:o});u&&a.lR()},ts=function(){const t=l(this);return t.CP()?t.GP().j4():0},ss=function(){const t=l(this);return t.CP()?t.GP().z4():0},is=function(t){const s=l(this);t=2===t?!s.nO():0!==t,s.nO()!==t&&s.hO(t)},es=function(t,s){this instanceof self.HO?this.SF(t,s):this.kP(t,s)},hs=function(t,s){this instanceof self.HO?this.TF(t,""+s):this.lwt(t,""+s)},rs=function(t){this instanceof self.HO?this.bF(t):this.cwt(t)},ns=function(){this instanceof self.HO?this.yF():this.OP()},os=function(){this instanceof self.HO?this.MF():this.RP()},as=function(){return this instanceof self.HO?this.wF():this.fwt()},us=function(t){this instanceof self.HO?this._setEnabled(0!==t):this.dwt(0!==t)},ls=function(){return this instanceof self.HO?this.Igt():this.pwt()},cs=function(t,s,i){return W.compare(d(this).Xht(t),s,i)},fs=function(t){return!!d(this).Xht(t)},ds=function(i,e){const t=this.s6(),h=t.t6();if(!h.length)return!1;let r=this.rQ(),n=null,o=0;for(let t=0,s=h.length;t<s;++t){const a=h[t],u=r?a.ZO().N2t(this.A2t()):0,l=a.Xht(u+e);(null===n||0===i&&l<o||1===i&&l>o)&&(o=l,n=a)}return t.Pct(n),!0},ps=function(t){return(this.$c._0t().Xyt()?h:s)(this,t)},s=function(t,s){const i=t.N7().r7(s);if(i){const e=t.s6();if(e.Sct()||e.Ect().includes(i))if(t.rQ()){if(i.ZO().mwt(t))return e.Pct(i),t.ugt(),!0}else if(i.ZO()===t)return e.Pct(i),t.ugt(),!0}return!1},h=function(t,h){const r=t.s6();if(r.Sct()){r.Ict(!1),r.wct();const i=t.t6();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.l8()===h?r.Gct(e):r.Cct(e)}return t.ugt(),!!r.Ect().length}{let i=r.Ect(),e=0;for(let t=0,s=i.length;t<s;++t){const n=i[t];(i[e]=n).l8()===h?r.Gct(n):++e}return W.Ln(i,e),t.ugt(),!!i.length}},ms=function(t){const s=new Set(W.qn(t)),i=d(this).y8();return s.ue(i)},gs=function(){return d(this).gwt()},ys=function(){return d(this).y8().size},Ms=function(t){return d(this).ywt(t)},ws=function(t,s){const i=W.qn(s);if(0!==i.length){const e=d(this),h=new Set(e.y8());if(0===t)for(const r of i)h.add(r);else if(1===t)for(const n of i)h.delete(n);e.w8(h)}},Ss=function(){const t=d(this);t.N7().e8(t)},Ts=function(){return!0},bs=function(){return!0},xs=function(t,s){d(this).Kht(t,s)},vs=function(t,s){const i=d(this),e=i.Xht(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Kht(t,e+s)},Cs=function(t,s){const i=d(this),e=i.Xht(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Kht(t,e-s))},Gs=function(t,s){d(this).Kht(t,s?1:0)},Is=function(t){const s=d(this);s.Kht(t,0===s.Xht(t)?1:0)},Es=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=d(this);i.N7().Mwt(),i.Yq("state"),i.x4(s,"state"),i.N7().wwt("state",{Swt:!0})},_s=function(){return JSON.stringify(d(this).b4("state"))},Ds=function(){return d(this).ZO().Jc()},Ns=function(){let t=d(this).N7(),s=t.E0t().pft(),i=s.e6();for(const e of t.nwt(s))++i;return i},As=function(){const t=d(this).N7();return t.E0t().pft().s6().t6().length},Ls=function(){return d(this).xH()},Os=function(){return d(this).l8()},Rs=function(t){const s=d(this);return t.toLowerCase()===s.N7().VN().idt(s)},Ps=function(t){const s=d(this);s.N7().VN().T8(s,t)},ks=function(t){return this.N7().VN().D1t().Twt(this.s6().t6(),t),!0},Fs=function(){return d(this).f8()},W=(d,l,w,S,T,b,x,v,C,G,I,E,_,D,N,A,L,O,R,P,k,X,K,$,tt,st,it,et,ht,rt,nt,ot,at,ut,lt,ct,ft,dt,pt,mt,F,gt,yt,Mt,wt,St,Tt,bt,xt,vt,Ct,Gt,It,Et,_t,Dt,Nt,At,Lt,Ot,Rt,Pt,j,z,B,U,e,i,kt,Ft,jt,zt,Bt,Ut,Wt,Qt,Jt,Vt,Yt,Ht,qt,Zt,Xt,Kt,$t,ts,ss,is,es,hs,rs,ns,os,as,us,ls,cs,fs,ds,ps,s,h,ms,gs,ys,Ms,ws,Ss,Ts,bs,xs,vs,Cs,Gs,Is,Es,_s,Ds,Ns,As,Ls,Os,Rs,Ps,ks,Fs,self.js),u=new W.Fo,r=null,Q=(W.bwt=function(t){r=t},W.er(W.Rect)),J=[],V=[],Y=!1,H=null,q=!1,Z=new Set;W.xwt=function(t,s){const i=t[1],e=t[3],h=t[4],r=t[5],n=t[6],o=t[7],a=t[8],u=t[10],l=t[11],c=t[12],f=t[13],d=t[14],p=t[15],m=t[16],g=s.MH,y=s.uht,M=s.lht;e&&(g.vwt=w,g.Cwt=S,g.Gwt=T,g.Iwt=b,g.Ewt=x,y.u4=v,y.f4=C,y._wt=G,y.Dwt=I,y.Nwt=E,y.Awt=_,M.Lwt=D,M.Owt=N,M.dA=A),h&&(g.Rwt=L,g.Pwt=O,y.um=R,y.tm=P,y.Yv=k,M.kwt=X,M.Fwt=K,M.jwt=$,M.zwt=tt,M.Bwt=st,M.Uwt=it,M.Wwt=et,M.Qwt=ht),r&&(g.Jwt=rt,g.Vwt=nt,g.Ywt=ot,y.S6=at,y.Hwt=ut,y.qwt=lt,y.Zwt=ct,y.Xwt=ft,y.Kwt=dt,M.$wt=pt),n&&(g.nO=F,g.t4t=mt,y.hO=gt,y.CI=yt,y.s4t=Mt,M.Opacity=St,M.i4t=wt),o&&(g.e4t=Tt,g.h4t=bt,g.r4t=xt,y.n4t=vt,y.o4t=Ct,y.a4t=Gt,y.u4t=It,y.m4=Et,M.l4t=_t,M.c4t=Dt,M.f4t=Nt,M.d4t=At,M.p4t=Lt),a&&(g.m4t=Ot,y.g4t=Rt,y.y4t=Pt),f&&(g.KR=Bt,g.LV=Ut,g.M4t=Wt,g.w4t=Qt,g.S4t=Jt,g.T4t=Vt,y.HR=Yt,y.qR=Ht,y.b4t=qt,M.x4t=Zt,M.v4t=Xt),d&&(y.C4t=Kt,y.xP=$t,M.G4t=ts,M.I4t=ss),u&&(g.nO=F,y.hO=is,y.E4t=es,y._4t=hs,y.D4t=rs),l&&(g.N4t=as,y.A4t=ns,y.L4t=os),c&&(g.Ql=ls,y.O4t=us),p&&(g.R4t=Ft,g.P4t=jt,g.k4t=zt,s.F4t=kt),i||(g.j4t=cs,g.z4t=fs,g.B4t=ds,g.U4t=ps,g.B9=ms,y.W4t=xs,y.Q4t=vs,y.J4t=Cs,y.V4t=Gs,y.Y4t=Is,y.H4t=ws,g.q4t=Ts,g.Z4t=bs,y.X4t=Ss,y.K4t||(y.K4t=Es),M.$4t||(M.$4t=_s),M.tSt=Ns,M.sSt=As,M.iSt=Ls,M.eSt=Os,M.hSt=Ds,M.rSt=gs,M.nSt=ys,M.oSt=Ms,g.K1t=Rs,y.T8=Ps,y.aSt=ks),m&&(M.uSt=Fs)}}{const oa=self.js;oa.N1t=class extends oa.tr{constructor(t){super(),this.jct=t,this.lf="",this.q_=-1,this.lSt="",this.cSt=!1,this.fSt=null,this.Hct=0,this.Tpt=[],this.tft=null,this.dSt=new Map,this.pSt=null,this.mSt=null,this.gSt=-1,this.Ggt=null,this.ySt=null,this.MSt=!1}hr(){this.lf="",this.q_=-1,this.lSt="",this.fSt=null,this.mSt=null,this.Ggt=null,this.ySt=null,this.gSt=-1,oa.On(this.Tpt),this.tft&&(this.tft.clear(),this.tft=null);for(const t of this.dSt.values())t.hr();this.dSt.clear(),this.pSt=null}o4(){const t=this.jct,s=t.N7().hQ(),i=t.E0t(),e=(this.fSt=i.KN(),this.Hct=i.oft()+1,t.Sdt(this.fSt));e&&(this.mSt=e,this.Ggt=e.Wgt(),this.ySt=e.Ugt().map(t=>t.Ait()),e.Ymt())&&(this.gSt=e.Ygt());for(const r of s){const n=r.s6();n.Sct()&&!this.fSt.ymt(r)||(this.Tpt.push(r),this.dSt.set(r,oa.er(oa.wSt,n)))}const h=t.$N();this.tft=0<h.size?h:null}SSt(t){this.lf="timer",this.o4(),this.q_=this.jct.N7().MA()+t}TSt(t){this.lf="signal",this.o4(),this.lSt=t.toLowerCase()}Twt(t,s){this.lf="instance-signals",this.o4(),this.lSt=s.toLowerCase(),this.pSt=new Set(t)}bSt(t){this.lf="promise",this.o4(),t.then(()=>this.H1t()).catch(t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.H1t()})}xSt(){return"timer"===this.lf}V1t(){return"signal"===this.lf}tdt(){return"instance-signals"===this.lf}gdt(){return"promise"===this.lf}Y1t(){return this.lSt}vSt(){return this.cSt}H1t(){this.cSt=!0}sdt(t){this.pSt.delete(t),0===this.pSt.size&&this.H1t()}O1t(){return this.xSt()?this.q_<=this.jct.N7().MA():this.vSt()}CSt(t){t.ift(this.fSt,this.Hct);for(const[i,e]of this.dSt.entries()){const h=i.s6();e.ift(h)}this.tft&&t.Sft([...this.tft]);const s=this.mSt;s&&(s.hgt(this.Ggt),s.Ugt().map((t,s)=>t.met(this.ySt[s])),s.Ymt())&&s.Hgt(this.gSt)}R1t(t){this.CSt(t),this.fSt.Hmt(t),this.mSt&&this.mSt.Ymt()&&this.mSt.pgt(this.gSt),this.jct.G1t(this.Tpt),this.MSt=!0}async j1t(t){this.CSt(t);for(const s of this.fSt.qmt(t))await this.jct.N7().u1t(s);this.mSt&&this.mSt.Ymt()&&this.mSt.pgt(this.gSt),this.jct.G1t(this.Tpt),this.MSt=!0}P1t(){return this.MSt}mct(t){for(const s of this.dSt.values())s.mct(t);if("instance-signals"===this.lf){for(const i of t)this.pSt.delete(i);0===this.pSt.size&&this.H1t()}}_V(){const t={},s={wt:this.lf,t:this.q_,st:this.lSt,s:this.cSt,ev:this.fSt.dQ(),sm:this.Tpt.map(t=>t.dQ()),dsm:this.tft?[...this.tft].map(t=>t.dQ()):null,sols:t};this.fSt.Rmt(this.Hct)&&(s.act=this.fSt.A0t(this.Hct).dQ());for(const[i,e]of this.dSt)t[i.dQ().toString()]=e._V();return"instance-signals"===this.lf&&(s.pi=[...this.pSt].map(t=>t.l8())),s}static ydt(t,s){const i=t.N7(),e=t.B0t(s.ev);if(!e)return null;let h=0;if(s.hasOwnProperty("act")){const n=t.W0t(s.act);if(!n)return null;h=n.yN()}const r=oa.er(oa.N1t,t);r.q_=s.t,s.hasOwnProperty("wt")?r.lf=s.wt:r.lf=-1===r.q_?"signal":"timer",r.lSt=s.st,r.cSt=s.s,r.fSt=e,r.Hct=h;for(const o of s.sm){const a=i.fH(o);a&&r.Tpt.push(a)}if(Array.isArray(s.dsm))for(const u of s.dsm){const l=i.fH(u);l&&(r.tft||(r.tft=new Set),r.tft.add(l))}for(const[c,f]of Object.entries(s.sols)){const d=parseInt(c,10),p=i.fH(d);if(p){const m=oa.er(oa.wSt,null);m.DV(t,f),r.dSt.set(p,m)}}if("instance-signals"===r.lf){r.pSt=new Set;for(const g of s.pi){const y=i.r7(g);y&&r.pSt.add(y)}}return r}}}{const aa=self.js;aa.wSt=class extends aa.tr{constructor(t){super(),this.oct=null,this.GSt=!0,this.iU=[],t&&(this.oct=t.ZO(),this.GSt=t.Sct(),aa.Fn(this.iU,t.Ect()))}hr(){this.oct=null,aa.On(this.iU)}ift(t){t.Ict(this.GSt),aa.Fn(t.Ect(),this.iU)}mct(t){aa.Wn(this.iU,t)}_V(){return{sa:this.GSt,insts:this.iU.map(t=>t.l8())}}DV(t,s){const i=t.N7();this.GSt=!!s.sa,aa.On(this.iU);for(const e of s.insts){const h=i.r7(e);h&&this.iU.push(h)}}}}{let u=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};u;const ua=self.js;ua.ISt=class extends ua.tr{constructor(t){super(),this.$c=t.runtime,this.ESt=!!t.yL,this._St=!!t.DSt,this.NSt=!!t.xL,this.ASt=!!t.LSt,this.OSt=!!t.CL,this.RSt=!!t.PSt,this.kSt=!!t.NL,this.FSt=!!t.TL,this.jSt=!!t.IL,this.zSt=t.BSt,this.USt=null,this.WSt=new Map,this.QSt=new Map,this.JSt=new Map,this.VSt=new Map,this.YSt=t.HSt,this.qSt=null}hr(){this.$c=null}N7(){return this.$c}ZSt(){}$1t(){return(2<=this.Zyt()?this.qSt:this).constructor}Zyt(){return this.zSt}XSt(t=!1){let s=this.YSt;return s=t&&"function"!=typeof s&&2<=this.Zyt()?globalThis.mk:s}ML(){return this.ESt}SL(){return this._St}bL(){return this.FSt}EL(){return this.jSt}vL(){return this.NSt}Pw(){return this.ASt}GL(){return this.OSt}DL(){return this.RSt}AL(){return this.kSt}w2t(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.WSt.get(t);return i||(i=t.bind(s),this.WSt.set(t,i)),i}Vyt(t,s,i){if(!s)throw new Error("missing 'this' binding");let e=u(this.QSt,t),h=e.get(i);return h||(h=t.bind(s,i),e.set(i,h)),h}Yyt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");let h=u(this.JSt,t),r=u(h,i),n=r.get(e);return n||(n=t.bind(s,i,e),r.set(e,n)),n}Hyt(t,s,i,e,h){if(!s)throw new Error("missing 'this' binding");let r=u(this.VSt,t),n=u(r,i),o=u(n,e),a=o.get(h);return a||(a=t.bind(s,i,e,h),o.set(h,a)),a}KSt(t){if(!this.ML())throw new Error("must be single-global plugin");this.USt=t}FL(){if(this.ML())return this.USt;throw new Error("must be single-global plugin")}zL(){if(this.ML())return this.USt.zL();throw new Error("must be single-global plugin")}$St(){const t=this.Zyt(),s=(ua.mL.t5t(this,t),this.XSt(!0));if(s){if(this.qSt=new s,!(this.qSt instanceof self.dL))throw new TypeError("plugin class must derive from IPlugin")}else this.qSt=new self.dL;ua.mL.s5t(t)}RL(){return this.qSt}}}{const la=self.js;la.i5t=class extends la.ISt{constructor(t,s){super(t),this.e5t=s,this.h5t=0,this.r5t=new Map,this.n5t("elem-focused",t=>t.o5t()),this.n5t("elem-blurred",t=>{t&&t.a5t()})}hr(){super.hr()}u5t(t){const s=this.h5t++;return this.r5t.set(s,t),s}l5t(t){this.r5t.delete(t)}n5t(t,i){this.$c.F8(this.e5t,t,t=>{const s=this.r5t.get(t.elementId);i(s,t)})}}}{const ca=self.js;ca.c5t=class extends ca.tr{constructor(t){super(),this.oct=t,this.$c=t.N7(),this.f5t=t.WL()}hr(){this.oct=null,this.$c=null,this.f5t=null}ZO(){return this.oct}N7(){return this.$c}WL(){return this.f5t}y9(){return this.oct.y9()}ZSt(){}aMt(t){}YMt(t){}HMt(t){}BY(t){}YY(){}QY(){}pH(t){}d5t(){}XSt(){return null}p5t(t,s,i){const e=ca.er(ca.Event,t,s);e.m5t=this,i&&Object.assign(e,i),this.ZO().ZH(e)}}}{const fa=self.js;fa.g5t=class extends fa.tr{constructor(t,s){super(),this.Gi=t,this.e5t=s,this.y5t=null,this.$c=t.N7(),this.oct=this.Gi.ZO(),this.M5t=this.oct.VMt(),this.Pq=null,this.Fq=null,this.J8=!1,this.H8=!1,this.d0=null,this.Mv=!1}hr(){this.Mv=!0,this.w5t(),this.S5t(),this.Pq=null,this.Fq=null,this.d0&&(this.d0.hr(),this.d0=null),this.Gi=null,this.$c=null,this.oct=null,this.M5t=null}rr(){return this.Mv}ak(){return this.Gi}N7(){return this.$c}ZO(){return this.oct}WL(){return this.M5t.WL()}VMt(){return this.M5t}T5t(){return this.Gi.n7()}L8(t){return this.$c.L8(t,this.Gi,null)}b5t(t){return this.$c.b5t(t,this.Gi,null)}P8(t){return this.$c.P8(t,this.Gi,null)}x5t(t,s){return this.$c.x5t(t,this.Gi,s)}v5t(t,s){return this.$c.v5t(t,this.Gi,s)}C5t(t){return this.$c.C5t(t)}G5t(t,s){this.$c.F8(this.e5t,t,s)}I5t(t){for(const[s,i]of t)this.G5t(s,i)}E5t(t,s){this.$c.ef(this.e5t,t,s)}_5t(t,s){return this.$c.w7(this.e5t,t,s)}D5t(t,s){if(!this.$c.AN())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.e5t,handler:t,data:s,responseId:null});this.E5t(t,s)}N5t(t){if(!t)throw new Error("cannot set empty component id");this.y5t=t}A5t(){if(this.y5t)return this.$c.tR(this.y5t);throw new Error("wrapper extension component id not set")}iR(t,s){if(!this.y5t)throw new Error("wrapper extension component id not set");this.$c.iR(this.y5t,t,s)}L5t(t){for(const[s,i]of t)this.iR(s,i)}jF(t,s){if(!this.y5t)throw new Error("wrapper extension component id not set");this.$c.jF(this.y5t,t,s)}zF(t,s){if(this.y5t)return this.$c.zF(this.y5t,t,s);throw new Error("wrapper extension component id not set")}JZ(){}O5t(){}R5t(){this.J8||(this.Pq||(this.Pq=()=>this.JZ()),this.$c.Rf().addEventListener("tick",this.Pq),this.J8=!0)}w5t(){this.J8&&(this.$c.Rf().removeEventListener("tick",this.Pq),this.J8=!1)}P5t(){return this.J8}k5t(){this.H8||(this.Fq||(this.Fq=()=>this.O5t()),this.$c.Rf().addEventListener("tick2",this.Fq),this.H8=!0)}S5t(){this.H8&&(this.$c.Rf().removeEventListener("tick2",this.Fq),this.H8=!1)}F5t(){return this.H8}j5t(){return[]}b4(){return null}x4(t){}Uht(t){}Hht(t,s){}Urt(t,s,i){if(0!==s){const e=this.Uht(t);if("number"!=typeof e)throw new Error("expected number");this.Hht(t,e+s,i)}}z5t(t,s,i,e){}B5t(t,...s){t.call(this,...s)}U5t(t,...s){return t.call(this,...s)}XSt(){return null}p5t(t,s,i){if(this.Gi.W5t()){const e=this.T5t(),h=fa.er(fa.Event,t,s);h.QP=e,i&&Object.assign(h,i),e.dispatchEvent(h)}}Pw(){return!1}}}{const da=self.js;da.Q5t=class extends da.g5t{constructor(t,s){super(t,s),this.ztt=t.l7(),this.J5t=null,this.V5t=null}hr(){if(this.J5t){const t=this.$c.Rf();t.removeEventListener("renderercontextlost",this.J5t),t.removeEventListener("renderercontextrestored",this.V5t),this.J5t=null,this.V5t=null}this.ztt=null,super.hr()}Y5t(){this.H5t()}q5t(){}Z5t(){}H5t(){if(!this.J5t){this.J5t=()=>this.HB(),this.V5t=()=>this.X5t();const t=this.$c.Rf();t.addEventListener("renderercontextlost",this.J5t),t.addEventListener("renderercontextrestored",this.V5t)}}HB(){this.q5t()}X5t(){this.Z5t()}l7(){return this.ztt}Dst(){return!1}_st(){if(!this.Dst())throw new Error("original size not known");const t=this.K5t();if(t)return t.$p()}Ast(){if(!this.Dst())throw new Error("original size not known");const t=this.K5t();if(t)return t.dm()}K5t(){return null}$5t(){const t=this.K5t();if(t){const s=t.x5();if(s)return[s.$p(),s.dm()]}return[100,100]}t3t(){const t=this.K5t();return t?t.vC():null}s3t(){const t=this.K5t();return t?t.i3t():null}e3t(){const t=this.K5t();return!!t&&t.h3t()}ZMt(t){const s=this.Gi.l7();return[s.a4(),s.c4(),s.gR()]}d5t(t,s,i){}r3t(t,s){}oV(){return!0}}}{const pa=self.js,ma=pa.er(pa.Rect);pa.n3t=class extends pa.Q5t{constructor(t,s){super(t,s),this.o3t=this.WL().u5t(this),this.a3t=!0,this.u3t=!1,this.l3t=!1,this.c3t=-.2,this.f3t=pa.er(pa.Rect,0,0,-1,-1);const i=this.$c.Yk();this.d3t=i.qk(),this.p3t=i.Xk(),this.m3t=-1,this.g3t=-1,this.y3t=!1,this.R5t()}hr(){this.WL().l5t(this.o3t),this.M3t("destroy"),this.o3t=-1,super.hr()}AP(){if(this.$c.AN())throw new Error("not valid in worker mode");return this.w3t("get-element")}M3t(t,s){(s=s||{}).elementId=this.o3t,this.E5t(t,s)}w3t(t,s){return(s=s||{}).elementId=this.o3t,this.D5t(t,s)}S3t(t,s){return(s=s||{}).elementId=this.o3t,this._5t(t,s)}T3t(t){t=t||{};const s=this.l7();t.elementId=this.o3t,t.isVisible=s.nO(),t.htmlIndex=s.c7().nF(),t.htmlZIndex=s.oF(),Object.assign(t,this.b3t()),this.a3t=!!t.isVisible,this.D5t("create",t),this.x3t(!0)}v3t(t){this.a3t!==(t=!!t)&&(this.a3t=t,this.M3t("set-visible",{isVisible:t}))}JZ(){this.x3t(!1)}C3t(){const t=this.$c.Yk().fF();return"Android"===pa.ci.fi&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}x3t(l){if(!this.ak().dF()){let t=this.l7(),s=t.c7(),i=t.MR(),[e,h]=s.BO(i.gu(),i.yu()),[r,n]=s.BO(i.Mu(),i.wu()),o=this.$c.Yk(),a=o.pF(),u=o.mF();if(t.nO()&&s.nO())if(!this.C3t()&&(r<=0||n<=0||a<=e||u<=h))this.v3t(!1);else{ma.set(e,h,r,n);const c=o.qk(),f=o.Xk(),d=s.nF(),p=t.oF();if(!l&&ma.equals(this.f3t)&&this.d3t===c&&this.p3t===f&&this.m3t===d&&this.g3t===p)this.v3t(!0);else{this.f3t.C(ma),this.d3t=c,this.p3t=f,this.m3t=d,this.g3t=p,this.v3t(!0);let t=null;this.l3t&&(t=s.gF()+this.c3t),this.M3t("update-position",{left:Math.round(this.f3t.gu()),top:Math.round(this.f3t.yu()),width:Math.round(this.f3t.width()),height:Math.round(this.f3t.height()),htmlIndex:d,htmlZIndex:p,fontSize:t})}}else this.v3t(!1)}}OP(){this.w3t("focus",{focus:!0})}RP(){this.w3t("focus",{focus:!1})}o5t(){this.u3t=!0}a5t(){this.u3t=!1}fwt(){return this.u3t}kP(t,s){this.M3t("set-css-style",{prop:pa.Ro(t),val:s})}lwt(t,s){this.M3t("set-attribute",{name:t,val:s})}cwt(t){this.M3t("remove-attribute",{name:t})}G3t(){this.y3t||(this.y3t=!0,Promise.resolve().then(()=>{this.y3t=!1,this.M3t("update-state",this.b3t())}))}b3t(){}I3t(){return this.o3t}}}{const ga=self.js,ya=self.YP;ga.E3t=class extends ga.tr{constructor(t){super(),this.$c=t.runtime,this._3t=ga.er(ga.$l),this.D3t=ga.er(ga.$l),this.zSt=t.BSt,this.YSt=t.HSt,this.N3t=null}hr(){this.D3t.hr(),this._3t.hr(),this.$c=null}N7(){return this.$c}ZSt(){}Zyt(){return this.zSt}XSt(t=!1){let s=this.YSt;return s=t&&"function"!=typeof s&&2<=this.Zyt()?globalThis.CF:s}A3t(t){this._3t.ec(t)}MZ(){return this._3t.hc()}VW(t){this.D3t.ec(t)}qW(t){this.D3t.ql(t)}t6(){return this.D3t.hc()}$St(){const t=this.Zyt(),s=(ga.mL.t5t(this,t),this.XSt(!0));if(s){if(this.N3t=new s,!(this.N3t instanceof ya))throw new TypeError("behavior class must derive from IBehavior")}else this.N3t=new ya;ga.mL.s5t(t)}jP(){return this.N3t}}}{const Ma=self.js;Ma.L3t=class extends Ma.tr{constructor(t){super(),this.$c=t.N7(),this.O2t=t,this.oct=t.ZO(),this.O3t=t.zP(),this.O3t.A3t(this.oct)}hr(){this.$c=null,this.O2t=null,this.oct=null,this.O3t=null}ZSt(){}WP(){return this.O2t}ZO(){return this.oct}N7(){return this.$c}zP(){return this.O3t}}}{const wa=self.js;wa.R3t=class extends wa.tr{constructor(t,s){super(),this.P3t=t,this.e5t=s,this.Gi=t.JP(),this.$c=t.N7(),this.O2t=t.WP(),this.M5t=this.O2t.VMt(),this.J8=!1,this.H8=!1,this.kF=!1,this.d0=null}hr(){this.w5t(),this.S5t(),this.k3t(),this.d0&&(this.d0.hr(),this.d0=null),this.P3t=null,this.Gi=null,this.$c=null,this.O2t=null,this.M5t=null}zP(){return this.O2t.zP()}F3t(){return this.P3t}JP(){return this.Gi}ZO(){return this.Gi.ZO()}l7(){return this.Gi.l7()}N7(){return this.$c}WP(){return this.O2t}VMt(){return this.M5t}T5t(){return this.P3t.T5t()}L8(t){return this.$c.L8(t,this.Gi,this.O2t)}b5t(t){return this.$c.b5t(t,this.Gi,this.O2t)}P8(t){return this.$c.P8(t,this.Gi,this.O2t)}j3t(){}JZ(){}O5t(){}z3t(){}R5t(){this.J8||(this.$c.NF(this),this.J8=!0)}w5t(){this.J8&&(this.$c.AF(this),this.J8=!1)}P5t(){return this.J8}k5t(){this.H8||(this.$c.LF(this),this.H8=!0)}S5t(){this.H8&&(this.$c.OF(this),this.H8=!1)}F5t(){return this.H8}B3t(){this.kF||(this.$c.RF(this),this.kF=!0)}k3t(){this.kF&&(this.$c.PF(this),this.kF=!1)}U3t(){return this.kF}j5t(){return[]}G5t(t,s){this.$c.F8(this.e5t,t,s)}W3t(t,s){}b4(){return null}x4(t){}Uht(t){}Hht(t,s){}Urt(t,s){if(0!==s){const i=this.Uht(t);if("number"!=typeof i)throw new Error("expected number");this.Hht(t,i+s)}}z5t(t,s,i,e){}B5t(t,...s){t.call(this,...s)}U5t(t,...s){return t.call(this,...s)}XSt(){return null}p5t(t,s,i){if(this.P3t.W5t()){const e=this.T5t(),h=wa.er(wa.Event,t,s);h.Q3t=e,h.QP=e.QP,i&&Object.assign(h,i),e.dispatchEvent(h)}}}}{let s=function(t){if(t!==i)throw new Error("invalid internal API token")},r=(s,self.js),i=(r.SH={},r.Zot={},r.zs()),e=[],h=[],n=[],o=null,a=null,t=null,u=null,l=new Map,c=new Map;r.mL=class extends r.tr{constructor(t,s){super(),this.$c=t,this.J3t=[],this.p2t=null,this.V3t=[],this.Y3t=new Map,this.H3t=null,this.q3t=null,this.Z3t=new Set(s)}X3t(t){const s=t[19],i=this.$c.Mgt(t[0]);if(!i)throw new Error("missing plugin");r.xwt(t,i);const e=2<=s?r.ISt:i,h=r.er(e,{runtime:this.$c,yL:t[1],DSt:t[2],xL:t[5],CL:t[8],LSt:t[9],PSt:t[13],NL:t[14],TL:t[17],IL:t[18],BSt:s,HSt:2<=s?i:null});h.ZSt(),this.J3t.push(h),l.set(i,h)}K3t(){this.p2t=r.er(r.SH.wH,{runtime:this.$c,yL:!0}),this.p2t.ZSt()}$3t(t){const i=t[1],e=this.$c.Mgt(t[0]);if(!e)throw new Error("missing behavior");this.Y3t.set(e,()=>{const t=2<=i?r.E3t:e,s=r.er(t,{runtime:this.$c,BSt:i,HSt:2<=i?e:null});s.ZSt(),this.V3t.push(s),c.set(e,s),!this.H3t&&r.Zot.tTt&&s instanceof r.Zot.tTt?this.H3t=s:!this.q3t&&r.Zot.jumpthru&&s instanceof r.Zot.jumpthru&&(this.q3t=s),s.$St()})}sTt(t){const s=this.Y3t.get(t);s&&(s(),this.Y3t.delete(t))}static t5t(t,s=1){if(r.mL.t5t!==o)throw new Error("invalid method");1===s&&e.push(t),h.push(t)}static s5t(t=1){if(r.mL.s5t!==a)throw new Error("invalid method");1===t&&e.pop(),h.pop()}static t8(){if(r.mL.t8!==t)throw new Error("invalid method");if(0===e.length)throw new Error("no init object set");return e.at(-1)}static pL(t){if(r.mL.pL!==u)throw new Error("invalid method");if(s(t),0===h.length)throw new Error("no init object set");return h.at(-1)}static iTt(t){n.push(t)}static eTt(){n.pop()}static N8(){if(0===n.length)throw new Error("no init properties set");return n.at(-1)}hTt(){for(const t of this.J3t)t.$St()}static OL(t){return l.get(t)||null}static HP(t){return c.get(t)||null}m2t(){return this.p2t}rTt(){return this.H3t}nTt(){return this.q3t}tR(t){return this.Z3t.has(t)}},o=r.mL.t5t,a=r.mL.s5t,t=r.mL.t8,u=r.mL.pL}{const Sa=self.js,Ta=new Set;Sa.oTt=class extends Sa.tr{constructor(){super(),this.aTt=0,this.PB="",this.kB=0,this.uTt=0,this.lTt=0,this.Bm=0,this.Um=0,this.cTt=!1,this.fTt=!1,this.dTt=null,this.pTt="",this.cv=Sa.er(Sa.Rect),this.mTt=Sa.er(Sa.Vu),this.gTt="",this.yTt=new self._7(this),Ta.add(this)}hr(){this.mv(),this.dTt&&0===this.dTt.XB()&&this.dTt.hr(),this.dTt=null,Ta.delete(this),this.MTt()}static HB(){for(const t of Ta)t.pTt="",t.cv.set(0,0,0,0),t.mTt.dl(t.cv)}wTt(t){this.PB=t[0],this.kB=t[1],this.uTt=t[2],this.lTt=t[3],this.Bm=t[4],this.Um=t[5],this.cTt=t[6],this.fTt=!0}STt(t,s){if(this.dTt)throw new Error("already loaded asset");this.PB=s;const i={};return Sa.fo(s)&&(i.cB="remote"),this.D7(t,i),this.dTt.pB()}TTt(t,s){if(this.dTt)throw new Error("already loaded asset");this.PB="",this.kB=s.size,this.dTt=Sa.er(Sa.fB,t.TN(),{blob:s,size:this.kB,cB:"local"})}bTt(t){if(t===this)throw new Error("cannot replace with self");this.aTt++,this.mv(),this.PB=t.PB,this.kB=t.kB,this.uTt=t.uTt,this.lTt=t.lTt,this.Bm=t.Bm,this.Um=t.Um,this.cTt=t.cTt,this.fTt=t.fTt,this.dTt=t.dTt,this.pTt=t.pTt,this.cv=t.cv,this.mTt=t.mTt,this.MTt()}dB(){return this.PB}Xl(){return this.kB}xTt(){return this.uTt}vTt(){return this.lTt}h3t(){return this.cTt}$p(){return this.Bm}dm(){return this.Um}CTt(){return this.dTt.$p()}GTt(){return this.dTt.dm()}D7(t,s){if(this.dTt)throw new Error("already got asset");s=Object.assign({},s,{url:this.dB(),size:this.Xl()}),this.dTt=t.lB(s)}UB(){return this.dTt&&this.dTt.UB()}async Wj(t,s){if(!this.dTt)throw new Error("no asset");if(this.pTt)throw new Error("already loaded texture");const i=this.aTt,e=(this.pTt="loading",await this.dTt.Wj(t,s));if(this.aTt!==i)return null;if(!e)return this.pTt="",null;this.pTt="loaded",this.fTt||(this.Bm=e.$p(),this.Um=e.dm(),this.fTt=!0);const h=this.cTt?this.Um:this.Bm,r=this.cTt?this.Bm:this.Um;return this.cv.set(this.uTt,this.lTt,this.uTt+h,this.lTt+r),this.cv.Ct(e.$p(),e.dm()),this.mTt.dl(this.cv),this.cTt&&this.mTt.wl(),e}mv(){this.pTt&&(this.dTt&&this.dTt.mv(),this.pTt="",this.cv.set(0,0,0,0),this.mTt.dl(this.cv))}x5(){return this.dTt&&"loaded"===this.pTt?this.dTt.x5():null}vC(){return this.cv}i3t(){return this.mTt}Ek(){return this.yTt}ITt(){return this.dTt}async ETt(t){t=t||await this.dTt.KB();const s=Sa.Go(this.Bm,this.Um),i=s.getContext("2d");return this.cTt?(i.rotate(Math.PI/-2),i.translate(-this.Um,0),i.drawImage(t,this.uTt,this.lTt,this.Um,this.Bm,0,0,this.Um,this.Bm)):i.drawImage(t,this.uTt,this.lTt,this.Bm,this.Um,0,0,this.Bm,this.Um),s}async _Tt(t){if(!this.gTt){const s=await this.ETt(t),i=await Sa.Io(s);this.gTt=URL.createObjectURL(i)}return this.gTt}MTt(){this.gTt&&(URL.revokeObjectURL(this.gTt),this.gTt="")}}}{const ba=self.js;ba.DTt=class extends ba.tr{constructor(t){super(),this.ur=t[0],this.NTt=t[1],this.Cyt=!!t[2],this.Mnt=t[3],this.ATt=t[4],this.LTt=!!t[5],this.OU=t[6],this.OTt=t[7].map(t=>ba.er(ba.RTt,t)),this.PTt=new self.t9(this)}static kTt(t,s){const i=ba.er(ba.DTt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.OTt.push(ba.RTt.kTt(t)),i}hr(){for(const t of this.OTt)t.hr();ba.On(this.OTt)}FTt(t){for(const s of this.OTt)s.y9().D7(t)}jTt(s,i){return Promise.all(this.OTt.map(t=>t.y9().Wj(s,i)))}zTt(){for(const t of this.OTt)t.y9().mv()}Jc(){return this.ur}dQ(){return this.OU}u9(){return this.OTt.length}c9(){return this.OTt}BTt(t){if((t=Math.floor(t))<0||t>=this.OTt.length)throw new RangeError("invalid frame");return this.OTt[t]}UTt(t,s){(s=Math.floor(s))<0?this.OTt.unshift(t):s>=this.OTt.length?this.OTt.push(t):this.OTt.splice(s,0,t)}WTt(t){if((t=Math.floor(t))<0||t>=this.OTt.length)throw new RangeError("invalid frame");this.OTt[t].hr(),this.OTt.splice(t,1)}QTt(i){for(let t=0,s=this.OTt.length;t<s;++t)if(ba.mh(this.OTt[t].P9(),i))return t;return-1}JTt(t){if("string"!=typeof t)return t;{const s=this.QTt(t);if(-1===s)throw new Error("cannot find animation frame with tag "+t);return s}}s9(){return this.NTt}e9(){return this.Cyt}h9(){return this.Mnt}n9(){return this.ATt}a9(){return this.LTt}VTt(){return this.PTt}}}{const xa=self.js,va=(()=>{const i=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),e=new Uint8Array(i.length);for(let t=0,s=i.length;t<s;++t)e[t]=i.charCodeAt(t);return new Blob([e],{type:"image/png"})})();xa.RTt=class extends xa.tr{constructor(t){super(),this.YTt=xa.er(xa.oTt),this.YTt.wTt(t),this.HTt=t[7],this.qTt=xa.er(xa.Va,t[8],t[9]),this.ZTt=t[10].map(t=>xa.er(xa.XTt,this,t)),this.KTt=new Map;for(const i of this.ZTt)this.KTt.set(i.Jc().toLowerCase(),i);this.$Tt=null;const s=t[11];6<=s.length&&(this.$Tt=xa.er(xa.Gl,s)),this.Ug=t[12]||"",this.tbt=new self.g9(this)}static kTt(t){const s=xa.er(xa.RTt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.YTt.TTt(t,va),s}hr(){this.$Tt&&(this.$Tt.hr(),this.$Tt=null),this.YTt.hr(),this.YTt=null}y9(){return this.YTt}M9(){return this.HTt}S9(){return this.qTt.Xa()}b9(){return this.qTt.$a()}A9(){return this.$Tt}D9(t){return this.KTt.get(t.toLowerCase())||null}_9(t){return(t=Math.floor(t))<0||t>=this.ZTt.length?null:this.ZTt[t]}C9(){return this.ZTt.length}P9(){return this.Ug}f9(){return this.tbt}}}{const Ca=self.js;Ca.XTt=class extends Ca.tr{constructor(t,s){super(),this.sbt=t,this.ur=s[0],this.ibt=Ca.er(Ca.Va,s[1],s[2])}hr(){}Jc(){return this.ur}a4(){return this.ibt.Xa()}c4(){return this.ibt.$a()}ebt(){return this.ibt}}}{const v=self.js,Ga=self.C3Debugger,Ia=self.BL;v.jat=class extends v.tr{constructor(s,t,i){super();const e=s.Mgt(i[1]),[h,r]=(this.$c=s,this.f5t=v.mL.OL(e),this.M5t=null,this.hbt=e.Instance,this.Bg=t,this.OU=i[11],this.ur=i[0],this.s2t=this.$c.F0t(i[14]),this.rbt=!!i[9],this.nbt=!!i[2],this.obt=!!i[10],this.abt=i[3].map(t=>({sid:t[0],type:t[1],name:t[2],ubt:s.F0t(t[3])})),this.lbt=i[4],this.cbt=i[5],this._St=this.f5t.SL(),this.fbt=v.er(v.Event.Rf),this.mW=null,s.vN().oL());if(this.dbt=v.er(v.pbt,h,r),this.mbt=!0,this.gbt=null,this.ybt=null,this.Mbt=-1,this.wbt=null,this.Sbt=null,this.Tbt=null,this.bbt=null,this.xbt=null,this.vbt=!1,this.Cbt=null,this.Gbt=i[8].map(t=>v.Ibt.W5(this,t)),this.Ebt=[],this._bt=new Map,this.Dbt=new Map,this.Nbt=new Set,this.Abt=new Map,this.Lbt=v.er(v.nct,this),this.Obt=null,this.Rbt=0,this.Pbt=!1,this.Cbt=null,this.YTt=null,this.kbt=null,this.Fbt=null,this.jbt=null,this.zbt=0,this.Dyt=new Map,this.Nyt=new Map,this.iU=[],this.Bbt=new Map,this.Ubt=!0,this.f5t.GL()&&(this.mW=v.er(v.gW,this,i[12])),i[6]&&(this.YTt=v.er(v.oTt),this.YTt.wTt(i[6])),i[7]){this.kbt=i[7].map(t=>v.er(v.DTt,t)),this.Fbt=new Map,this.jbt=new Map;for(const a of this.kbt)this.Fbt.set(a.Jc().toLowerCase(),a),this.jbt.set(a.dQ(),a)}this.nbt?(this.gbt=[],this.ybt=new Set,this.Mbt=this.$c.Wbt()):(this.wbt=[],this.Sbt=new Set,this.Tbt=[],this.bbt=[],this.xbt=[]);const n=this.f5t.Zyt();if(n<2&&(this.M5t=v.er(e.Qbt,this,i[15]),!(this.M5t instanceof v.c5t)))throw new Error("v1 sdk type must derive from SDKTypeBase");this.Jbt=null,this.Vbt=null,this.dY=v.er(v.Event.Rf),v.mL.t5t(this,n);let o;if(o=2<=n?(o=e.Qbt)||globalThis.Ck:this.M5t.XSt()){if(this.Jbt=new o(n<2?this:null),n<2&&!(this.Jbt instanceof Ia))throw new TypeError("script interface class must derive from IObjectClass");if(2<=n&&!(this.Jbt instanceof globalThis.Ck))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.Jbt=new Ia;if(v.mL.s5t(n),i[13]){const u=i[13];if(u){const l=u[0],c=u[1],f=u[2];this.M5t.d5t(l,c,f)}}this.$c.Ybt()&&!this.nbt&&!this.obt&&this._St||this.ZSt(),this.f5t.ML()&&(this.f5t.KSt(this),this.Hbt(i)),this.qbt=null}static W5(t,s,i){return v.er(v.jat,t,s,i)}hr(){if(this.fbt.hr(),this.fbt=null,this.YTt&&(this.YTt.hr(),this.YTt=null),this.kbt){for(const t of this.kbt)t.hr();v.On(this.kbt),this.Fbt.clear(),this.jbt.clear()}this.qbt=null,this.Lbt.hr(),this.Lbt=null,this.Dyt.clear(),this.Nyt.clear(),this.Cbt=null,this.$c=null}Zbt(i){for(let t=1,s=i.length;t<s;++t){const e=this.$c.RW(i[t]);this.gbt.push(e),this.ybt.add(e),e.wbt.push(this),e.Sbt.add(this)}}Xbt(t){this.vbt=!0,this.Cbt=t}a8(){return this.vbt}FY(){return this.Cbt}Kbt(){let t=0;if(!this.nbt)for(const s of this.wbt)for(const i of s.$bt()){const e=i.Jc().toLowerCase();this._bt.set(e,i),this.Dbt.set(e,t),this.Ebt.push(i),++t}for(const h of this.$bt()){const r=h.Jc().toLowerCase();this._bt.set(r,h),this.Dbt.set(r,t),this.Ebt.push(h),++t}for(const n of this.Ebt)this.Nbt.add(n.zP().constructor);if(!this.nbt&&this.wbt.length){let t=this.$c.txt(),s=(v.Pn(this.Tbt,t,0),v.Pn(this.bbt,t,0),v.Pn(this.xbt,t,0),[]),i=0,e=0,h=0;for(const o of this.wbt){const a=o.A2t(),u=(this.Tbt[a]=i,i+=o.sxt(),this.bbt[a]=e,e+=o.ixt(),this.xbt[a]=h,h+=o.hxt(),o.d6());if(u&&this.mW)for(const l of u.p6())s.push(l.rxt(this.mW))}this.mW&&this.mW.nxt(s)}}Hbt(t){const s=this.$c.oxt(),i=v.er(v.Instance,{runtime:this.$c,qO:this,uid:s});i.axt(t[16],[]),this.$c.uxt(s,i),this.iU.push(i)}VMt(){return this.M5t}lxt(){return this.obt}Rf(){return this.fbt}ZSt(){this.nbt||(this.M5t?this.M5t.ZSt():this.Jbt.Gk())}cxt(){return 0<this.zbt}async BY(t){this.nbt||(this.zbt++,1===this.zbt&&(this.M5t?await this.M5t.BY(t):await this.Jbt._k(this.$c.Yk().fxt())))}YY(){if(!this.nbt){if(this.zbt--,this.zbt<0)throw new Error("released textures too many times");0===this.zbt&&(this.M5t?this.M5t.YY():this.Jbt.Dk(this.$c.Yk().fxt()))}}QY(){if(this.nbt)throw new Error("not applicable to family");this.M5t?this.M5t.QY():this.Jbt.Nk()}async pH(t){this.nbt||(this.M5t?await this.M5t.pH(t):await this.Jbt.Ak(this.$c.Yk().fxt()))}N7(){return this.$c}WL(){return this.f5t}dxt(){return this.hbt}Jc(){return this.ur}F0t(){return this.s2t}yN(){return this.Bg}dQ(){return this.OU}rQ(){return this.nbt}JW(){return this.rbt}SL(){return this._St}A2t(){return this.Mbt}$bt(){return this.Gbt}ixt(){return this.lbt}pxt(t){return t&&this.Nbt.has(t)}sxt(){return this.abt.length}mxt(){return this.abt.map(t=>t.sid)}gxt(s){return this.abt.findIndex(t=>t.sid===s)}dst(s){return this.abt.findIndex(t=>t.name===s)}yxt(){return this.abt.map(t=>t.name)}Mxt(){return this.abt.map(t=>t.ubt)}mst(t){if((t=Math.floor(t))<0||t>=this.abt.length)throw new RangeError("invalid instance variable index");return this.abt[t].type}pst(t){if((t=Math.floor(t))<0||t>=this.abt.length)throw new RangeError("invalid instance variable index");return this.abt[t].name}hxt(){return this.cbt}wxt(){return this.Ebt}Bet(t){return this._bt.get(t.toLowerCase())||null}yst(t){const s=this.Dbt.get(t.toLowerCase());return void 0===s?-1:s}d6(){return this.mW}GL(){return this.f5t.GL()}Sxt(){return this.mW&&this.mW.Txt()}I1t(){return this.Lbt}s6(){return this.Lbt.s6()}y9(){return this.YTt}FW(t){this.Obt=t}kW(){return this.Obt}jW(t){this.Rbt=t}bxt(){return this.Rbt}xxt(){return this.kbt}vxt(){return this.kbt.length}J0t(){return this.wbt}mwt(t){return this.Sbt.has(t)}smt(){return this.gbt}nQ(t){return this.ybt.has(t)}k2t(t){return this.bbt[t]}N2t(t){return this.Tbt[t]}jgt(t){this.Abt.set(t.Qgt().toLowerCase(),t)}zgt(t){return!!this.Zgt(t)}Zgt(t){const s=this.Abt.get(t.toLowerCase());return s&&s.Ql()?s:null}Cxt(){return this.kbt}Gxt(t){if(this.kbt)return this.Fbt.get(t.toLowerCase())||null;throw new Error("no animations")}Ixt(t){if(this.kbt)return this.jbt.get(t)||null;throw new Error("no animations")}Ext(t){if(this.Gxt(t))throw new Error(`animation name '${t}' already exists`);const s=v.DTt.kTt(this.N7(),t);return this.kbt.push(s),this.Fbt.set(s.Jc().toLowerCase(),s),this.jbt.set(s.dQ(),s),s}_xt(t){const s=this.Gxt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.kbt.length)throw new Error("cannot remove last animation");const i=this.kbt.indexOf(s);this.kbt.splice(i,1),this.Fbt.delete(s.Jc().toLowerCase()),this.jbt.delete(s.dQ()),s.hr()}Dxt(){if(this.kbt)return this.kbt[0];throw new Error("no animations")}Nxt(){return this.Dxt().BTt(0)}Axt(){if(this.kbt){const t=this.Nxt().y9();return[t.$p(),t.dm()]}return this.YTt?[this.YTt.$p(),this.YTt.dm()]:[100,100]}zL(){if(this.f5t.ML())return this.iU[0];throw new Error("not a single-global plugin")}t6(){return this.iU}*instances(){yield*this.iU}*$L(){yield*this.iU,yield*this.$c.nwt(this)}e6(){return this.iU.length}VW(t){this.iU.push(t)}Lxt(){this.Ubt=!0}GH(){if(this.Ubt&&!this.nbt){let s=this.iU,i=0;for(let t=s.length;i<t;++i)s[i].Oxt(i);const t=this.$c.Rxt();for(const e of t)e.ZO()===this&&e.Oxt(i++);this.Ubt=!1}}Pxt(t){const s=this.iU;if(t<s.length)return s[t];t-=s.length;const i=this.$c.Rxt();for(const e of i)if(e.ZO()===this){if(0===t)return e;--t}return null}twt(t){if(t&&t.a8()&&t.ZO()!==this)for(const i of t.u8())if(i.ZO()===this)return i;const s=this.s6().t6();return s.length?s[0]:null}KL(t){const s=this.s6().t6();return 0<s.length?s[t.xH()%s.length]:null}*uwt(t,s){let i=this.s6().t6(),e=i.length,h=s.s6(),r=s.s6().t6(),n=r.length,o=t.xH(),a=(!s.rQ()&&h.Sct()||(o=r.indexOf(t)),Math.ceil(e/n)),u=e%n,l=0,c=0;c=0==u||o<u?(l=o*a,a):(l=u*a+(o-u)*(a-1),a-1);for(let t=l,s=l+c;t<s;++t)yield i[t]}aMt(t){this.M5t?.aMt(t)}ugt(){if(this.vbt&&!this.nbt){this.GH();const t=this.s6(),s=t.Ect(),i=t.Sct(),e=this.$c.E0t(),h=e&&e.KN()&&e.KN().kct();for(const r of this.Cbt.vH())if(r!==this){r.GH();const n=r.s6();if(n.Ict(i),!i){const o=n.Ect();v.On(o);for(const a of s)o.push(r.Pxt(a.xH()));if(h){const u=t._ct(),l=n._ct();v.On(l);for(const c of u)l.push(r.Pxt(c.xH()))}}}}}dMt(t,s){for(const i of this.FY().vH()){const e=i.s6();t?v.Ln(e._ct(),s):v.Ln(e.Ect(),s)}}kxt(){return this.dbt}Fxt(t){this.mbt=!!t}jxt(){if(this.mbt&&this._St){for(const t of this.iU)t.l7().zxt();for(const s of this.$c.Rxt())s.ZO()===this&&s.l7().zxt();this.mbt=!1}}Bxt(s,t,i){if(t){const e=this.Bbt.get(t);e&&(e.delete(s),0===e.size)&&this.Bbt.delete(t)}if(i){let t=this.Bbt.get(i);t||(t=new Set,this.Bbt.set(i,t)),t.add(s)}}Uxt(){if(this.rQ()){const t=new Set;for(const s of this.gbt)for(const i of s.Uxt())t.add(i);return t.values()}return this.Bbt.keys()}iMt(){return this.Dyt||(this.Dyt=new Map),this.Dyt}eMt(){return this.Nyt||(this.Nyt=new Map),this.Nyt}Wxt(){return this.pxt(v.Zot.tTt)}Qxt(){return this.pxt(v.Zot.jumpthru)}Jxt(){return this.pxt(v.Zot.NoSave)}WW(){return this.pxt(v.Zot.Persist)}_V(){const t={instances:this.iU.map(t=>t.b4())};return this.Dyt&&this.Dyt.size&&(t.ex=v.Lo(this.Dyt)),t}DV(t,e){this.Dyt&&(this.Dyt.clear(),this.Dyt=null);const s=t.ex,h=(s&&(this.Dyt=v.Oo(s)),this.iU),r=t.instances;for(let t=0,s=Math.min(h.length,r.length);t<s;++t)h[t].x4(r[t]);for(let t=r.length,s=h.length;t<s;++t)this.$c.e8(h[t]);for(let i=h.length,t=r.length;i<t;++i){let t=r[i],s=null;if(!this.SL()||(s=this.$c.BA().EY(t.w.l))){const n=this.$c.QW(this.Obt||this,s,!1,0,0,!0);n.x4(t),e&&e.add(n)}}this.qbt=r,this.Lxt()}Vxt(){return this.qbt}Yxt(){this.qbt=null}Hxt(){for(let t=0,s=this.iU;t<s;++t)this.iU[t].Hxt()}kL(){return this.Jbt}UN(){return this.dY}qxt(){return this.Vbt}h6(t){this.Vbt=t}ZH(t){const s=this.$c,i=s.XH()&&!s.VN().u6();i&&Ga.StartMeasuringScriptTime(),this.dY.dispatchEvent(t),i&&Ga.AddScriptTime()}}}{const Ea=self.js;Ea.Zxt=class extends Ea.tr{constructor(t,s){super(),this.$c=t,this.Xxt=s;for(const i of this.Xxt)i.Xbt(this)}hr(){this.$c=null}N7(){return this.$c}kY(){return this.Xxt}vH(){return this.Xxt}EH(){return this.Xxt.some(t=>t.SL())}}}{let w=self.js,h=self.C3Debugger,n=w.mL,o=[],a=0,S=new WeakMap,e=new WeakMap;w.Instance=class extends w.tr{constructor(t){if(w.mL!==n)throw new Error("invalid addon manager");super(),this.$c=t.runtime,this.Kxt=t.qO,this.ztt=null,this.$xt=null,this.tvt=null,this.svt=0,this.ivt=t.uid,this.evt=a++,this.yMt=0,this.hvt=null;const s=w.qn(t.tags),i=(0<s.length&&(this.hvt=new Set(s)),this.rvt=o,this.nvt=o,this.Kxt.wxt()),e=(0<i.length&&(this.nvt=i.map((t,s)=>w.er(w.ovt,{runtime:this.$c,BP:t,QP:this,index:s}))),this.avt=this.Kxt.a8()?[]:null,this.uvt=-1,this.fbt=null,this.WL());if(e.Pw()&&(this.yMt|=4),e.SL())if(this.ztt=w.er(w.lvt,this,t.uR),t.cvt)this.ztt.fvt(t.cvt);else{this.ztt.dvt();const[h,r]=this.Kxt.Axt();this.ztt.Yv(h,r),this.ZO().Sxt()&&this.ztt.aR().pvt()}t.mvt?this.gvt(t.mvt):this.yvt()}hr(){if(this.tvt&&(this.tvt.s8(),this.tvt=null),0<this.nvt.length){for(const i of this.nvt)i.hr();w.On(this.nvt)}this.$xt&&(this.$xt.hr(),this.$xt=null);const t=S.get(this),s=(t&&(t.clear(),S.delete(this)),e.get(this));s&&(s.clear(),e.delete(this)),this.avt&&w.On(this.avt),this.fbt&&(this.fbt.hr(),this.fbt=null),this.hvt&&this.hvt.clear(),this.hvt=null,this.$c=null,this.Kxt=null,0<this.rvt.length&&w.On(this.rvt),this.ztt&&(this.ztt.hr(),this.ztt=null)}gvt(t){0<t.length&&(this.rvt=[],w.Fn(this.rvt,t))}yvt(){const s=this.Kxt.sxt();if(0!==s){this.rvt=[];const i=[0,0,""];for(let t=0;t<s;++t)this.rvt.push(i[this.Kxt.mst(t)])}}axt(t,i){if(this.$xt)throw new Error("already got sdk instance");for(let t=0,s=this.nvt.length;t<s;++t){const e=this.nvt[t];e.axt(i?i[t]:null)}const s=this.WL().Zyt();if(s<2){if(this.$xt=w.er(this.Kxt.dxt(),this,t),!(this.$xt instanceof w.g5t))throw new Error("sdk type must derive from SDKInstanceBase");!this.WL().SL()&&this.Kxt.qxt()&&this.n7()}else{const h=this.WL().XSt();this.Mvt(h.Instance,t)}}LP(){return this.$xt??this.tvt}l7(){return this.ztt}N7(){return this.$c}bA(){return this.uvt}d8(){const t=this.uvt;return-1===t?this.N7().bA():t}xA(t){((t=+t)<0||!isFinite(t))&&(t=0),this.uvt=t,this.ZO().Sxt()&&this.$c.wvt(this,!0)}m8(){this.uvt=-1,this.ZO().Sxt()&&this.$c.wvt(this,!1)}MV(){return this.$c.Svt(this)}Rf(){return this.fbt||(this.fbt=w.er(w.Event.Rf)),this.fbt}K4(t){this.$xt?this.$xt.K4(t):this.tvt.jk(this.$c.Yk().fxt())}ZSt(t){this.$xt.ZSt(t)}Tvt(){this.yMt|=2}bvt(){return 0!=(2&this.yMt)}xvt(){this.yMt|=1}dF(){return 0!=(1&this.yMt)}Pw(){return 0!=(4&this.yMt)||this.$xt.Pw()}vvt(){this.yMt|=32}uV(){return 0!=(32&this.yMt)}Cvt(){return 0!=(8&this.yMt)}Gvt(t){t?this.yMt|=8:this.yMt&=-9}Ivt(){return 0!=(16&this.yMt)}Evt(t){t?this.yMt|=16:this.yMt&=-17}_vt(){return 0!=(64&this.yMt)}Dvt(t){t?this.yMt|=64:this.yMt&=-65}Nvt(t,s){t<<=16,s?this.yMt|=t:this.yMt&=~t}Avt(t){return 0!=(this.yMt&t<<16)}K5t(){return this.$xt.K5t()}$5t(){return this.$xt.$5t()}t3t(){return this.$xt.t3t()}s3t(){return this.$xt.s3t()}e3t(){return this.$xt.e3t()}ZMt(t){return this.$xt.ZMt(t)}ZO(){return this.Kxt}oV(){return this.$xt.oV()}owt(t){return t.rQ()?t.nQ(this.ZO()):this.ZO()===t}Lvt(h,t,s){const i=(t,s)=>{const i=s||t.ZO(),e=h.get(i);e?e.add(t):h.set(i,new Set([t]))};if(i(this,t),this.a8())for(const e of this.u8())i(e);if(s)for(const r of this.VR())i(r)}Ovt(){if(!this.WL().DL())throw new Error("object does not support scene graph")}KR(){return null!==this.FR()}FR(){const t=this.l7();if(!t)return null;const s=t.FR();return s?s.ak():null}zR(){const t=this.l7();if(!t)return null;const s=t.zR();return s?s.ak():null}*BR(){const t=this.l7();if(t)for(const s of t.BR())yield s.ak()}Rvt(t){if(t)for(const s of this.children())if(s===t)return!0;return!1}LV(){const t=this.l7();return!!t&&t.LV()}Pvt(t){const s=this.l7();if(!s)return[];const i=t.Jc();return s.PH().map(t=>t.ak()).filter(t=>t.ZO().Jc()===i)}PH(){const t=this.l7();return t?t.PH().map(t=>t.ak()):[]}*children(){const t=this.l7();if(t)for(const s of t.children())yield s.ak()}*VR(){const t=this.l7();if(t)for(const s of t.VR())yield s.ak()}WR(){const t=this.l7();return t?t.WR():0}kvt(){return[...this.BR()].length}awt(){const t=this.l7();return t?t.awt():0}JR(t){const s=this.l7();if(!s)return null;const i=s.JR(t);return i?i.ak():null}Fvt(){const t=this.l7();if(!t)return NaN;const s=t.FR();return s?s.jvt(t):NaN}zvt(t){for(const s of this.l7().PH())if(s.ak().l8()===t)return!0;return!1}HR(t,s){this.Ovt(),t.Ovt(),this.l7().HR(t.l7(),s||{})}qR(t){const s=this.l7();s&&s.qR(t.l7())}yP(){const t=this.l7();return!!t&&t.yP()}lH(){const t=this.l7();if(t){const s=t.Bvt();if(s)for(const i of s){const e=this.$c.r7(i[2]);if(e){const h=i[3];this.HR(e,{tP:!!(h>>0&1),iP:!!(h>>1&1),hP:!!(h>>2&1),nP:!!(h>>3&1),aP:!!(h>>4&1),gP:!!(h>>5&1),lP:!!(h>>6&1),fP:!!(h>>7&1),pP:!!(h>>8&1)})}}}}cH(t,s){const i=t.get(this);if(i)for(const e of i.sceneGraphJson.children){const h=s.get(e.index);if(h){const r=e.flags;this.HR(h,{tP:!!(r>>0&1),iP:!!(r>>1&1),hP:!!(r>>2&1),nP:!!(r>>3&1),aP:!!(r>>4&1),gP:!!(r>>5&1),lP:!!(r>>6&1),fP:!!(r>>7&1),pP:!!(r>>8&1)})}}}f8(){const t=this.$c.Uvt();return t?t.Bat(this):""}a8(){return null!==this.avt}CH(t){this.avt.push(t)}n8(){return this.avt}Wvt(t){return!!this.Qvt(t)}Qvt(t){const s=this.u8();if(null===s||0===s.length)return!1;for(const i of s)if(i.ZO()===t)return i;return null}u8(){return this.avt}dpt(){for(const t of this.u8())t.ZO().s6().Dct(t)}uMt(){for(const t of this.u8())t.ZO().s6().Cct(t)}lMt(t){for(const s of this.u8())s.ZO().s6().Ect()[t]=s}fMt(){for(const t of this.u8())t.ZO().s6().Gct(t)}cMt(t){for(const s of this.u8())s.ZO().s6()._ct()[t]=s}WL(){return this.Kxt.WL()}Oxt(t){this.svt=t}xH(){return this.Kxt.GH(),this.svt}l8(){return this.ivt}Jvt(){return this.evt}Vvt(t){t?this.w8(new Set(t)):this.hvt=null}w8(t){if(0===t.size)this.hvt=null;else{this.hvt?this.hvt.clear():this.hvt=new Set;for(const s of t)this.hvt.add(s)}}y8(){return this.hvt??new Set}gwt(){return Array.from(this.y8()).join(" ")}ywt(t){t=Math.floor(t);for(const s of this.y8()){if(0===t)return s;--t}return""}zet(){return this.nvt}Yvt(t){if(t)for(const s of this.nvt)if(s.zP()instanceof t)return s;return null}Xot(t){if(!t)return null;const s=this.Yvt(t);return s?s.LP():null}jet(i){const e=this.nvt;for(let t=0,s=e.length;t<s;++t)if(e[t].WP().dQ()===i)return t;return-1}Hvt(){return this.rvt}yxt(){return this.Kxt.yxt()}qvt(){return this.rvt.length}Xht(t){const s=this.rvt;if((t|=0)<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}_2t(t){return this.rvt[t]}Zvt(t){const s=this.rvt[t];return 0===this.Kxt.mst(t)?!!s:s}Kht(t,s){const i=this.rvt;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=this.Kxt.mst(t);switch(e){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Wrt(t,s){if(0!==s){const i=this.rvt;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}}iMt(){let t=S.get(this);return t||(t=new Map,S.set(this,t)),t}eMt(){let t=e.get(this);return t||(t=new Map,e.set(this,t)),t}Xvt(t){const s=this.ZO();if(s.UN().zf(t))return!0;for(const i of s.J0t())if(i.UN().zf(t))return!0;return!!this.$c.UN().zf(t)}a6(){const t=new Set,s=(t.add(this),this.l7());if(s&&s.LV())for(const i of this.VR())if(t.add(i),i.a8())for(const e of i.u8())t.add(e);if(this.a8())for(const h of this.u8())t.add(h);for(const r of t.values())r.dH()}Kvt(){this.Kxt.qxt()&&this.n7();for(const t of this.nvt)t.j3t()}$vt(){this.Kvt()}dH(){if(this.Kvt(),this.Xvt("instancecreate")){const t=this.ZO(),s=new w.Event("instancecreate");s.QP=this.n7(),t.ZH(s);for(const i of t.J0t())i.ZH(s);this.$c.ZH(s)}this.$c.L8(this.WL().$1t().MH.q4t,this,null)}tCt(){this.$c.L8(this.WL().$1t().MH.Z4t,this,null)}sCt(t){if(this.tvt){const s=new w.Event("destroy");s.iCt=t,this.ZH(s)}if(this.Xvt("instancedestroy")){const i=this.ZO(),e=new w.Event("instancedestroy");e.QP=this.n7(),e.iCt=t,i.ZH(e);for(const h of i.J0t())h.ZH(e);this.$c.ZH(e)}}eCt(){return this.$xt?this.$xt.j5t():this.tvt.q8()}b4(t="full",s=null){const i={},e=("full"===t?i.uid=this.l8():i.c3=!0,this.y8());if(0<e.size&&(i.tags=Array.from(e)),"visual-state"!==t){const r=S.get(this);if(r&&r.size&&(i.ex=w.Lo(r)),-1!==this.bA()&&(i.mts=this.bA()),0<this.Kxt.sxt()){const n={},o=this.Kxt.mxt();for(let t=0,s=this.rvt.length;t<s;++t)n[o[t].toString()]=this.rvt[t];i.ivs=n}if(this.nvt.length){const a={};for(const u of this.nvt){const l=u.b4(t);l&&(a[u.WP().dQ().toString()]=l)}i.behs=a}}this.ztt&&(i.w=this.ztt._V(t,s));const h=this.$xt?this.$xt.b4():this.tvt.Z8();return h&&(i.data=h),i}Yq(t="full",s){this.ztt&&this.ztt.Yq(t)}qq(t,s="full",i=null){this.ztt&&this.ztt.qq(t,s,i)}hCt(t,s="full",i=null){this.ztt&&this.ztt.hCt(t,s,i)}Hxt(){this.WL().SL()&&this.ztt.Hxt()}x4(s,t="full",i){if("full"===t)this.ivt=s.uid;else if(!s.c3)return;if(this.Vvt(s.tags),"visual-state"!==t){let t=S.get(this);t&&(t.clear(),S.delete(this));const h=s.ex,r=(h&&(t=w.Oo(h),S.set(this,t)),this.uvt=s.hasOwnProperty("mts")?s.mts:-1,s.ivs);if(r)for(const[n,o]of Object.entries(r)){const a=parseInt(n,10),u=this.Kxt.gxt(a);if(!(u<0||u>=this.rvt.length)){let t=o;null===t&&(t=NaN),this.rvt[u]=t}}}if(this.WL().SL()){const l=s.w;if(l){const c=l.l;if(this.ztt.c7().dQ()!==c){const f=this.ztt.c7(),d=f.JA().EY(c);d?(this.ztt.m7(d),f.qW(this,!0),d.VW(this,!0),d.g7(this),this.ztt.lR()):"full"===t&&this.$c.e8(this)}this.ztt.DV(l,t)}}if("visual-state"!==t){const p=s.behs;if(p)for(const[m,g]of Object.entries(p)){const y=parseInt(m,10),M=this.jet(y);M<0||M>=this.nvt.length||this.nvt[M].x4(g,t)}}const e=s.data;e&&(this.$xt?this.$xt.x4(e,t):this.tvt.X8(e))}n7(){return this.tvt||this.Mvt()}W5t(){return!!this.tvt}Mvt(t,s){const i=this.ztt?t?self.Lk:self.EP:t?self.x8:self.HO,e=t||this.$xt.XSt(),h=this.Kxt.qxt(),r=h||e||i,n=this.WL().Zyt();if(w.mL.t5t(this,n),w.mL.iTt(s),this.tvt=new r,w.mL.eTt(),w.mL.s5t(n),e&&!(this.tvt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(h){const o=e||i;if(!(this.tvt instanceof o))throw new TypeError(`setInstanceClass(): class '${h.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.tvt}XO(t){if(0!==this.rvt.length){const i={},e=this.Kxt.Mxt();for(let t=0,s=e.length;t<s;++t)i[e[t]]={configurable:!1,enumerable:!0,get:w.Instance.prototype.Zvt.bind(this,t),set:w.Instance.prototype.Kht.bind(this,t)};const s=Object.create(Object.prototype,i);t.rCt={value:s,writable:!1}}}KO(t){const s=this.nvt;if(0!==s.length){const i={};for(const h of s)i[h.WP().F0t()]={value:h.T5t(),writable:!1};const e=Object.create(Object.prototype,i);t.$dt={value:e,writable:!1}}}ZH(t){if(this.W5t()){const s=this.n7(),i=(t.QP=s,this.$c),e=i.XH()&&!i.VN().u6();e&&h.StartMeasuringScriptTime(),s.dispatchEvent(t),e&&h.AddScriptTime()}}}}{const _a=self.js;_a.FH=class extends _a.tr{constructor(t){super(),this.D4=t,this.wpt=null,this.nCt=[],this.oCt=t.$p(),this.aCt=t.dm(),this.uCt=1,this.lCt=1,this.cCt=0,this.fCt=1,this.dCt=t.xI(),this.pCt=null,this.mCt=null,this.gCt=NaN}hr(){this.wpt=null,this.pCt=null,this.mCt=null,this.gCt=NaN,_a.On(this.nCt)}yCt(t){this.fCt=this.D4.xI(),this.dCt=this.fCt,this.wpt=t,this.cCt=t?t.T6():0}FR(){return this.wpt}LV(){return 0<this.nCt.length}PH(){return this.nCt}MCt(){this.LV()&&1!==this.nCt.length&&(this.mCt?this.nCt.sort((t,s)=>{const i=this.mCt.get(t.ak()),e=this.mCt.get(s.ak());return _a.de(i)&&_a.de(e)?i-e:0}):this.nCt.sort((t,s)=>{const i=t.art().wCt(),e=s.art().wCt();return _a.de(i)&&_a.de(e)?i-e:0}))}wCt(){return this.gCt}urt(){return this.uCt}SCt(t){this.uCt=t}crt(){return this.lCt}TCt(t){this.lCt=t}wrt(){return this.dCt}$Mt(){return this.fCt}bCt(t){this.fCt=t}ort(){return 0===this.oCt?Number.EPSILON:this.oCt}lrt(){return 0===this.aCt?Number.EPSILON:this.aCt}xCt(){if(this.D4.rP()){let t=this.wpt,s=t.$p(),i=t.art().ort();if(0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON)return 1;if(i===Number.EPSILON&&s!==Number.EPSILON){const e=t.ak().LP();if(e.Dst())return 1+s/e._st()}return s/i}return 1}vCt(){if(this.D4.oP()){let t=this.wpt,s=t.dm(),i=t.art().lrt();if(0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON)return 1;if(i===Number.EPSILON&&s!==Number.EPSILON){const e=t.ak().LP();if(e.Dst())return 1+s/e.Ast()}return s/i}return 1}CCt(){return this.cCt}GCt(){return{sw:this.oCt,sh:this.aCt,sx:this.uCt,sy:this.lCt,psa:this.cCt,oo:this.fCt,so:this.dCt,pi:this.D4.ak().Fvt()}}_V(t,s=null){const i=this.GCt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this.ICt(t),c:this.ECt(t)})}_Ct(t){let s="";return t.sP()&&(s+="x"),t.eP()&&(s+="y"),t.rP()&&(s+="w"),t.oP()&&(s+="h"),t.uP()&&(s+="a"),t.cP()&&(s+="z"),t.yP()&&(s+="d"),t.dP()&&(s+="o"),t.mP()&&(s+="v"),s}ICt(t){return!this.wpt||!this.wpt.ak()||this.wpt.ak().dF()?null:this.DCt(this.wpt,this.D4,t)}ECt(s){return this.nCt.map(t=>this.DCt(t,t,s)).filter(t=>t)}DCt(t,s,i){const e=t.ak();if(e&&e.dF())return null;const h={};return h.uid=e.l8(),h.f=this._Ct(s),h.offsets=s.NCt(),h.data=_a.FH.ACt(e),h.oci=e.ZO().yN(),"state"===i?(h.inst=e.b4("full",{selfOnly:!0}),h.instIndex=NaN):(h.instIndex=e.ZO().t6().indexOf(e),h.inst=null),h}DV(t){this.oCt=t.sw,this.aCt=t.sh,this.uCt=t.sx,this.lCt=t.sy,this.cCt=t.psa,this.fCt=t.oo,this.dCt=t.so,this.gCt=_a.de(t.pi)?t.pi:NaN}LCt(t,s){if(!t&&!s&&this.pCt)for(const i of this.pCt)i.dF()||i.KR()||i.N7().e8(i);this.pCt=t,this.mCt=s}qq(t,s){const i=this.D4,e=i.N7(),h=new Set;if(t.p&&!this.wpt){const o=t.p.uid,a=e.r7(o);if(s?.Swt,a){const u=a.l7();if(a.Rvt(i.ak()))this.wpt=u;else{a.zvt(i.ak().l8())?e.e8(i.ak()):a.HR(i.ak(),this.OCt(t.p.f)),h.has(i)||(i.RCt(t.p.offsets),this.PCt(a,t.p,s)),h.add(i);const l=a.l7();l.art().MCt()}}else if(_a.de(t.p.oci)){const c=e.RW(t.p.oci),f=(e.m2t(),e.r6(c,i.c7(),0,0,!0));if(s?.Swt,f){const d=this.kCt(t.p,e),p=(f.x4(d),f.l7()),m=(p.c7().n6(f),f.HR(i.ak(),this.OCt(t.p.f)),f.l7());m.art().MCt()}}}const r=[];for(const g of t.c){const y=g.uid,M=e.r7(y);M&&r.push(M)}let n=0;for(const w of t.c){const S=w.uid,T=e.r7(S);if(s?.Swt,T){if(this.pCt){if(this.pCt.includes(T)){const C=T;if(C.ZO()!==T.ZO()){n++;continue}if(C.dF()){n++;continue}const G=t.c[n];if(!s?.Swt&&this.FCt(C,r,i)){this.jCt(n,G,i,h,s),n++;continue}if(C.KR()&&C.FR()!==i.ak()){const I=this.zCt(G,s);this.BCt(I,G,h,s),n++;continue}this.BCt(C.l7(),G,h,s,!0),n++;continue}if(this.pCt[n]){const E=this.pCt[n];if(E.ZO()!==T.ZO()){n++;continue}if(E.dF()){n++;continue}const _=t.c[n];if(!s?.Swt&&this.FCt(E,r,i)){this.jCt(n,_,i,h,s),n++;continue}if(E.KR()&&E.FR()!==i.ak()){const D=this.zCt(_,s);this.BCt(D,_,h,s),n++;continue}this.BCt(E.l7(),_,h,s,!0),n++;continue}}const b=T.ZO(),x=this.UCt(r,b),v=i.ak().Pvt(b).length;if(x===v){const N=i.ak().JR(n);if(N){const A=N.l7();A&&(h.has(A)||(A.RCt(w.offsets),this.PCt(N,w,s)),h.add(A))}n++;continue}if(T.KR()&&T.FR()!==i.ak()){const L=this.zCt(w,s);this.BCt(L,w,h,s),n++;continue}this.BCt(T.l7(),w,h,s)}else if(this.pCt&&this.pCt[n]){const O=this.pCt[n],P=e.RW(this.WCt(w));if(O.ZO()!==P){n++;continue}if(O.dF()){n++;continue}const R=t.c[n];if(!s?.Swt&&this.FCt(O,r,i)){this.jCt(n,R,i,h,s),n++;continue}if(O.KR()&&O.FR()!==i.ak()){const k=this.zCt(R,s);this.BCt(k,R,h,s),n++;continue}this.BCt(O.l7(),R,h,s)}else{const F=this.zCt(w,s);this.BCt(F,w,h,s)}n++}}FCt(t,s,i){const e=t.ZO(),h=this.UCt(s,e),r=i.ak().Pvt(e).length;return h===r}jCt(t,s,i,e,h){const r=i.ak().JR(t,s);if(r){const n=r.l7();n&&(e.has(n)||(n.RCt(s.offsets),this.PCt(r,s,h)),e.add(n))}}OCt(t){const s={};return s.tP=t.includes("x"),s.iP=t.includes("y"),s.hP=t.includes("w"),s.nP=t.includes("h"),s.aP=t.includes("a"),s.lP=t.includes("z"),s.gP=t.includes("d"),s.fP=t.includes("o"),s.pP=t.includes("v"),s}WCt(t){return _a.de(t.oci)?t.oci:t[1]}zCt(e,h){if(_a.de(e.oci)){let t=this.D4,s=t.N7(),i;if(e.data)i=s.QW(e.data,t.c7(),!1,0,0,!1,!0);else{const r=s.RW(e.oci);i=s.r6(r,t.c7(),0,0,!0)}if(h?.Swt,i){const n=this.kCt(e,s),o=(i.x4(n),i.l7());return o.c7().n6(i,!0),o}}}BCt(t,s,i,e,h=!0){const r=this.D4,n=r.HR(t,this.OCt(s.f));n&&h&&(i.has(t)||(t.RCt(s.offsets),this.PCt(t.ak(),s,e)),i.add(t)),this.MCt()}PCt(t,s,i){let e=this.kCt(s,this.D4.N7());e&&((e=JSON.parse(JSON.stringify(e))).w=null,t.x4(e))}UCt(t,s){return t.filter(t=>t.ZO().Jc()===s.Jc()).length}kCt(t,s){if(_a.de(t.instIndex)){const i=s.RW(t.oci),e=i.Vxt();return e[t.instIndex]}return _a.xe(t.inst)?JSON.parse(t.inst):t.inst||void 0}static ACt(t){let s=t.l7().c7().zW(t.l8());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const e of[...t.PH()]){const h=e.l7();i.push([h.JA().dQ(),h.c7().yN(),e.l8(),_a.FH.kH(h),e.ZO().a8()?1:0,h.f7(),_a.FH.ACt(e)])}return _a.Fe(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=_a.FH.QCt(),s[0][14][1]=i,s[0][14][2]=t.l7().f7()),s}static kH(t){let s=0;return(s|=Number(t.mP())<<8)|Number(t.dP())<<7|Number(t.cP())<<6|Number(t.yP())<<5|Number(t.uP())<<4|Number(t.oP())<<3|Number(t.rP())<<2|Number(t.eP())<<1|Number(t.sP())<<0}static QCt(t){let s=0;return(s|=256)|128|64|32|16|8|4|2|1,511}}}{let d=self.js,t=self.ys,r=(t.Cs,d.er(d.Rect)),n=d.er(d.Vu),s=d.er(d.Event,"bboxchange",!1),f=d.er(d.Fo,0,0,0,0),l=d.er(d.Gl),i=d.er(d.Fo,1,1,1,1),o=d.er(d.Rect,0,0,-1,-1),h=d.er(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),e=[],m=!0,g=new WeakMap,a=new WeakMap;d.lvt=class extends d.tr{constructor(t,s){super(),this.Gi=t,this.oct=t.ZO(),this.$c=t.N7(),this.JCt=s,this.oct.Bxt(this,null,s),this.VCt=-1,this.YCt=-1,this.yMt=196635,this.oct.WL().vL()&&(this.yMt|=128),this.Ya=NaN,this.Ha=NaN,this.qw=NaN,this.HCt=NaN,this.qCt=NaN,this.h5=NaN,this.Uo=NaN,this.ZCt=NaN,this.XCt=NaN,this.KCt=NaN,this.$Ct=NaN,this.tGt=d.er(d.Rect),this.sGt=d.er(d.Vu),this.iGt=h,this.eGt=o,this.hGt=null,this.rGt=null,this.nGt=null,this.Hw=i,this.oGt=i,this.aGt=null,this.uGt=null,this.Gi.ZO().Sxt()&&(this.uGt=d.er(d.lGt,this.Gi,this)),this.cGt=null,this.pCt=null,this.mCt=null,this.fGt=-1,this.dGt=null}xvt(){this.yMt|=256}hr(){if(this.oct.Bxt(this,this.JCt,null),this.aGt&&(this.$c.Nw().$y(this.aGt),this.aGt=null),this.hGt=null,this.rGt&&(this.rGt.pGt.hr(),this.rGt=null),this.nGt&&(this.nGt.clear(),this.nGt=null),this.TP(),this.uGt&&this.uGt.hr(),this.KR()&&this.FR().qR(this),this.LV()){const t=[...this.PH()];for(const s of t)this.qR(s)}this.mGt(),this.gGt(),g.delete(this),a.delete(this),this.Gi=null,this.oct=null,this.$c=null,this.JCt=null}fvt(t){if(m=!1,this.cR(t[0],t[1]),this.m4(t[2]),this.Yv(t[3],t[4]),this.h5=0,this.vL()?this.S6(t[6]):this.Uo=0,f.Ra(t[7]),this.yGt(f),this.Trt(t[8]),this.xrt(t[9]),this.Xw(t[10]),this.uGt&&this.uGt.MGt(t[12]),t[14]&&g.set(this,{wGt:t[14][1],SGt:t[14][2]}),t[15]){const s=t[15],e=(this.wP(s[0],s[1]),this.GP()),h=s[2];for(let i=0,t=h.length;i<t;++i){const r=h[i];for(let t=0,s=r.length;t<s;++t){const n=r[t],o=e.Z4(t,i);o.u4(n[0]),o.f4(n[1]),o.m4(n[2]),o.y4(n[3]),o.w4(n[4])}}}if(t[16]){const i=t[16][0],a=t[16][1],u=!!a,l=!u,c=this.$c.Uvt();u&&c&&c.zat(this.ak(),a),l&&c&&c.zat(this.ak(),i)}m=!0,this.TGt()}dvt(){this.Ya=0,this.Ha=0,this.qw=0,this.HCt=0,this.qCt=0,this.h5=0,this.Uo=0,this.ZCt=0,this.XCt=1,this.KCt=0,this.$Ct=0,this.TGt()}N7(){return this.$c}ZO(){return this.oct}ak(){return this.Gi}bGt(){return this.uP()?this.xGt(this.FR().vGt()-this.cGt.CCt()):0}u4(t){if(t=+t,this.sP()){const s=this.cGt,i=t-this.a4(),e=-this.bGt();0==e?this.Ya+=i/s.xCt():(this.Ya+=Math.cos(e)*i/s.xCt(),this.eP()&&(this.Ha+=Math.sin(e)*i/s.vCt()))}else this.Ya=t}ert(t,s=!1){t=+t,!s&&this.sP()?this.u4(this.a4()+t):this.Ya+=t}a4(){if(this.sP()){let t=this.Ya,s=this.cGt,i=this.FR(),e=this.bGt();return 0===e?t*=s.xCt():(t=t*s.xCt()*Math.cos(e),this.eP()&&(t-=this.Ha*s.vCt()*Math.sin(e))),i.a4()+t}return this.Ya}f4(t){if(t=+t,this.eP()){const s=this.cGt,i=t-this.c4(),e=-this.bGt();0==e?this.Ha+=i/s.vCt():(this.sP()&&(this.Ya-=Math.sin(e)*i/s.xCt()),this.Ha+=Math.cos(e)*i/s.vCt())}else this.Ha=t}hrt(t,s=!1){t=+t,!s&&this.eP()?this.f4(this.c4()+t):this.Ha+=t}c4(){if(this.eP()){let t=this.Ha,s=this.cGt,i=this.FR(),e=this.bGt();return 0===e?t*=s.vCt():(t=t*s.vCt()*Math.cos(e),this.sP()&&(t+=this.Ya*s.xCt()*Math.sin(e))),i.c4()+t}return this.Ha}cR(t,s){if(t=+t,s=+s,this.CGt()){const i=this.sP(),e=this.eP(),h=this.cGt,r=t-this.a4(),n=s-this.c4(),o=-this.bGt();if(0==o)i?this.Ya+=r/h.xCt():this.Ya=t,e?this.Ha+=n/h.vCt():this.Ha=s;else{const a=Math.sin(o),u=Math.cos(o);i?this.Ya+=e?(u*r-a*n)/h.xCt():u*r/h.xCt():this.Ya=t,e?this.Ha+=i?(a*r+u*n)/h.vCt():u*n/h.vCt():this.Ha=s}}else this.Ya=t,this.Ha=s}GGt(){return[this.a4(),this.c4()]}pR(t,s){t=+t,s=+s,this.CGt()?this.cR(this.a4()+t,this.c4()+s):(this.Ya+=t,this.Ha+=s)}qMt(t,s){return this.a4()===t&&this.c4()===s}m4(t){if(t=+t,this.cP()&&(t-=this.FR().d4()),this.qw!==t){this.qw=t,this.IGt();const s=this.c7();0!==this.qw&&s.KW(),s.g7(this)}}IGt(){if(this.TGt(),this.LV()){const i=this.PH();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.cP()&&e.IGt()}}}vrt(t){this.m4(this.d4()+t)}d4(){return this.cP()?this.FR().d4()+this.qw:this.qw}gR(){return this.c7().d4()+this.d4()}um(t){if(t=+t,this.rP()){const s=this.$p();0===s?this.HCt=Number.EPSILON:this.HCt*=t/s}else this.HCt=t;this.EGt()}km(t,s){t=+t,!s&&this.rP()?this.um(this.$p()+t):this.HCt+=t,this.EGt()}$p(){if(this.rP()){const t=this.FR(),s=t.$p(),i=t.art().ort();return i===Number.EPSILON?(this.art().ort()+s)*this.HCt:s*this.HCt}return this.HCt}tm(t){if(t=+t,this.oP()){const s=this.dm();0===s?this.qCt=Number.EPSILON:this.qCt*=t/s}else this.qCt=t;this.EGt()}frt(t,s){t=+t,!s&&this.oP()?this.tm(this.dm()+t):this.qCt+=t,this.EGt()}dm(){if(this.oP()){const t=this.FR(),s=t.dm(),i=t.art().lrt();return i===Number.EPSILON?(this.art().lrt()+s)*this.qCt:s*this.qCt}return this.qCt}Yv(t,s){if(t=+t,s=+s,this.rP()){const i=this.$p();0===i?this.HCt=Number.EPSILON:this.HCt*=t/i}else this.HCt=t;if(this.oP()){const e=this.dm();0===e?this.qCt=Number.EPSILON:this.qCt*=s/e}else this.qCt=s;this.EGt()}Xl(){return[this.$p(),this.dm()]}aV(){return this.h5}_Gt(t){if(t<0)throw new RangeError("invalid depth");this.h5=t}DGt(){if(this.KR()){const t=this.cGt;return Math.min(t.xCt(),t.vCt())}return 1}vL(){return 0!=(128&this.yMt)}S6(t){t=+t,this.vL()&&(this.uP()&&(t-=this.FR().T6()),t=d.dr(t),this.Uo!==t)&&(this.Uo=t,this.EGt())}drt(t){0!==(t=+t)&&this.vL()&&(this.Uo=d.dr(this.Uo+t),this.EGt())}EGt(){if(this.yMt|=1<<18,this.LV()){const i=this.PH();for(let t=0,s=i.length;t<s;t++)i[t].EGt()}}T6(){return this.uP()&&this.vL()?this.xGt(d.dr(this.FR().vGt()+this.Uo)):this.Uo}vGt(){return this.uP()&&this.vL()?d.dr(this.FR().vGt()+this.Uo):this.Uo}xGt(t){return this.rP()&&this.zR().$p()<0&&(t=d.dr(d.Ir(t,this.zR().T6()+Math.PI))),t=this.oP()&&this.zR().dm()<0?d.Ir(t,this.zR().T6()):t}NGt(){const t=this.FR();return!!(this.rP()&&t.$p()<0)||!!(this.oP()&&t.dm()<0)}AGt(){const t=this.FR();return!!(this.rP()&&t.$p()<0&&this.oP()&&t.dm()<0)}LGt(){const t=this.yMt;if(0!=(t&1<<18)){const s=this.T6();this.ZCt=Math.sin(s),this.XCt=Math.cos(s),this.yMt=-262145&t}}KMt(){return this.LGt(),this.ZCt}XMt(){return this.LGt(),this.XCt}Trt(t){this.KCt=+t}Srt(t){this.KCt+=+t}S9(){return this.KCt}xrt(t){this.$Ct=+t}brt(t){this.$Ct+=+t}b9(){return this.$Ct}yGt(t){this.Hw.equals(t)||(this.Hw===i?(this.Hw=d.er(d.Fo,t),this.oGt=d.er(d.Fo,t),this.oGt.da()):t.ua(1,1,1,1)?(this.Hw=i,this.oGt=i):(this.Hw.set(t),this.oGt.set(t),this.oGt.da()),this.TGt())}CI(t){if(t=d.cr(+t,0,1),this.dP()){if(this.art().$Mt()===t)return;this.art().bCt(t),t=this.xI()}else if(this.Hw.a===t)return;this.OGt(t)}RGt(){if(this.LV()){const i=this.PH();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.OGt(e.xI())}}}OGt(t){f.Xo(this.Hw),f.a=t,this.yGt(f),this.RGt()}grt(t){this.dP()?this.CI(this.art().$Mt()+t):this.CI(this.xI()+t)}xI(){return this.dP()?this.FR().xI()*this.art().$Mt():this.Hw.a}CR(t){this.Hw.oa(t)||(f.Xo(t),f.a=this.xI(),this.yGt(f))}qht(t,s,i){f.Qo(t,s,i),this.CR(f)}PGt(t,s,i){0===t&&0===s&&0===i||(f.Xo(this.Hw),f.r+=t,f.Pa+=s,f.b+=i,this.CR(f))}vR(){return this.Hw}MW(){return this.oGt}yP(){return 0!=(512&this.yMt)}kGt(t){this.FGt(512,t)}sP(){return 0!=(1024&this.yMt)}jGt(t){this.FGt(1024,t)}eP(){return 0!=(2048&this.yMt)}CGt(){return 0!=(3072&this.yMt)}zGt(t){this.FGt(2048,t)}rP(){return 0!=(4096&this.yMt)}BGt(t){this.FGt(4096,t)}oP(){return 0!=(8192&this.yMt)}UGt(t){this.FGt(8192,t)}uP(){return 0!=(16384&this.yMt)}WGt(t){this.FGt(16384,t)}cP(){return 0!=(32768&this.yMt)}QGt(t){this.FGt(32768,t)}dP(){return 0!=(this.yMt&1<<22)}JGt(t){this.FGt(1<<22,t)}mP(){return 0!=(this.yMt&1<<23)}VGt(t){this.FGt(1<<23,t)}YGt(){this.yMt&=-12647937}HR(t,s){if(t===this)return!1;if(t.KR())return!1;if(this.HGt(t))return!1;if(this.qGt(t))return!1;const i=t.a4(),e=t.c4(),h=t.$p(),r=t.dm(),n=t.T6(),o=t.d4(),a=t.xI();if(t.ZGt(this),t.jGt(s.tP),t.zGt(s.iP),t.BGt(s.hP),t.UGt(s.nP),t.WGt(s.aP),t.QGt(s.lP),t.JGt(s.fP),t.VGt(s.pP),t.kGt(s.gP),s.tP&&(t.Ya=i-this.a4(),s.hP)){const u=this.$p()/this.cGt.ort();0!=u&&(t.Ya/=u)}if(s.iP&&(t.Ha=e-this.c4(),s.nP)){const l=this.dm()/this.cGt.lrt();0!=l&&(t.Ha/=l)}if(s.hP){const c=this.$p();0===c||c===Number.EPSILON?(t.HCt=1,t.cGt.SCt(1)):(t.HCt=h/this.$p(),t.cGt.SCt(t.HCt))}if(s.nP){const f=this.dm();0===f||f===Number.EPSILON?(t.qCt=1,t.cGt.TCt(1)):(t.qCt=r/this.dm(),t.cGt.TCt(t.qCt))}return s.aP&&(t.Uo=n-this.T6()),s.lP&&(t.qw=o-this.d4()),s.fP&&t.cGt.bCt(a),s.pP&&t.hO(this.nO()),this.XGt(t),this.lR(),this.RGt(),!0}qR(t){if(t.FR()===this){const s=t.a4(),i=t.c4(),e=t.$p(),h=t.dm(),r=t.T6(),n=t.d4(),o=t.xI();t.ZGt(null),t.YGt(),t.cR(s,i),t.Yv(e,h),t.S6(r),t.m4(n),t.CI(o),this.KGt(t),this.lR()}}$Gt(){return this.fGt}tIt(){this.sIt();const t=[...this.children()];for(const i of t)this.qR(i);const s=this.FR();s&&s.qR(this),this.YGt()}sIt(){if(this.iIt(),!this.pCt){const s=[...this.children()];s.length&&(this.pCt=[],this.mCt=new WeakMap);let t=0;for(const i of s){const e=i.ak();this.pCt.push(e),this.mCt.set(e,t),t++}}const t=this.FR();t&&t.sIt()}iIt(){if(-1===this.fGt){const t=[...this.BR()];this.fGt=t.length;for(const i of t)i.iIt();const s=[...this.children()];for(const e of s)e.iIt()}}gGt(){this.pCt&&(this.pCt.length=0),this.pCt=null,this.mCt=null;const t=this.FR();t&&t.gGt(),this.fGt=-1}KR(){return null!==this.FR()}FR(){const t=this.cGt;return null!==t?t.FR():null}zR(){let t=this;for(;t.KR();)t=t.FR();return t}*BR(){let t=this.FR();for(;t;)yield t,t=t.FR()}Rvt(t){return this.PH().includes(t)}LV(){const t=this.cGt;return null!==t&&t.LV()}PH(){const t=this.cGt;return null!==t?t.PH():e}children(){return this.PH()}*VR(){for(const t of this.children())yield t,yield*t.VR()}WR(){return this.PH().length}awt(){return[...this.VR()].length}JR(t){const s=this.PH();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}jvt(s){if(s){const i=this.PH();if(i)for(let t=0;t<i.length;t++)if(s===i[t])return t}return NaN}eIt(t){this.cGt||(this.cGt=d.er(d.FH,this)),t&&this.cGt.yCt(t)}art(){return this.cGt}mGt(){this.cGt&&(this.cGt.hr(),this.cGt=null)}ZGt(t){t?(t.eIt(null),this.eIt(t)):(this.cGt&&this.cGt.yCt(null),this.LV()||this.mGt())}qGt(t){if(!this.KR())return!1;const s=this.FR();return s===t||s.qGt(t)}HGt(t){if(this.Rvt(t))return!0;for(const s of this.PH())if(s.HGt(t))return!0;return!1}XGt(t){this.cGt.PH().push(t)}KGt(t){const s=this.cGt.PH(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this.KR()||this.mGt(),t.LV()||t.mGt()}Bvt(){const t=g.get(this);return t?t.wGt:null}hIt(){const t=g.get(this);return t?t.SGt:NaN}AV(){const t=a.get(this);return d.de(t)?t:NaN}rIt(t){a.set(this,t)}nIt(){this.FGt(1<<19,!0),this.TGt()}TGt(){if(m){const s=this.$c.Nw();this.aGt&&s.$y(this.aGt);let t;t=0!=(this.yMt&1<<19)?s.Ry()||"<point>":s.Ay()||"<default>",this.aGt=s.qy(t,this.NO(),this.oGt,this.d4())}}mV(){return this.aGt}MQ(){return this.Hw===i}Xw(t){if((t|=0)<0||31<t)throw new RangeError("invalid blend mode");this.NO()!==t&&(this.yMt=this.yMt&~(31<<26)|t<<26,this.TGt())}NO(){return(this.yMt&31<<26)>>26}m7(t,s){const i=s&&this.JCt!==t;i&&this.ZW(),this.oct.Bxt(this,this.JCt,t),this.JCt=t,i&&this.oIt(),0!==this.d4()&&this.JCt.KW()}c7(){return this.JCt}JA(){return this.c7().JA()}tQ(t){this.VCt=0|t}f7(){return this.JCt.lJ(),this.VCt}pJ(t){this.YCt=0|t}oF(){return this.JCt.fJ(),this.YCt}$B(){return this.VCt}FGt(t,s){s?this.yMt|=t:this.yMt&=~t}nO(){return 0!=(1&this.yMt)}hO(t){if(this.FGt(1,t),this.LV())for(const s of this.PH())s.mP()&&s.hO(t)}RR(){return 0!=(8&this.yMt)}PR(t){t=!!t,this.RR()!==t&&(this.FGt(8,t),t?this.lR():this.aIt())}uIt(t,s){if(this.FGt(32,t),this.nGt&&this.nGt.clear(),s.trim()){this.nGt||(this.nGt=new Set);for(const i of s.split(" "))i&&this.nGt.add(i.toLowerCase())}else this.nGt=null}lIt(t){const s=0!=(32&this.yMt),i=this.nGt;if(t&&i)for(const e of i)if(t.has(e))return s;return!s}lR(){if(this.yMt|=65554,this.oct.Fxt(!0),this.$c.y7(),this.JCt.NW()&&(this.cIt(this.tGt,this.sGt,!0),this.yMt&=-3,this.oIt()),0!=(4&this.yMt)&&this.Gi.Rf().dispatchEvent(s),null!==this.cGt){const i=this.cGt.PH();for(let t=0,s=i.length;t<s;++t)i[t].lR()}}cIt(t,s,i){const e=this.a4(),h=this.c4(),r=this.$p(),n=this.dm(),o=this.T6();t.au(e-this.KCt*r,h-this.$Ct*n,r,n),i&&this.CP()&&this.fIt(t),0===o?s.dl(t):(t.offset(-e,-h),s.ml(t,this.KMt(),this.XMt()),s.offset(e,h),s.gl(t)),t.normalize()}dIt(){const t=this.yMt;0!=(2&t)&&(this.cIt(this.tGt,this.sGt,!0),this.yMt=-3&t)}MR(){return this.dIt(),this.tGt}SR(){return this.dIt(),this.sGt}pIt(t){const s=this.a4(),i=this.c4(),e=Math.round(s)-s,h=Math.round(i)-i;return 0==e&&0==h?t:(n.C(t),n.offset(e,h),n)}mIt(t){this.tGt.C(t),this.sGt.dl(this.tGt),this.yMt&=-3,this.zxt(),this.oIt()}gIt(t){this.FGt(4,t)}yIt(){return 0!=(4&this.yMt)}eV(t,s,i){return s&&0!==this.aV()?this.nV(this.c7().rV()):0===this.d4()||i?t.zu(this.MR()):this.MIt()}MIt(){const t=this.c7(),s=this.gR();return!(s>=t.PQ())&&(t.OQ(s,r),r.zu(this.MR()))}nV(t){const s=this.MR(),i=s.gu(),e=s.Mu(),h=s.yu(),r=s.wu(),n=this.gR(),o=n+this.aV();return t.o2(i,h,n,e,r,o)}bR(){const t=this.c7();if(t.HQ())return this.nV(t.rV());{const s=t.JA();return this.eV(t.RO(),s.iV(),s.H6())}}fV(t){this.FGt(1<<20,t)}cV(t){this.FGt(1<<21,t)}wIt(){return 0!=(this.yMt&1<<20)}SIt(){return 0!=(this.yMt&1<<21)}TIt(t){this.hGt=t,this.bIt(),this.CP()&&(this.dGt.xIt=null)}vIt(){return this.hGt}CIt(){return null!==this.hGt||this.CP()}GIt(){return this.IIt(this.$p(),this.dm(),this.T6(),this.KMt(),this.XMt())}EIt(t,s,i){let e=0,h=1;return 0!==i&&(e=Math.sin(i),h=Math.cos(i)),this.IIt(t,s,i,e,h)}IIt(h,r,t,n,o){let s=this.rGt;null===s&&(s={pGt:d.er(d.Gl),width:NaN,height:NaN,angle:NaN},this.rGt=s);const a=s.pGt;if(s.width!==h||s.height!==r||s.angle!==t){const u=this.hGt;if(this.CP()){let t=this.S9(),s=this.b9(),i=this.GP(),e=this.dGt.xIt;e||(u?(l.C(u),l.offset(t,s)):l.Ol(),e=i.sS(l),this.dGt.xIt=e),i.iS(e,a),a.offset(-t,-s),a.Fl(h,r,n,o)}else u?(a.C(u),a.Fl(h,r,n,o)):a.kl(this.SR(),-this.a4(),-this.c4());s.width=h,s.height=r,s.angle=t}return a}bIt(){this._It(!0);const t=this.rGt;null!==t&&(t.width=NaN)}wP(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.ak().WL().AL())throw new Error("object does not support mesh");this.TP(),this.dGt={DIt:d.er(d.Hg.I4,t,s),NIt:d.er(d.Hg.I4,t,s),xIt:null}}CP(){return null!==this.dGt}GP(){if(this.CP())return this.dGt.DIt;throw new Error("no mesh")}AIt(){if(this.CP())return this.dGt.NIt;throw new Error("no mesh")}LIt(t){this.FGt(65536,t)}OIt(){return 0!=(65536&this.yMt)}_It(t){this.FGt(1<<17,t)}RIt(){return 0!=(this.yMt&1<<17)}fIt(t){const s=this.dGt.DIt,i=Math.min(s.Q4(),0),e=Math.min(s.J4(),0),h=Math.max(s.V4(),1),r=Math.max(s.Y4(),1),n=t.width(),o=t.height();t.offsetLeft(i*n),t.offsetTop(e*o),t.Gu((h-1)*n),t.Iu((r-1)*o),this.h5=s.H4()}TP(){this.dGt&&(this.dGt.DIt.hr(),this.dGt.NIt.hr(),this.dGt=null,this.bIt())}xP(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!p.has(e))throw new Error("invalid mode");let h="relative"===e,r=i.x,n=i.y,o=i.vO,a="number"==typeof i.u?i.u:h?0:-1,u="number"==typeof i.v?i.v:h?0:-1;if(!this.CP())return!1;const l=this.GP(),c=l.Z4(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.d4()!==o&&(c.m4(o),f=!0),h&&(r+=t/(l.j4()-1),n+=s/(l.z4()-1)),a=-1!==a||h?(h&&(a+=t/(l.j4()-1)),d.cr(a,0,1)):c.g4(),u=-1!==u||h?(h&&(u+=s/(l.z4()-1)),d.cr(u,0,1)):c.M4(),c.a4()===r&&c.c4()===n&&c.g4()===a&&c.M4()===u?f:(c.u4(r),c.f4(n),c.y4(a),c.w4(u),this.bIt(),!0)}bvt(){return this.Gi.bvt()}kR(t,s){return!!this.MR().Uu(t,s)&&!!this.SR().Uu(t,s)&&(this.bvt()?this.Gi.LP().r3t(t,s):!this.CIt()||this.GIt().Uu(t-this.a4(),s-this.c4()))}PIt(){return 0!=(16&this.yMt)}zxt(){if(this.PIt()&&this.RR()&&0==(256&this.yMt)){const t=this.MR(),s=this.oct.kxt(),i=this.iGt;if(r.set(s.gU(t.gu()),s.yU(t.yu()),s.gU(t.Mu()),s.yU(t.wu())),!i.equals(r)){const e=this.Gi;i===h?(s.MU(e,null,r),this.iGt=d.er(d.Rect,r)):(s.MU(e,i,r),i.C(r)),this.yMt&=-17}}}kIt(){this.yMt|=16}aIt(){const t=this.iGt;t!==h&&(this.oct.kxt().MU(this.Gi,t,null),this.iGt=h)}oIt(){const t=this.c7();if(t.NW()&&0==(256&this.yMt)){const s=t.SQ(),i=this.MR(),e=this.eGt;if(r.set(s.gU(i.gu()),s.yU(i.yu()),s.gU(i.Mu()),s.yU(i.wu())),!e.equals(r)){const h=this.Gi;e===o?(s.MU(h,null,r),this.eGt=d.er(d.Rect,r)):(s.MU(h,e,r),e.C(r)),t.TQ()}}}ZW(){const t=this.eGt;t!==o&&(this.c7().SQ().MU(this.Gi,t,null),this.eGt=o)}cJ(){return this.eGt}IR(){const t=this.Gi,s=this.JCt,i=s.p7();i.length&&i.at(-1)===t||(s.qW(t,!1),s.VW(t,!1),this.$c.y7())}_R(){const t=this.Gi,s=this.JCt,i=s.p7();i.length&&i[0]===t||(s.qW(t,!1),s.HW(t,!1),this.$c.y7())}NR(t){const s=this.Gi,i=this.JCt;if(i.JA()!==t.JA())throw new Error("layer from different layout");t!==i&&(i.qW(s,!0),this.m7(t),t.VW(s,!0),this.$c.y7())}LR(t,s){let i=this.Gi,e=!1,h=this.JCt;if(t.l8()!==i.l8()){const r=t.l7();if(!r)throw new Error("expected world instance");const n=r.c7(),o=(h.yN()!==n.yN()&&(h.qW(i,!0),this.m7(n),n.VW(i,!0),e=!0),n.gJ(i,t,!!s));(e||o)&&this.$c.y7()}}aR(){return this.uGt}FIt(t){this.FGt(64,t)}xJ(){return 0!=(64&this.yMt)}_V(t,s=null){const i={x:this.a4(),y:this.c4(),w:this.$p(),h:this.dm(),l:this.c7().dQ(),zi:this.f7()},e=(0!==this.d4()&&(i.ze=this.d4()),0!==this.T6()&&(i.a=this.vGt()),this.MQ()||(i.c=this.Hw.toJSON()),.5!==this.S9()&&(i.oX=this.S9()),.5!==this.b9()&&(i.oY=this.b9()),0!==this.NO()&&(i.bm=this.NO()),this.nO()||(i.v=this.nO()),this.RR()||(i.ce=this.RR()),this.yIt()&&(i.be=this.yIt()),this.uGt&&(i.fx=this.uGt._V()),0!=(32&this.yMt));return e&&(i.sfi=e),this.nGt&&(i.sft=[...this.nGt].join(" ")),this.cGt&&"visual-state"!==t&&(i.sgi=this.cGt._V(t,s),g.has(this))&&(i.sgcd=g.get(this).wGt,i.sgzid=g.get(this).SGt),this.CP()&&(i.mesh=this.GP().b4()),i}NCt(){return{x:this.Ya,y:this.Ha,z:this.qw,w:this.HCt,h:this.qCt,a:this.Uo,sgi:this.art()?this.art().GCt():null}}RCt(t){t&&(this.Ya=t.x,this.Ha=t.y,this.qw=t.z,this.HCt=t.w,this.qCt=t.h,this.Uo=t.a,t.sgi&&this.art()&&this.art().DV(t.sgi),this.EGt(),this.lR())}Hxt(){this.gGt(),this.tIt(),this.eIt(null),this.cGt&&this.cGt.LCt(this.pCt,this.mCt)}Yq(t){"visual-state"!==t&&this.tIt()}qq(t,s="full",i=null){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.yMt)&&this.cGt.qq(t.sgi,i)}hCt(t,s="full",i){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.yMt)&&(this.cGt.LCt(null,null),this.gGt(),this.lR())}DV(t,s){if(m=!1,this.u4(t.x),this.f4(t.y),this.um(t.w),this.tm(t.h),this.tQ(t.zi),this.m4(t.hasOwnProperty("ze")?t.ze:0),this.S6(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?f.Ra(t.c):t.hasOwnProperty("o")?(f.Xo(this.Hw),f.a=t.o):f.Wo(1,1,1,1),this.yGt(f),this.Trt(t.hasOwnProperty("oX")?t.oX:.5),this.xrt(t.hasOwnProperty("oY")?t.oY:.5),this.Xw(t.hasOwnProperty("bm")?t.bm:0),this.hO(!t.hasOwnProperty("v")||t.v),this.PR(!t.hasOwnProperty("ce")||t.ce),this.gIt(!!t.hasOwnProperty("be")&&t.be),this.uIt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.uGt&&t.hasOwnProperty("fx")&&this.uGt.DV(t.fx),!t.hasOwnProperty("sgi")&&"visual-state"!==s&&this.pCt)for(const i of this.pCt)i.dF()||this.$c.e8(i);if(t.hasOwnProperty("sgi")&&"visual-state"!==s){this.eIt(null);const e=this.cGt,h=t.sgi;e.DV(h),e.LCt(this.pCt,this.mCt),t.sgcd&&d.de(t.sgzid)&&g.set(this,{wGt:t.sgcd,SGt:t.sgzid})}if(t.hasOwnProperty("mesh")){const r=t.mesh;this.wP(r.cols,r.rows),this.GP().x4(r)}else this.TP();this.lR(),m=!0,this.TGt(),"visual-state"!==s&&this.$c.jIt(this.ak(),t)}}}{const Da=self.js;Da.Ibt=class extends Da.tr{constructor(t,s){super();const i=t.N7(),e=i.Mgt(s[1]),h=(i.zIt().sTt(e),this.$c=i,this.oct=t,this.O3t=Da.mL.HP(e),this.M5t=null,this.BIt=null,this.hbt=e.Instance,this.OU=s[2],this.ur=s[0],this.s2t=this.$c.F0t(s[3]),this.O3t.Zyt());if(h<2&&(this.M5t=Da.er(e.Qbt,this),!(this.M5t instanceof Da.L3t)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(Da.mL.t5t(this,h),2<=h){const r=e.Qbt??globalThis.GF;if(this.BIt=new r,!(this.BIt instanceof globalThis.GF))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.BIt=new globalThis.VP;Da.mL.s5t(h),this.ZSt()}static W5(t,s){return Da.er(Da.Ibt,t,s)}hr(){this.$c=null,this.O3t=null,this.M5t&&(this.M5t.hr(),this.M5t=null),this.hbt=null}VMt(){return this.M5t}ZSt(){this.M5t?this.M5t.ZSt():this.BIt&&this.BIt.Gk()}N7(){return this.$c}ZO(){return this.oct}zP(){return this.O3t}dxt(){return this.hbt}Jc(){return this.ur}dQ(){return this.OU}UP(){return this.BIt}F0t(){return this.s2t}}}{const Na=self.js,Aa=self.FP;Na.ovt=class extends Na.tr{constructor(t){super(),this.$c=t.runtime,this.O2t=t.BP,this.O3t=this.O2t.zP(),this.Gi=t.QP,this.Bg=t.index,this.$xt=null,this.tvt=null,this.O3t.VW(this.Gi)}hr(){this.tvt&&(this.tvt.s8(),this.tvt=null),this.O3t.qW(this.Gi),this.$xt&&(this.$xt.hr(),this.$xt=null),this.$c=null,this.O2t=null,this.O3t=null,this.Gi=null}axt(t){if(this.$xt)throw new Error("already got sdk instance");const s=this.zP().Zyt();if(s<2){if(this.$xt=Na.er(this.O2t.dxt(),this,t),!(this.$xt instanceof Na.R3t))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const i=this.zP().XSt();this.$St(i.Instance,t)}}LP(){return this.$xt??this.tvt}JP(){return this.Gi}N7(){return this.$c}WP(){return this.O2t}zP(){return this.O3t}Rht(){return this.Bg}j3t(){this.$xt?this.$xt.j3t():this.tvt.DF()}W3t(t,s){this.$xt&&this.$xt.W3t(t,s)}eCt(){return this.$xt?this.$xt.j5t():this.tvt.q8()}b4(t="full"){return this.$xt?this.$xt.b4(t):this.tvt.Z8(t)}x4(t,s="full"){if(this.$xt)return this.$xt.x4(t,s);this.tvt.X8(t,s)}static UIt(t,s,i){let e=globalThis.IF,h,r;h=s instanceof e?t.O6(s):s.F3t(),r=i instanceof e?t.O6(i):i.F3t();const n=h.JP(),o=r.JP(),a=n.ZO().yN(),u=o.ZO().yN();if(a!==u)return a-u;const l=n.Jvt(),c=o.Jvt();return l!==c?l-c:h.Rht()-r.Rht()}$St(t,s){const i=Aa,e=t??this.$xt.XSt(),h=e||i,r=this.zP().Zyt();if(Na.mL.t5t(this,r),Na.mL.iTt(s),this.tvt=new h,Na.mL.eTt(),Na.mL.s5t(r),!e||this.tvt instanceof i)return this.tvt;throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`)}T5t(){return this.tvt||this.$St()}W5t(){return!!this.tvt}}}{const La=self.js;La.gW=class extends La.tr{constructor(t,s){super(),this.D4=t,this.WIt=[],this.QIt=[],this.JIt=new Map,this.VIt=[],this.YIt=[],this.HIt=new Set,this.xw=!0;for(const i of s){const e=La.er(La.qIt,this,i,this.WIt.length);this.WIt.push(e),this.JIt.set(e.Jc().toLowerCase(),e),3<=i.length&&this.VIt.push(this.ZIt(e,i[2]))}this.N7().XIt(this)}hr(){this.N7().KIt(this);for(const t of this.YIt)t.hr();La.On(this.YIt),La.On(this.WIt),La.On(this.QIt),this.JIt.clear(),La.On(this.VIt),this.D4=null}$It(t){this.HIt.add(t)}tEt(t){this.HIt.delete(t)}sEt(t){t.Cy()&&(this.YIt=this.WIt.map(t=>{const s=t.V3();return 0<s.GetCustomParametersByteSize()?La.er(La.Hg.WebGPUEffectCustomParamsBuffer,s):null}),this.iEt());for(const s of this.HIt)s.sEt(t)}nxt(t){if(t.length){this.WIt=t.concat(this.WIt);for(const s of t)this.JIt.set(s.Jc().toLowerCase(),s);for(let t=0,s=this.WIt.length;t<s;++t)this.WIt[t].aQ(t)}}ZIt(t,s){t.eEt(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const h=La.er(La.Fo);h.Ra(e),i[t]=h}}return i}B4(){return this.D4}N7(){return this.D4.N7()}XP(){La.On(this.QIt);let t=!0;for(const s of this.WIt)s.hpt()&&(this.QIt.push(s),s.V3().kw()||(t=!1));this.xw=t}p6(){return this.WIt}Txt(){return 0<this.WIt.length}Wet(t){return this.JIt.get(t.toLowerCase())||null}hEt(t){if((t=Math.floor(+t))<0||t>=this.WIt.length)throw new RangeError("invalid effect type index");return this.WIt[t]}qP(t){return this.hEt(t).hpt()}ZP(t,s){this.hEt(t).eEt(s)}wQ(){return this.QIt}xJ(){return 0<this.QIt.length}kw(){return this.xw}Uet(t){return this.VIt[t]}SW(t){return(t<this.YIt.length?this.YIt:this.VIt)[t]}KP(t,s){if(t<0||t>=this.VIt.length)return null;const i=this.VIt[t];return s<0||s>=i.length?null:i[s]}$P(t,s,i){if(t<0||t>=this.VIt.length)return!1;const e=this.VIt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof La.Fo){if(h.oa(i))return!1;h.Xo(i)}else{if(h===i)return!1;e[s]=i}return t<this.YIt.length&&this.YIt[t].SetParameterValue(s,i),!0}iEt(){const i=this.VIt,e=this.YIt;for(let t=0,s=Math.min(i.length,e.length);t<s;++t){const h=e[t],r=i[t];for(let t=0,s=r.length;t<s;++t)h.SetParameterValue(t,r[t])}}static rEt(t){return t&&t instanceof La.Fo?{t:"color",v:t.toJSON()}:t}static nEt(t){if(null===t)return NaN;if("object"!=typeof t)return t;{const s=t.t;if("color"!==s)throw new Error("invalid effect parameter type");{const i=La.er(La.Fo);return i.Ra(t.v),i}}}static oEt(t){return t.map(La.gW.rEt)}static aEt(t){return t.map(La.gW.nEt)}b4(){return this.WIt.map(t=>({name:t.Jc(),active:t.hpt(),params:La.gW.oEt(this.VIt[t.yN()])}))}x4(t){for(const s of t){const i=this.Wet(s.name);i&&(i.eEt(s.active),this.VIt[i.yN()]=La.gW.aEt(s.params))}this.XP(),this.iEt()}}}{const Oa=self.js;Oa.qIt=class extends Oa.tr{constructor(t,s,i){super(),this.mW=t,this.if=s[0],this.ur=s[1],this.Bg=i,this.Jw=null,this.s0=!0}hr(){this.mW=null,this.Jw=null}rxt(t){const s=Oa.er(Oa.qIt,t,[this.if,this.ur],-1);return s.Jw=this.Jw,s.s0=this.s0,s}sEt(t){const s=t.Ny(this.if);if(!s)throw new Error("failed to find shader program '"+this.if+"'");this.Jw=s}d6(){return this.mW}Jc(){return this.ur}aQ(t){this.Bg=t}yN(){return this.Bg}B4(){return this.mW.B4()}N7(){return this.mW.N7()}eEt(t){this.s0=!!t}hpt(){return this.s0}V3(){return this.Jw}uEt(){const i=[];for(let t=0,s=this.Jw.Y3();t<s;++t){const e=this.Jw.H3(t);if("float"===e||"percent"===e)i.push(0);else{if("color"!==e)throw new TypeError("unknown effect parameter type");i.push(Oa.er(Oa.Fo,1,1,1,1))}}return i}}}{const Ra=self.js;Ra.lGt=class extends Ra.tr{constructor(t,s){super(),this.Gi=t,this.lEt=s,this.mW=t.ZO().d6(),this.cEt=!0,this.bW=!0,this.fEt=!1,this.dEt=!1,this.pEt=!1,this.mEt=!1,this.dN=Ra.er(Ra.Hg.f_,t.N7().Yk().yW(),{s_:(t,s)=>{const i=s.rN(),e=i.l7();t.Kw(e.MW()),t.dM(e.gR()),i.K4(t),t.dM(0)},i_:t=>{const s=t.t3t(),[i,e]=t.$5t();return{KD:s,$D:i,tN:e}},e_:t=>this.SW(t)}),this.gEt=[],this.QIt=[],this.xw=!0,this.VIt=[],this.YIt=[],this.sEt(t.N7().Nw());for(let t=0,s=this.mW.p6().length;t<s;++t)this.gEt.push(!0);this.XP(),this.mW.$It(this)}hr(){this.mW.tEt(this);for(const t of this.YIt)t&&t.hr();Ra.On(this.YIt),this.dN.hr(),this.dN=null,Ra.On(this.gEt),Ra.On(this.QIt),Ra.On(this.VIt),this.Gi=null,this.mW=null}sEt(t){t.Cy()&&(this.YIt=this.mW.p6().map(t=>{const s=t.V3();return 0<s.GetCustomParametersByteSize()?Ra.er(Ra.Hg.WebGPUEffectCustomParamsBuffer,s):null}))}MGt(t){let s=0;for(const i of t)this.VIt.push(this.ZIt(s,i)),++s;this.iEt(),this.XP()}ZIt(t,s){this.gEt[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const h=Ra.er(Ra.Fo);h.Ra(e),i[t]=h}}return i}pvt(){for(const t of this.mW.p6())this.VIt.push(t.uEt());this.iEt()}B4(){return this.D4}d6(){return this.mW}gN(){return this.yQ(),this.dN}N7(){return this.Gi.N7()}XP(){Ra.On(this.QIt);let t=this.lEt,i=this.mW.p6(),e=this.QIt,h=this.gEt,r=!0;for(let t=0,s=i.length;t<s;++t)if(h[t]){const n=i[t];e.push(n),n.V3().kw()||(r=!1)}this.xw=r,t.FIt(!!e.length),this.cEt=!0}yQ(){const t=this.Gi,s=this.lEt,i=s.MQ(),e=t.WL().EL(),h=0!==s.T6()||0!==s.c7().T6()||s.$p()<0||s.dm()<0,r=t.e3t(),n=t.Pw();(this.cEt||i!==this.bW||e!==this.fEt||h!==this.dEt||r!==this.pEt||n!==this.mEt||this.dN.eD())&&(this.dN.hD(this.QIt.map(t=>t.V3()),{r_:this.QIt.map(t=>t.yN()),n_:!i||n,a_:e,u_:r,l_:h}),this.cEt=!1,this.bW=i,this.fEt=e,this.dEt=h,this.pEt=r,this.mEt=n)}wQ(){return this.QIt}Uet(t){return this.VIt[t]}SW(t){return(t<this.YIt.length?this.YIt:this.VIt)[t]}KP(t,s){if(t<0||t>=this.VIt.length)return null;const i=this.VIt[t];return s<0||s>=i.length?null:i[s]}$P(t,s,i){if(t<0||t>=this.VIt.length)return!1;const e=this.VIt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof Ra.Fo){if(h.oa(i))return!1;h.Xo(i)}else{if(h===i)return!1;e[s]=i}return t<this.YIt.length&&this.YIt[t].SetParameterValue(s,i),!0}iEt(){const i=this.VIt,e=this.YIt;for(let t=0,s=e.length;t<s;++t){const h=e[t],r=i[t];for(let t=0,s=r.length;t<s;++t)h.SetParameterValue(t,r[t])}}kw(){return this.xw}yEt(){return this.QIt.some(t=>t.V3().zw())}qP(t){return this.gEt[t]}ZP(t,s){this.gEt[t]=!!s}p6(){return this.mW.p6()}_V(){return this.mW.p6().map(t=>({name:t.Jc(),active:this.gEt[t.yN()],params:Ra.gW.oEt(this.VIt[t.yN()])}))}DV(t){for(const s of t){const i=this.mW.Wet(s.name);i&&(this.gEt[i.yN()]=s.active,this.VIt[i.yN()]=Ra.gW.aEt(s.params))}this.XP(),this.iEt()}}}{let G=self.js,r=[],S=[],n=[],T=G.er(G.Gl),M=G.er(G.Gl),b=G.er(G.Vu),d=G.er(G.Rect),p=G.er(G.Rect),m=null,g=null,y=null;G.MEt=class extends G.tr{constructor(t){super(),this.$c=t,this.wEt=0,this.SEt=0,this.TEt=[],this.bEt=0,this.xEt=0,this.vEt=0,this.CEt=0,this.GEt=new self.X7(this)}hr(){this.$c=null}N7(){return this.$c}xN(){return this.GEt}IEt(){this.xEt=this.bEt,this.bEt=0,this.CEt=this.vEt,this.vEt=0}EEt(){return this.xEt}_Et(){return this.CEt}DEt(t,s){const i=t.l7(),e=s.l7();i&&e&&i.RR()&&e.RR()&&this.TEt.push([t,s])}hwt(s,i,e){for(const[h,r]of this.TEt){let t=null;if(s===h)t=r;else{if(s!==r)continue;t=h}!t.owt(i)||e.includes(t)||e.push(t)}}rwt(t,s){if(this.TEt.length)for(const[i,e]of this.TEt)if(t===i&&s===e||t===e&&s===i)return!0;return!1}NEt(){G.On(this.TEt)}tL(t,s){if(!t||!s||t===s)return!1;const i=t.l7(),e=s.l7();if(!i.RR()||!e.RR())return!1;this.bEt++;const h=i.c7(),r=e.c7(),n=h.nJ(r);return n?this.AEt(i,e):this.LEt(i,e)}AEt(t,s){if(!t.MR().zu(s.MR()))return!1;if(this.vEt++,!t.SR().Ml(s.SR()))return!1;if(t.bvt()&&s.bvt())return!1;if(t.bvt())return this.OEt(t,s);if(s.bvt())return this.OEt(s,t);if(!t.CIt()&&!s.CIt())return!0;const i=t.GIt(),e=s.GIt();return i.jl(e,s.a4()-t.a4(),s.c4()-t.c4())}LEt(i,e){const t=i.bvt(),s=e.bvt();if(t&&!s)return this.REt(i,e);if(s&&!t)return this.REt(e,i);if(s||t)return!1;{const h=i.c7(),r=e.c7(),n=(T.C(i.GIt()),M.C(e.GIt()),T.Nl());for(let t=0,s=n.length;t<s;t+=2){const a=t+1,u=n[t],l=n[a],[c,f]=h.BO(u+i.a4(),l+i.c4());n[t]=c,n[a]=f}const o=M.Nl();for(let t=0,s=o.length;t<s;t+=2){const d=t+1,p=o[t],m=o[d],[g,y]=r.BO(p+e.a4(),m+e.c4());o[t]=g,o[d]=y}return T.Rl(),M.Rl(),this.vEt++,T.jl(M,0,0)}}REt(t,s){const i=t.c7(),e=s.c7(),h=(m=m||G.er(G.Gl),g=g||G.er(G.Rect),y=y||G.er(G.Vu),s.a4()),r=s.c4(),[n,o]=e.BO(h,r),[a,u]=i.kO(n,o),l=a-h,c=u-r;if(g.C(s.MR()),g.offset(l,c),!t.MR().zu(g))return!1;if(y.C(s.SR()),y.offset(l,c),this.vEt++,!t.SR().Ml(y))return!1;m.C(s.GIt());const f=m.Nl();for(let t=0,s=f.length;t<s;t+=2){const d=t+1;f[t]+=l,f[d]+=c}return m.Rl(),this.OEt(t,s,a,u,m,g,y)}OEt(t,e,s,i,h,r,n){const o=void 0!==r?r:e.MR(),a=t.a4(),u=t.c4(),l=t.ak().LP(),c=void 0!==s?s:e.a4(),f=void 0!==i?i:e.c4(),d=e.CIt(),p=void 0!==n?n:e.SR(),m=S;l.GetCollisionRectCandidates(o,m);for(let t=0,s=m.length;t<s;++t){const g=m[t],y=g.GetRect();if(this.bEt++,o.Bu(y,a,u)&&(b.dl(y),b.offset(a,u),b.Ml(p)))if(d){let t=void 0!==h?h:e.GIt(),s=c,i=f;void 0!==h&&(s=e.a4(),i=e.c4());const M=g.GetPoly();if(M){if(this.vEt++,M.jl(t,s-(a+y.gu()),i-(u+y.yu())))return G.On(m),!0}else if(T.kl(b,0,0),T.jl(t,s,i))return G.On(m),!0}else{const w=g.GetPoly();if(!w)return G.On(m),!0;if(T.kl(p,0,0),w.jl(T,-(a+y.gu()),-(u+y.yu())))return G.On(m),!0}}return G.On(m),!1}PEt(t,a,u){const l=t.s6(),s=this.$c.KN();if(!s)throw new Error("cannot call outside event");const c=s.kct(),i=new Map,f=t=>{let s=i.get(t);return void 0===s&&(s=t.pO(),i.set(t,s)),s};if(l.Sct()){u||(l.Ict(!1),G.On(l.Ect())),c&&G.On(l._ct());for(const e of t.t6()){let h=e.l7(),r=h.c7(),t=!1;if(t=f(r)&&h.bR()?a.some(([t,s])=>{const[i,e]=r.kO(t,s,h.gR());return h.kR(i,e)}):t){if(u)return!1;l.Cct(e)}else c&&l.Gct(e)}}else{let e,n=!1,o=(!c||s.Emt(this.$c._0t())||this.$c.iwt()&&!l._ct().length&&l.Ect().length?e=l.Ect():(e=l._ct(),n=!0),0);for(let i=0,t=e.length;i<t;++i){let t=e[i],h=t.l7(),r=h.c7(),s=!1;if(s=f(r)&&h.bR()?a.some(([t,s])=>{const[i,e]=r.kO(t,s,h.gR());return h.kR(i,e)}):s){if(u)return!1;n?l.Cct(t):e[o++]=t}else n?e[o++]=t:c&&l.Gct(t)}u||(e.length=o)}return t.ugt(),i.clear(),!!u||l.Tct()}kEt(t,s){if(t)for(const i of s.Uxt())if(!t.nJ(i))return!1;return!0}swt(t,s,i,e){if(s.rQ())for(const h of s.smt())this.kEt(t,h)?(h.jxt(),h.kxt().wU(i,e)):G.Jh(e,h.t6());else this.kEt(t,s)?(s.jxt(),s.kxt().wU(i,e)):G.Jh(e,s.t6())}lL(t,s,i,e){for(const h of s)this.swt(t,h,i,e)}FEt(t,s,i){const e=this.$c.rTt();e&&this.lL(t,e.MZ(),s,i)}jEt(t,s,i){const e=this.$c.nTt();e&&this.lL(t,e.MZ(),s,i)}lIt(t,s){return t.Cvt()&&(!s||s.l7().lIt(t.iMt().get("solidTags")))}eL(t){const s=t.l7();this.FEt(s.c7(),s.MR(),r);for(const i of r)if(this.lIt(i,t)&&this.tL(t,i))return G.On(r),i;return G.On(r),null}zEt(t,s){this.FEt(null,t,r);for(const i of r)if(this.lIt(i,s)&&this.BEt(t,i))return G.On(r),i;return G.On(r),null}UEt(t,s){let i=null;s&&(i=n,G.On(i));const e=t.l7();this.jEt(e.c7(),e.MR(),r);for(const h of r)if(h.Ivt()&&this.tL(t,h)){if(!s)return G.On(r),h;i.push(h)}return G.On(r),i}WEt(s,i,e,h,r){h=h||50;const n=s.l7(),o=n.a4(),a=n.c4();for(let t=0;t<h;++t)if(n.cR(o+i*t,a+e*t),n.lR(),!this.tL(s,r))return!0;return n.cR(o,a),n.lR(),!1}QEt(s,i,e,h,r,n){h=h||50;let o=s.l7(),a=o.a4(),u=o.c4(),l=null,c=null;for(let t=0;t<h;++t)if(o.cR(a+i*t,u+e*t),o.lR(),!this.tL(s,l))if(l=this.eL(s))c=l;else if(r&&(l=n?this.tL(s,n)?n:null:this.UEt(s))&&(c=l),!l)return c&&this.JEt(s,i,e,c,16,!0),!0;return o.cR(a,u),o.lR(),!1}VEt(i,e,h,t){t=t||50;let r=i.l7(),n=r.a4(),o=r.c4(),a=null,u=null;for(let s=0;s<t;++s)for(let t=0;t<2;++t){const l=2*t-1;if(r.cR(n+e*s*l,o+h*s*l),r.lR(),!this.tL(i,a)){if(!(a=this.eL(i)))return u&&this.JEt(i,e*l,h*l,u,16,!0),!0;u=a}}return r.cR(n,o),r.lR(),!1}JEt(t,s,i,e,h,r){let n=2,o=!1,a=!1,u=t.l7(),l=u.a4(),c=u.c4();for(;n<=h;){const f=1/n;n*=2,u.pR(s*f*(o?1:-1),i*f*(o?1:-1)),u.lR(),this.tL(t,e)||r&&this.eL(t)?(o=!0,a=!0):(o=!1,a=!1,l=u.a4(),c=u.c4())}a&&(u.cR(l,c),u.lR())}YEt(i,t=100){let e=0,h=i.l7(),r=h.a4(),n=h.c4(),o=0,a=this.eL(i);if(!a)return!0;for(;e<=t;){let t=0,s=0;switch(o){case 0:t=0,s=-1,e++;break;case 1:t=1,s=-1;break;case 2:t=1,s=0;break;case 3:t=1,s=1;break;case 4:t=0,s=1;break;case 5:t=-1,s=1;break;case 6:t=-1,s=0;break;case 7:t=-1,s=-1}if(o=(o+1)%8,h.cR(Math.floor(r+t*e),Math.floor(n+s*e)),h.lR(),!this.tL(i,a)&&!(a=this.eL(i)))return!0}return h.cR(r,n),h.lR(),!1}HEt(t,s,i,e){const h=t.l7(),r=h.a4(),n=h.c4(),o=Math.max(10,G.gr(s,i,r,n)),a=G.Mr(s,i,r,n),u=e||this.eL(t);if(!u)return G.dr(a+Math.PI);let l=u,c=0,f=0,d=G.pr(5),p;for(p=1;p<36;++p){const v=a-p*d;if(h.cR(s+Math.cos(v)*o,i+Math.sin(v)*o),h.lR(),!this.tL(t,l)&&!(l=e?null:this.eL(t))){c=v;break}}for(36===p&&(c=G.dr(a+Math.PI)),l=u,p=1;p<36;++p){const C=a+p*d;if(h.cR(s+Math.cos(C)*o,i+Math.sin(C)*o),h.lR(),!this.tL(t,l)&&!(l=e?null:this.eL(t))){f=C;break}}if(36===p&&(f=G.dr(a+Math.PI)),h.cR(r,n),h.lR(),f===c)return f;let m=G.Sr(f,c)/2,g;g=G.br(f,c)?G.dr(c+m+Math.PI):G.dr(f+m);const y=Math.cos(a),M=Math.sin(a),w=Math.cos(g),S=Math.sin(g),T=y*w+M*S,b=y-2*T*w,x=M-2*T*S;return G.Mr(0,0,b,x)}qEt(t,s,i,e,h){if(!h)return!1;const r=h.l7();if(!r.RR())return!1;if(this.bEt++,d.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!r.MR().zu(d))return!1;if(h.bvt())return this.ZEt(t,s,i,e,h,r);if(this.vEt++,!r.SR().yl(t,s,i,e))return!1;if(!r.CIt())return!0;const n=r.GIt();return n.yl(r.a4(),r.c4(),t,s,i,e)}ZEt(i,e,h,r,t,s){const n=s.a4(),o=s.c4(),a=t.LP(),u=S;p.set(i,e,h,r),p.normalize(),a.GetCollisionRectCandidates(p,u);for(let t=0,s=u.length;t<s;++t){const l=u[t],c=l.GetRect();if(this.bEt++,d.Bu(c,n,o)&&(b.dl(c),b.offset(n,o),b.yl(i,e,h,r))){const f=l.GetPoly();if(!f)return G.On(u),!0;if(this.vEt++,f.yl(n+c.gu(),o+c.yu(),i,e,h,r))return G.On(u),!0}}return G.On(u),!1}BEt(t,s){if(!s)return!1;const i=s.l7();if(!i.RR())return!1;if(this.bEt++,!i.MR().zu(t))return!1;if(s.bvt())return this.XEt(t,s,i);if(this.vEt++,b.dl(t),!i.SR().Ml(b))return!1;if(!i.CIt())return!0;const e=T,h=(e.dl(t,i.a4(),i.c4()),i.GIt());return e.jl(h,0,0)}XEt(i,t,s){const e=s.a4(),h=s.c4(),r=t.LP(),n=S;r.GetCollisionRectCandidates(i,n);for(let t=0,s=n.length;t<s;++t){const o=n[t],a=o.GetRect();if(this.bEt++,i.Bu(a,e,h)){const u=o.GetPoly();if(!u)return G.On(n),!0;if(this.vEt++,T.dl(i,0,0),u.jl(T,-(e+a.gu()),-(h+a.yu())))return G.On(n),!0}}return G.On(n),!1}KEt(t,s){if(t){const i=t.l7();i.RR()&&(this.bEt++,i.MR().zu(s.rect))&&(t.bvt()?this.$Et(t,i,s):(this.vEt++,i.CIt()?s.t_t(t,i.a4(),i.c4(),i.GIt()):s.s_t(t,i.SR())))}}$Et(i,e,h){const r=e.a4(),n=e.c4(),o=S;i.LP().GetCollisionRectCandidates(h.rect,o);for(let t=0,s=o.length;t<s;t++){const a=o[t],u=a.GetRect();if(this.bEt++,h.rect.Bu(u,r,n)){const l=a.GetPoly();this.vEt++,l?h.t_t(i,r+u.gu(),n+u.yu(),l):h.i_t(i,e.a4(),e.c4(),u)}}G.On(o)}rL(t,s){if(t!==this.wEt||s!==this.SEt){this.wEt=t,this.SEt=s;const i=this.$c.hQ();for(const e of i)if(e.SL()){for(const h of e.$L())h.l7().aIt();e.kxt().e_t(t,s),e.Fxt();for(const r of e.$L()){const n=r.l7();n.kIt(),n.zxt()}}}}oL(){return[this.wEt,this.SEt]}h_t(t,s){this.wEt=t,this.SEt=s}}}{const Pa=self.js;Pa.pbt=class extends Pa.tr{constructor(t,s){super(),this.fU=t,this.dU=s,this.pU=Pa.er(Pa.Jl)}hr(){this.pU.hr(),this.pU=null}e_t(t,s){if(!this.pU.Hl())throw new Error("grid not empty");this.fU=t,this.dU=s}mU(t,s,i){let e=this.pU.hi(t,s);return e||(i?(e=Pa.er(Pa.r_t,this,t,s),this.pU.Set(t,s,e),e):null)}gU(t){const s=Math.floor(t/this.fU);return isFinite(s)?s:0}yU(t){const s=Math.floor(t/this.dU);return isFinite(s)?s:0}MU(e,h,r){if(h)for(let i=h.gu(),t=h.Mu();i<=t;++i)for(let t=h.yu(),s=h.wu();t<=s;++t)if(!r||!r.Uu(i,t)){const n=this.mU(i,t,!1);n&&(n.p0(e),n.Hl())&&this.pU.ql(i,t)}if(r)for(let i=r.gu(),t=r.Mu();i<=t;++i)for(let t=r.yu(),s=r.wu();t<=s;++t)h&&h.Uu(i,t)||this.mU(i,t,!0).aU(e)}wU(t,s){let i=this.gU(t.gu()),e=this.yU(t.yu()),h=this.gU(t.Mu()),r=this.yU(t.wu());if(isFinite(h)&&isFinite(r))for(;i<=h;++i)for(let t=e;t<=r;++t){const n=this.mU(i,t,!1);n&&n.lU(s)}}}}{const ka=self.js;ka.r_t=class extends ka.tr{constructor(t,s,i){super(),this.sU=t,this.Ya=s,this.Ha=i,this.iU=ka.er(ka.$l)}hr(){this.iU.hr(),this.iU=null,this.sU=null}Hl(){return this.iU.Hl()}aU(t){this.iU.ec(t)}p0(t){this.iU.ql(t)}lU(t){ka.Jh(t,this.iU.hc())}}}{const Fa=self.js;Fa.n_t=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Fa.Rect,this.o_t=2,this.a_t=null,this.u_t=0,this.l_t=0,this.c_t=0,this.f_t=0,this.d_t=0,this.It=0,this.p_t=1,this.m_t=0,this.g_t=1,this.y_t=0}M_t(){return this.o_t<1+1e-6}i0(){this.o_t=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.o_t=2,this.a_t=null,this.u_t=0,this.l_t=0,this.c_t=0,this.f_t=0,this.d_t=0,this.It=0,this.p_t=1,this.m_t=0,this.g_t=1,this.y_t=0,this}w_t(){if(!1!==this.M_t()){const t=this.dx*this.o_t,s=this.dy*this.o_t,i=Math.hypot(t,s),e=t/i,h=s/i,r=(this.It=i-1e-6,this.f_t=this.x1+e*this.It,this.d_t=this.y1+h*this.It,this.u_t=Math.atan2(this.c_t,this.l_t)+Math.PI/2,this.p_t=Math.cos(this.u_t),this.m_t=Math.sin(this.u_t),e*this.p_t+h*this.m_t);if(this.g_t=e-2*this.p_t*r,this.y_t=h-2*this.m_t*r,0<r){const n=Math.PI;this.u_t=Fa.dr(this.u_t+n),this.p_t=-this.p_t,this.m_t=-this.m_t}}}S_t(t,s,i,e,h){const r=Fa.un(this.x1,this.y1,this.x2,this.y2,s,i,e,h);0<=r&&r<this.o_t&&(this.o_t=r,this.a_t=t.l8(),this.l_t=s-e,this.c_t=i-h)}i_t(t,s,i,e){const h=s+e.gu(),r=s+e.Mu(),n=i+e.yu(),o=i+e.wu();this.S_t(t,h,n,r,n),this.S_t(t,r,n,r,o),this.S_t(t,r,o,h,o),this.S_t(t,h,o,h,n)}s_t(t,s){const i=s.Xr(),e=s.Kr(),h=s.$r(),r=s.tn(),n=s.sn(),o=s.hn(),a=s.rn(),u=s.nn();this.S_t(t,i,e,h,r),this.S_t(t,h,r,n,o),this.S_t(t,n,o,a,u),this.S_t(t,a,u,i,e)}t_t(i,e,h,t){const r=t.Nl();for(let t=0,s=r.length;t<s;t+=2){const n=(t+2)%s,o=r[t]+e,a=r[t+1]+h,u=r[n]+e,l=r[1+n]+h;this.S_t(i,o,a,u,l)}}}}{const C=self.js,ja=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),za=new Set(["high","low"]),Ba=self.ys,xh=Ba.Ts,vh=Ba.Cs,Ua=xh.create(),Wa=C.er(C.Vu),I=C.er(C.Rect);C.T_t=class extends C.tr{constructor(t){super(),this.$c=t,this.b_t=[],this.x_t=!1,this.v_t=null,this.C_t=null,this.G_t=null,this.I_t="high-performance",this.E_t=!1,this.__t=0,this.D_t=0,this.N_t="",this.A_t=0,this.L_t=0,this.O_t=0,this.R_t=0,this.P_t=0,this.k_t=0,this.M2="normalized",this.F_t=0,this.j_t=1,this.z_t=1e4,this.Z2=!0,this.B_t=0,this.k_=0,this.F_=0,this.U_t="letterbox-scale",this.W_t="letterbox-scale",this.Q_t=0,this.J_t=0,this.V_t=xh.create(),this.Y_t="high",this.H_t=this.Y_t,this.q_t=!1,this.Z_t=[],this.X_t=new Set,this.K_t=self.C3_Shaders,this.$_t=C.er(C.Hg.BE,{kE:()=>[this.jJ(),this.zJ()],FE:()=>this.tDt(),jE:t=>this.sDt(t),getTime:()=>this.N7().MA(),zE:()=>this.N7().y7()}),this.iDt=0,this.eDt=0,this.hDt=NaN,this.rDt=null,this.nDt=new Map,this.oDt=NaN,this.aDt=new Map,this.uDt="",this.lDt=1,this.cDt=C.er(C.Rect),this.fDt="",this.dDt=null,this.pDt=null,this.mDt=0,this.gDt=0,this.yDt=-1,this.MDt=0,this.wDt=t=>this.MDt=t.progress,this.SDt=null,this.TDt={bDt:null,xDt:null,vDt:null},this.CDt=0,this.GDt=0,this.IDt=0,this.EDt="fade-in",this._Dt=null,this.DDt=new Promise(t=>this._Dt=t)}NDt(t){this.I_t=t}ADt(t){this.x_t=!!t}LDt(t){this.M2=t}ODt(){return this.M2}RDt(t){this.F_t=t}PDt(t,s){this.j_t=t,this.z_t=s}kDt(t){this.E_t=!!t}async Go(t){let s=t.canvas,i=(this.b_t.push({canvas:s,FDt:null}),this.$c.F8("runtime","window-resize",t=>this.jDt(t)),this.$c.F8("runtime","fullscreenchange",t=>this.zDt(t)),this.$c.F8("runtime","fullscreenerror",t=>this.BDt(t)),s.addEventListener("webglcontextlost",t=>this.UDt(t)),s.addEventListener("webglcontextrestored",t=>this.WDt(t)),this.q_t=!!t.isFullscreen,this.N_t=t.cssDisplayMode,navigator.gpu&&this.x_t),e=!1;if(i)try{await this.QDt(!0)}catch(t){this.JDt("WebGPU",t),this.C_t=null}if(!this.Nw())try{await this.VDt(!0)}catch(t){this.JDt("WebGL",t),this.v_t=null}if(this.Nw()||(e=!0),!this.Nw()&&i)try{await this.QDt(!1)}catch(t){this.JDt("WebGPU",t),this.C_t=null}if(!this.Nw())try{await this.VDt(!1)}catch(t){this.JDt("WebGL",t),this.v_t=null}const h=this.Nw();if(!h)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");h.aw(e),this.C_t&&(this.C_t.YDt=()=>this.HDt(),this.C_t.qDt=()=>this.ZDt()),"normalized"===this.M2?h.Ty():(h.by(),h.wy(this.F_t)),this.Yv(t.windowInnerWidth,t.windowInnerHeight,!0),await this.sEt()}JDt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async QDt(t){const s={u2:this.j_t,l2:this.z_t},i={powerPreference:this.I_t,depth:this.$c.YQ(),failIfMajorPerformanceCaveat:t,XDt:this.$c.HJ(),KDt:this.$c.$Dt(),iG:this.$c.tNt()};this.C_t=C.er(C.Hg.WebGPURenderer,s),await this.C_t.W5(this.b_t[0].canvas,i)}async VDt(t){const s={alpha:!0,powerPreference:this.I_t,sG:"xbox-uwp-webview2"!==this.$c.iB(),depth:this.$c.YQ(),iG:this.$c.tNt(),failIfMajorPerformanceCaveat:t,u2:this.j_t,l2:this.z_t};this.E_t&&(s.eG=1),this.v_t=C.er(C.Hg.nG,this.b_t[0].canvas,s),await this.v_t.ey()}async sNt(){if(this.K_t){const t=[];for(const[s,i]of Object.entries(this.K_t)){i.src=i.wgsl;const e=C.Hg.WebGPUShaderProgram.dT();t.push(this.C_t.uI(Object.assign({z5:e,name:s},i)))}await Promise.all(t)}}async iNt(){if(this.K_t){const s=[];for(const[i,e]of Object.entries(this.K_t)){let t;if(e.glslWebGL2&&2<=this.v_t._S())e.src=e.glslWebGL2,t=C.Hg.F5.pT();else{if(!e.glsl)throw new Error(`shader '${i}' does not support WebGL 1`);e.src=e.glsl,t=C.Hg.F5.dT()}s.push(this.v_t.uI(Object.assign({z5:t,name:i},e)))}await Promise.all(s),this.v_t.lI(),this.v_t.Ly()}this.v_t.vE()&&(this.rDt=C.er(C.Hg.JC,this.v_t))}async sEt(){this.C_t?await this.sNt():this.v_t&&await this.iNt();const t=this.Nw();t.rw(this.Z2),t.vE()&&(this.hDt=0);for(const s of this.$c.eNt()){for(const i of s.p6())i.sEt(t);s.sEt(t),s.XP()}this.G_t=new self.fj(this.$c,t)}hr(){this.$c=null,this.v_t=null,this.b_t.length=0}AN(){return this.$c.AN()}jDt(t){const s=this.$c;if(!s.hNt()){const i=t.devicePixelRatio,e=(this.AN()&&(self.devicePixelRatio=i),s.rNt(i),this.q_t=!!t.isFullscreen,this.N_t=t.cssDisplayMode,this.Yv(t.innerWidth,t.innerHeight),s.y7(),new C.Event("window-resize")),h=(e.data=t,s.Rf().Jf(e),new C.Event("resize"));h.nNt=this.pF(),h.oNt=this.mF(),h.aNt=this.uNt(),h.lNt=this.cNt(),s.ZH(h),s.XH()&&(s.y1t()||self.C3Debugger.IsDebuggerPaused())&&s.pD()}}zDt(t){this.q_t=!!t.isFullscreen,this.Yv(t.innerWidth,t.innerHeight,!0),this.$c.y7()}BDt(t){this.q_t=!!t.isFullscreen,this.Yv(t.innerWidth,t.innerHeight,!0),this.$c.y7()}Yv(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.__t!==t||this.D_t!==s||i){this.__t=t,this.D_t=s;const e=this.fNt();"letterbox-scale"===e?this.dNt(t,s):"letterbox-integer-scale"===e?this.pNt(t,s):"off"===e?this.mNt(t,s):this.gNt(t,s),this.yNt(e);for(const{canvas:n}of this.b_t)n.width=this.O_t,n.height=this.R_t;this.$c.ef("canvas","update-size",{marginLeft:this.P_t,marginTop:this.k_t,styleWidth:this.A_t,styleHeight:this.L_t,displayScale:this.gF()});const h=this.Nw();h.Yv(this.O_t,this.R_t,!0);for(const o of this.Z_t)h.ME(o);C.On(this.Z_t),this.MNt();const r=this.$c.QA();r.Sq(),r.Tq()}}MNt(){this.Nw().vy(this.V_t,this.jJ()/this.zJ())}BJ(){return this.V_t}dNt(t,s){const i=this.$c.gQ(),e=this.$c.ON(),h=this.$c.PN(),r=e/h,n=t/s;if(r<n){const o=s*r;this.A_t=Math.round(o),this.L_t=s,this.P_t=Math.floor((t-this.A_t)/2),this.k_t=0}else{const a=t/r;this.A_t=t,this.L_t=Math.round(a),this.P_t=0,this.k_t=Math.floor((s-this.L_t)/2)}this.O_t=Math.round(this.A_t*i),this.R_t=Math.round(this.L_t*i),this.$c.wNt(e,h)}pNt(t,s){let i=this.$c.gQ(),e=(1!==i&&(t+=1,s+=1),this.$c.ON()),h=this.$c.PN(),r=e/h,n=t/s,o;if(r<n){const a=s*r;o=a*i/e}else{const u=t/r;o=u*i/h}1<o?o=Math.floor(o):o<1&&(o=1/Math.ceil(1/o)),this.O_t=Math.round(e*o),this.R_t=Math.round(h*o),this.A_t=this.O_t/i,this.L_t=this.R_t/i,this.P_t=Math.max(Math.floor((t-this.A_t)/2),0),this.k_t=Math.max(Math.floor((s-this.L_t)/2),0),this.$c.wNt(e,h)}gNt(t,s){const i=this.$c.gQ(),e=(this.A_t=t,this.L_t=s,this.O_t=Math.round(this.A_t*i),this.R_t=Math.round(this.L_t*i),this.P_t=0,this.k_t=0,this.gF());this.$c.wNt(this.A_t/e,this.L_t/e)}mNt(t,s){const i=this.$c.gQ();this.A_t=this.$c.kQ(),this.L_t=this.$c.FQ(),this.O_t=Math.round(this.A_t*i),this.R_t=Math.round(this.L_t*i),this.SNt()?(this.P_t=Math.floor((t-this.A_t)/2),this.k_t=Math.floor((s-this.L_t)/2)):(this.P_t=0,this.k_t=0),this.$c.wNt(this.$c.kQ(),this.$c.FQ())}yNt(i){if("high"===this.Y_t)this.k_=this.O_t,this.F_=this.R_t,this.H_t="high";else{let t,s;if(s="off"===this.fNt()?(t=this.$c.kQ(),this.$c.FQ()):(t=this.$c.ON(),this.$c.PN()),this.O_t<t||this.R_t<s)this.k_=this.O_t,this.F_=this.R_t,this.H_t="high";else if(this.k_=t,this.F_=s,this.H_t="low","scale-inner"===i){const e=t/s,h=this.__t/this.D_t;h<e?this.k_=this.F_*h:e<h&&(this.F_=this.k_/h)}else if("scale-outer"===i){const r=t/s,n=this.__t/this.D_t;r<n?this.k_=this.F_*n:n<r&&(this.F_=this.k_/n)}}}N7(){return this.$c}TNt(){return this.b_t[0].canvas}yW(){return this.$_t}SNt(){return this.q_t}bNt(){return this.N_t}xNt(t){if(!ja.has(t))throw new Error("invalid fullscreen mode");this.U_t=t;const s=this.$c.QA();s.Sq(),s.Tq()}fF(){return this.U_t}vNt(t){if(!ja.has(t))throw new Error("invalid fullscreen mode");this.W_t=t;const s=this.$c.QA();s.Sq(),s.Tq()}CNt(){return this.W_t}fNt(){return this.SNt()?this.CNt():this.fF()}GNt(t){if(!za.has(t))throw new Error("invalid fullscreen scaling quality");this.Y_t=t,this.$c.QA().Sq()}INt(){return this.Y_t}qJ(){return this.H_t}static ENt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}qk(){return this.__t}Xk(){return this.D_t}jJ(){return this.k_}zJ(){return this.F_}rw(t){this.Z2=!!t}_Nt(t){this.B_t=t}qB(){return this.B_t}DNt(){return this.Nw().bC()}UDt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.Z_t=[],this.X_t.clear(),this.$_t.$w(),this.v_t.$w(),this.$c.qY()}HDt(){console.log("[Construct] WebGPU device lost"),this.Z_t=[],this.X_t.clear(),this.$_t.$w(),this.$c.qY()}async WDt(t){await this.v_t.t4(),await this.sEt(),await this.$c.NNt(),console.log("[Construct] WebGL context restored")}async ZDt(){await this.sEt(),await this.$c.NNt(),console.log("[Construct] WebGPU device restored")}ANt(){return this.v_t}LNt(){return this.C_t}Nw(){return this.C_t||this.v_t}fxt(){return this.G_t}YO(){return"low"===this.H_t?1/this.$c.gQ():this.gF()}gF(){const t=this.fNt();if("off"===t||"crop"===t)return 1;const s=this.$c.ON(),i=this.$c.PN(),e=s/i,h=this.O_t/this.R_t;return"scale-inner"!==t&&e<h||"scale-inner"===t&&h<e?this.L_t/i:this.A_t/s}wV(){return"low"===this.qJ()?1:this.gF()}yV(){return"low"===this.qJ()?1:this.$c.gQ()}ONt(t,s){this.Q_t=t,this.J_t=s}Xj(s,i,e,t=!0){i=i||this.k_,e=e||this.F_;const h=i/2+this.Q_t,r=e/2+this.J_t;if(t){let t=this.BJ();i===this.k_&&e===this.F_||(s.vy(Ua,i/e),t=Ua),s.fI(t)}const n=s.Ey(h,r,s.ny(e),h,r,0,e);s.MI(n)}RNt(t,s=!0){const i=this.pF(),e=this.mF(),h=i/2,r=e/2,n=(s&&t.fI(this.BJ()),t.Ey(h,r,t.ny(e),h,r,0,e));t.MI(n)}uNt(){return this.O_t}cNt(){return this.R_t}pF(){return this.A_t}mF(){return this.L_t}FO(){return this.P_t}jO(){return this.k_t}AY(){return this.b_t.length}PNt(){return"undefined"!=typeof OffscreenCanvas&&this.TNt()instanceof OffscreenCanvas&&("Chromium"!==C.ci.Mi||124<=C.ci.yi)}async tH(i,e=!1){if(i<1)throw new Error("invalid HTML layer count");if(this.b_t.length!==i){let t={count:i,immediate:e,marginLeft:this.P_t,marginTop:this.k_t,styleWidth:this.A_t,styleHeight:this.L_t},s;if(s=this.AN()?await this.$c.w7("canvas","set-html-layer-count",t):self.c3_runtimeInterface._OnSetHTMLLayerCount(t),i<this.b_t.length)this.b_t.length=i;else for(const h of s.addedCanvases){h.width=this.O_t,h.height=this.R_t;const r=this.PNt()?"bitmaprenderer":"2d",n=h.getContext(r);if(!n)throw new Error(`failed to acquire '${r}' canvas context`);this.b_t.push({canvas:h,FDt:n})}this.$c.y7()}}YH(t){if(!(t>=this.b_t.length)){const s=this.TNt(),i=this.b_t[t].FDt;this.PNt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}}ZJ(s){s.depth=this.$c.YQ();let t=this.Z_t,i=t.findIndex(t=>t.A5(s)),e;return-1!==i?(e=t[i],t.splice(i,1)):e=this.Nw().dE(s),this.X_t.add(e),e}wW(t){if(!this.X_t.has(t))throw new Error("render target not in use");this.X_t.delete(t),this.Z_t.push(t)}tDt(){const t={lS:this.$c.kN()};return"low"===this.qJ()&&(t.width=this.jJ(),t.height=this.zJ()),this.ZJ(t)}sDt(t){this.wW(t)}*kNt(){for(const t of this.$c.QA().yq())for(const s of t.D6()){const i=this.nDt.get(s);i&&(yield i)}}JJ(t){if(!this.Nw().vE())return null;let s=this.nDt.get(t);return s||(s={uR:t,name:t.Jc(),FNt:C.er(C.Hg.JC,this.v_t),jNt:0,zNt:0,BNt:0},this.nDt.set(t,s)),s.FNt}UNt(){const t=this.Nw();if(t.vE()&&0===this.eDt){this.eDt=t.ew(),this.oDt=NaN;for(const s of this.kNt())s.jNt=NaN}}WNt(){this.v_t&&this.v_t.vE()&&this.QNt(),this.C_t&&this.C_t.vE()&&this.JNt()}QNt(){if(isNaN(this.oDt)&&(this.oDt=this.rDt.KC(this.iDt,this.eDt),!isNaN(this.oDt))){if(this.$c.XH())for(const t of this.kNt())if(t.jNt=t.FNt.KC(this.iDt,this.eDt),isNaN(t.jNt))return;if(this.rDt.$C(this.eDt),this.hDt=Math.min(this.oDt,1),this.$c.XH()){const i=new Map;for(const h of this.kNt())h.FNt.$C(this.eDt),h.zNt=Math.min(h.jNt,1),i.set(h.uR,h.zNt);for(const r of this.kNt()){const n=r.uR,o=i.get(n)||0,a=o-n.tO().reduce((t,s)=>t+(i.get(s)||0),0);r.BNt=C.cr(a,0,1)}const s=this.$c.BA(),e=this.hDt-s.fQ().reduce((t,s)=>t+(i.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(C.cr(e,0,1),this.hDt,[...this.kNt()])}this.iDt=this.eDt,this.eDt=0}}VNt(){return this.rDt}JNt(){if(0!==this.eDt){for(let t=this.iDt;t<this.eDt;++t){const i=this.aDt.get(t);if(i&&!i.OC())return}let t=this.$c.BA(),n=C.ko(t.GY()+1,0),s=0;for(let t=this.iDt;t<this.eDt;++t){const o=this.aDt.get(t);if(o){let i=o.RC(),e=BigInt(0),h=BigInt(0),r=BigInt(0);for(let t=0,s=Math.min(n.length,i.length/2);t<s;++t){const l=i[2*t],c=i[2*t+1],f=(l!==r&&(e===r||l<e)&&(e=l),c>h&&(h=c),c-l),d=Number(f)/1e9;n[t]+=d}const a=h-e,u=Number(a)/1e9;s+=u}}if(this.hDt=C.cr(s,0,1),this.$c.XH()){const e=t.D6(),h=new Map;for(let t=0,s=Math.min(e.length,n.length-1);t<s;++t){const g=n[t+1];h.set(e[t],g)}const r=[],p=new Map;for(const[y,M]of h){const w=[...y.iO()].reduce((t,s)=>t+(h.get(s)||0),0);p.set(y,w),r.push({name:y.Jc(),BNt:C.cr(M,0,1),zNt:C.cr(w,0,1)})}const m=this.hDt-t.fQ().reduce((t,s)=>t+(p.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(C.cr(m,0,1),this.hDt,r)}for(let t=this.iDt;t<this.eDt;++t)this.aDt.delete(t);this.iDt=this.eDt,this.eDt=0}}YNt(t){this.aDt.set(this.C_t.ew(),t)}DA(){return this.hDt}HNt(t,s,i,e,h,r){return this.uDt=t,this.lDt=s,this.cDt.au(i,e,h,r),this.dDt||(this.dDt=new Promise(t=>{this.pDt=t})),this.dDt}qNt(){if(this.uDt){let t=this.TNt(),s=this.cDt,i=C.cr(Math.floor(s.gu()),0,t.width),e=C.cr(Math.floor(s.yu()),0,t.height),h=s.width(),r=(h=0===h?t.width-i:C.cr(Math.floor(h),0,t.width-i),s.height());if(r=0===r?t.height-e:C.cr(Math.floor(r),0,t.height-e),(0!==i||0!==e||h!==t.width||r!==t.height)&&0<h&&0<r){const n=C.Go(h,r),o=n.getContext("2d");o.drawImage(t,i,e,h,r,0,0,h,r),t=n}C.Io(t,this.uDt,this.lDt).then(t=>{this.fDt&&URL.revokeObjectURL(this.fDt),this.fDt=URL.createObjectURL(t),this.dDt=null,this.pDt(this.fDt)}),this.uDt="",this.lDt=1}}ZNt(){return this.fDt}XNt(t){t?this.mDt++:this.mDt--}KNt(){return 0<this.mDt}$Nt(t){const s=this.Nw();if(2===t)this.SDt=C.er(C.Hg.gw,this.Nw()),this.SDt.xv("Arial"),this.SDt.vv(16),this.SDt.Fv("center"),this.SDt.zv("center"),this.SDt.Yv(300,200);else if(0===t){const i=this.$c.tAt();i&&i.Wj(s).catch(t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t))}else 4===t&&(this.sAt("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=").then(t=>{"done"===this.EDt?s.y5(t):this.TDt.bDt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.iAt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFY0lEQVR42u2aPW/bVhSGn1iiPizZ8D+QgSJBNglFmiboQA0NUKAD1XotYA0BOspAkZnqx24vnTrIQNCpg4QkQMcYKDoW9j9w5y6qLNqWFDlvh3tJUa6ddHBhAuS7SKBIQffhuee851CQKVOmTJkyZcqUKXmqa8O+uyNlABKsFRmdP0o5AOle2gHoWdoBzFrpBHACwPeetJNmAFSlt6kGwGH0LqUAVqRuqgHkpEaqAVRkfvOWr+Dh9Rc4j6VvwnrhPNAbgK2ezj+yx7Z6GjUuASi4Ch4lHQAGwBeRK1rROQAdUx5K0hE4NUkaAdS02ZEuoms2wkCSgvYSgFJfkn6CobkSPG0mEcAOrHnGFOxAToHNjk/MygLgO/PxL0BN9yRdQKlufMQAoCdJGi8BOJYknXTJ269cu9HtdqNb4Ni6oimUbFb0dAZQ1DmULJ+TFtT0qQHwg73mLlCMfFUMQPR5VWrbmttNHICC1KDiSZ+w3pMOwFPDhP4IYFtv4ZX0nIorbUBNmjWAiqdZg5fmNFd6jvPhJQDjAV9LI0r28IpmycsBZalNWfoRWJcuoKY9c7cCkwpOwdcIqNT1BmrSgQkNbQAvpAGOF+aHOIBpCxhKR/TVBNjVOHkAOgrg2N6aoU7sklmVidtD7bNm/fIrjaBmk+Sxea142iBnTyguAfjZZscNXLOdXFM8EgVgXRpDz/6yonTEts6AXdV1APTVoKigFSXEmj3XN0kSV01WFQwAHC8O4Mhagye8NgHS137SALzsS3dxwhtXkQ4oaw64eqomOFKXbc2xJbFLTX8DOHYnsKsJu2Gdu8IIuTqjrMB8eyM5ACIFXQo2S5t7lNMM6AdFTaCgADqahHW8EQIohBk9rzEdE+JXAtjVmHWpDTmplUAA96Ea/bJDnVKSWjgaFTSHqubgmjVDXQchgFy4wBXNcXV6LYC8RjbEypomcCAyBopRShxqAn21yenM8WawqjOoKVbmLYBFndeImsnyVwJY1RR8NW1FTRiA6UNTCsP6fKwLONQBZTXx1WVbT0KbtwygvAxg81oAZU0xe2QYxkmyrDDx2DzWBXTUZFs7dNQwHUEMwN4VAKb47wOQ1wj8Gx0+/Y8A8powVJtt7XOoxn8A8N4IqCrA8cJUmzgAl3JAUWN8tSjqDX0NwI/XbwugGLe178oBK7bBaBesm0gggOUqwLrOHe8c1jV2NAMOw/XFAFRth2dr/burANS1cSc0C8kDsB7zAZvgKCjoLTiaFqwpmvwLQC7e2b3PB4CrZj48KXkAKktOEPr6VqeAr680udzEWACluK0LreJ1ThBe6+w4HkfJAhD1AtbAu3qgPcDVX2oCK9bqxwFQ1+fRsVW7va/uBZpAWaND652TCGBoM1rHHN6VmQlsq6cdE+4mC75oLAC49prKB1zTDd6NukHIKahbIkkEsGrmAQWZbZqXNLClrg04dTP4KnjnCwBfmgkZT7WD45k94C8BmA3MPGBgeqcbfQBxwwDsRMi3N7Iqc3dzsuVhV5ofkevpJOoGKUn6Ax5L92F49USoayZCls08uQDiM0ETCWPb8k7DMmH02SICGC7ayVhnsABwEpsZQkfxUpI4ALGpsFn4xCbHcVjnwgnvAkBh0U6CbzqrXgzA1E6FB9YOJGcacgUAfl36t0Ro/SIDUDEL/D1WBcJr5q0oRoJ2LQZgZJ4LPIu2RCPJAJafDLm2Yr2OHmQ4H0vzBksA2PKl38L3fY0aLAFYejK0ZpJhelVKzkj8dlRNzkj8dpRP0DTkVjTUXroB9PVnqtefS9I05BZU8NOdAyUl5q8RtwUg6KYcwP1Up8CanpMpU6ZMmTLdgP4BRYsi23xEdOAAAAAASUVORK5CYII=").then(t=>{"done"===this.EDt?s.y5(t):this.TDt.xDt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.iAt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then(t=>{"done"===this.EDt?s.y5(t):this.TDt.vDt=t}).catch(t=>console.warn("Failed to load splash image: ",t)))}async sAt(t){t=new URL(t,this.$c.eAt()).toString();const s=await C.wo(t),i=await this.$c.hAt(s,2048,2048);return this.Nw().fE(i,{pS:"high"})}async iAt(t){t=new URL(t,this.$c.eAt()).toString();const s=await C.wo(t);return this.Nw().fE(s,{pS:"high"})}rAt(){this.$c.ef("runtime","hide-cordova-splash")}nAt(){this.gDt=Date.now(),this.$c.Rf().addEventListener("loadingprogress",this.wDt),this.yDt=requestAnimationFrame(()=>this.oAt());const t=this.$c.aAt();3!==t&&this.rAt()}async uAt(){const t=this.Nw(),s=(this.MDt=1,this.$c.aAt());4===s&&await this.DDt,this._Dt=null,this.DDt=null,-1!==this.yDt&&(cancelAnimationFrame(this.yDt),this.yDt=-1),this.$c.Rf().removeEventListener("loadingprogress",this.wDt),this.wDt=null,this.SDt&&(this.SDt.hr(),this.SDt=null),this.$c.lAt(),t.iE(),this.TDt.bDt&&(t.y5(this.TDt.bDt),this.TDt.bDt=null),this.TDt.xDt&&(t.y5(this.TDt.xDt),this.TDt.xDt=null),this.TDt.vDt&&(t.y5(this.TDt.vDt),this.TDt.vDt=null),t.sE(0,0,0,0),t.$M(),this.EDt="done",this.iDt=t.ew(),3===s&&this.rAt()}oAt(){if(-1!==this.yDt){const t=this.Nw(),s=(t.iE(),this.yDt=-1,this.$c.TN().wB()),i=this.$c.aAt();if(3!==i&&(this.RNt(t),t.sE(0,0,0,0),t.GI(),t.Ly(),t.EI(null)),0===i)this.cAt(s);else if(1===i)this.fAt(s,120,0);else if(2===i)this.dAt(s);else if(3===i)C.Dn();else{if(4!==i)throw new Error("invalid loader style");this.pAt(s)}t.$M(),this.yDt=requestAnimationFrame(()=>this.oAt())}}dAt(t){t?this.SDt.kv(1,0,0):this.SDt.kv(.6,.6,.6),this.SDt.hf(Math.round(100*this.MDt)+"%");const s=this.A_t/2,i=this.L_t/2,e=(Wa.sl(s-150,i-100,150+s,100+i),this.Nw());e.EI(this.SDt.x5()),e.vM(Wa,this.SDt.vC())}fAt(t,s,i){const e=this.Nw(),h=(e.jy(),t?e.vI(1,0,0,1):e.vI(.118,.565,1,1),this.A_t/2),r=this.L_t/2,n=s/2;I.au(h-n,r-4+i,Math.floor(s*this.MDt),8),e.Rect(I),I.au(h-n,r-4+i,s,8),I.offset(-.5,-.5),I._u(.5,.5),e.vI(0,0,0,1),e._M(I),I._u(1,1),e.vI(1,1,1,1),e._M(I)}cAt(t){const s=this.Nw(),i=this.$c.tAt();if(i){const e=i.x5();if(e){const h=e.$p(),r=e.dm(),n=this.A_t/2,o=this.L_t/2,a=h/2,u=r/2;Wa.sl(n-a,o-u,n+a,o+u),s.EI(e),s.Vu(Wa),this.fAt(t,h,16+u)}else this.fAt(t,120,0)}else this.fAt(t,120,0)}pAt(t){let s=this.Nw(),i=this.TDt.bDt,e=this.TDt.xDt,h=this.TDt.vDt,r=Date.now(),n=(0===this.CDt&&(this.gDt=r),this.$c.mAt()||this.$c.gAt()&&!this.$c.yAt()),o=n?0:200,a=n?0:3e3,u=1,l=("fade-in"===this.EDt?u=Math.min((r-this.gDt)/300,1):"fade-out"===this.EDt&&(u=Math.max(1-(r-this.IDt)/300,0)),s.jy(),s.vI(.231*u,.251*u,.271*u,u),I.set(0,0,this.A_t,this.L_t),s.Rect(I),Math.ceil(this.A_t)),c=Math.ceil(this.L_t),f,d;256<this.L_t?(s.vI(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),I.au(0,.8*c-d/2,f,d),s.Rect(I),t?s.vI(u,0,0,u):s.vI(.161*u,.953*u,.816*u,u),f=l*this.MDt,I.au(.5*l-f/2,.8*c-d/2,f,d),s.Rect(I),s.vI(u,u,u,u),s.Ly(),e&&(f=1.5*C.cr(.22*c,105,.6*l),d=f/8,I.au(.5*l-f/2,.2*c-d/2,f,d),s.EI(e),s.Rect(I)),i&&(f=Math.min(.395*c,.95*l),d=f,I.au(.5*l-f/2,.485*c-d/2,f,d),s.EI(i),s.Rect(I)),h&&(f=1.5*C.cr(.22*c,105,.6*l),d=f/8,I.au(.5*l-f/2,.868*c-d/2,f,d),s.EI(h),s.Rect(I))):(s.vI(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),I.au(0,.85*c-d/2,f,d),s.Rect(I),t?s.vI(u,0,0,u):s.vI(.161*u,.953*u,.816*u,u),f=l*this.MDt,I.au(.5*l-f/2,.85*c-d/2,f,d),s.Rect(I),s.vI(u,u,u,u),s.Ly(),i&&(f=.55*c,d=f,I.au(.5*l-f/2,.45*c-d/2,f,d),s.EI(i),s.Rect(I))),this.CDt++,"fade-in"===this.EDt&&300<=r-this.gDt&&2<=this.CDt&&(this.EDt="wait",this.GDt=r),"wait"===this.EDt&&r-this.GDt>=a&&1<=this.MDt&&(this.EDt="fade-out",this.IDt=r),("fade-out"===this.EDt&&r-this.IDt>=300+o||n&&1<=this.MDt&&r-this.gDt<500)&&this._Dt()}}}{let B=self.js,U=self.C3Debugger,i={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""},n=!0;B.MAt=class extends B.tr{constructor(t){t=Object.assign({},i,t),super(),this.wAt=t.messagePort,this.SAt=t.runtimeBaseUrl,this.TAt=t.previewUrl,this.bAt=!!t.headless,this.xAt=!!t.hasDom,this.vAt=!!t.isInWorker,n=t.ife,this.CAt=!!t.useAudio,this.GAt=t.exportType,this.Sz=!!t.isiOSCordova,this.IAt=!!t.isiOSWebView,this.EAt=!!t.isWindowsWebView2,this._At=!!t.isAnyWebView2Wrapper,this.DAt=!!t.isFBInstantAvailable,this.NAt=!("preview"!==this.GAt||!t.isDebug),this.AAt=this.NAt,this.LAt=this.NAt,this.OAt=0,this.RAt=[],this.PAt=[],this.kAt=!1,this.FAt="",this.jAt="",this.zAt="",this.BAt="",this.UAt=0,this.WAt=0,this.V_=self.devicePixelRatio,this.QAt=0,this.JAt=0,this.VAt=0,this.YAt=0,this.HAt=0,this.qAt=!1,this.Dg=!0,this.ZAt=!1,this.XAt=!1,this.KAt=!1,this.$At=null,this.RB=B.er(B.gz,this,t),this.RV=B.er(B.tq,this),this.jct=B.er(B.kft,this),this.t7t=B.er(B.mL,this,t.wrapperComponentIds),this.s7t=B.er(B.MEt,this),this.LK=B.er(B.bq,this),this.i7t=B.er(B.Aat,this),this.e7t=B.er(B.Oat,this),this.Hat=B.er(B.Uat,this),this.Cg=B.er(B.dg,{gg:t=>this.h7t(t),Mg:t=>this.r7t(t)}),this.n7t=new Map,this.o7t=[],this.a7t=new Map,this.u7t=new Map,this.l7t=0,this.c7t=[],this.f7t=new Set,this.d7t=[],this.p7t=[],this.m7t=new Map,this.g7t=!1,this.y7t=!1,this.M7t=0,this.w7t=0,this.S7t=new Map,this.T7t=new Set,this.b7t=new Set,this.x7t=[],this.v7t=[],this.C7t=null,this.G7t=!1,this.I7t="vsync",this.TS="trilinear",this.E7t=!1,this._7t=!0,this.D7t=!1,this.N7t=!1,this.A7t=null,this.L7t={O7t:t=>{this.yDt=-1,this.R7t=-1,this.JZ(t)},P7t:t=>{this.R7t=-1,this.JZ(t,!1,"skip-render")},k7t:()=>{this.yDt=-1,this.pD()}},this.yDt=-1,this.R7t=-1,this.F7t=0,this.j7t=0,this.z7t=!1,this.B7t=!1,this.U7t=!1,this.W7t=!0,this.Q7t=!0,this.J7t=!1,this.V7t=0,this.Y7t=new B.n1(1),this.H7t=()=>Math.random(),this.q7t=0,this.Z7t=0,this.X7t=0,this.K7t=0,this.$7t=0,this.uvt=1,this.tLt=1/30,this.sLt=0,this.iLt=B.er(B.g0),this.eLt=B.er(B.g0),this.hLt=B.er(B.g0),this.rLt=new Map,this.nLt=-1,this.oLt=0,this.aLt=0,this.uLt=-1,this.lLt=0,this.cLt=0,this.fLt=0,this.dLt=!1,this.pLt="",this.mLt="",this.X8=null,this.gLt="",this.yLt=null,this.MLt=null,this.fbt=B.er(B.Event.Rf),this.wLt=new Map,this.SLt=new Map,this.TLt=0,this.bLt=!1,this.xLt=!1,this.vLt=!1,this.CLt=[],this.GLt={pretick:B.er(B.Event,"pretick",!1),tick:B.er(B.Event,"tick",!1),tick2:B.er(B.Event,"tick2",!1),instancedestroy:B.er(B.Event,"instancedestroy",!1),beforelayoutchange:B.er(B.Event,"beforelayoutchange",!1),layoutchange:B.er(B.Event,"layoutchange",!1)},this.GLt.instancedestroy.QP=null,this.dY=B.er(B.Event.Rf),this.ILt=null;const s=(t,s)=>B.ovt.UIt(this,t,s);this.ELt=B.er(B.C0,s),this._Lt=B.er(B.C0,s),this.DLt=B.er(B.C0,s),this.NLt=B.er(B.ALt,this,t.jobScheduler),t.canvas&&(this.C7t=B.er(B.T_t,this)),this.wAt.onmessage=t=>this._OnMessageFromDOM(t.data),this.F8("runtime","visibilitychange",t=>this.LLt(t)),this.F8("runtime","wrapper-extension-message",t=>this.OLt(t)),this.F8("runtime","opus-decode",t=>this.Q7(t.arrayBuffer)),this.F8("runtime","get-remote-preview-status-info",()=>this.RLt()),this.F8("runtime","js-invoke-function",t=>this.c0t(t)),this.F8("runtime","go-to-last-error-script",self.goToLastErrorScript),this.F8("runtime","offline-audio-render-completed",t=>this.PLt(t)),this.fbt.addEventListener("window-blur",t=>this.kLt(t)),this.fbt.addEventListener("window-focus",()=>this.FLt()),this.LK.sZ(),this.e7t.sZ(),this.jLt=null,this.zLt=new WeakMap,this.BLt={keyboard:null,KA:null,$A:null,t7:null,s7:null},this.ULt=new WeakMap,this.WLt=[]}static W5(t){return B.er(B.MAt,t)}hr(){B.On(this.o7t),this.a7t.clear(),this.u7t.clear(),this.RV.hr(),this.RV=null,this.jct.hr(),this.jct=null,this.t7t.hr(),this.t7t=null,this.RB.hr(),this.RB=null,this.s7t.hr(),this.s7t=null,this.LK.hr(),this.LK=null,this.i7t.hr(),this.i7t=null,this.e7t.hr(),this.e7t=null,this.Hat.hr(),this.Hat=null,this.Cg.hr(),this.Cg=null,this.C7t&&(this.C7t.hr(),this.C7t=null),this.fbt.hr(),this.fbt=null,this.QLt=null}["_OnMessageFromDOM"](t){const s=t.type;if("event"===s)this.JLt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.VLt(t)}}JLt(t){if(this.vLt){const s=t.component,i=t.handler,e=t.data,h=t.dispatchOpts,r=!(!h||!h.dispatchRuntimeEvent),n=!(!h||!h.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(r){const u=new B.Event(i);u.data=e,this.fbt.Jf(u)}if(n){const l=new B.Event(i,!0);for(const[c,f]of Object.entries(e))l[c]=f;this.ZH(l)}}const a=this.wLt.get(s);if(a){const d=a.get(i);if(d){let t=null;try{t=d(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.YLt(o,!1,""+t))}null!==o&&(t&&t.then?t.then(t=>this.YLt(o,!0,t)).catch(t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.YLt(o,!1,""+t)}):this.YLt(o,!0,t))}else r||n||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`)}else r||n||console.warn(`[Runtime] No DOM event handlers for component '${s}'`)}else this.CLt.push(t)}YLt(t,s,i){this.wAt.postMessage({type:"result",responseId:t,isOk:s,result:i})}VLt(t){const s=t.responseId,i=t.isOk,e=t.result,h=this.SLt.get(s);i?h.resolve(e):h.reject(e),this.SLt.delete(s)}F8(t,s,i){let e=this.wLt.get(t);if(e||(e=new Map,this.wLt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}ef(t,s,i,e){this.wAt.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}w7(t,s,i,e){const h=this.TLt++,r=new Promise((t,s)=>{this.SLt.set(h,{resolve:t,reject:s})});return this.wAt.postMessage({type:"event",component:t,handler:s,data:i,responseId:h},e),r}jF(t,s,i,e=-1){this.ef("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}zF(t,s,i){const e=this.TLt++,h=new Promise((t,s)=>{this.SLt.set(e,{resolve:t,reject:s})});return this.jF(t,s,i,e),h}OLt(t){if(-1!==t.asyncId){const s=t.asyncId,i=this.SLt.get(s);i.resolve(t.params),this.SLt.delete(s)}else this.JLt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}iR(t,s,i){this.F8("wrapper-extension:"+t,s,i)}tR(t){return this.t7t.tR(t)}HLt(t){if(!this.XH())throw new Error("not in debug mode");this.ef("runtime","post-to-debugger",t)}async fvt(t){B.bwt(this),this.XH()?await U.fvt(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const[s]=await Promise.all([this.RB.Mo("data.json"),this.qLt(),this.NLt.fvt()]);if(await this.ZLt(s),await this.XLt(t),this.mAt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.ANt()){const i=this.ANt();console.info(`[C3 runtime] Hosted in ${this.AN()?"worker":"DOM"}, rendering with WebGL ${i._S()} [${i.LE()}]`)}else this.LNt()&&console.info(`[C3 runtime] Hosted in ${this.AN()?"worker":"DOM"}, rendering with WebGPU [${this.LNt().GetAdapterInfoString()}]`);this.Nw().uw()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.vLt=!0;for(const e of this.CLt)this.JLt(e);B.On(this.CLt),this.C7t&&this.C7t.nAt();for(const h of t.runOnStartupFunctions)this.RAt.push(this.KLt(h));if(await Promise.all([this.RB.yB(),...this.RAt]),B.On(this.RAt),!this.RB.wB())return this.C7t&&await this.C7t.uAt(),await this.fbt.Wf(new B.Event("beforeruntimestart")),await this.iE(),this.wAt.postMessage({type:"runtime-ready"}),this;this.C7t&&this.C7t.rAt()}async KLt(t){try{await t(this.jLt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async ZLt(t){const s=t.project,i=(this.FAt=s[0],this.jAt=s[16],this.zAt=s[31],this.BAt=s[38],s[39]||"loading-logo.png"),e=(this.E7t=!!s[9],this.UAt=this.VAt=s[10],this.WAt=this.YAt=s[11],this.s7t.h_t(this.UAt,this.WAt),this.QAt=this.UAt/2,this.JAt=this.WAt/2,this.I7t=s[37],this.G7t=!!s[40],this.TS=s[14],this.ZAt=s[15],this.XAt=s[42],this.KAt=s[17],this.qAt=!!s[18],this.HAt=s[19],this.w7t=s[21],this.D7t=s[22],this.RB);if(e.Vz(s[45]),e.vB(s[7],s[25]),e.qz(s[8]),e.Zz(s[32]),e.Kz(s[28]),e.TB(s[29]),0===this.HAt){let t="";(t="flat"===e.j7()?e.$z()+i:i)&&(this.$At=e.lB({url:t}))}this.C7t&&(this.C7t.xNt(B.T_t.ENt(s[12])),this.C7t.GNt(s[23]?"high":"low"),this.C7t.rw(0!==s[24]),this.C7t.NDt(s[34]),this.C7t._Nt(s[41]),this.C7t.ADt(s[13]),this.C7t.LDt(s[30]),this.C7t.PDt(s[46],s[47]),this.C7t.RDt(s[26]),this.C7t.kDt(s[48]));const h=s[43],r=(h&&await this.$Lt(h),this.t6t(),this.t7t.K3t(),this.x7t=self.s6t(),s[2]);for(const u of r[1])this.t7t.$3t(u);for(const l of r[0])this.t7t.X3t(l);this.x7t=self.s6t(),this.i6t(),this.t7t.hTt();for(const c of s[3]){const f=B.jat.W5(this,this.o7t.length,c);this.o7t.push(f),this.a7t.set(f.Jc().toLowerCase(),f),this.u7t.set(f.dQ(),f)}for(const d of s[4]){const p=this.o7t[d[0]];p.Zbt(d)}for(const m of s[27]){const g=m.map(t=>this.o7t[t]);this.c7t.push(B.er(B.Zxt,this,g))}this.e6t();for(const y of this.o7t)y.Kbt();for(const M of s[5])this.RV.W5(M);const n=s[1];if(n){const w=this.RV.cq(n);w&&this.RV.uq(w)}for(const S of s[35])this.i7t.W5(S);for(const T of s[33])this.LK.W5(T);for(const b of s[44])this.e7t.W5(b);this.e7t.kat()||(this.e7t.hr(),this.e7t=null);for(const x of s[49])this.Hat.W5(x);this.Hat.Vat()||(this.Hat.hr(),this.Hat=null);for(const v of s[6])this.jct.W5(v);this.jct.p0t(),this.h6t(),B.On(this.x7t),this.c6();let o="any",a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.ef("runtime","set-target-orientation",{targetOrientation:o})}async $Lt(t){const s=t.format;"image-sequence"===s?this.A7t=new self.C3ExportToImageSequence(this,t):"image-sequence-gif"===s?this.A7t=new self.C3ExportToGIF(this,t):"webm"===s?this.A7t=new self.C3ExportToWebMVideo(this,t):"mp4"===s&&(this.A7t=new self.C3ExportToMP4Video(this,t)),this.I7t="unlimited-frame",this.C7t.xNt("off"),this.V_=1,self.devicePixelRatio=1,await this.w7("runtime","set-exporting-to-video",{message:this.A7t.GetExportingMessageForPercent(0),duration:this.A7t.M9()})}aAt(){return this.HAt}hNt(){return null!==this.A7t}r6t(){return this.A7t.M9()}n6t(){return this.A7t.GetFramerate()}o6t(){return this.A7t.fvt({width:this.C7t.uNt(),height:this.C7t.cNt()})}a6t(){const t=this.F7t/this.n6t();return this.A7t.AddFrame(this.C7t.TNt(),t)}u6t(){this.A7t&&this.A7t.Wst()}PLt(t){this.A7t.OnOfflineAudioRenderCompleted(t)}l6t(){return this.A7t.$M()}gAt(){return this.DAt}Rg(){return this.Dg}x7(t){this.RAt.push(t)}iH(t){this.kAt=!!t}c6t(t){this.kAt&&this.PAt.push(t)}aH(){return this.PAt}Wbt(){return this.l7t++}txt(){return this.l7t}XIt(t){this.f7t.add(t)}KIt(t){this.f7t.delete(t)}eNt(){return this.f7t}async XLt(t){this.C7t&&(await this.C7t.Go(t),this.C7t.$Nt(this.HAt))}async qLt(){const h=this.RB;if(!h.G7("audio/webm; codecs=opus")){let t=null,s=h.Yz(),i=s+"opus.wasm.js",e=s+"opus.wasm.wasm";try{t=this.f6t()&&h.tB()?await h.eB(e):await h.So(e)}catch(t){return void console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",t)}this.d6t(t,"opus-decoder-wasm"),await this.p6t([i])}}async Q7(t){const s=await this.m6t("OpusDecode",{arrayBuffer:t},[t]);return s}async iE(){this.z7t=!0,this.q7t=Date.now();let s=null,t=new Promise(t=>s=t);if(this.qAt){for(const h of this.o7t)h.rQ()||h.lxt()||!h.SL()||h.ZSt();(async()=>{await this.RB.yB(),await t,this.Dg=!1,this.g6t()})()}else this.Dg=!1;this.RB.MB(),this.XH()&&U.RuntimeInit(n);for(const r of this.RV.YA())r.IH();this.hNt()&&await this.o6t();const i=this.RV.lq(),e=(await i.zY(null,this.Nw()),await i.ZY(!0),this.oLt=performance.now(),s(),this.qAt||this.g6t(),await this.w7("runtime","before-start-ticking"));e.isSuspended&&!this.hNt()?(this.V7t++,this.J7t=!0):this.JZ()}g6t(){this.L8(B.SH.wH.MH.y6t,null,null),this.ef("runtime","register-sw")}Mgt(t){t=Math.floor(t);const s=this.x7t;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}i6t(){for(const t of self.M6t){const s=B.first(Object.keys(t));this.v7t.push(s)}}F0t(t){t=Math.floor(t);const s=this.v7t;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}w6t(){return this.xAt}S6t(){return this.bAt}AN(){return this.vAt}eAt(){return this.SAt}T6t(){return this.TAt}VN(){return this.jct}rA(){return this.jct.rA()}E0t(){return this.jct.E0t()}KN(){return this.jct.KN()}_0t(){return this.jct._0t()}iwt(){return 0===this.E0t().rft()}N0t(){return this.jct.N0t()}zIt(){return this.t7t}m2t(){return this.t7t.m2t()}RW(t){if((t=Math.floor(t))<0||t>=this.o7t.length)throw new RangeError("invalid index");return this.o7t[t]}b6t(t){return this.a7t.get(t.toLowerCase())||null}fH(t){return this.u7t.get(t)||null}aht(t){const s=B.mL.OL(t);return s?s.FL():null}hQ(){return this.o7t}*x6t(){for(const t of this.o7t)t.rQ()||(yield*t.instances())}Rf(){return this.fbt}UN(){return this.dY}ZH(t){t.runtime=this.gL();const s=this.XH()&&!this.jct.u6();s&&U.StartMeasuringScriptTime(),this.dY.dispatchEvent(t),s&&U.AddScriptTime()}mH(t){return t.runtime=this.gL(),this.dY.Wf(t)}ON(){return this.UAt}PN(){return this.WAt}v6t(t,s){if(this.UAt!==t||this.WAt!==s){this.UAt=t,this.WAt=s;const i=this.QA();i.Sq(),i.Tq()}}kQ(){return this.VAt}FQ(){return this.YAt}wNt(t,s){if(this.VAt!==t||this.YAt!==s){this.VAt=t,this.YAt=s;const i=this.QA();i.Sq(),i.Tq()}}rNt(t){this.hNt()||(this.V_=t)}gQ(){return this.V_}AJ(){return this.QAt}LJ(){return this.JAt}Yk(){return this.C7t}jJ(){return this.C7t?this.C7t.jJ():this.VAt}zJ(){return this.C7t?this.C7t.zJ():this.YAt}YO(){return this.C7t?this.C7t.YO():1}gF(){return this.C7t?this.C7t.gF():1}wV(){return this.C7t?this.C7t.wV():1}yV(){return this.C7t?this.C7t.yV():1}FO(){return this.C7t?this.C7t.FO():0}jO(){return this.C7t?this.C7t.jO():0}C6t(){return this.C7t?this.C7t.pF():0}G6t(){return this.C7t?this.C7t.mF():0}fF(){return this.C7t?this.C7t.fF():"off"}ZJ(t){return this.C7t?this.C7t.ZJ(t):null}wW(t){this.C7t&&this.C7t.wW(t)}HJ(){return this.ZAt}$Dt(){return this.XAt}tNt(){return this.KAt}DA(){return this.C7t?this.C7t.DA():NaN}C5(){return"nearest"!==this.kN()}AA(){return this.I7t}LA(t){this.I7t!==t&&(this.I7t=t,-1!==this.yDt||-1!==this.R7t)&&(this.I6t(),this.E6t())}kN(){return this.TS}Ybt(){return this.qAt}tAt(){return this.$At}lAt(){this.$At&&(this.$At.mv(),this.$At.hr(),this.$At=null)}QA(){return this.RV}BA(){return this.RV.BA()}M$(){return this.LK}_6t(){return this.i7t}Uvt(){return this.e7t}gut(){return this.Hat}TN(){return this.RB}lB(t){return this.RB.lB(t)}r6(t,s,i,e,h,r){if(r&&this.e7t){if(t instanceof B.jat&&t.rQ()){const o=t.smt(),a=Math.floor(this.zA()*o.length);return this.r6(o[a],s,i,e,h,r)}const n=this.e7t.Fat(t,r);if(n){const u=this.QW(n,s,!1,i,e,!1,h,void 0,h);return this.e7t.zat(u,r),u}}return this.QW(t,s,!1,i,e,!1,h,void 0,h)}QW(t,s,i,e,h,r,n,o,a){let u=null,l=null;if(t instanceof B.jat){if((l=t).rQ()){const w=l.smt(),S=Math.floor(this.zA()*w.length);l=w[S]}u=l.kW()}else u=t,l=this.RW(u[1]);const c=l.WL().SL();if(this.Dg&&c&&!l.lxt())return null;const f=s;c||(s=null);let d;d=i&&!r&&u&&!this.S7t.has(u[2])?u[2]:this.w7t++;const p=u?u[0]:null,m=B.er(B.Instance,{runtime:this,qO:l,uR:s,cvt:p,mvt:u?u[3]:null,uid:d,tags:u?u[6]:null});this.S7t.set(d,m);let g=null,y=(c&&(g=m.l7(),void 0!==e&&void 0!==h&&(g.u4(e),g.f4(h)),l.Fxt(!0)),s&&(a||s.VW(m,!0),s.JA().UY(l)),this.M7t++,!0);if(o){const T=o.ZO();if(T.a8()&&l.a8()){const b=l.FY(),x=T.FY();b===x&&(y=!1)}}if(l.a8()&&!i&&!r&&y){const v=new Set;for(const C of l.FY().vH())if(C!==l){const G=this.D6t(C,g,v);if(G){const I=this.QW(G,f,!1,g?g.a4():e,g?g.c4():h,!0,!1,void 0,a);m.CH(I)}else{const E=this.QW(C,f,!1,g?g.a4():e,g?g.c4():h,!0,!1,void 0,a);m.CH(E)}}for(const _ of m.u8()){_.CH(m);for(const D of m.u8())_!==D&&_.CH(D)}}if(c&&!i&&n&&this.N6t(m,p,g,s,e,h,a),l.a8()&&!i&&!r&&n)for(const N of m.u8()){const A=N.l7();if(A){const F=N.WL(),L=N.ZO().kW()[0];F.SL()?this.N6t(N,L,A,s,A.a4(),A.c4(),a):this.N6t(N,L,A,s,void 0,void 0,a)}}if(!r&&n){void 0===e&&(e=p[0]),void 0===h&&(h=p[1]);const O=g.zR(),j=e-g.a4()+O.a4(),z=h-g.c4()+O.c4();O.cR(j,z)}l.Lxt();const P=u?B.Vn(u[5]):null,k=u?u[4].map(t=>B.Vn(t)):null,M=c&&p&&p[13];if(M&&m.Tvt(),m.axt(P,k),M){const R=p[13];m.LP().d5t(R[2],R[0],R[1])}return this.p7t.push(m),this.g7t=!0,this.XH()&&U.InstanceCreated(m),m}kCt(t){const s=t[0],i=t[1],e=t[2],h=t[6];if(h)return h;const r=this.RV.fq(s),n=r.c7(i);return n.zW(e)}D6t(t,s,i){const e=s?.Bvt()??[];for(const h of e){const r=this.kCt(h),n=!!h[4],o=this.RW(r[1]);if(!i.has(r)&&(t===o&&n))return i.add(r),r}}N6t(a,t,s,u,l,c,f){const i=s.hIt(),e=s.Bvt();if(a.l7().rIt(i),e){void 0===l&&(l=t[0]),void 0===c&&(c=t[1]);const d=new Set,p=t[0],m=t[1];for(const g of e){let t=g[0],s=g[1],i=g[2],e=g[3],h=!!g[4],r=g[5],n=g[6],o;if(n)o=n;else{const S=this.RV.fq(t),T=S.c7(s);o=T.zW(i)}const y=this.RW(o[1]),M=a.Wvt(y),w=d.has(y);if(M&&!w&&h){const b=a.Qvt(y),x=(b.l7().fvt(o[0]),l+o[0][0]-p),v=c+o[0][1]-m;b.l7().cR(x,v),b.l7().rIt(r),a.HR(b,{tP:!!(e>>0&1),iP:!!(e>>1&1),hP:!!(e>>2&1),nP:!!(e>>3&1),aP:!!(e>>4&1),gP:!!(e>>5&1),lP:!!(e>>6&1),fP:!!(e>>7&1),pP:!!(e>>8&1)}),d.add(y)}else{const C=l+o[0][0]-p,G=c+o[0][1]-m,I=this.QW(o,u,!1,C,G,!1,!0,a,f);I.l7().rIt(r),a.HR(I,{tP:!!(e>>0&1),iP:!!(e>>1&1),hP:!!(e>>2&1),nP:!!(e>>3&1),aP:!!(e>>4&1),gP:!!(e>>5&1),lP:!!(e>>6&1),fP:!!(e>>7&1),pP:!!(e>>8&1)})}}}}e8(i){if(!this.T7t.has(i)){let t=i.ZO(),s=this.m7t.get(t);if(s){if(s.has(i))return;s.add(i)}else(s=new Set).add(i),this.m7t.set(t,s);if(this.XH()&&U.InstanceDestroyed(i),i.xvt(),this.g7t=!0,i.a8())for(const e of i.u8())this.e8(e);for(const h of i.children())h.yP()&&this.e8(h);if(!this.RV.l6()&&!this.dLt){const r=this.VN();r.o6(!0),i.tCt(),r.o6(!1)}i.sCt(this.RV.l6())}}c6(){this.g7t&&(this.y7t=!0,this.A6t(),this.L6t(),this.y7t=!1,this.g7t=!1,this.y7())}A6t(){for(const t of this.p7t){const s=t.ZO();s.VW(t);for(const i of s.J0t())i.VW(t),i.Lxt()}B.On(this.p7t)}L6t(){this.fbt.Ef(!0);for(const[t,s]of this.m7t.entries())this.O6t(t,s),s.clear();this.m7t.clear(),this.fbt.Ef(!1)}O6t(t,s){for(const i of s){const e=this.GLt.instancedestroy,h=(e.QP=i,this.fbt.dispatchEvent(e),this.S7t.delete(i.l8()),this.rLt.delete(i),i.l7());h&&(h.aIt(),h.ZW(),h.xvt()),this.T7t.add(i),this.M7t--}B.Wn(t.t6(),s),t.Lxt(),this.b7t.add(t);for(const r of t.J0t())B.Wn(r.t6(),s),r.Lxt(),this.b7t.add(r);if(t.WL().SL()){const n=new Set([...s].map(t=>t.l7().c7()));for(const o of n)o.uJ(s)}}Rxt(){return this.p7t}*nwt(t){for(const s of this.Rxt())t.rQ()?s.ZO().mwt(t)&&(yield s):s.ZO()===t&&(yield s)}oxt(){return this.w7t++}uxt(t,s){this.S7t.set(t,s)}QF(t){this.Q7t!==(t=!!t)&&(this.Q7t=!!t,this.Q7t)&&this.J7t&&(this.YF(!1),this.J7t=!1)}JF(){return this.Q7t}qY(){this.fbt.dispatchEvent(B.er(B.Event,"renderercontextlost")),this.YF(!0);for(const s of this.o7t)!s.rQ()&&s.cxt()&&s.YY();const t=this.BA();t&&t.qY(),B.oTt.HB(),B.fB.HB()}async NNt(){await this.BA().zY(null,this.Nw()),this.fbt.dispatchEvent(B.er(B.Event,"renderercontextrestored")),this.YF(!1),this.y7()}LLt(t){if(this.Q7t){const s=t.hidden;this.YF(s),(this.J7t=s)||this.y7()}}kLt(t){!this.mAt()||!this.D7t||B.ci.Ti||t.data.parentHasFocus||(this.YF(!0),this.N7t=!0)}FLt(){this.N7t&&(this.YF(!1),this.N7t=!1)}E6t(){const t=this.L7t;"vsync"===this.I7t?-1===this.yDt&&(this.yDt=self.requestAnimationFrame(t.O7t)):"unlimited-tick"===this.I7t?(-1===this.R7t&&(this.R7t=B.ro(t.P7t)),-1===this.yDt&&(this.yDt=self.requestAnimationFrame(t.k7t))):-1===this.R7t&&(this.R7t=B.ro(t.O7t))}I6t(){-1!==this.yDt&&(self.cancelAnimationFrame(this.yDt),this.yDt=-1),-1!==this.R7t&&(B.no(this.R7t),this.R7t=-1)}fA(){return 0<this.V7t}YF(t){if(!this.hNt()){const s=this.fA(),i=(this.V7t+=t?1:-1,this.V7t<0&&(this.V7t=0),this.fA());if(!s&&i)console.log("[Construct] Suspending"),this.I6t(),this.fbt.dispatchEvent(B.er(B.Event,"suspend")),this.L8(B.SH.wH.MH.R6t,null,null);else if(s&&!i){console.log("[Construct] Resuming");const e=performance.now();this.Z7t=e,this.oLt=e,this.nLt=0,this.aLt=0,this.uLt=0,this.lLt=0,this.fLt=0,this.cLt=0,this.fbt.dispatchEvent(B.er(B.Event,"resume")),this.L8(B.SH.wH.MH.P6t,null,null),this.y1t()||this.JZ(e)}}}NF(t){this.ELt.ec(t)}RF(t){this._Lt.ec(t)}LF(t){this.DLt.ec(t)}AF(t){this.ELt.p0(t)}PF(t){this._Lt.p0(t)}OF(t){this.DLt.p0(t)}k6t(){const t=globalThis.IF;this.ELt.e1(!0);for(const s of this.ELt)s instanceof t?s.Q8():s.JZ();this.ELt.e1(!1)}F6t(){const t=globalThis.IF;this._Lt.e1(!0);for(const s of this._Lt)s instanceof t?s.FF():s.z3t();this._Lt.e1(!1)}j6t(){const t=globalThis.IF;this.DLt.e1(!0);for(const s of this.DLt)s instanceof t?s.Y8():s.O5t();this.DLt.e1(!1)}*z6t(){const s=globalThis.IF;this.ELt.e1(!0);for(const i of this.ELt){let t;t=i instanceof s?i.Q8():i.JZ(),B.Po(t)&&(yield*t)}this.ELt.e1(!1)}*B6t(){const s=globalThis.IF;this._Lt.e1(!0);for(const i of this._Lt){let t;t=i instanceof s?i.FF():i.z3t(),B.Po(t)&&(yield*t)}this._Lt.e1(!1)}*U6t(){const s=globalThis.IF;this.DLt.e1(!0);for(const i of this.DLt){let t;t=i instanceof s?i.Y8():i.O5t(),B.Po(t)&&(yield*t)}this.DLt.e1(!1)}async JZ(a,t,s){this.U7t=!0;const u="background-wake"===s,l="background-wake"!==s&&"skip-render"!==s,c=this.QA(),f=this.Yk();if(this.z7t&&(!this.fA()||t||u)){let t=performance.now(),s=(this.B7t=!0,this.W6t(a||0),this.uLt++,this.Q6t(),this.J6t()),i=(this.ewt()&&await s,this.fbt.Qf(this.GLt.pretick)),e=(i instanceof Promise&&await i,this.V6t()),h=(this.ewt()&&await e,this.Y6t()&&await this.H6t(),c.qA()&&await this.q6t(),this.Z6t()),r=(this.ewt()&&await h,c.BA()),n=r.LY(),o=!1;if(-1!==n&&(r.OY(),f.AY()!==n)){const d=this.Yk().tH(n);this.AN()&&(o=!0,await d)}l&&this.pD(),o&&this.ef("canvas","cleanup-html-layers"),this.hNt()&&(await this.a6t(),this.MA()>=this.r6t())?this.l6t():(this.fA()||u||this.E6t(),this.F7t++,this.j7t++,this.B7t=!1,this.cLt+=performance.now()-t)}}async J6t(){const t=this.jct,s=this.XH();this.c6(),t.o6(!0),this.r1t(this.BA()),s&&U.StartMeasuringTime(),this.ewt()?await t.F1t():t.L1t(),s&&U.AddEventsTime(),this.n1t(),t.o6(!1),this.c6(),t.o6(!0)}async V6t(){const t=this.XH(),s=this.ewt(),i=this.fbt,e=this.GLt,h=this.ILt;t&&U.StartMeasuringTime(),s?await this.X6t(this.z6t()):this.k6t(),s?await this.X6t(this.B6t()):this.F6t(),t&&U.AddBehaviorTickTime(),t&&U.StartMeasuringTime(),s?await this.K6t(e.tick):i.dispatchEvent(e.tick),t&&U.AddPluginTickTime(),this.jct.o6(!1),this.ZH(h.tick)}async Z6t(){const t=this.jct,s=this.fbt,i=this.GLt,e=this.XH(),h=this.ewt();e&&U.StartMeasuringTime(),h?await t.o1t(this.RV):t.h1t(this.RV),e&&U.AddEventsTime(),this.s7t.NEt(),this.Q6t(),this.W7t=!1,t.o6(!0),e&&U.StartMeasuringTime(),h?await this.X6t(this.U6t()):this.j6t(),e&&U.AddBehaviorTickTime(),e&&U.StartMeasuringTime(),h?await this.K6t(i.tick2):s.dispatchEvent(i.tick2),e&&U.AddPluginTickTime(),t.o6(!1),h&&await t.M1t()}Q6t(){if(0!==this.T7t.size){const t=this.fbt;t.Ef(!0);for(const s of this.b7t)s.I1t().mct(this.T7t);this.b7t.clear(),this.jct.z1t(this.T7t);for(const i of this.T7t)i.hr();this.T7t.clear(),t.Ef(!1)}}async q6t(){let t=this.QA(),s=0;for(;t.qA()&&s++<10;)await this.$6t(t.wq())}W6t(t){let s=0;if(this.hNt())s=1/this.n6t(),this.X7t=s,this.K7t=s;else if(0!==this.Z7t){const i=Math.max(t-this.Z7t,0);.5<(s=i/1e3)&&(s=0),this.X7t=s,this.K7t=B.cr(s,this.sLt,this.tLt)}this.Z7t=t,this.$7t=this.K7t*this.uvt,this.iLt.ec(this.$7t),this.eLt.ec(s*this.uvt),this.hLt.ec(this.K7t);for(const[e,h]of this.rLt)h.ec(this.K7t*e.bA());this.C7t&&this.C7t.WNt(),1e3<=t-this.oLt&&(this.oLt+=1e3,1e3<=t-this.oLt&&(this.oLt=t),this.aLt=this.nLt,this.nLt=0,this.lLt=this.uLt,this.uLt=0,this.fLt=Math.min(this.cLt/1e3,1),this.cLt=0,this.C7t&&this.C7t.UNt(),this.s7t.IEt(),this.XH())&&U.Update1sPerfStats()}wvt(t,s){if(s){if(!this.rLt.has(t)){const i=B.er(B.g0);i.T0(this.iLt),this.rLt.set(t,i)}}else this.rLt.delete(t)}Svt(t){const s=this.rLt.get(t);return s?s.hi():this.MA()}async $6t(t){const s=this.fbt,i=this.QA(),e=i.BA();await e._H(),e.HY(t,this.Nw()),e===t&&this.jct.AH(),this.s7t.NEt(),this.Q6t(),s.dispatchEvent(this.GLt.beforelayoutchange),B.Df.Yf(!0),await t.zY(e,this.Nw()),B.Df.Yf(!1),await t.ZY(!1),s.dispatchEvent(this.GLt.layoutchange),this.y7(),this.W7t=!0,this.c6(),this.u6t()}y7(){this._7t=!0}ANt(){return this.C7t?this.C7t.ANt():null}LNt(){return this.C7t?this.C7t.LNt():null}Nw(){return this.C7t?this.C7t.Nw():null}pD(){const i=this.C7t;if(i&&!i.DNt()){const e=this.Nw(),t=e.vE(),h=t&&e.lw(),r=t&&e.Cy();if(h&&e.lE(),this._7t||this.hNt()){const n=this.RV.BA(),o=(this.nLt++,e.iE(),this.XH());o&&U.StartMeasuringTime(),this._7t=!1;let t=null,s=(h&&(t=i.VNt().ZC(),e.xE(t)),null);r&&(s=e.StartFrameTiming(2*(1+n.GY())),e.StartMeasuringRenderPassTime(0,1)),this.YQ()&&"low"===i.qJ()?e.pI(i.jJ(),i.zJ()):e.mI(),this.tOt(this.Nw(),n),t&&e.CE(t),r&&(e.StopMeasuringRenderPassTime(),this.C7t.YNt(s)),e.$M(),o&&(U.AddDrawCallsTime(),U.UpdateInspectHighlight()),i&&i.qNt()}else e.hw()}}UH(t){return"low"===this.Yk().qJ()||t.lw()&&(this.HJ()||this.YQ())}tOt(s,i){s.Ly(),s.AI(),s.vI(1,1,1,1),s.pE(null),s.EI(null),s.hE(this.YQ()),this.UH(s)&&i.zH(s);const e=i.AY();for(let t=1;t<e;++t)i.VH(s,t),s.Cy()&&s.Restart();this.UH(s)||i.zH(s),i.JH(s)}L8(t,s,i){if(!this.z7t)return!1;let e=!this.B7t&&!this.jct.b1t(),h=0;e&&(h=performance.now());const r=this.XH(),n=(r&&this.$F(!1),this.jct.c1t(this.RV,t,s,i));if(e){const o=performance.now()-h;this.cLt+=o,r&&U.AddTriggersTime(o)}return r&&this.$F(!0),n}b5t(t,s,i){if(!this.ewt())return this.L8(t,s,i);if(this.y1t())throw new Error("called DebugTrigger() while stopped on breakpoint");if(this.B7t||this.jct.b1t())return this.jct.p1t(this.RV,t,s,i);throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead")}async P8(t,s,i){if(!this.ewt())return this.L8(t,s,i);if(!this.z7t)return!1;if(this.y1t())return this.jct.m1t(t,s,i);if(!this.BA())return this.jct.f1t(t,s,i);let e=performance.now(),h=this.jct.p1t(this.RV,t,s,i),r=h.next();for(;!r.done;)await this.u1t(r.value),r=h.next();return this.fA()||this.jct.b1t()||(await this.jct.M1t(),this.U7t&&!this.B7t&&this.E6t()),this.cLt+=performance.now()-e,r.value}x5t(t,s,i){const e=this.XH(),h=(e&&this.$F(!1),this.jct.w1t(this.RV,t,s,i));return e&&this.$F(!0),h}v5t(t,s,i){return this.jct.S1t(this.RV,t,s,i)}C5t(t){return this.Y7t.ec(t)}r1t(t){this.d7t.push(t)}n1t(){if(!this.d7t.length)throw new Error("layout stack empty");this.d7t.pop()}a7(){return this.d7t.length?this.d7t.at(-1):this.BA()}pA(t){return t&&-1!==t.bA()?this.K7t*t.bA():this.$7t}WZ(){return this.$7t}QZ(){return this.K7t}gA(){return this.X7t}bA(){return this.uvt}xA(t){(isNaN(t)||t<0)&&(t=0),this.uvt=t}PA(t){this.sLt=Math.max(t,0)}RA(){return this.sLt}jA(t){this.tLt=Math.max(t,0)}FA(){return this.tLt}vA(){return this.aLt}GA(){return this.lLt}EA(){return this.fLt}sOt(){return this.q7t}MA(){return this.iLt.hi()}iOt(){return this.eLt.hi()}SA(){return this.hLt.hi()}z$(){return this.F7t}eOt(){return this.j7t}hOt(){return this.M7t}EN(){return this.FAt}DN(){return this.jAt}rOt(){return this.zAt}nOt(){return this.BAt}r7(t){if(this.dLt)throw new Error("cannot call while loading state - wait until afterload event");return this.S7t.get(t)||null}bH(){this.S7t.clear();for(const t of this.o7t)if(!t.rQ())for(const s of t.t6())this.S7t.set(s.l8(),s)}mAt(){return"preview"===this.GAt}XH(){return this.NAt}iB(){return this.GAt}yAt(){return"cordova"===this.GAt}oOt(){return"Android"===B.ci.fi&&("cordova"===this.GAt||"playable-ad-single-file"===this.GAt||"playable-ad-zip"===this.GAt||"instant-games"===this.GAt)}f6t(){return this.Sz}aOt(){return this.IAt}uOt(){return this.EAt}lOt(){return this._At}vN(){return this.s7t}rTt(){return this.t7t.rTt()}nTt(){return this.t7t.nTt()}YQ(){return this.G7t}cOt(){return this.Nw().ly(this.FQ())}ny(t){return this.Nw().ny(t||this.FQ())}fOt(){return this.W7t}dOt(t){this.E7t!==(t=!!t)&&(this.E7t=t,this.QA().Tq(),this.y7())}jN(){return this.E7t}pOt(t){if(!this.n7t.has(t)){const i=()=>this.mOt(t);this.n7t.set(t,i),t.Rf().addEventListener("animationframeimagechange",i)}const s=this.Cg.wg(t);return s.Og()||s.Pg().then(()=>this.y7()),s}mOt(t){this.Cg.xg(t)}h7t(t){const s=[];for(const i of t.xxt())for(const e of i.c9()){const h=e.y9();s.push({source:e,width:h.$p(),height:h.dm(),tag:e.P9()})}return{Ag:s}}async r7t(t){const s=B.er(B.n1),i=[],h=new Map;for(const n of t.xxt())for(const o of n.c9()){const a=o.y9().ITt();h.has(a)||(h.set(a,null),i.push(s.ec(async()=>{const t=await a.KB();h.set(a,t)})))}await Promise.all(i);const e=[];for(const u of t.xxt())for(const l of u.c9())e.push(s.ec(async()=>{const t=l.y9(),s=h.get(t.ITt()),i=await t.ETt(s),e=await createImageBitmap(i);return{Fg:e}}));const r=await Promise.all(e);for(const c of h.values())c instanceof ImageBitmap&&c.close&&c.close();return{Ag:r}}gOt(t){this.pLt=t}yOt(t){this.mLt=t}K4t(t){this.X8=t}MOt(){return this.gLt}Y6t(){return!(!this.pLt&&!this.mLt&&null===this.X8)}async H6t(){if(this.pLt&&(this.c6(),await this.wOt(this.pLt),this.SOt()),this.mLt&&(await this.TOt(this.mLt),this.SOt(),this.XH())&&U.StepIfPausedInDebugger(),null!==this.X8){this.c6();try{await this.bOt(this.X8),this.gLt=this.X8,await this.P8(B.SH.wH.MH.xOt,null),this.gLt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.P8(B.SH.wH.MH.vOt,null)}this.SOt()}}SOt(){this.pLt="",this.mLt="",this.X8=null}fL(){return this.yLt||(this.yLt=localforage.Oi({name:"c3-localstorage-"+this.rOt(),description:this.EN()})),this.yLt}COt(){return this.MLt||(this.MLt=localforage.Oi({name:"c3-savegames-"+this.rOt(),description:this.EN()})),this.MLt}async wOt(t){const s=await this.GOt();try{await this.COt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.gLt=s,await this.P8(B.SH.wH.MH.IOt,null),this.gLt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.P8(B.SH.wH.MH.EOt,null)}}async TOt(t){try{const s=await this.COt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.bOt(s),this.gLt=s,await this.P8(B.SH.wH.MH.xOt,null),this.gLt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.P8(B.SH.wH.MH.vOt,null)}}async GOt(){const t={c3save:!0,version:1,rt:{time:this.MA(),timeRaw:this.iOt(),walltime:this.SA(),timescale:this.bA(),tickcount:this.z$(),next_uid:this.w7t,running_layout:this.BA().dQ(),start_time_offset:Date.now()-this.q7t},types:{},layouts:{},events:this.jct._V(),timelines:this.LK._V(),user_script_data:null};for(const i of this.o7t)i.rQ()||i.Jxt()||(t.types[i.dQ().toString()]=i._V());for(const e of this.RV.YA())t.layouts[e.dQ().toString()]=e._V();const s=this._Ot("save");return s.saveData=null,await this.mH(s),t.user_script_data=s.saveData,JSON.stringify(t)}uH(){return this.dLt}async bOt(t){const s=this.QA(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(1<i.version)throw new Error("C3 save data from future version");this.Mwt(),this.fbt.dispatchEvent(B.er(B.Event,"beforeload"));for(const a of this.x6t()){const u=a.ZO();u.Jxt()||a.Yq()}let e=i.rt,h=(this.iLt.Set(e.time),e.hasOwnProperty("timeRaw")&&this.eLt.Set(e.timeRaw),this.hLt.Set(e.walltime),this.uvt=e.timescale,this.F7t=e.tickcount,this.q7t=Date.now()-e.start_time_offset,e.running_layout),r=!(this.dLt=!0);if(h!==this.BA().dQ()){const l=s.fq(h);if(!l)return;await this.$6t(l),r=!0}for(const[c,f]of Object.entries(i.layouts)){const d=parseInt(c,10),p=s.fq(d);p&&p.DV(f)}const n=new Set;for(const[m,g]of Object.entries(i.types)){const y=parseInt(m,10),M=this.fH(y);!M||M.rQ()||M.Jxt()||M.DV(g,n)}for(const w of this.RV.YA())for(const S of w.N6())S.NV();if(this.c6(),this.bH(),this.dLt=!1,r){for(const T of this.x6t())T.lH();for(const[b,x]of Object.entries(i.types)){const v=parseInt(b,10),C=this.fH(v);!C||C.rQ()||C.Jxt()||C.Hxt(x)}}this.w7t=e.next_uid,this.jct.DV(i.events);for(const G of this.o7t)if(!G.rQ()&&G.a8())for(const I of G.t6()){const E=I.xH();for(const _ of G.FY().vH())if(_!==G){const D=_.t6();if(E<0||E>=D.length)throw new Error("missing sibling instance");I.CH(D[E])}}this.LK.DV(i.timelines),s.Sq(),s.Tq();for(const N of n)N.$vt();this.wwt(),this.fbt.dispatchEvent(B.er(B.Event,"afterload")),this.ZH(this._Ot("afterload"));for(const[A,L]of Object.entries(i.types)){const O=parseInt(A,10),R=this.fH(O);R&&R.Yxt()}const o=this._Ot("load");o.saveData=i.user_script_data,await this.mH(o),this.y7()}DOt(t,s){return t.l7().$Gt()-s.l7().$Gt()}jIt(t,s){!t.l7()||this.ULt.has(t)||(this.ULt.set(t,s),this.WLt.push(t))}Mwt(){this.ULt=new WeakMap,B.On(this.WLt)}wwt(t="full",s=null){this.WLt.sort(this.DOt);for(const i of this.WLt)i.qq(this.ULt.get(i),t,s);for(const e of this.WLt)e.hCt(this.ULt.get(e),t,s);this.Mwt()}async p6t(t){const s=await Promise.all(t.map(async t=>{const s=this.yAt()&&this.RB.tB();if(s||"playable-ad-single-file"===this.iB()){const i=await this.RB.wo(t);return URL.createObjectURL(i)}return new URL(t,location.href).toString()}));this.NLt.NOt(s)}AOt(t,s){this.NLt.LOt(t,s)}d6t(t,s){this.NLt.OOt(t,s)}m6t(t,s,i,e){return this.NLt.m6t(t,s,i,null,null,e)}ROt(t,s,i,e){return this.NLt.ROt(t,s,i,e)}POt(){return this.NLt.kOt()}e7(t,s){this.ef("runtime","invoke-download",{url:t,filename:s})}async hAt(t,s,i,e,h,r){if(e=e||s,h=h||i,this.AN()){const n=await this.w7("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:r});return n.imageBitmap}{const o=await self.C3_RasterSvgImageBlob(t,s,i,e,h);return r?self.createImageBitmap(o,r):o}}async FOt(t){return this.AN()?this.w7("runtime","get-svg-image-size",{blob:t}):self.C3_GetSvgImageSize(t)}jOt(){this.bLt||(this.bLt=!0,this.ef("runtime","enable-device-orientation"))}zOt(){this.xLt||(this.xLt=!0,this.ef("runtime","enable-device-motion"))}zA(){return this.H7t()}BOt(t){this.H7t=t}RLt(){const t=this.Nw();return{fps:this.vA(),tps:this.GA(),cpu:this.EA(),gpu:this.DA(),layout:this.BA()?this.BA().Jc():"",renderer:t.lw()?t.LE():t.GetAdapterInfoString()}}y1t(){return!!this.XH()&&U.y1t()}u1t(t){return this.ewt()?U.u1t(t):Promise.resolve()}Wmt(){return!!this.ewt()&&U.BreakNext()}UOt(t){this.AAt=!!t,this.WOt()}QOt(){return this.AAt}ewt(){return this.LAt}$F(t){t?this.OAt--:this.OAt++,this.WOt()}WOt(){this.LAt=this.XH()&&this.AAt&&0===this.OAt}opt(){return this.XH()&&U.opt()}QJ(){return this.XH()&&this.Nw().vE()&&U.QJ()}async X6t(t){if(t)for(const s of t)await this.u1t(s)}K6t(t){return this.X6t(this.fbt.Vf(t))}c0t(t){return this.jct.c0t(t.name,t.params)}T7(t){if(this.AN())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}gL(){return this.jLt}_Ot(t){const s=B.er(B.Event,t,!1);return s.runtime=this.jLt,s}t6t(){this.jLt=new self.MN(this),this.ILt={tick:this._Ot("tick")}}e6t(){const t={};for(const s of this.o7t)t[s.F0t()]={value:s.kL(),enumerable:!0,writable:!1};this.jLt.WN(t)}h6t(){const t={};for(const s of this.VN().V0t())t[s.F0t()]=s.j0t();this.jLt.QN(t)}XA(){return this.BLt}QL(t,s){this.zLt.set(t,s)}O6(t){return this.zLt.get(t)}uL(t){if(!(t instanceof self.BL))throw new TypeError("expected IObjectClass");const s=this.O6(t);if(s&&s instanceof B.jat)return s;throw new Error("invalid IObjectClass")}XL(t){if(!(t instanceof self.HO))throw new TypeError("expected IInstance");const s=this.O6(t);if(s&&s instanceof B.Instance)return s;throw new Error("invalid IInstance")}u7(t){if(!(t instanceof self.EP))throw new TypeError("expected IWorldInstance");const s=this.O6(t);if(s&&s instanceof B.Instance)return s;throw new Error("invalid IInstance")}},self.C3_CreateRuntime=B.MAt.W5,self.C3_InitRuntime=(t,s)=>t.fvt(s)}{const Qa=self.js;Qa.ALt=class extends Qa.tr{constructor(t,s){super(),this.$c=t,this.JOt=new Map,this.VOt=0,this.YOt=s.inputPort,s.outputPort.onmessage=t=>this.HOt(t),this.qOt=s.maxNumWorkers,this.ZOt=1,this.XOt=!1,this.KOt=!1}async fvt(){}kOt(){return this.qOt}NOt(t){this.YOt.postMessage({type:"_import_scripts",scripts:t})}LOt(t,s){this.YOt.postMessage({type:"_send_blob",blob:t,id:s})}OOt(t,s){this.YOt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}m6t(t,s,i,e,h,r){if(i=i||[],"number"==typeof r&&(r=Math.floor(r))<=0)throw new Error("invalid maxWorkerNum");const n=this.VOt++,o={type:t,isBroadcast:!1,maxWorkerNum:r,jobId:n,params:s,transferables:i},a=new Promise((t,s)=>{this.JOt.set(n,{resolve:t,progress:e,reject:s,$Ot:!1,maxWorkerNum:r})});return h&&h.f0(()=>this.t8t(n)),this.YOt.postMessage(o,i),this.s8t(),a}ROt(t,s,i,e){if(i=i||[],"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const h=this.VOt++,r={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:h,params:s,transferables:i};this.YOt.postMessage(r,i)}t8t(t){const s=this.JOt.get(t);s&&(s.$Ot=!0,s.resolve=null,s.progress=null,s.reject=null,this.YOt.postMessage({type:"_cancel",jobId:t}))}HOt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.i8t(e,s.result);break;case"progress":this.e8t(e,s.progress);break;case"error":this.h8t(e,s.error);break;case"ready":this.r8t();break;default:throw new Error(`unknown message from worker '${i}'`)}}i8t(t,s){const i=this.JOt.get(t);if(!i)throw new Error("invalid job ID");i.$Ot||i.resolve(s),this.JOt.delete(t)}e8t(t,s){const i=this.JOt.get(t);if(!i)throw new Error("invalid job ID");!i.$Ot&&i.progress&&i.progress(s)}h8t(t,s){const i=this.JOt.get(t);if(!i)throw new Error("invalid job ID");i.$Ot||i.reject(s),this.JOt.delete(t)}r8t(){this.XOt&&(this.XOt=!1,this.ZOt++,this.ZOt<this.qOt?this.s8t():this.YOt.postMessage({type:"_no_more_workers"}))}n8t(){let t=0,s=[...this.JOt.values()].sort((t,s)=>{const i=t.maxWorkerNum||1/0,e=s.maxWorkerNum||1/0;return i-e});for(const i of s){const e=i.maxWorkerNum||1/0;t<e&&t++}return t}async s8t(){if(!(this.ZOt>=this.qOt||this.XOt||this.KOt||this.n8t()<=this.ZOt))try{this.XOt=!0;const t=await this.$c.w7("runtime","create-job-worker");t.outputPort.onmessage=t=>this.HOt(t)}catch(t){this.KOt=!0,this.XOt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.ZOt} so far)`,t)}}}}self.C3_Shaders={};{let w=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const h=""+i,r=""+e;return h<r?-1:r<h?1:0}},S=(w,self.js),i=null,e="",h="",r=[],n="",o="",a="",T=S.er(S.Pft);S.SH.wH=class extends S.ISt{constructor(t){super(t),this.Nft=this.$c.VN().XF(),this.gct=this.$c.VN().rA(),this.o8t=0,this.a8t=0,this.u8t=new Map}hr(){super.hr()}y7(){this.$c.y7()}L8(t){this.$c.L8(t,null,null)}l8t(t,s){return i&&t===e&&s===h||(i=new RegExp(t,s),e=t,h=s),i.lastIndex=0,i}c8t(t,s,i){if(t!==n||s!==o||i!==a){const e=this.l8t(s,i);r=t.match(e),n=t,o=s,a=i}return r}async f8t(t,s){if(s.length){this.o8t+=s.length;const i=[];for(const e of s)i.push(t.UY(e));await S.io(i,()=>{this.a8t++}),this.a8t++,this.a8t===this.o8t&&(this.a8t=0,this.o8t=0,this.$c.L8(S.SH.wH.MH.d8t,null,null))}}p8t(t,s){for(const i of s)0===i.e6()&&t.VY(i)}m8t(){return T}g8t(s){const i=this.$c.VN(),t=i.rA(),e=t.qF(),h=e.KN(),r=h.HF(),n=e.yft(),o=t.ZF(h),a=i.XF(),u=a.ZF();if(u.Oft(s),n)for(let t=0;t<s&&!u.lj();++t)i.rj(r),u.aj(t),h.nj(e,o),i.oj(r);else for(let t=0;t<s&&!u.lj();++t)u.aj(t),h.nj(e,o);return t.cj(),a.cj(),!1}*y8t(s){const i=this.$c.VN(),t=i.rA(),e=t.qF(),h=e.KN(),r=h.HF(),n=e.yft(),o=t.ZF(h),a=i.XF(),u=a.ZF();if(u.Oft(s),n)for(let t=0;t<s&&!u.lj();++t)i.rj(r),u.aj(t),yield*h.tgt(e,o),i.oj(r);else for(let t=0;t<s&&!u.lj();++t)u.aj(t),yield*h.tgt(e,o);return t.cj(),a.cj(),!1}M8t(){const s=this.$c.VN(),t=s.rA(),i=t.qF(),e=i.KN(),h=e.HF(),r=i.yft(),n=t.ZF(e),o=s.XF(),a=o.ZF();if(r)for(let t=0;!a.lj();++t)s.rj(h),a.aj(t),e.nj(i,n)||a.j9(),s.oj(h);else for(let t=0;!a.lj();++t)a.aj(t),e.nj(i,n)||a.j9();return t.cj(),o.cj(),!1}*w8t(){const s=this.$c.VN(),t=s.rA(),i=t.qF(),e=i.KN(),h=e.HF(),r=i.yft(),n=t.ZF(e),o=s.XF(),a=o.ZF();if(r)for(let t=0;!a.lj();++t){s.rj(h),a.aj(t);const u=yield*e.tgt(i,n);u||a.j9(),s.oj(h)}else for(let t=0;!a.lj();++t){a.aj(t);const l=yield*e.tgt(i,n);l||a.j9()}return t.cj(),o.cj(),!1}S8t(t,s,i){const e=this.$c.VN(),h=e.rA(),r=h.qF(),n=r.KN(),o=n.HF(),a=r.yft(),u=h.ZF(n),l=e.XF(),c=l.ZF();if(c.KF(t),c.Oft(i),i<s)if(a)for(let t=s;t>=i&&!c.lj();--t)e.rj(o),c.aj(t),n.nj(r,u),e.oj(o);else for(let t=s;t>=i&&!c.lj();--t)c.aj(t),n.nj(r,u);else if(a)for(let t=s;t<=i&&!c.lj();++t)e.rj(o),c.aj(t),n.nj(r,u),e.oj(o);else for(let t=s;t<=i&&!c.lj();++t)c.aj(t),n.nj(r,u);return h.cj(),l.cj(),!1}*T8t(t,s,i){const e=this.$c.VN(),h=e.rA(),r=h.qF(),n=r.KN(),o=n.HF(),a=r.yft(),u=h.ZF(n),l=e.XF(),c=l.ZF();if(c.KF(t),c.Oft(i),i<s)if(a)for(let t=s;t>=i&&!c.lj();--t)e.rj(o),c.aj(t),yield*n.tgt(r,u),e.oj(o);else for(let t=s;t>=i&&!c.lj();--t)c.aj(t),yield*n.tgt(r,u);else if(a)for(let t=s;t<=i&&!c.lj();++t)e.rj(o),c.aj(t),yield*n.tgt(r,u),e.oj(o);else for(let t=s;t<=i&&!c.lj();++t)c.aj(t),yield*n.tgt(r,u);return h.cj(),l.cj(),!1}b8t(i){const t=i.s6(),s=t.t6();if(0!==s.length){const e=this.$c.VN(),h=e.rA(),r=h.qF(),n=r.KN(),o=n.HF(),a=r.yft(),u=h.ZF(n),l=e.XF(),c=l.ZF(),f=i.a8(),d=T.ZF();if(S.Fn(d,s),c.Oft(d.length),a)for(let t=0,s=d.length;t<s&&!c.lj();++t){e.rj(o);const p=d[t];i.s6().Dct(p),f&&p.dpt(),c.aj(t),n.nj(r,u),e.oj(o)}else{t.Ict(!1);const m=t.Ect();S.On(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.lj();++t){const g=d[t];m[0]=g,f&&g.dpt(),c.aj(t),n.nj(r,u)}}h.cj(),l.cj(),S.On(d),T.cj()}return!1}*x8t(i){const t=i.s6(),s=t.t6();if(0!==s.length){const e=this.$c.VN(),h=e.rA(),r=h.qF(),n=r.KN(),o=n.HF(),a=r.yft(),u=h.ZF(n),l=e.XF(),c=l.ZF(),f=i.a8(),d=T.ZF();if(S.Fn(d,s),c.Oft(d.length),a)for(let t=0,s=d.length;t<s&&!c.lj();++t){e.rj(o);const p=d[t];i.s6().Dct(p),f&&p.dpt(),c.aj(t),yield*n.tgt(r,u),e.oj(o)}else{t.Ict(!1);const m=t.Ect();S.On(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.lj();++t){const g=d[t];m[0]=g,f&&g.dpt(),c.aj(t),yield*n.tgt(r,u)}}h.cj(),l.cj(),S.On(d),T.cj()}return!1}v8t(i,t){const s=i.s6(),e=s.t6();if(0!==e.length){const h=this.$c.VN(),r=h.rA(),n=h._0t(),o=r.qF(),a=o.KN(),u=a.HF(),l=o.yft(),c=r.ZF(a),f=h.XF(),d=f.ZF(),p=i.a8(),m=T.ZF();S.On(m),d.Oft(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],n.mMt(1,t)]);if(m.sort(w),1===t&&m.reverse(),l)for(let t=0,s=m.length;t<s&&!d.lj();++t){h.rj(u);const g=m[t][0];i.s6().Dct(g),p&&g.dpt(),d.aj(t),a.nj(o,c),h.oj(u)}else{s.Ict(!1);const y=s.Ect();S.On(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.lj();++t){const M=m[t][0];y[0]=M,p&&M.dpt(),d.aj(t),a.nj(o,c)}}r.cj(),f.cj(),S.On(m),T.cj()}return!1}*C8t(i,t){const s=i.s6(),e=s.t6();if(0!==e.length){const h=this.$c.VN(),r=h.rA(),n=h._0t(),o=r.qF(),a=o.KN(),u=a.HF(),l=o.yft(),c=r.ZF(a),f=h.XF(),d=f.ZF(),p=i.a8(),m=T.ZF();S.On(m),d.Oft(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],n.mMt(1,t)]);if(m.sort(w),1===t&&m.reverse(),l)for(let t=0,s=m.length;t<s&&!d.lj();++t){h.rj(u);const g=m[t][0];i.s6().Dct(g),p&&g.dpt(),d.aj(t),yield*a.tgt(o,c),h.oj(u)}else{s.Ict(!1);const y=s.Ect();S.On(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.lj();++t){const M=m[t][0];y[0]=M,p&&M.dpt(),d.aj(t),yield*a.tgt(o,c)}}r.cj(),f.cj(),S.On(m),T.cj()}return!1}G8t(t,s){let i=this.u8t.get(t);if(!i){if(!s)return null;i={I8t:null,E8t:new Map},this.u8t.set(t,i)}return i}_8t(t,s,i,e,h){s.ZN().ggt(i,s.sA()),e&&t.oj(h)}*D8t(t,s,i,e,h){yield*s.ZN().ygt(i,s.sA()),e&&t.oj(h)}}}{const Ja=self.js;Ja.SH.wH.Qbt=class extends Ja.tr{constructor(t){super(),this.oct=t,this.$c=t.N7(),this.f5t=t.WL()}ZSt(){}hr(){this.oct=null,this.$c=null,this.f5t=null}}}{const Va=self.js;Va.SH.wH.Instance=class extends Va.tr{constructor(t,s){super(),this.Gi=t,this.oct=this.Gi.ZO(),this.M5t=this.oct.VMt(),this.$c=this.Gi.N7()}hr(){this.Gi=null,this.oct=null,this.M5t=null,this.$c=null}}}{const E=self.js,Ya=[];E.SH.wH.MH={N8t(){return!0},yH(){return!0},DH(){return!0},R6t(){return!0},P6t(){return!0},fA(){return this.$c.fA()},Xpt(){const t=this.$c.E0t();return!t.fft()&&!t.lft()},A8t(){let t=this.$c._0t(),s=t.iMt(),i=s.get("TriggerOnce_lastTick");void 0===i&&(i=-1,s.set("TriggerOnce_lastTick",-1));const e=this.$c.z$();return s.set("TriggerOnce_lastTick",e),this.$c.fOt()||i!==e-1},L8t(t){const s=this.$c._0t(),i=s.iMt(),e=i.get("Every_lastTime")||0,h=this.$c.MA(),r=(i.has("Every_seconds")||i.set("Every_seconds",t),i.get("Every_seconds"));return e+r<=h?(i.set("Every_lastTime",e+r),h>=i.get("Every_lastTime")+.04&&i.set("Every_lastTime",h),i.set("Every_seconds",t),!0):(h<e-.1&&i.set("Every_lastTime",h),!1)},ddt(t){const s=this.$c.VN().Z0t(t);return s&&s.ddt()},mAt(){return this.$c.mAt()},Ti(){return E.ci.Ti},y6t(){return!0},O8t(){return!0},R8t(){return!0},IOt(){return!0},EOt(){return!0},xOt(){return!0},vOt(){return!0},P8t(t){return!!this.$c.r7(t)},k8t(t){switch(t){case 0:return"browser"===E.ci.wi;case 1:return"iOS"===E.ci.fi;case 2:return"Android"===E.ci.fi;case 8:return"cordova"===E.ci.wi;case 9:return"scirra-arcade"===this.$c.iB();case 10:return"nwjs"===E.ci.wi;case 13:return"windows-uwp"===this.$c.iB();default:return!1}},F8t(t,s,i){const e=this.l8t(s,i);return e.test(t)},j8t(t,s,i){return E.compare(t,s,i)},z8t(t,s,i){return s<=t&&t<=i},B8t(t,s,i){return E.compare(t.Ait(),s,i)},U8t(t){return!!t.Ait()},W8t(t,s){const i=this.$c.MA();if(0!==t)return E.compare(i,t,s);{const e=this.$c._0t(),h=e.iMt();return!h.get("CompareTime_executed")&&s<=i?(h.set("CompareTime_executed",!0),!0):!1}},Q8t(t){return isNaN(t)},Jwt(t,s,i){return E.Sr(E.pr(t),E.pr(i))<=E.pr(s)},Vwt(t,s){return E.br(E.pr(t),E.pr(s))},Ywt(t,s,i){let e=E.pr(t),h=E.pr(s),r=E.pr(i),n=!E.br(r,h);return n?!(!E.br(e,h)&&E.br(e,r)):E.br(e,h)&&!E.br(e,r)},J8t(t,s){return"number"==typeof t?0===s:1===s},V8t(t){return!!t},J1t(t){return t.toLowerCase()===this.$c.VN().q1t()},Y8t(t,i,e,h){if(!t)return!1;let s=this.m8t(),r=s.ZF(),n=t.s6(),o=(E.Fn(r,n.t6()),n.Sct()&&E.On(n._ct()),this.$c._0t()),a=0;for(let t=0,s=r.length;t<s;++t){const l=r[t];r[a]=l,i=o.mMt(1,t),h=o.mMt(3,t),E.compare(i,e,h)?++a:n.Gct(l)}E.Ln(r,a),n.Nct(r);const u=!!r.length;return E.On(r),s.cj(),t.ugt(),u},H8t(t,s){if(!t)return!1;let i=this.m8t(),e=i.ZF(),h=t.s6(),r=(E.Fn(e,h.t6()),h.Sct()&&E.On(h._ct()),this.$c._0t()),n=0;for(let t=0,s=e.length;t<s;++t){const a=e[t];e[n]=a,r.mMt(1,t)?++n:h.Gct(a)}E.Ln(e,n),h.Nct(e);const o=!!e.length;return E.On(e),i.cj(),t.ugt(),o},q8t(t,i,e){if(!t)return!1;const s=t.s6(),h=s.t6();if(0===h.length)return!1;let r=this.$c._0t(),n=null,o=0;for(let t=0,s=h.length;t<s;++t){const a=h[t];e=r.mMt(2,t),(null===n||0===i&&e<o||1===i&&e>o)&&(o=e,n=a)}return s.Pct(n),t.ugt(),!0},Z8t(t,s){if(!t)return!1;const i=t.s6(),e=i.t6();if((s=Math.floor(s))>=e.length)return!1;const h=e[s];return i.Pct(h),t.ugt(),!0},X8t(t){if(!t)return!1;const s=t.s6(),i=s.t6(),e=Math.floor(this.$c.zA()*i.length);if(e>=i.length)return!1;const h=i[e];return s.Pct(h),t.ugt(),!0},K8t(t){if(!t)return!1;if(!t.e6())return!1;const s=t.s6();return s.Ict(!0),t.ugt(),!0},$8t(t,i,e){if(!t)return!1;const h=t.s6(),s=h.t6(),r=this.$c.KN(),n=r.kct(),o=this.$c._0t().Xyt();h.Sct()?(E.Fn(Ya,s),h.wct(),h.Ict(!1)):n?(E.Fn(Ya,h._ct()),E.On(h._ct())):(E.Fn(Ya,h.Ect()),E.On(h.Ect()));for(let t=0,s=Ya.length;t<s;++t){const a=Ya[t];E.xor(a.l7().kR(i,e),o)?h.Cct(a):h.Gct(a)}return t.ugt(),E.xor(!!h.Ect().length,o)},tRt(s){if(!s)return!1;let i=s.rQ(),e=null,h=this.$c.Rxt();for(let t=h.length-1;0<=t;--t){const r=h[t];if(i){if(r.ZO().mwt(s)){e=r;break}}else if(r.ZO()===s){e=r;break}}if(!e){const n=s.t6();n.length&&(e=n.at(-1))}if(!e)return!1;const t=s.s6();return t.Pct(e),s.ugt(),!0},sRt(t){return this.$c.ewt()?this.y8t(t):this.g8t(t)},iRt(){return this.$c.ewt()?this.w8t():this.M8t()},eRt(t,s,i){return this.$c.ewt()?this.T8t(t,s,i):this.S8t(t,s,i)},h1(t){return this.$c.ewt()?this.x8t(t):this.b8t(t)},hRt(t,s,i){return this.$c.ewt()?this.C8t(t,i):this.v8t(t,i)},rRt(t){return!!t&&t.nO()},nRt(t){return!!t&&t.pO()},oRt(t){return!!t&&t.cO()},aRt(t){return!!t&&!t.e6()},uRt(t,s,i){return!!t&&E.compare(100*t.xI(),s,i)},lRt(t){const s=this.$c.BA();return!!s&&s.IY(t)},d8t(){return!0},cRt(){return 0<this.o8t},fRt(t,s){const i=this.$c.Uvt();return!!i&&!!s&&!!i.Fat(t,s)}}}{let m=function(t,s){const i=t[0],e=s[0],h=i-e;if(0!=h)return h;const r=t[1],n=s[1];return r-n},g=function(t,s){return t[1]-s[1]};m,g;const Ha=self.js,qa=[],Za=[],Xa=Ha.er(Ha.Rect),Ka=Ha.er(Ha.Fo),$a=[];Ha.SH.wH.uht={dRt(t,s){t.met(s)},pRt(t,s){t.fe()&&"number"!=typeof s&&(s=parseFloat(s)),t.met(t.Ait()+s)},mRt(t,s){t.fe()&&t.met(t.Ait()-s)},gRt(t,s){t.met(!!s)},yRt(t){t.met(!t.Ait())},MRt(t){t.met(t.I0t())},wRt(t){this.$c.VN().H0t(t)},SRt(t,s,i,e,h,r){if(t&&s){const n=this.$c.r6(t,s,i,e,h,r);if(n){h&&s.n6(n);const o=this.$c.VN(),a=(o.o6(!0),n.a6(),o.o6(!1),new Map);n.Lvt(a,t,h);for(const[u,l]of a)u.s6().Act(l)}}},TRt(t,s,i,e,h,r){if(t&&s){const n=this.$c.b6t(t);n&&Ha.SH.wH.uht.SRt.call(this,n,s,i,e,h,r)}},eQ(h,r,n,o,a,t,u,l,c,f,d){if(h){let s=this.$c.a7(),i=s;if(t){const p=this.$c.QA().cq(t);if(!p)return;i=p}let e=null;if(!("number"!=typeof u||0<=u)||(e=i.c7(u))){let t=null;if(!("number"!=typeof l||0<=l)||(t=s.c7(l))){Xa.set(r,n,o,a);const m=i.eQ(h,Xa,e,t,c,f,d);h.s6().Nct(m),h.ugt()}}}},bRt(){const t=this.Nft;t.Ift()&&t.Cft().j9()},pdt(t,s){const i=this.$c.VN().Z0t(t);i&&(0===s?i.pdt(!1):1===s?i.pdt(!0):i.pdt(!i.ddt()))},xRt(t){this.$c.xA(t)},vRt(t,s){if(s<0&&(s=0),t){const i=t.s6(),e=i.t6();for(const h of e)h.xA(s)}},CRt(t){if(t){const s=t.s6(),i=s.t6();for(const e of i)e.m8()}},En(t){if(!(t<0))return this.$c.VN().D1t().SSt(t),!0},lA(t){return this.$c.VN().D1t().TSt(t),!0},GRt(){const t=this.$c.VN();return t.D1t().bSt(t.Q1t()),!0},aA(t){this.$c.VN().aA(t)},async HNt(t,s,i,e,h,r){const n=this.$c.Yk();n&&(this.y7(),await n.HNt(0===t?"image/png":"image/jpeg",s/100,i,e,h,r),await this.$c.P8(Ha.SH.wH.MH.O8t,null))},IRt(t,s){if(!(t<=0||s<=0)){this.$c.wNt(t,s),this.$c.a7().TV();const i=this.$c.Yk();i&&("off"!==i.fNt()&&this.$c.v6t(t,s),i.Yv(i.qk(),i.Xk(),!0),this.$c.y7())}},ERt(t){const s=this.$c.Yk();s&&"off"!==s.fNt()&&(s.GNt(0!==t?"high":"low"),s.Yv(s.qk(),s.Xk(),!0))},Zst(t){this.$c.gOt(t)},_Rt(t){this.$c.yOt(t)},DRt(t){this.$c.K4t(t)},NRt(t){},ARt(){for(const t of this.$c.QA().YA())t.jH()},LRt(t){this.$c.dOt(0!==t)},ORt(t,s){this.$c.jA(1/t),this.$c.PA(1/s)},RRt(t,s){this.$c.PA(t),this.$c.jA(s)},PRt(t){this.$c.LA(["vsync","unlimited-tick","unlimited-frame"][t])},kRt(t,i){if(t){const s=t.s6(),e=s.t6(),h=qa,r=Za,n=this.$c.a7(),o=t.rQ(),a=t.A2t();for(let t=0,s=e.length;t<s;++t){const u=e[t],l=u.l7();if(l){let t;t=o?u.Xht(i+u.ZO().N2t(a)):u.Xht(i),h.push([l.c7().yN(),l.f7()]),r.push([u,t])}}if(h.length){h.sort(m),r.sort(g);let i=!1;for(let t=0,s=h.length;t<s;++t){const c=r[t][0],f=n.d7(h[t][0]),d=h[t][1],p=f.p7();p[d]!==c&&((p[d]=c).l7().m7(f,!0),f.g7(c),i=!0)}i&&this.$c.y7(),Ha.On(qa),Ha.On(Za)}}},rL(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.$c.vN().rL(t,s)},FRt(t){if(!this.$c.Rg()){const s=this.$c.QA();s.qA()||s.ZA(t)}},jRt(t){if(!this.$c.Rg()){const s=this.$c.QA();if(!s.qA()){const i=s.cq(t);i&&s.ZA(i)}}},zRt(t){if(!this.$c.Rg()){const s=this.$c.QA();if(!s.qA()){const i=s.YA(),e=i.indexOf(s.BA());if((!t||0!==e)&&(t||e!==i.length-1)){const h=i[e+(t?-1:1)];s.ZA(h)}}}},BRt(){if(!this.$c.Rg()){const t=this.$c.QA();t.qA()||(t.ZA(t.BA()),this.$c.VN().t1t())}},URt(t,s){t&&t.hO(s)},WRt(t,s){t&&t.uO(s)},QRt(t,s){t&&t.fO(s)},JRt(t,s){t&&t.CI(s/100)},VRt(t,s){t&&t.mO(s)},YRt(t,s){t&&t.yO(s)},HRt(t,s){t&&t.S6(Ha.pr(+s))},qRt(t,s,i){t&&(t.LO(!0),t.b6(s),t.v6(i))},ZRt(t){t&&t.LO(!1)},XRt(t,s,i){t&&t.jQ(s/100,i/100)},KRt(t,s){t&&t.m4(+s)},$Rt(t,s){if(t){Ka.ma(s),Ka.cr();const i=t.AO();i.oa(Ka)||(i.Xo(Ka),this.y7())}},tPt(t,s){t&&t.GO(s)},sPt(t,s){t&&t.Xw(s)},iPt(t,s,i){if(t){const e=t.d6(),h=e.Wet(i);if(h){const r=1===s;h.hpt()!==r&&(h.eEt(r),t.XP(),this.$c.y7())}}},ePt(t,s,i,e){if(t){const h=t.d6(),r=h.Wet(s);if(r){i=Math.floor(i);const n=r.V3().H3(i);if(n){"color"===n?(Ka.ma(e),e=Ka):"percent"===n&&(e/=100);const o=h.$P(r.yN(),i,e);o&&r.hpt()&&this.$c.y7()}}}},hPt(t,s){t&&t._O(s)},rPt(t){this.$c.a7().M6(+t)},nPt(t){this.$c.a7().S6(Ha.pr(+t))},oPt(t,s){const i=this.$c.a7(),e=i.d6(),h=e.Wet(s);if(h){const r=1===t;h.hpt()!==r&&(h.eEt(r),i.XP(),this.$c.y7())}},aPt(t,s,i){const e=this.$c.a7(),h=e.d6(),r=h.Wet(t);if(r){s=Math.floor(s);const n=r.V3().H3(s);if(n){"color"===n?(Ka.ma(i),i=Ka):"percent"===n&&(i/=100);const o=h.$P(r.yN(),s,i);o&&r.hpt()&&this.$c.y7()}}},uPt(t,s){const i=this.$c.a7();i.W6(t/100,s/100)},lPt(t){const s=this.$c.a7();0===t?s.V6():s.Y6()},cPt(t){const s=this.$c.a7();s.b6(t)},fPt(t){const s=this.$c.a7();s.v6(t)},dPt(t,s){const i=this.$c.a7();i.b6(t),i.v6(s)},pPt(t){if(t){const s=t.twt();if(s){const i=s.l7();if(i){const e=this.$c.a7();e.b6(i.a4()),e.v6(i.c4())}}}},R6(t,s,i){const e=this.$c.a7();try{e.R6(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},k6(t,s,i){if(t){const e=this.$c.a7();try{e.k6(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}}},j6(t){if(t){const s=this.$c.a7();s.j6(t)}},B6(){this.$c.a7().B6()},async mPt(t){const s=this.$c.BA();if(s&&t&&!this.$c.Rg()){const i=t.rQ()?t.smt():[t];await this.f8t(s,i)}},async gPt(t){await Ha.SH.wH.uht.mPt.call(this,this.$c.b6t(t))},yPt(t){const s=this.$c.BA();if(s&&t){const i=t.rQ()?t.smt():[t];this.p8t(s,i)}},MPt(t){Ha.SH.wH.uht.yPt.call(this,this.$c.b6t(t))},wPt(){const t=this.$c.BA();if(t){const s=t.jY();this.p8t(t,s)}},async SPt(t){const s=this.$c.BA();t&&s&&!this.$c.Rg()&&await this.f8t(s,t.PY())},async TPt(t){const s=this.$c.BA(),i=this.$c.QA().cq(t);i&&s&&!this.$c.Rg()&&await this.f8t(s,i.PY())},oA(t){const s=this.gct.hA();if(s)switch(s.nA()){case 1:"number"==typeof t&&s.oA(t);break;case 2:"string"==typeof t&&s.oA(t);break;case 3:s.oA(t)}},bPt(t,s,i){const e=this.G8t(t.toLowerCase(),!0),h=e.E8t,r=s.toLowerCase(),n=(h.has(r)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`),Ha.first(h.values())||e.I8t);if(n){const o=0!==n.iA(),a=0!==i.iA();if(o!=a)return void console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`)}h.set(r,i)},xPt(t,s){const i=this.G8t(t.toLowerCase(),!0),e=(i.I8t&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`),Ha.first(i.E8t.values())||i.I8t);if(e){const h=0!==e.iA(),r=0!==s.iA();if(h!=r)return void console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`)}i.I8t=s},vPt(t,s,i){const e=this.$c,h=e.ewt()?$a:null,r=(i=Math.floor(i),this.G8t(t.toLowerCase(),!1));if(!r)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),h;let n=r.E8t.get(s.toLowerCase());if(!n){if(!r.I8t)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),h;n=r.I8t,i=0}if(!n.Ql())return h;if(0!==n.iA())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),h;const o=e.VN(),a=o.KN(),u=a.XN(),l=0<u.length,c=(l&&(n.sA()?o.rj(u):o.E1t(u)),[]),f=o.Sdt(a);if(f){const p=f.bdt();for(let t=i,s=p.length;t<s;++t)c.push(p[t].Ait())}const d=n.bdt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].I0t());return e.ewt()?this.D8t(o,n,c,l,u):this._8t(o,n,c,l,u)}}}{const _=self.js;_.SH.wH.lht={CPt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))&&(t=0),Math.floor(t)},float:function(t){return t="string"==typeof t&&(t=parseFloat(t),isNaN(t))?0:t},O(t){return t.toString()},Wt(t){return"string"==typeof t?t.length:0},random(t,s){return void 0===s?this.$c.zA()*t:this.$c.zA()*(s-t)+t},g2t(...t){const s=Math.floor(this.$c.zA()*t.length);return t[s]},GPt(t,...s){return"number"!=typeof t&&(t=0),s[t=_.cr(Math.floor(t),0,s.length-1)]},pi(){return Math.PI},IPt(){return 1/0},sqrt(t){return Math.sqrt(t)},abs(t){return Math.abs(t)},round(t){return Math.round(t)},EPt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor(t){return Math.floor(t)},ceil(t){return Math.ceil(t)},sign(t){return Math.sign(t)},sin(t){return Math.sin(_.pr(t))},cos(t){return Math.cos(_.pr(t))},tan(t){return Math.tan(_.pr(t))},asin(t){return _.mr(Math.asin(t))},acos(t){return _.mr(Math.acos(t))},atan(t){return _.mr(Math.atan(t))},exp(t){return Math.exp(t)},qt(t){return Math.log(t)},log10(t){return Math.log10(t)},max(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e<t&&(e=t)}return e},min(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e>t&&(e=t)}return e},cr(t,s,i){return _.cr(t,s,i)},It(t,s,i,e){return _.gr(t,s,i,e)},angle(t,s,i,e){return _.mr(_.Mr(t,s,i,e))},Lt(t,s,i){return _.Lt(t,s,i)},Er(t,s,i){return _.Er(t,s,i)},Dr(t,s,i,e){return _.Dr(t,s,i,e)},Nr(t,s,i,e,h){return _.Nr(t,s,i,e,h)},Ar(t,s,i){return _.Ar(t,s,i)},_Pt(t,s){return _.mr(_.Sr(_.pr(t),_.pr(s)))},DPt(t,s,i){return _.mr(_.vr(_.pr(t),_.pr(s),i))},NPt(t,s,i){return _.mr(_.Tr(_.pr(t),_.pr(s),_.pr(i)))},APt(t,s,i){return(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s},LPt(t,s){return(t|=0)^1<<(s|=0)},OPt(t,s){return(t|=0)&1<<(s|=0)?1:0},RPt(){return"\n"},PPt(t){return"string"==typeof t?t.toUpperCase():""},kPt(t){return"string"==typeof t?t.toLowerCase():""},left(t,s){return"string"==typeof t?t.substr(0,s):""},mid(t,s,i){return"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i)},right(t,s){return"string"==typeof t?t.substr(Math.max(t.length-s,0)):""},trim(t){return"string"==typeof t?t.trim():""},FPt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},jPt(t,s){return"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0},find(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(_.ae(s),"i")):-1},zPt(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(_.ae(s),"")):-1},replace(t,s,i){return"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(_.ae(s),"gi"),i):"string"==typeof t?t:""},BPt(t,...i){let e=t;for(let t=0,s=i.length;t<s;++t)e=e.replaceAll(`{${t}}`,i[t].toString());return e},UPt(t,s,i){const e=this.l8t(s,i);return t?t.search(e):-1},WPt(t,s,i,e){const h=this.l8t(s,i);return t?t.replace(h,e):""},QPt(t,s,i){const e=this.c8t(t.toString(),s,i);return e?e.length:0},JPt(t,s,i,e){e=Math.floor(e);const h=this.c8t(t.toString(),s,i);return!h||e<0||e>=h.length?"":h[e]},VPt(t,s){let i=t<0?"-":"",e=s-(t=t<0?-t:t).toString().length;return(i+="0".repeat(Math.max(e,0)))+t.toString()},YPt(t){return encodeURIComponent(t)},HPt(t){return decodeURIComponent(t)},dA(){return this.$c.WZ()},timescale(){return this.$c.bA()},qPt(){return(Date.now()-this.$c.sOt())/1e3},ZPt(){return Date.now()},time(){return this.$c.MA()},tickcount(){return this.$c.z$()},XPt(){return this.$c.hOt()},fps(){return this.$c.vA()},KPt(){return this.$c.EA()},$Pt(){return this.$c.DA()},t9t(){return this.$c.Yk().uNt()},s9t(){return this.$c.Yk().cNt()},i9t(){return this.$c.ON()},e9t(){return this.$c.PN()},h9t(){return this.$c.ON()},r9t(){return this.$c.PN()},n9t(){return this.$c.a7().x6()},o9t(){return this.$c.a7().C6()},a9t(){return this.$c.a7().Jc()},u9t(){return this.$c.a7().w6()},l9t(){return _.mr(this.$c.a7().T6())},c9t(){return this.$c.a7().$p()},f9t(){return this.$c.a7().dm()},d9t(){return 100*this.$c.a7().AQ()},p9t(){return 100*this.$c.a7().LQ()},m9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().gu():0},g9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().yu():0},y9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().Mu():0},M9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().wu():0},w9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().width():0},S9t(t){const s=this.$c.a7().c7(t);return s?s.NQ().height():0},T9t(t){const s=this.$c.a7().c7(t);if(s){const i=s.NQ();return(i.gu()+i.Mu())/2}return 0},b9t(t){const s=this.$c.a7().c7(t);if(s){const i=s.NQ();return(i.yu()+i.wu())/2}return 0},x9t(t,s,i){const e=this.$c.a7().c7(t);return e?e.kO(s,i)[0]:0},v9t(t,s,i){const e=this.$c.a7().c7(t);return e?e.kO(s,i)[1]:0},C9t(t,s,i){const e=this.$c.a7().c7(t);return e?e.BO(s,i)[0]:0},G9t(t,s,i){const e=this.$c.a7().c7(t);return e?e.BO(s,i)[1]:0},I9t(t,s,i,e){const h=this.$c.a7(),r=h.c7(t),n=h.c7(s);if(!r||!n||r===n)return i;const[o,a]=r.BO(i,e);return n.kO(o,a)[0]},E9t(t,s,i,e){const h=this.$c.a7(),r=h.c7(t),n=h.c7(s);if(!r||!n||r===n)return e;const[o,a]=r.BO(i,e);return n.kO(o,a)[1]},_9t(t){const s=this.$c.a7().c7(t);return s?s.gO():0},D9t(t){const s=this.$c.a7().c7(t);return s?_.mr(s.wO()):0},N9t(t){const s=this.$c.a7().c7(t);return s?100*s.xI():0},A9t(t){const s=this.$c.a7().c7(t);return s?s.MO():0},L9t(t){const s=this.$c.a7().c7(t);return s?s.x6():0},O9t(t){const s=this.$c.a7().c7(t);return s?s.C6():0},R9t(t){const s=this.$c.a7().c7(t);return s?100*s.TO():0},P9t(t){const s=this.$c.a7().c7(t);return s?100*s.xO():0},k9t(t){const s=this.$c.a7().c7(t);return s?s.d4():0},F9t(t){const s=this.$c.a7().c7(t);return s?s.yN():-1},j9t(){const t=this.$c.Yk();return t?t.ZNt():""},z9t(t){const s=this.Nft;if(!s.Ift())return 0;if(t){const i=s._ft(t);return i?i.yN():0}return s.Cft().yN()},B9t(){return this.$c.MOt()},U9t(t,s,...i){const e=this.G8t(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let h=e.E8t.get(s.toLowerCase());if(!h){if(!e.I8t)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;h=e.I8t}const r=h.iA(),n=h.HN();if(0===r)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Ql())return n;const o=this.$c,a=o.VN(),u=a.KN(),l=u.XN(),c=0<l.length,f=(c&&(h.sA()?a.rj(l):a.E1t(l)),h.bdt());for(let t=i.length,s=f.length;t<s;++t)i.push(f[t].I0t());const d=h.ZN(),p=d.tA(d.XN(),h.sA(),r,n,...i);return c&&a.oj(l),p},W9t(){return this.$c.TN().SB()},Q9t(){return 0===this.o8t?1:this.a8t/this.o8t},renderer(){return this.$c.LNt()?"webgpu":"webgl"},J9t(){return this.$c.LNt()?this.$c.LNt().GetAdapterInfoString():this.$c.ANt().LE()},V9t(){let t=this.$c.Nw().dw();return Math.round(100*t/1048576)/100},Y9t(t,s,i){return _.jr(t,s,i)},H9t(t,s,i){return _.Br(t/100,s/100,i/100)},q9t(t,s,i,e){return _.zr(t/100,s/100,i/100,e/100)},Z9t(t,s,i){return _.Br(t/255,s/255,i/255)},X9t(t,s,i,e){return _.zr(t/255,s/255,i/255,e/255)},K9t(){return this.$c.EN()},$9t(){return this.$c.DN()},tkt(){return this.$c.KN().CY().Jc()},skt(){return this.$c.KN().wmt()}}}{const tu=self.js;tu.SH.Vet=class extends tu.ISt{constructor(t){super(t)}hr(){super.hr()}}}{const su=self.js,iu=self.qs,eu=[],hu=(su.SH.Vet.Qbt=class extends su.c5t{constructor(t){super(t),this.kbt=t.xxt()}hr(){su.On(this.kbt),super.hr()}ZSt(){for(const t of this.kbt)t.FTt(this.$c)}BY(s){const i={lS:this.$c.kN()};return Promise.all(this.kbt.map(t=>t.jTt(s,i)))}YY(){for(const t of this.kbt)t.zTt()}QY(){this.ikt()}ikt(){for(const t of this.oct.$L())t.LP().ekt()}aMt(t){su.SH.Vet.F4t(this,t)}YMt(t){eu.push({m5t:null,hkt:!1,instances:[]})}rkt(t,s,i){const e=eu.at(-1);e.m5t=t,e.hkt=i,e.instances.push(s)}HMt(t){const s=eu.pop(),i=s.m5t,e=s.hkt;if(i){const h=new Map;for(const r of s.instances)r.Lvt(h,i,e);for(const[n,o]of h)n.s6().Act(o)}}nkt(t){const s=this.ZO().Ext(t),i=this.N7(),e=s.BTt(0);return e.y9().Wj(i.Nw(),{lS:i.kN()}).then(()=>this.ikt()),s}okt(t){for(const s of this.oct.$L())s.LP().akt(t);this.ZO()._xt(t)}ukt(t,s){const i=this.oct.Gxt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);let e=i.JTt(s);e<0&&(e+=i.u9()+1);const h=su.RTt.kTt(this.N7()),r=(i.UTt(h,e),this.N7());h.y9().Wj(r.Nw(),{lS:r.kN()}).then(()=>this.ikt());for(const n of this.oct.$L())n.LP().lkt();return h}ckt(t,s){const i=this.oct.Gxt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);if(1===i.u9())throw new Error(`cannot remove last frame from animation '${t}'`);let e=i.JTt(s);e<0&&(e+=i.u9()),i.WTt(e);for(const h of this.oct.$L())h.LP().lkt()}XSt(){return self.fkt}},new WeakMap);self.fkt=class extends self.BL{constructor(t){super(t),hu.set(this,t.VMt())}dkt(t){iu.ve(t);const s=hu.get(this).ZO().Gxt(t);return s?s.VTt():null}pkt(){return hu.get(this).ZO().Cxt().map(t=>t.VTt())}mkt(t){return iu.ve(t),hu.get(this).nkt(t).VTt()}gkt(t){iu.ve(t),hu.get(this).okt(t)}ykt(t,s){if(iu.ve(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return hu.get(this).ukt(t,s).f9()}Mkt(t,s){if(iu.ve(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");hu.get(this).ckt(t,s)}}}{const D=self.js,ru=self.qs,nu=D.er(D.Rect),ou=D.er(D.Vu),au=D.er(D.Va),N=(D.SH.Vet.Instance=class extends D.Q5t{constructor(t,s){super(t);let i=!0,e="",h=0,r=!0;s&&(i=!!s[0],e=s[1],h=s[2],r=s[3]),this.wkt=this.oct.Gxt(e)||this.oct.xxt()[0],this.Skt=D.cr(h,0,this.wkt.u9()-1),this.Tkt=this.wkt.BTt(this.Skt);const n=this.Tkt.y9(),o=(this.bkt=n.x5(),this.xkt=n.vC(),this.vkt=n.i3t(),this.H5t(),t.Nvt(2,!0),t.Nvt(1,0<=this.wkt.s9()),this.Ckt=Math.abs(this.wkt.s9()),this.Gkt=this.wkt.n9(),this.Ikt=D.er(D.g0),this.Ekt=0,this._kt=0,this.Dkt="",this.Nkt=-1,this.Akt="",this.Lkt=0,this.l7());this.Okt=o.SR(),o.hO(i),o.PR(r),o.Trt(this.Tkt.S9()),o.xrt(this.Tkt.b9()),o.TIt(this.Tkt.A9()),o.lR(),1===this.oct.vxt()&&1===this.oct.xxt()[0].u9()||0===this.Ckt||this.R5t()}hr(){this.wkt=null,this.Tkt=null,this.bkt=null,this.Ikt=null,super.hr()}K5t(){return this.Tkt.y9()}Dst(){return!0}HB(){this.bkt=null}X5t(){this.ekt()}K4(t){const s=this.bkt;if(null!==s){t.EI(s);const i=this.l7();i.CP()?this.Rkt(i,t):this.Pkt(i,t)}}Pkt(t,s){let i=this.Okt;this.$c.jN()&&(i=t.pIt(i)),s.jI(i,this.vkt)}Rkt(s,t){const i=s.AIt();if(s.OIt()){s.cIt(nu,ou,!1);let t=ou;this.$c.jN()&&(t=s.pIt(t)),i.X4(s.GP(),t,this.vkt),s.LIt(!1)}i.K4(t)}kkt(){return this.Ikt.hi()}Fkt(){return this.Gi.Avt(2)}jkt(t){this.Gi.Nvt(2,t)}zkt(){return this.Gi.Avt(1)}Bkt(t){this.Gi.Nvt(1,t)}Ukt(){return this.Gi.Avt(4)}Wkt(t){this.Gi.Nvt(4,t)}JZ(){this.Akt&&this.Qkt(),0<=this.Nkt&&this.Jkt();const t=this.Ckt;if(this.Fkt()&&0!==t){const s=this.$c.pA(this.Gi),i=(this.Ikt.ec(s),this.kkt()),e=this.Tkt,h=e.M9()/t;if(!(i<this.Ekt+h)){const r=this.wkt,n=this.Gkt,o=r.u9(),a=r.h9(),u=r.e9(),l=r.a9(),c=(this.zkt()?this.Skt++:this.Skt--,this.Ekt+=h,this.Skt>=o&&(l?(this.Bkt(!1),this.Skt=o-2):!u&&(this._kt++,this._kt>=a)?this.Vkt(!1):this.Skt=n),this.Skt<0&&(l?(this.Skt=1,this.Bkt(!0),u||(this._kt++,this._kt>=a&&this.Vkt(!0))):!u&&(this._kt++,this._kt>=a)?this.Vkt(!0):this.Skt=n),this.Skt=D.cr(this.Skt,0,o-1),r.BTt(this.Skt));i>this.Ekt+c.M9()/t&&(this.Ekt=i),this.Ykt(e,c)}}else this.w5t()}Vkt(t){this.Skt=t?0:this.wkt.u9()-1,this.jkt(!1),this.Dkt=this.wkt.Jc(),this.Wkt(!0),this.p5t("animationend",!1,{animationName:this.Dkt}),this.L8(D.SH.Vet.MH.Hkt),this.L8(D.SH.Vet.MH.qkt),this.Wkt(!1),this._kt=0}Ykt(i,e,t){if(i!==e){const s=this.l7(),h=i.y9(),r=e.y9(),n=h.$p(),o=h.dm(),a=r.$p(),u=r.dm(),l=(t&&t.onFrameChange?t.onFrameChange(s,n,o,a,u):(n!==a&&s.um(s.$p()*(a/n)),o!==u&&s.tm(s.dm()*(u/o))),s.Trt(e.S9()),s.xrt(e.b9()),s.TIt(e.A9()),s.lR(),this.Tkt=e,this.bkt=r.x5(),this.xkt=r.vC(),this.vkt=r.i3t(),this.ak().zet());for(let t=0,s=l.length;t<s;++t)l[t].W3t(i,e);this.p5t("framechange",!1,{animationName:this.wkt.Jc(),Zkt:this.Skt}),this.L8(D.SH.Vet.MH.Xkt),this.$c.y7()}}Kkt(t){this.jkt(!0),this.Ekt=this.kkt(),1===t&&0!==this.Skt&&(this.Nkt=0,this.Ukt()||this.Jkt()),this.R5t()}$kt(t,s,i){this.Akt=t,this.Lkt=s,this.R5t(),!i&&this.Ukt()||this.Qkt()}tFt(){return this.wkt}sFt(){return this.Akt||this.wkt.Jc()}akt(t){D.mh(t,this.sFt())&&this.$kt(this.oct.Dxt().Jc(),1,!0)}iFt(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.oct.Gxt(this.sFt());if(!s)return;if(-1===(t=s.QTt(t)))return}isFinite(t)&&(this.Nkt=t,this.Ukt()||this.Jkt())}lkt(){if(!this.Akt&&-1===this.Nkt){const t=this.Tkt,s=this.wkt.BTt(D.cr(this.Skt,0,this.wkt.u9()-1));t!==s&&this.Ykt(t,s),1<this.wkt.u9()&&0<this.Ckt&&this.R5t()}}eFt(){return this.Skt}hFt(){return this.Tkt.P9()}rFt(t){this.Ckt=Math.abs(t),this.Bkt(0<=t),0<this.Ckt&&this.R5t()}nFt(){return this.zkt()?this.Ckt:-this.Ckt}oFt(t){"string"==typeof t&&-1===(t=this.wkt.QTt(t))||(t=D.cr(Math.floor(t),0,this.wkt.u9()-1),this.Gkt=t)}aFt(){return this.Gkt}Qkt(t){const s=this.Tkt,i=this.oct.Gxt(this.Akt);if(this.Akt="",i&&(i!==this.wkt||!this.Fkt())){this.wkt=i,this.Bkt(0<=i.s9()),this.Ckt=Math.abs(i.s9()),this.Gkt=i.n9(),this.Skt=D.cr(this.Skt,0,this.wkt.u9()-1),1===this.Lkt&&(this.Skt=0),this.jkt(!0),this.Ekt=this.kkt();const e=this.wkt.BTt(this.Skt);this.Ykt(s,e,t)}}Jkt(t){const s=this.Tkt,i=this.Skt;if(this.Skt=D.cr(Math.floor(this.Nkt),0,this.wkt.u9()-1),this.Nkt=-1,t||i!==this.Skt){const e=this.wkt.BTt(this.Skt);this.Ykt(s,e),this.Ekt=this.kkt()}}ekt(){const t=this.Tkt.y9();this.bkt=t.x5(),this.xkt=t.vC(),this.vkt=t.i3t(),this.l7().LIt(!0)}x5(){return this.bkt}vC(){return this.xkt}i3t(){return this.vkt}C9(){return this.Tkt.C9()}ZMt(t){let s=this.Tkt,i=this.l7(),e=null;if("string"==typeof t)e=s.D9(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");e=s._9(t-1)}let h=i.gR();if(!e)return[i.a4(),i.c4(),h];if(au.C(e.ebt()),i.CP()){const[r,n,o]=i.GP().rS(au.Xa(),au.$a());au.set(r,n),h+=o}return au.offset(-s.S9(),-s.b9()),au.scale(i.$p(),i.dm()),au.rotate(i.T6()),au.offset(i.a4(),i.c4()),[au.Xa(),au.$a(),h]}uFt(){return this.l7().GIt().Al()}lFt(t){t=Math.floor(t);const s=this.l7(),i=s.GIt(),e=i.Al();if((t=t===e?0:t)<0||e<=t)return[0,0];const h=i.Nl();return[h[2*t+0]+s.a4(),h[2*t+1]+s.c4()]}j5t(){const s=D.SH.Vet.uht,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this.wkt.Jc(),cFt:t=>this.B5t(s.fFt,t,0)},{name:t+".current-frame",value:this.Skt,cFt:t=>this.B5t(s.dFt,t)},{name:t+".is-playing",value:this.Fkt(),cFt:t=>t?this.B5t(s.pFt,0):this.B5t(s.mFt)},{name:t+".speed",value:this.Ckt,cFt:t=>this.B5t(s.gFt,t)},{name:t+".repeats",value:this._kt,cFt:t=>this._kt=t}]}]}b4(){const t={a:this.wkt.dQ()},s=(0!==this.Ekt&&(t.fs=this.Ekt),this.kkt()),i=(0!==s&&(t.at=s),0!==this.Skt&&(t.f=this.Skt),0!==this.Ckt&&(t.cas=this.Ckt),1!==this._kt&&(t.ar=this._kt),0!==this.Gkt&&(t.rt=this.Gkt),this.Fkt()||(t.ap=this.Fkt()),this.zkt()||(t.af=this.zkt()),this.l7());return i.RR()&&(t.ce=i.RR()),t}x4(t){const s=this.ZO().Ixt(t.a),i=(s&&(this.wkt=s),this.Ekt=t.hasOwnProperty("fs")?t.fs:0,this.Ikt.Set(t.hasOwnProperty("at")?t.at:0),t.hasOwnProperty("f")?t.f:0),e=(this.Skt=D.cr(i,0,this.wkt.u9()-1),this.Ckt=t.hasOwnProperty("cas")?t.cas:0,this._kt=t.hasOwnProperty("ar")?t.ar:1,t.hasOwnProperty("rt")?t.rt:0),h=(this.Gkt=D.cr(e,0,this.wkt.u9()-1),this.jkt(!t.hasOwnProperty("ap")||!!t.ap),this.Bkt(!t.hasOwnProperty("af")||!!t.af),this.wkt.BTt(this.Skt)),r=(this.Tkt=h,this.ekt(),this.l7());r.Trt(h.S9()),r.xrt(h.b9()),r.TIt(h.A9()),r.PR(!!t.ce),this.Fkt()&&this.R5t()}Uht(t){const s=this.l7();switch(t){case 3:return s.RR();case 2:return D.cr(this.Skt,0,this.wkt.u9()-1);case 1:return this.wkt.Jc()}}Hht(t,s,i){const e=this.l7();switch(t){case 3:e.PR(!!s);break;case 2:{this.jkt(!1);const h=this.wkt.u9()-1,r=s=D.cr(s,0,h),n=this.wkt.BTt(this.Skt),o=this.wkt.BTt(r);this.Ykt(n,o,i),this.Skt=D.cr(r,0,h);break}case 1:{this.Akt=s,this.Qkt(i);const a=this.wkt.u9();1<a&&0<this.wkt.s9()?this.R5t():this.w5t();break}}}XSt(){return self.yFt}},new WeakMap),uu=new Map([["current-frame",0],["beginning",1]]);self.yFt=class extends self.EP{constructor(){super(),N.set(this,self.HO.$O().LP())}v9(){return N.get(this).C9()}G9(t){return this.I9(t)[0]}E9(t){return this.I9(t)[1]}MFt(t){return this.I9(t)[2]}I9(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return N.get(this).ZMt(t)}N9(){return N.get(this).uFt()}L9(t){return ru.we(t),N.get(this).lFt(t)[0]}R9(t){return ru.we(t),N.get(this).lFt(t)[1]}O9(t){return ru.we(t),N.get(this).lFt(t)}wFt(){N.get(this).jkt(!1)}SFt(t="current-frame"){ru.ve(t);const s=uu.get(t);if(void 0===s)throw new Error("invalid mode");N.get(this).Kkt(s)}TFt(t,s="beginning"){ru.ve(t),ru.ve(s);const i=uu.get(s);if(void 0===i)throw new Error("invalid mode");const e=N.get(this);if(!e.ZO().Gxt(t))throw new Error(`animation name "${t}" does not exist`);e.$kt(t,i)}dkt(t){ru.ve(t);const s=N.get(this).ZO().Gxt(t);return s?s.VTt():null}get animation(){return N.get(this).tFt().VTt()}get animationName(){return N.get(this).sFt()}set Zkt(t){ru.we(t),N.get(this).iFt(t)}get Zkt(){return N.get(this).eFt()}set bFt(t){ru.ve(t),N.get(this).iFt(t)}get bFt(){return N.get(this).hFt()}set xFt(t){ru.we(t),N.get(this).rFt(t)}get xFt(){return N.get(this).nFt()}set vFt(t){ru.we(t),N.get(this).oFt(t)}get vFt(){return N.get(this).aFt()}get imageWidth(){return N.get(this).K5t().$p()}get imageHeight(){return N.get(this).K5t().dm()}CFt(){const t=N.get(this).K5t();return[t.$p(),t.dm()]}async GFt(t){ru.th(t,Blob);const s=N.get(this),i=s.N7(),e=s.K5t(),h=D.er(D.oTt);if(h.TTt(i,t),await h.Wj(i.Nw(),{lS:i.kN()}),s.rr())h.hr();else{e.bTt(h);const r=s.VMt();r.ikt(),r.ZO().Rf().dispatchEvent(new D.Event("animationframeimagechange")),i.y7()}}IFt(t,s){ru.ve(s),N.get(this).l7().uIt(!!t,s)}}}{const lu=self.js;lu.SH.Vet.MH={EFt(t){return lu.mh(this.sFt(),t)},_Ft(t,s){return lu.compare(this.Skt,t,s)},DFt(t,s){if("string"!=typeof s)return!1;const i=this.Tkt.P9();return lu.compare(i.toLowerCase(),t,s.toLowerCase())},NFt(t,s){return lu.compare(this.nFt(),t,s)},qkt(t){return lu.mh(this.Dkt,t)},Hkt(){return!0},Xkt(){return!0},AFt(){return this.l7().$p()<0},LFt(){return this.l7().dm()<0},OFt(){return!0},RFt(){return!0},RR(){return this.l7().RR()}}}{const cu=self.js;cu.SH.Vet.uht={PFt(t,s,i,e,h){if(t&&s){const[r,n]=this.ZMt(i),o=this.$c.r6(t,s,r,n,e,h);if(o){if(e&&s.n6(o),t.WL().vL()){const u=o.l7();u.S6(this.l7().T6()),u.lR()}const a=this.$c.VN();a.o6(!0),o.a6(),a.o6(!1),t!==this.$c.N0t().ZO()&&this.M5t.rkt(t,o,e)}}},mFt(){this.jkt(!1)},pFt(t){this.Kkt(t)},fFt(t,s){this.$kt(t,s)},dFt(t){this.iFt(t)},gFt(t){this.rFt(t)},kFt(t){this.oFt(t)},FFt(s,t){try{0===s?this.VMt().nkt(t):this.VMt().okt(t)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation: `,t)}},jFt(s,t,i){try{0===s?this.VMt().ukt(t,i):this.VMt().ckt(t,i)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation frame: `,t)}},zFt(t){const s=this.l7(),i=s.$p(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.um(e),s.lR())},BFt(t){const s=this.l7(),i=s.dm(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.tm(e),s.lR())},M6(t){const s=this.Tkt,i=s.y9(),e=this.l7(),h=e.$p()<0?-1:1,r=e.dm()<0?-1:1,n=i.$p()*t*h,o=i.dm()*t*r;e.$p()===n&&e.dm()===o||(e.Yv(n,o),e.lR())},async UFt(t,s,i){const e=this.Tkt,h=e.y9(),r=this.l7(),n=this.$c,o=this.M5t;if(h.dB()===t)0===s&&(r.Yv(h.$p(),h.dm()),r.lR()),this.L8(cu.SH.Vet.MH.OFt);else{const a=cu.er(cu.oTt);try{if(await a.STt(n,t),!a.UB())throw new Error("image failed to load");if(this.rr())return void a.hr();await a.Wj(n.Nw(),{lS:n.kN()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.rr()||this.L8(cu.SH.Vet.MH.RFt))}this.rr()?a.hr():(h.bTt(a),o.ikt(),o.ZO().Rf().dispatchEvent(new cu.Event("animationframeimagechange")),n.y7(),0===s&&(r.Yv(h.$p(),h.dm()),r.lR()),await this.P8(cu.SH.Vet.MH.OFt))}},WFt(t){this.l7().PR(t)},uIt(t,s){this.l7().uIt(0===t,s)},QFt(t){this.l7().Xw(t),this.$c.y7()}}}{const fu=self.js;fu.SH.Vet.lht={JFt(){return this.eFt()},VFt(){return this.hFt()},YFt(){return this.wkt.u9()},HFt(){return this.wkt.Jc()},qFt(){return this.nFt()},ZFt(){return this.wkt.s9()},XFt(t){return this.ZMt(t)[0]},KFt(t){return this.ZMt(t)[1]},$Ft(t){return this.ZMt(t)[2]},tjt(){return this.C9()},sjt(){return this.K5t().$p()},ijt(){return this.K5t().dm()},ejt(t){return this.lFt(t)[0]},hjt(t){return this.lFt(t)[1]},rjt(){return this.uFt()}}}{const du=self.js;du.SH.Text=class extends du.ISt{constructor(t){super(t)}hr(){super.hr()}}}{const pu=self.js;pu.SH.Text.Qbt=class extends pu.c5t{constructor(t){super(t)}hr(){super.hr()}ZSt(){}BY(t){}YY(){}}}{const mu=self.js,gu=self.qs,yu=[0,0,0],Mu=["left","center","right"],wu=["top","center","bottom"],Su=["ltr","rtl"],Tu=["word","cjk","character"],bu=new mu.Rect,xu=new mu.Vu,vu=new mu.Fo,Cu=mu.er(mu.Va),Gu=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]),A=(mu.SH.Text.Instance=class extends mu.Q5t{constructor(t,s){if(super(t),this.tf="",this.njt=!0,this.ojt="Arial",this.ajt=12,this.ujt=0,this._x=!1,this.Dx=!1,this.Hw=mu.er(mu.Fo),this.Px=0,this.kx=0,this.zx="word",this.Bx=0,this.ljt="auto",this.cjt=1,this.fjt=null,this.djt="",this.pjt=!1,this.mjt=!1,this.gjt=null,this.yjt=-1,this.Mjt=-1,this.wjt=0,this.Sjt=mu.er(mu.Hg.gw,this.$c.Nw(),{timeout:5}),this.Sjt.yv=()=>this.$c.y7(),this.Tjt=()=>this.bjt(),this.xjt=!1,s){this.tf=s[0],this.njt=!!s[1],this.ojt=s[2],this.ajt=s[3],this.ujt=s[4],this._x=!!s[5],this.Dx=!!s[6],this.Px=s[8],this.kx=s[9],this.zx=Tu[s[10]],this.Bx=s[11],this.vjt(this.$c.fH(s[12]));const i=s[7];this.Hw.Qo(i[0],i[1],i[2]),this.l7().hO(s[13]),this.mjt=!!s[15]}this.Cjt(),this.Gjt()}hr(){this.vjt(null),this.Ijt(),this.gjt&&(this.gjt.hr(),this.gjt=null),this.Sjt.hr(),this.Sjt=null,super.hr()}Cjt(){const t=this.Sjt;t.hf(this.tf),t.Tv(this.njt),this.Sjt.bx()&&this.fjt?this.Sjt.Xp(this.N7().pOt(this.fjt)):this.Sjt.Xp(null),t.bv("nearest"!==this.$c.kN()),t.xv(this.ojt),t.Iv(this.ujt),t._v(this._x),t.Nv(this.Dx),t.Kw(this.Hw),t.Fv(Mu[this.Px]),t.zv(wu[this.kx]),t.Uv(this.zx),t.Qv(Su[this.Bx])}Ejt(){let t=this.l7(),s=(this.Sjt.vv(this.ajt),this.Sjt.Gv(t.DGt()),t.c7()),i;"auto"===this.ljt?i=s.GJ(t.gR()):"fixed"===this.ljt&&(i=this.cjt),t.CP()&&i!==this.Sjt.Hv()&&t.LIt(!0),this.Sjt.Yv(t.$p(),t.dm(),i)}vjt(t){t&&(t.rQ()||t.WL().constructor!==mu.SH.Vet)||t!==this.fjt&&(this.fjt&&this.fjt.Rf().removeEventListener("animationframeimagechange",this.Tjt),this.fjt=t,this.fjt&&this.fjt.Rf().addEventListener("animationframeimagechange",this.Tjt),this.Cjt(),this.pjt=!1,this.$c.y7())}bjt(){this.$c.mOt(this.fjt),this.$c.y7(),this.xjt=!0}Gjt(){if(this.mjt){let t=this.tf;this.njt&&(t=mu._h.Jp(t)),this.gjt?this.gjt.hf(t):this.gjt=mu.er(mu.Kc,this.$c,t)}else this.gjt&&(this.gjt.hr(),this.gjt=null)}K4(t){const s=this.l7(),i=(this.Ejt(),this.xjt&&(this.xjt=!1,this.Sjt.bx())&&this.fjt&&this.Sjt.Xp(this.N7().pOt(this.fjt)),this.Sjt.x5());if(i){const e=s.c7();if(0===s.T6()&&0===e.T6()&&0===s.gR()&&!s.CP()&&e.VQ()){const h=s.SR(),[r,n]=e.JO(h.Xr(),h.Kr()),[o,a]=e.JO(h.sn(),h.hn()),u=r-Math.round(r),l=n-Math.round(n),[c,f]=(bu.set(r,n,o,a),bu.offset(-u,-l),xu.dl(bu),t.WI(t.aE()));this.$c.Yk().Xj(t,c,f),t.EI(i),t.vM(xu,this.Sjt.vC()),e.$j(t)}else t.EI(i),s.CP()?this.Rkt(s,t):this.Pkt(s,t)}}Pkt(t,s){let i=t.SR();this.$c.jN()&&(i=this._jt(i)),s.vM(i,this.Sjt.vC())}Rkt(s,t){const i=s.AIt();if(s.OIt()){s.cIt(bu,xu,!1);let t=xu;this.$c.jN()&&(t=this._jt(t)),i.X4(s.GP(),t,this.Sjt.vC()),s.LIt(!1)}i.K4(t)}_jt(t){const s=t.Xr()-Math.round(t.Xr()),i=t.Kr()-Math.round(t.Kr());return 0==s&&0==i?t:(xu.C(t),xu.offset(-s,-i),xu)}$5t(){const t=this.Sjt.x5();return t?[t.$p(),t.dm()]:[100,100]}t3t(){return this.Sjt.vC()}e3t(){return!1}b4(){const t={t:this.tf,c:this.Hw.toJSON(),fn:this.ojt,ps:this.ajt};return this.njt&&(t.bbc=this.njt),0!==this.Px&&(t.ha=this.Px),0!==this.kx&&(t.va=this.kx),"word"!==this.zx&&(t.wr=this.zx),0!==this.ujt&&(t.lho=this.ujt),this._x&&(t.b=this._x),this.Dx&&(t.i=this.Dx),-1!==this.Mjt&&(t.tw={st:this.yjt,en:this.Mjt,l:this.wjt}),this.fjt&&(t.ioc=this.fjt.dQ()),"fixed"===this.ljt&&(t.fs=this.cjt),t}x4(t){if(this.Ijt(),this.tf=t.t,this.Hw.Ra(t.c),this.ojt=t.fn,this.ajt=t.ps,this.njt=!!t.hasOwnProperty("bbc")&&t.bbc,this.Px=t.hasOwnProperty("ha")?t.ha:0,this.kx=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.zx="boolean"==typeof s?s?"word":"character":s}else this.zx="word";if(this.ujt=t.hasOwnProperty("lho")?t.lho:0,this._x=!!t.hasOwnProperty("b")&&t.b,this.Dx=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const i=t.tw;this.yjt=i.st,this.Mjt=i.en,this.wjt=i.l}if(t.hasOwnProperty("ioc")){const e=this.N7().fH(t.ioc);e&&this.vjt(e)}else this.vjt(null);t.hasOwnProperty("fs")?(this.ljt="fixed",this.cjt=t.fs):this.ljt="auto",this.Cjt(),this.Gjt(),this.pjt=!1,-1!==this.Mjt&&this.R5t()}Uht(t){switch(t){case 0:return this.Vv();case 1:return this.njt;case 2:return this.Djt();case 3:return this.Njt();case 4:return this.Ajt();case 5:return this.Ljt();case 6:return this.Ojt();case 7:return yu[0]=this.Hw.Ko(),yu[1]=this.Hw.$o(),yu[2]=this.Hw.ta(),yu;case 8:return this.Rjt();case 9:return this.Pjt();case 10:return this.kjt();case 15:return this.Fjt()}}Hht(t,s){switch(t){case 0:this.jjt(s);break;case 1:this.njt!==!!s&&(this.njt=!!s,this.Cjt());break;case 2:this.zjt(s);break;case 3:this.Bjt(s);break;case 4:this.Ujt(s);break;case 5:this.Wjt(s);break;case 6:this.Qjt(s);break;case 7:const i=this.Hw,e=s;i.Ko()===e[0]&&i.$o()===e[1]&&i.ta()===e[2]||(this.Hw.Qo(e[0],e[1],e[2]),this.Cjt());break;case 8:this.Jjt(s);break;case 9:this.Vjt(s);break;case 10:this.Yjt(s)}}z5t(t,s,i,e){0===s&&0===i&&0===e||7===t&&(this.Hw.Jo(s,i,e),this.Cjt())}jjt(t){this.tf!==t&&(this.tf=t,this.Sjt.hf(t),this.Gjt(),this.pjt=!1,this.$c.y7())}Vv(){return this.tf}Hjt(t,s){this.Ejt(),this.jjt(t),this.yjt=this.$c.SA(),this.Mjt=this.yjt+s/this.ak().d8(),this.wjt=this.Sjt.Kv(),this.Sjt.Lv(0),this.R5t()}Ijt(){this.yjt=-1,this.Mjt=-1,this.wjt=0,this.Sjt.Lv(-1),this.w5t()}qjt(){-1!==this.Mjt&&(this.Ijt(),this.L8(mu.SH.Text.MH.Zjt),this.$c.y7())}zjt(t){this.ojt!==t&&(this.ojt=t,this.Sjt.xv(t),this.$c.y7())}Djt(){return this.ojt}Wjt(t){this._x!==(t=!!t)&&(this._x=t,this.Sjt._v(t),this.$c.y7())}Ljt(){return this._x}Qjt(t){this.Dx!==(t=!!t)&&(this.Dx=t,this.Sjt.Nv(t),this.$c.y7())}Ojt(){return this.Dx}Bjt(t){this.ajt!==t&&(this.ajt=t,this.$c.y7())}Njt(){return this.ajt}Xjt(t){this.Hw.oa(t)||(this.Hw.Xo(t),this.Sjt.Kw(this.Hw),this.$c.y7())}Kjt(){return this.Hw}Ujt(t){this.ujt!==t&&(this.ujt=t,this.Cjt(),this.$c.y7())}Ajt(){return this.ujt}Jjt(t){this.Px!==t&&(this.Px=t,this.Cjt(),this.$c.y7())}Rjt(){return this.Px}Vjt(t){this.kx!==t&&(this.kx=t,this.Cjt(),this.$c.y7())}Pjt(){return this.kx}$jt(t){this.Yjt(Tu[t])}Yjt(t){this.zx!==t&&(this.zx=t,this.Cjt(),this.$c.y7())}kjt(){return this.zx}tzt(t){this.Bx!==t&&(this.Bx=t,this.Cjt(),this.$c.y7())}szt(){return this.Bx}izt(t){this.mjt=!!t,this.Gjt()}Fjt(){return this.mjt}ezt(t){this.ljt!==t&&(this.ljt=t,this.$c.y7())}hzt(){return this.ljt}rzt(t){this.cjt!==t&&(this.cjt=t,"fixed"===this.ljt)&&this.$c.y7()}nzt(){return this.cjt}ozt(){return this.Ejt(),this.Sjt.qv()}azt(){return this.Ejt(),this.Sjt.Xv()}uzt(t,s){this.Ejt();const i=this.l7(),e=(Cu.set(t-i.a4(),s-i.c4()),Cu.rotate(-i.T6()),Cu.offset(i.$p()*i.S9(),i.dm()*i.b9()),Cu.Ct(i.$p(),i.dm()),Cu.scale(this.Sjt.$p(),this.Sjt.dm()),this.Sjt.tC(Cu.Xa(),Cu.$a()));if(e){const h=e.ig("tag");if(h)return h.jp}return""}lzt(t,s,i){const e=this.uzt(s,i);return e&&mu.mh(t,e)}czt(t,s){this.Ejt(),s=Math.floor(s);const i=this.Sjt.iC(t,s);if(!i)return null;const e=this.l7(),h=this.Sjt.Pv(),r=i.Xm(),n=i.$m()-(i.dm()-i.gm())*h,o=i.$p()*h/this.Sjt.$p()*e.$p(),a=i.dm()*h/this.Sjt.dm()*e.dm();return Cu.set(r,n),Cu.Ct(this.Sjt.$p(),this.Sjt.dm()),Cu.scale(e.$p(),e.dm()),Cu.offset(-e.$p()*e.S9(),-e.dm()*e.b9()),Cu.rotate(e.T6()),Cu.offset(e.a4(),e.c4()),{x:Cu.Xa(),y:Cu.$a(),width:o,height:a}}fzt(t){return this.Ejt(),this.Sjt.eC(t)}dzt(t){let s=Gu.get(t);return null===s?"":`</${(s=s||"span")||"span"}>`}pzt(t,s){let i=Gu.get(t);if(null===i)return"";switch(i=i||"span",t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async mzt(){if(!this.pjt){let t=new mu._h(this.tf,{Gp:!0}).kp(),s=new Map,h='<span class="c3-text"',i=[];i.push(`font-family: '${this.Djt()}';`),this.Ljt()&&i.push("font-weight: bold;"),this.Ojt()&&i.push("font-style: italic;"),"character"===this.kjt()&&i.push("word-break: break-all;"),h+=` style="${i.join(" ")}">`;const r=this.fjt?this.N7().pOt(this.fjt):null;if(this.fjt){const o=mu.er(mu.n1),a=[],u=new Map;for(const c of t)if(c.lm()){const f=c.ag(r);if(f){const d=f.Qg(),p=d.y9().ITt();if(u.has(p))continue;u.set(p,null),a.push(o.ec(async()=>{const t=await p.KB();u.set(p,t)}))}}await Promise.all(a);const l=[];for(const m of t)if(m.lm()){const g=m.ag(r);if(g){const y=g.Qg(),M=y.y9().ITt();l.push(o.ec(async()=>{const t=await y.y9()._Tt(u.get(M));s.set(g,t)}))}}await Promise.all(l);for(const w of u.values())w instanceof ImageBitmap&&w.close&&w.close()}const n=new Map;for(const S of t){let e=S.hg(),t=[...n.keys()];t.reverse();for(const T of t)e.has(T)&&e.get(T)===n.get(T)||(n.delete(T),h+=this.dzt(T));for(const[b,x]of e)n.has(b)||(n.set(b,x),h+=this.pzt(b,x));if(S.om()&&(h+=mu.Vd(mu.Qd(S._m().join("")),"\n","<br>")),S.lm()&&r){const v=S.ag(r);if(v){const C=s.get(v);if(C){let t=[],s="0.2em",i=e.get("iconoffsety");if(i){let t=i.trim();s=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}t.push("top: "+s),"nearest"===this.$c.kN()&&t.push("image-rendering: pixelated"),h+=`<img class="c3-text-icon" data-icon="${S.og()}" width="${v.$p()}" height="${v.dm()}" style="${t.join(";")}" src="${C}">`}}}}const e=[...n.keys()];e.reverse();for(const G of e)h+=this.dzt(G);h+="</span>",this.djt=h,this.pjt=!0}return this.djt}JZ(){const s=this.$c.SA();if(s>=this.Mjt)this.Ijt(),this.L8(mu.SH.Text.MH.Zjt),this.$c.y7();else{let t=mu._r(this.yjt,this.Mjt,s,0,this.wjt);(t=Math.floor(t))!==this.Sjt.Ov()&&(this.Sjt.Lv(t),this.$c.y7())}}j5t(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.Vv(),cFt:t=>this.jjt(t)},{name:t+".properties.font.name",value:this.Djt(),cFt:t=>this.zjt(t)},{name:t+".properties.size.name",value:this.Njt(),cFt:t=>this.Bjt(t)},{name:t+".properties.line-height.name",value:this.Ajt(),cFt:t=>this.Ujt(t)},{name:t+".properties.bold.name",value:this.Ljt(),cFt:t=>this.Wjt(t)},{name:t+".properties.italic.name",value:this.Ojt(),cFt:t=>this.Qjt(t)}]}]}XSt(){return self.gzt}},new WeakMap),Iu=new Map([["left",0],["center",1],["right",2]]),Eu=new Map([["top",0],["center",1],["bottom",2]]),_u=["ltr","rtl"];new Set(["auto","fixed"]);self.gzt=class extends self.EP{constructor(){super(),A.set(this,self.HO.$O().LP())}get text(){return A.get(this).Vv()}set text(t){gu.ve(t);const s=A.get(this);s.Ijt(),s.jjt(t)}yzt(t,s){gu.ve(t),gu.we(s);const i=A.get(this);i.Ijt(),i.Hjt(t,s)}Mzt(){A.get(this).qjt()}set ez(t){gu.ve(t),A.get(this).zjt(t)}get ez(){return A.get(this).Djt()}set rz(t){A.get(this).Wjt(t)}get rz(){return A.get(this).Ljt()}set nz(t){A.get(this).Qjt(t)}get nz(){return A.get(this).Ojt()}set hz(t){gu.we(t),A.get(this).Bjt(t)}get hz(){return A.get(this).Njt()}set wzt(t){if(gu.je(t),t.length<3)throw new Error("expected 3 elements");vu.Qo(t[0],t[1],t[2]),A.get(this).Xjt(vu)}get wzt(){const t=A.get(this).Kjt();return[t.Ko(),t.$o(),t.ta()]}set lineHeight(t){gu.we(t),A.get(this).Ujt(t)}get lineHeight(){return A.get(this).Ajt()}set uz(t){gu.ve(t);const s=Iu.get(t);if(void 0===s)throw new Error("invalid mode");A.get(this).Jjt(s)}get uz(){return Mu[A.get(this).Rjt()]}set verticalAlign(t){gu.ve(t);const s=Eu.get(t);if(void 0===s)throw new Error("invalid mode");A.get(this).Vjt(s)}get verticalAlign(){return wu[A.get(this).Pjt()]}set lz(t){if(!Tu.includes(t))throw new Error("invalid mode");A.get(this).Yjt(t)}get lz(){return A.get(this).kjt()}set cz(t){gu.ve(t);const s=_u.indexOf(t);if(-1===s)throw new Error("invalid text direction");A.get(this).tzt(s)}get cz(){return _u[A.get(this).szt()]}set Szt(t){A.get(this).izt(!!t)}get Szt(){return A.get(this).Fjt()}Tzt(t){gu.we(t);const s=A.get(this);s.ezt("fixed"),s.rzt(t)}bzt(){A.get(this).ezt("auto")}get pz(){return A.get(this).ozt()}get mz(){return A.get(this).azt()}xzt(){const t=A.get(this);return[t.ozt(),t.azt()]}vzt(t,s,i){return gu.ve(t),gu.we(s),gu.we(i),A.get(this).lzt(t,s,i)}Czt(t,s){return gu.we(t),gu.we(s),A.get(this).uzt(t,s)}Gzt(t,s=0){return gu.ve(t),gu.we(s),A.get(this).czt(t,s)}Izt(t){return gu.ve(t),A.get(this).fzt(t)}Ezt(t){const s=A.get(this),i=s.N7().uL(t);s.vjt(i)}_zt(){return A.get(this).mzt()}}}{const Du=self.js;Du.SH.Text.MH={Dzt(t,s){return s?this.tf===t:Du.mh(this.tf,t)},Nzt(){return-1!==this.Mjt},Zjt(){return!0},Azt(t,s,i){return this.lzt(t,s,i)}}}{const Nu=self.js,Au=Nu.er(Nu.Fo);Nu.SH.Text.uht={hf(t){this.Ijt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.jjt(t.toString())},Lzt(t){this.Ijt(),(t=(t="number"==typeof t&&t<1e9?Math.round(1e10*t)/1e10:t).toString())&&this.jjt(this.tf+t)},Ozt(t,s){this.Ijt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.Hjt(t.toString(),s)},Rzt(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.ojt&&i===this._x&&e===this.Dx||(this.zjt(t),this.Wjt(i),this.Qjt(e))},vv(t){this.Bjt(t)},Pzt(t){Au.ma(t),Au.cr(),this.Xjt(Au)},kzt(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},QFt(t){this.l7().Xw(t),this.$c.y7()},Fzt(){this.qjt()},Iv(t){this.Ujt(t)},jzt(t){this.Jjt(t)},zzt(t){this.Vjt(t)},Bzt(t){this.$jt(t)},Qv(t){this.tzt(t)},Uzt(t){this.vjt(t)},Wzt(){return this.mzt()},Qzt(t){this.izt(t)},Jzt(t,s){this.ezt(["auto","fixed"][t]),this.rzt(s)}}}{const Lu=self.js;Lu.SH.Text.lht={Text(){return this.tf},Vzt(){return this.njt?Lu._h.Jp(this.tf):this.tf},Yzt(){return this.ojt},Hzt(){return this.ajt},qzt(){return this.ozt()},Zzt(){return this.azt()},Xzt(){return this.ujt},Kzt(t,s){return this.uzt(t,s)},$zt(t){return this.fzt(t)},tBt(t,s){const i=this.czt(t,s);return i?i.x:0},sBt(t,s){const i=this.czt(t,s);return i?i.y:0},iBt(t,s){const i=this.czt(t,s);return i?i.width:0},eBt(t,s){const i=this.czt(t,s);return i?i.height:0},hBt(){return this.djt}}}{const Ou=self.js;Ou.Zot.tTt=class extends Ou.E3t{constructor(t){super(t)}hr(){super.hr()}}}{const Ru=self.js;Ru.Zot.tTt.Qbt=class extends Ru.L3t{constructor(t){super(t)}hr(){super.hr()}ZSt(){}}}{const Pu=self.js,ku=self.qs,Fu=self.FP,ju=new Set,zu=(Pu.Zot.tTt.Instance=class extends Pu.R3t{constructor(t,s){super(t),this.O4t(!0),s&&(this.O4t(s[0]),this.O$(s[1]))}hr(){super.hr()}O4t(t){this.Gi.Gvt(!!t)}Ql(){return this.Gi.Cvt()}O$(s){const i=this.Gi.iMt();if(s.trim()){let t=i.get("solidTags");t||(t=new Set,i.set("solidTags",t)),t.clear();for(const e of s.split(" "))e&&t.add(e.toLowerCase())}else i.delete("solidTags")}X9(){return this.Gi.iMt().get("solidTags")||ju}rBt(){return[...this.X9()].join(" ")}b4(){return{e:this.Ql()}}x4(t){this.O4t(t.e)}Uht(t){if(0===t)return this.Ql()}Hht(t,s){0===t&&this.O4t(s)}j5t(){return[{title:"$"+this.WP().Jc(),properties:[{name:"behaviors.solid.properties.enabled.name",value:this.Ql(),cFt:t=>this.O4t(t)},{name:"behaviors.solid.properties.tags.name",value:this.rBt(),cFt:t=>this.O$(t)}]}]}XSt(){return self.nBt}},new WeakMap);self.nBt=class extends Fu{constructor(){super(),zu.set(this,Fu.$O().LP())}set isEnabled(t){zu.get(this).O4t(!!t)}get isEnabled(){return zu.get(this).Ql()}set tags(t){ku.ve(t),zu.get(this).O$(t)}get tags(){return zu.get(this).rBt()}}}{const Bu=self.js;Bu.Zot.tTt.MH={Ql(){return this.Ql()}}}{const Uu=self.js;Uu.Zot.tTt.uht={O4t(t){this.O4t(t)},O$(t){this.O$(t)}}}{const Wu=self.js;Wu.Zot.tTt.lht={}}{const Qu=self.js;Qu.Zot.oBt=class extends Qu.E3t{constructor(t){super(t)}hr(){super.hr()}}}{const Ju=self.js;Ju.Zot.oBt.Qbt=class extends Ju.L3t{constructor(t){super(t)}hr(){super.hr()}ZSt(){}}}{const Vu=self.js,Yu=self.qs,Hu=self.FP,L=(Vu.Zot.oBt.Instance=class extends Vu.R3t{constructor(t,s){super(t),this.aBt=!1,this.uBt=!1,this.lBt=!1,this.cBt=!1,this.fBt=!1,this.dBt=!1,this.pBt=!1,this.mBt=!1,this.gBt=!1,this.yBt=0,this.MBt=0,this.wBt=200,this.SBt=600,this.TBt=500,this.bBt=3,this.xBt=3,this.vBt=!1,this.CBt=!0,this.Igt=!0,s&&(this.wBt=s[0],this.SBt=s[1],this.TBt=s[2],this.bBt=s[3],this.xBt=s[4],this.vBt=!!s[5],this.CBt=!!s[6],this.Igt=!!s[7]),this.Igt&&this.R5t(),this.CBt&&this.GBt()}GBt(){if(!this.d0){const t=this.$c.Rf();this.d0=new Vu.l0(Vu.h0.u0(t,"keydown",t=>this.IBt(t.data)),Vu.h0.u0(t,"keyup",t=>this.EBt(t.data)),Vu.h0.u0(t,"window-blur",()=>this._Bt()),Vu.h0.u0(t,"keyboard-blur",()=>this._Bt()))}}DBt(){this.d0&&(this.d0.hr(),this.d0=null)}hr(){super.hr()}b4(){return{dx:this.yBt,dy:this.MBt,e:this.Igt,ms:this.wBt,acc:this.SBt,dec:this.TBt,d:this.bBt,am:this.xBt,dc:this.CBt,ii:this.fBt}}x4(t){this.yBt=t.dx,this.MBt=t.dy,this.dwt(t.e),this.wBt=t.ms,this.SBt=t.acc,this.TBt=t.dec,this.bBt=t.d,this.xBt=t.am,this.CBt=t.dc,this.fBt=t.ii,this.aBt=!1,this.uBt=!1,this.lBt=!1,this.cBt=!1,this.dBt=!1,this.pBt=!1,this.mBt=!1,this.gBt=!1,this.CBt?this.GBt():this.DBt()}IBt(t){switch(t.key){case"ArrowLeft":this.lBt=!0;break;case"ArrowUp":this.aBt=!0;break;case"ArrowRight":this.cBt=!0;break;case"ArrowDown":this.uBt=!0}}EBt(t){switch(t.key){case"ArrowLeft":this.lBt=!1;break;case"ArrowUp":this.aBt=!1;break;case"ArrowRight":this.cBt=!1;break;case"ArrowDown":this.uBt=!1}}_Bt(){this.aBt=!1,this.uBt=!1,this.lBt=!1,this.cBt=!1}JZ(){let o=this.$c.pA(this.Gi),a=this.$c.vN(),t=this.lBt||this.mBt,s=this.cBt||this.gBt,i=this.aBt||this.dBt,e=this.uBt||this.pBt;if(this.mBt=!1,this.gBt=!1,this.dBt=!1,this.pBt=!1,this.Igt){let n=a.eL(this.Gi);if(!n||(a.DEt(this.Gi,n),a.YEt(this.Gi))){this.fBt&&(t=s=i=e=!1),0===this.bBt?t=s=!1:1===this.bBt&&(i=e=!1),(t=2===this.bBt&&(i||e)?s=!1:t)===s&&(this.yBt<0?this.yBt=Math.min(this.yBt+this.TBt*o,0):0<this.yBt&&(this.yBt=Math.max(this.yBt-this.TBt*o,0))),i===e&&(this.MBt<0?this.MBt=Math.min(this.MBt+this.TBt*o,0):0<this.MBt&&(this.MBt=Math.max(this.MBt-this.TBt*o,0)));let h=0,r=0;if(t&&!s&&(h=0<this.yBt?-(this.SBt+this.TBt):-this.SBt),s&&!t&&(h=this.yBt<0?this.SBt+this.TBt:this.SBt),i&&!e&&(r=0<this.MBt?-(this.SBt+this.TBt):-this.SBt),e&&!i&&(r=this.MBt<0?this.SBt+this.TBt:this.SBt),this.yBt+=h*o,this.MBt+=r*o,0!==this.yBt||0!==this.MBt){let e=Math.hypot(this.yBt,this.MBt),t=Math.atan2(this.MBt,this.yBt),s=this.wBt*Math.cos(t),i=this.wBt*Math.sin(t);e>this.wBt&&(e=this.wBt,this.yBt=s,this.MBt=i);const u=this.Gi.l7(),l=u.a4(),c=u.c4(),f=u.T6(),d=Math.abs(s)*o,p=Math.abs(i)*o,m=Vu.cr(this.yBt*o+.5*h*o*o,-d,d),g=Vu.cr(this.MBt*o+.5*r*o*o,-p,p);if(this.vBt){if(u.pR(m,g),u.lR(),n=a.eL(this.Gi)){a.DEt(this.Gi,n);let t=Math.atan2(this.MBt,this.yBt)+Math.PI/2,s=!1,i=(u.$p()+u.dm())/4;if(a.VEt(this.Gi,Math.cos(t),Math.sin(t),Math.max(2.5*e*o,i))){s=!0;const w=u.a4(),S=u.c4(),T=e*o,b=Vu.gr(l,c,w,S);if(1.01*T<b){const x=T/b,v=Vu.Lt(l,w,x),C=Vu.Lt(c,S,x);if(u.cR(v,C),u.lR(),n=a.eL(this.Gi)){const G=Vu.Mr(l,c,w,S)+Math.PI/2,I=Math.cos(G),E=Math.sin(G),_=(u.$p()+u.dm())/2/10;a.VEt(this.Gi,I,E,Math.max(_,1))||(u.cR(l,c),u.lR(),s=!1)}}}if(!s){const D=Math.hypot(m,g),N=-m/D,A=-g/D;this.yBt=0,this.MBt=0,a.QEt(this.Gi,N,A,Math.max(2.5*e*o,i))||(u.cR(l,c),u.lR())}}}else u.ert(m),u.lR(),(n=a.eL(this.Gi))&&(a.QEt(this.Gi,this.yBt<0?1:-1,0,Math.max(Math.abs(Math.floor(m)),1))||(u.u4(l),u.lR()),this.yBt=0,a.DEt(this.Gi,n)),u.hrt(g),u.lR(),(n=a.eL(this.Gi))&&(a.QEt(this.Gi,0,this.MBt<0?1:-1,Math.max(Math.abs(Math.floor(g)),1))||(u.f4(c),u.lR()),this.MBt=0,a.DEt(this.Gi,n));const y=Vu.kr(this.yBt,6),M=Vu.kr(this.MBt,6);0===y&&0===M||!this.Gi.WL().vL()||(1===this.xBt?u.S6(Vu.pr(90*Math.round(Vu.mr(Math.atan2(M,y))/90))):2===this.xBt?u.S6(Vu.pr(45*Math.round(Vu.mr(Math.atan2(M,y))/45))):3===this.xBt&&u.S6(Math.atan2(M,y))),u.lR(),u.T6()!=f&&(n=a.eL(this.Gi))&&(u.S6(f),u.lR(),a.DEt(this.Gi,n))}}}}Uht(t){switch(t){case 0:return this.NBt();case 1:return this.ABt();case 2:return this.LBt();case 3:return this.bBt;case 4:return this.xBt;case 5:return this.vBt;case 6:return this.OBt();case 7:return this.pwt()}}Hht(t,s){switch(t){case 0:this.RBt(s);break;case 1:this.PBt(s);break;case 2:this.kBt(s);break;case 3:this.bBt=s;break;case 4:this.xBt=s;break;case 5:this.vBt=!!s;break;case 6:this.FBt(!!s);break;case 7:this.dwt(!!s)}}jBt(){this.yBt=0,this.MBt=0}zBt(){this.yBt*=-1,this.MBt*=-1}BBt(){const t=Math.hypot(this.yBt,this.MBt);t>this.wBt&&this.UBt(t)}UBt(t){t=Vu.cr(t,0,this.wBt);const s=Math.atan2(this.MBt,this.yBt);this.yBt=t*Math.cos(s),this.MBt=t*Math.sin(s)}WBt(){return Math.hypot(this.yBt,this.MBt)}RBt(t){this.wBt=Math.max(t,0)}NBt(){return this.wBt}PBt(t){this.SBt=Math.max(t,0)}ABt(){return this.SBt}kBt(t){this.TBt=Math.max(t,0)}LBt(){return this.TBt}QBt(){return Math.atan2(this.MBt,this.yBt)}JBt(t){this.yBt=t,this.BBt()}VBt(){return this.yBt}YBt(t){this.MBt=t,this.BBt()}HBt(){return this.MBt}qBt(t){if(this.Igt)switch(t){case 0:this.mBt=!0;break;case 1:this.gBt=!0;break;case 2:this.dBt=!0;break;case 3:this.pBt=!0}}FBt(t){this.CBt!==(t=!!t)&&(this.CBt=t,this.CBt?this.GBt():(this.DBt(),this._Bt()))}OBt(){return this.CBt}ZBt(t){this.fBt=!!t}XBt(){return this.fBt}dwt(t){this.Igt=!!t,this.Igt?this.R5t():(this.mBt=!1,this.gBt=!1,this.dBt=!1,this.pBt=!1,this.w5t())}pwt(){return this.Igt}KBt(t){this.vBt=!!t}$Bt(){return this.vBt}j5t(){const t="behaviors.eightdir";return[{title:"$"+this.WP().Jc(),properties:[{name:t+".debugger.vector-x",value:this.VBt(),cFt:t=>this.JBt(t)},{name:t+".debugger.vector-y",value:this.HBt(),cFt:t=>this.YBt(t)},{name:t+".debugger.speed",value:this.WBt(),cFt:t=>this.UBt(t)},{name:t+".debugger.angle-of-motion",value:Vu.mr(this.QBt())},{name:t+".properties.max-speed.name",value:this.NBt(),cFt:t=>this.RBt(t)},{name:t+".properties.acceleration.name",value:this.ABt(),cFt:t=>this.PBt(t)},{name:t+".properties.deceleration.name",value:this.LBt(),cFt:t=>this.kBt(t)},{name:t+".properties.allow-sliding.name",value:this.$Bt(),cFt:t=>this.KBt(t)},{name:t+".properties.enabled.name",value:this.pwt(),cFt:t=>this.dwt(t)}]}]}XSt(){return self.tUt}},new WeakMap),qu=new Map([["left",0],["right",1],["up",2],["down",3]]);self.tUt=class extends Hu{constructor(){super(),L.set(this,Hu.$O().LP())}stop(){L.get(this).jBt()}reverse(){L.get(this).zBt()}sUt(t){Yu.ve(t);const s=qu.get(t);if("number"!=typeof s)throw new Error("invalid control");L.get(this).qBt(s)}get speed(){return L.get(this).WBt()}set speed(t){Yu.we(t),L.get(this).UBt(t)}get iUt(){return L.get(this).NBt()}set iUt(t){Yu.we(t),L.get(this).RBt(t)}get acceleration(){return L.get(this).ABt()}set acceleration(t){Yu.we(t),L.get(this).PBt(t)}get eUt(){return L.get(this).LBt()}set eUt(t){Yu.we(t),L.get(this).kBt(t)}get hUt(){return L.get(this).VBt()}set hUt(t){Yu.we(t),L.get(this).JBt(t)}get rUt(){return L.get(this).HBt()}set rUt(t){Yu.we(t),L.get(this).YBt(t)}nUt(t,s){Yu.we(t),Yu.we(s);const i=L.get(this);i.JBt(t),i.YBt(s)}oUt(){const t=L.get(this);return[t.VBt(),t.HBt()]}get aUt(){return L.get(this).OBt()}set aUt(t){L.get(this).FBt(!!t)}get uUt(){return L.get(this).XBt()}set uUt(t){L.get(this).ZBt(!!t)}get lUt(){return L.get(this).$Bt()}set lUt(t){L.get(this).KBt(!!t)}get isEnabled(){return L.get(this).pwt()}set isEnabled(t){L.get(this).dwt(!!t)}}}{const Zu=self.js;Zu.Zot.oBt.MH={cUt(){return 1e-10<this.WBt()},fUt(t,s){return Zu.compare(this.WBt(),t,s)},Ql(){return this.pwt()},dUt(){return this.$Bt()}}}{const Xu=self.js;Xu.Zot.oBt.uht={j9(){this.jBt()},pUt(){this.zBt()},mUt(t){this.ZBt(t)},gUt(t){this.UBt(t)},yUt(t){this.RBt(t)},MUt(t){this.PBt(t)},wUt(t){this.kBt(t)},SUt(t){this.qBt(t)},O4t(t){this.dwt(t)},TUt(t){this.JBt(t)},bUt(t){this.YBt(t)},xUt(t){this.FBt(!!t)},vUt(t){this.KBt(t)}}}{const Ku=self.js;Ku.Zot.oBt.lht={CUt(){return this.WBt()},GUt(){return this.NBt()},IUt(){return this.ABt()},EUt(){return this.LBt()},_Ut(){return Ku.mr(this.QBt())},DUt(){return this.VBt()},NUt(){return this.HBt()}}}{let t=function(t,s){return"number"==typeof t&&"number"==typeof s},e=function(i,e){if("string"!=typeof i&&"string"!=typeof e)return i&&e?1:0;{let t,s;return t="number"==typeof i?(Math.round(1e10*i)/1e10).toString():i,s="number"==typeof e?(Math.round(1e10*e)/1e10).toString():e,t+s}};t,e,0;const $u=self.js;self.U2t=[()=>0,()=>"outer",t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t();return()=>s()/i.Ait()-1},()=>"inner",t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t(),e=t.K2t(2).B2t();return()=>s("outer")*i.Ait()+e.Ait()/2},t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t(),e=t.K2t(2).B2t();return()=>s("inner")*i.Ait()+e.Ait()/2},()=>"",t=>{const s=t.K2t(0).B2t();return()=>s.Ait()-4},t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t();return()=>s()/i.Ait()},t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t();return()=>s("outer")*i.Ait()},t=>{const s=t.K2t(0).M2t(),i=t.K2t(1).B2t();return()=>s("inner")*i.Ait()},t=>{const s=t.K2t(0).B2t();return()=>s.Ait()},()=>8,()=>90,t=>{const s=t.K2t(0);return()=>s.v2t()},()=>1,t=>{const s=t.K2t(0).M2t();return()=>s(1)},()=>.5,t=>{const s=t.K2t(0);return()=>s.v2t()/3},t=>{const s=t.K2t(0);return()=>s.v2t(1)},t=>{const s=t.K2t(0);return()=>s.v2t()+180},()=>4,t=>{const s=t.K2t(0).B2t(),i=t.K2t(1).M2t();return()=>$u.cr(s.Ait()-i(),0,1e4)},t=>{const s=t.K2t(0).B2t(),i=t.K2t(1).B2t();return()=>e(e("Time: ",Math.round(100*s.Ait())/100)+"\nScore: ",i.Ait())}]}var t=self.js;self.s6t=function(){return[t.SH.Vet,t.Zot.tTt,t.Zot.oBt,t.SH.Text,t.SH.wH.MH.yH,t.SH.Vet.uht.X4t,t.SH.wH.uht.En,t.SH.wH.MH.eRt,t.SH.wH.lht.c9t,t.SH.wH.uht.SRt,t.SH.wH.lht.z9t,t.SH.Vet.uht.Yv,t.SH.Vet.uht.S6,t.SH.Vet.MH.P4t,t.SH.Vet.lht.eSt,t.SH.Vet.MH.z4t,t.SH.wH.MH.X8t,t.SH.wH.MH.j8t,t.SH.Vet.lht.sSt,t.SH.Vet.uht.V4t,t.SH.wH.MH.Xpt,t.SH.wH.MH.h1,t.SH.wH.lht.random,t.SH.Vet.lht.Lwt,t.SH.Vet.lht.Owt,t.SH.Vet.lht.$wt,t.SH.Vet.lht.kwt,t.SH.Vet.lht.Fwt,t.SH.Vet.lht.XFt,t.SH.Vet.lht.KFt,t.SH.Vet.MH.U4t,t.SH.Vet.MH.k4t,t.SH.wH.uht.pRt,t.SH.Vet.lht.tSt,t.SH.wH.uht.BRt,t.SH.wH.MH.N8t,t.SH.wH.uht.dRt,t.SH.wH.lht.dA,t.SH.Text.uht.hf,t.SH.wH.MH.B8t,t.Zot.oBt.uht.O4t]},self.M6t=[{AUt:0},{LUt:0},{OUt:0},{RUt:0},{PUt:0},{kUt:0},{FUt:0},{"8Direction":0},{jUt:0},{zUt:0},{Text:0},{BUt:0},{UUt:0},{WUt:0},{QUt:0},{JUt:0}],self.VUt={LUt:class extends self.yFt{},RUt:class extends self.yFt{},FUt:class extends self.yFt{},jUt:class extends self.yFt{},zUt:class extends self.yFt{},Text:class extends self.gzt{},BUt:class extends self.yFt{}};