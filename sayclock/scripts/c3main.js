// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(t,s)=>function(){return s||(0,t[__getOwnPropNames(t)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps=(t,s,i,e)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let n of __getOwnPropNames(s))__hasOwnProp.call(t,n)||n===i||__defProp(t,n,{get:()=>s[n],enumerable:!(e=__getOwnPropDesc(s,n))||e.enumerable});return t},__toESM=(t,s,i)=>(i=null!=t?__create(__getProtoOf(t)):{},__copyProps(!s&&t&&t.i?i:__defProp(i,"default",{value:t,enumerable:!0}),t)),require_c3runtime=__commonJS({"file-map:scripts/c3runtime.js"(exports,module){{let e=function(t){ARRAY_TYPE=t},n=function(t){return t*degree},h=function(t,s){return Math.abs(t-s)<=EPSILON*Math.max(1,Math.abs(t),Math.abs(s))},u=function(){var t=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},p=function(t){var s=new ARRAY_TYPE(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},m=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},g=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},y=function(t,s,i,e){var n=new ARRAY_TYPE(4);return n[0]=t,n[1]=s,n[2]=i,n[3]=e,n},M=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},w=function(t,s){if(t===s){var i=s[1];t[1]=s[2],t[2]=i}else t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3];return t},S=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*r-n*e;return h?(h=1/h,t[0]=r*h,t[1]=-e*h,t[2]=-n*h,t[3]=i*h,t):null},T=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},b=function(t){return t[0]*t[3]-t[2]*t[1]},v=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],l=i[2],u=i[3];return t[0]=e*o+r*a,t[1]=n*o+h*a,t[2]=e*l+r*u,t[3]=n*l+h*u,t},x=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+r*o,t[1]=n*a+h*o,t[2]=e*-o+r*a,t[3]=n*-o+h*a,t},C=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1];return t[0]=e*o,t[1]=n*o,t[2]=r*a,t[3]=h*a,t},I=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t},G=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},E=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},N=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},D=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},_=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},A=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},L=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},O=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=s[0],o=s[1],a=s[2],l=s[3];return Math.abs(i-h)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(e-o)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-a)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-l)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(l))},R=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},P=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},k=function(){var t=new ARRAY_TYPE(6);return ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},F=function(t){var s=new ARRAY_TYPE(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},j=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},z=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},B=function(t,s,i,e,n,r){var h=new ARRAY_TYPE(6);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h[4]=n,h[5]=r,h},$=function(t,s,i,e,n,r,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t},U=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=i*r-e*n;return a?(a=1/a,t[0]=r*a,t[1]=-e*a,t[2]=-n*a,t[3]=i*a,t[4]=(n*o-r*h)*a,t[5]=(e*h-i*o)*a,t):null},W=function(t){return t[0]*t[3]-t[1]*t[2]},Y=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=i[0],u=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=e*l+r*u,t[1]=n*l+h*u,t[2]=e*c+r*f,t[3]=n*c+h*f,t[4]=e*d+r*p+o,t[5]=n*d+h*p+a,t},Q=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=Math.sin(i),u=Math.cos(i);return t[0]=e*u+r*l,t[1]=n*u+h*l,t[2]=e*-l+r*u,t[3]=n*-l+h*u,t[4]=o,t[5]=a,t},V=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=i[0],u=i[1];return t[0]=e*l,t[1]=n*l,t[2]=r*u,t[3]=h*u,t[4]=o,t[5]=a,t},J=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=i[0],u=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=e*l+r*u+o,t[5]=n*l+h*u+a,t},H=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t[4]=0,t[5]=0,t},q=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},Z=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},X=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},K=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},tt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},st=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},it=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},et=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},nt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},rt=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=s[0],l=s[1],u=s[2],c=s[3],f=s[4],d=s[5];return Math.abs(i-a)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(e-l)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-u)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(h-f)<=EPSILON*Math.max(1,Math.abs(h),Math.abs(f))&&Math.abs(o-d)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(d))},ht=function(){var t=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},ot=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},at=function(t){var s=new ARRAY_TYPE(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},lt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},ut=function(t,s,i,e,n,r,h,o,a){var l=new ARRAY_TYPE(9);return l[0]=t,l[1]=s,l[2]=i,l[3]=e,l[4]=n,l[5]=r,l[6]=h,l[7]=o,l[8]=a,l},ct=function(t,s,i,e,n,r,h,o,a,l){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t},ft=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},dt=function(t,s){if(t===s){var i=s[1],e=s[2],n=s[5];t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=n}else t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8];return t},pt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=u*h-o*l,f=-u*r+o*a,d=l*r-h*a,p=i*c+e*f+n*d;return p?(p=1/p,t[0]=c*p,t[1]=(-u*e+n*l)*p,t[2]=(o*e-n*h)*p,t[3]=f*p,t[4]=(u*i-n*a)*p,t[5]=(-o*i+n*r)*p,t[6]=d*p,t[7]=(-l*i+e*a)*p,t[8]=(h*i-e*r)*p,t):null},mt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8];return t[0]=h*u-o*l,t[1]=n*l-e*u,t[2]=e*o-n*h,t[3]=o*a-r*u,t[4]=i*u-n*a,t[5]=n*r-i*o,t[6]=r*l-h*a,t[7]=e*a-i*l,t[8]=i*h-e*r,t},gt=function(t){var s=t[0],i=t[1],e=t[2],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],l=t[8];return s*(l*r-h*a)+i*(-l*n+h*o)+e*(a*n-r*o)},yt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=i[0],d=i[1],p=i[2],m=i[3],g=i[4],y=i[5],M=i[6],w=i[7],S=i[8];return t[0]=f*e+d*h+p*l,t[1]=f*n+d*o+p*u,t[2]=f*r+d*a+p*c,t[3]=m*e+g*h+y*l,t[4]=m*n+g*o+y*u,t[5]=m*r+g*a+y*c,t[6]=M*e+w*h+S*l,t[7]=M*n+w*o+S*u,t[8]=M*r+w*a+S*c,t},Mt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=i[0],d=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=f*e+d*h+l,t[7]=f*n+d*o+u,t[8]=f*r+d*a+c,t},wt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*e+f*h,t[1]=d*n+f*o,t[2]=d*r+f*a,t[3]=d*h-f*e,t[4]=d*o-f*n,t[5]=d*a-f*r,t[6]=l,t[7]=u,t[8]=c,t},St=function(t,s,i){var e=i[0],n=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=n*s[3],t[4]=n*s[4],t[5]=n*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Tt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},bt=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=-i,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},vt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},xt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},Ct=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i+i,o=e+e,a=n+n,l=i*h,u=e*h,c=e*o,f=n*h,d=n*o,p=n*a,m=r*h,g=r*o,y=r*a;return t[0]=1-c-p,t[3]=u-y,t[6]=f+g,t[1]=u+y,t[4]=1-l-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-l-c,t},It=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*h,w=i*a-n*h,S=i*l-r*h,T=e*a-n*o,b=e*l-r*o,v=n*l-r*a,x=u*m-c*p,C=u*g-f*p,I=u*y-d*p,G=c*g-f*m,E=c*y-d*m,N=f*y-d*g,D=M*N-w*E+S*G+T*I-b*C+v*x;return D?(D=1/D,t[0]=(o*N-a*E+l*G)*D,t[1]=(a*I-h*N-l*C)*D,t[2]=(h*E-o*I+l*x)*D,t[3]=(n*E-e*N-r*G)*D,t[4]=(i*N-n*I+r*C)*D,t[5]=(e*I-i*E-r*x)*D,t[6]=(m*v-g*b+y*T)*D,t[7]=(g*S-p*v-y*w)*D,t[8]=(p*b-m*S+y*M)*D,t):null},Gt=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Et=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},Nt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Dt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},_t=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},At=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Lt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},Ot=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},Rt=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=s[0],f=s[1],d=s[2],p=s[3],m=s[4],g=s[5],y=s[6],M=s[7],w=s[8];return Math.abs(i-c)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(e-f)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(n-d)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-p)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(h-m)<=EPSILON*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(o-g)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-y)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(l-M)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-w)<=EPSILON*Math.max(1,Math.abs(u),Math.abs(w))},Pt=function(){var t=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},kt=function(t){var s=new ARRAY_TYPE(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},Ft=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},jt=function(t,s,i,e,n,r,h,o,a,l,u,c,f,d,p,m){var g=new ARRAY_TYPE(16);return g[0]=t,g[1]=s,g[2]=i,g[3]=e,g[4]=n,g[5]=r,g[6]=h,g[7]=o,g[8]=a,g[9]=l,g[10]=u,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},zt=function(t,s,i,e,n,r,h,o,a,l,u,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t[9]=u,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},Bt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t=function(t,s){if(t===s){var i=s[1],e=s[2],n=s[3],r=s[6],h=s[7],o=s[11];t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=r,t[11]=s[14],t[12]=n,t[13]=h,t[14]=o}else t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15];return t},Ut=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*h,w=i*a-n*h,S=i*l-r*h,T=e*a-n*o,b=e*l-r*o,v=n*l-r*a,x=u*m-c*p,C=u*g-f*p,I=u*y-d*p,G=c*g-f*m,E=c*y-d*m,N=f*y-d*g,D=M*N-w*E+S*G+T*I-b*C+v*x;return D?(D=1/D,t[0]=(o*N-a*E+l*G)*D,t[1]=(n*E-e*N-r*G)*D,t[2]=(m*v-g*b+y*T)*D,t[3]=(f*b-c*v-d*T)*D,t[4]=(a*I-h*N-l*C)*D,t[5]=(i*N-n*I+r*C)*D,t[6]=(g*S-p*v-y*w)*D,t[7]=(u*v-f*S+d*w)*D,t[8]=(h*E-o*I+l*x)*D,t[9]=(e*I-i*E-r*x)*D,t[10]=(p*b-m*S+y*M)*D,t[11]=(c*S-u*b-d*M)*D,t[12]=(o*C-h*G-a*x)*D,t[13]=(i*G-e*C+n*x)*D,t[14]=(m*w-p*T-g*M)*D,t[15]=(u*T-c*w+f*M)*D,t):null},Wt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*h,w=i*a-n*h,S=i*l-r*h,T=e*a-n*o,b=e*l-r*o,v=n*l-r*a,x=u*m-c*p,C=u*g-f*p,I=u*y-d*p,G=c*g-f*m,E=c*y-d*m,N=f*y-d*g;return t[0]=o*N-a*E+l*G,t[1]=n*E-e*N-r*G,t[2]=m*v-g*b+y*T,t[3]=f*b-c*v-d*T,t[4]=a*I-h*N-l*C,t[5]=i*N-n*I+r*C,t[6]=g*S-p*v-y*w,t[7]=u*v-f*S+d*w,t[8]=h*E-o*I+l*x,t[9]=e*I-i*E-r*x,t[10]=p*b-m*S+y*M,t[11]=c*S-u*b-d*M,t[12]=o*C-h*G-a*x,t[13]=i*G-e*C+n*x,t[14]=m*w-p*T-g*M,t[15]=u*T-c*w+f*M,t},Yt=function(t){var s=t[0],i=t[1],e=t[2],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],l=t[8],u=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=s*h-i*r,y=s*o-e*r,M=i*o-e*h,w=l*p-u*d,S=l*m-c*d,T=u*m-c*p;return a*(s*T-i*S+e*w)-n*(r*T-h*S+o*w)+t[15]*(l*M-u*y+c*g)-f*(d*M-p*y+m*g)},Qt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],M=s[15],w=i[0],S=i[1],T=i[2],b=i[3];return t[0]=w*e+S*o+T*c+b*m,t[1]=w*n+S*a+T*f+b*g,t[2]=w*r+S*l+T*d+b*y,t[3]=w*h+S*u+T*p+b*M,w=i[4],S=i[5],T=i[6],b=i[7],t[4]=w*e+S*o+T*c+b*m,t[5]=w*n+S*a+T*f+b*g,t[6]=w*r+S*l+T*d+b*y,t[7]=w*h+S*u+T*p+b*M,w=i[8],S=i[9],T=i[10],b=i[11],t[8]=w*e+S*o+T*c+b*m,t[9]=w*n+S*a+T*f+b*g,t[10]=w*r+S*l+T*d+b*y,t[11]=w*h+S*u+T*p+b*M,w=i[12],S=i[13],T=i[14],b=i[15],t[12]=w*e+S*o+T*c+b*m,t[13]=w*n+S*a+T*f+b*g,t[14]=w*r+S*l+T*d+b*y,t[15]=w*h+S*u+T*p+b*M,t},Vt=function(t,s,i){var e,n,r,h,o,a,l,u,c,f,d,p,m=i[0],g=i[1],y=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*y+s[12],t[13]=s[1]*m+s[5]*g+s[9]*y+s[13],t[14]=s[2]*m+s[6]*g+s[10]*y+s[14],t[15]=s[3]*m+s[7]*g+s[11]*y+s[15]):(e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=l,t[7]=u,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*y+s[12],t[13]=n*m+a*g+f*y+s[13],t[14]=r*m+l*g+d*y+s[14],t[15]=h*m+u*g+p*y+s[15]),t},Jt=function(t,s,i){var e=i[0],n=i[1],r=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*n,t[5]=s[5]*n,t[6]=s[6]*n,t[7]=s[7]*n,t[8]=s[8]*r,t[9]=s[9]*r,t[10]=s[10]*r,t[11]=s[11]*r,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},Ht=function(t,s,i,e){var n,r,h,o,a,l,u,c,f,d,p,m,g,y,M,w,S,T,b,v,x,C,I,G,E=e[0],N=e[1],D=e[2],_=Math.hypot(E,N,D);return _<EPSILON?null:(E*=_=1/_,N*=_,D*=_,n=Math.sin(i),h=1-(r=Math.cos(i)),o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],f=s[5],d=s[6],p=s[7],m=s[8],g=s[9],y=s[10],M=s[11],w=E*E*h+r,S=N*E*h+D*n,T=D*E*h-N*n,b=E*N*h-D*n,v=N*N*h+r,x=D*N*h+E*n,C=E*D*h+N*n,I=N*D*h-E*n,G=D*D*h+r,t[0]=o*w+c*S+m*T,t[1]=a*w+f*S+g*T,t[2]=l*w+d*S+y*T,t[3]=u*w+p*S+M*T,t[4]=o*b+c*v+m*x,t[5]=a*b+f*v+g*x,t[6]=l*b+d*v+y*x,t[7]=u*b+p*v+M*x,t[8]=o*C+c*I+m*G,t[9]=a*C+f*I+g*G,t[10]=l*C+d*I+y*G,t[11]=u*C+p*I+M*G,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},qt=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[4],h=s[5],o=s[6],a=s[7],l=s[8],u=s[9],c=s[10],f=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=r*n+l*e,t[5]=h*n+u*e,t[6]=o*n+c*e,t[7]=a*n+f*e,t[8]=l*n-r*e,t[9]=u*n-h*e,t[10]=c*n-o*e,t[11]=f*n-a*e,t},Zt=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[0],h=s[1],o=s[2],a=s[3],l=s[8],u=s[9],c=s[10],f=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*n-l*e,t[1]=h*n-u*e,t[2]=o*n-c*e,t[3]=a*n-f*e,t[8]=r*e+l*n,t[9]=h*e+u*n,t[10]=o*e+c*n,t[11]=a*e+f*n,t},Xt=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[0],h=s[1],o=s[2],a=s[3],l=s[4],u=s[5],c=s[6],f=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*n+l*e,t[1]=h*n+u*e,t[2]=o*n+c*e,t[3]=a*n+f*e,t[4]=l*n-r*e,t[5]=u*n-h*e,t[6]=c*n-o*e,t[7]=f*n-a*e,t},Kt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ts=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ss=function(t,s,i){var e,n,r,h=i[0],o=i[1],a=i[2],l=Math.hypot(h,o,a);return l<EPSILON?null:(h*=l=1/l,o*=l,a*=l,e=Math.sin(s),r=1-(n=Math.cos(s)),t[0]=h*h*r+n,t[1]=o*h*r+a*e,t[2]=a*h*r-o*e,t[3]=0,t[4]=h*o*r-a*e,t[5]=o*o*r+n,t[6]=a*o*r+h*e,t[7]=0,t[8]=h*a*r+o*e,t[9]=o*a*r-h*e,t[10]=a*a*r+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},is=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},es=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ns=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rs=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=e+e,a=n+n,l=r+r,u=e*o,c=e*a,f=e*l,d=n*a,p=n*l,m=r*l,g=h*o,y=h*a,M=h*l;return t[0]=1-(d+m),t[1]=c+M,t[2]=f-y,t[3]=0,t[4]=c-M,t[5]=1-(u+m),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(u+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},hs=function(t,s){var i=new ARRAY_TYPE(3),e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=e*e+n*n+r*r+h*h;return c>0?(i[0]=2*(o*h+u*e+a*r-l*n)/c,i[1]=2*(a*h+u*n+l*e-o*r)/c,i[2]=2*(l*h+u*r+o*n-a*e)/c):(i[0]=2*(o*h+u*e+a*r-l*n),i[1]=2*(a*h+u*n+l*e-o*r),i[2]=2*(l*h+u*r+o*n-a*e)),rs(t,s,i),t},os=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},as=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[4],h=s[5],o=s[6],a=s[8],l=s[9],u=s[10];return t[0]=Math.hypot(i,e,n),t[1]=Math.hypot(r,h,o),t[2]=Math.hypot(a,l,u),t},ls=function(t,s){var i=new ARRAY_TYPE(3);as(i,s);var e=1/i[0],n=1/i[1],r=1/i[2],h=s[0]*e,o=s[1]*n,a=s[2]*r,l=s[4]*e,u=s[5]*n,c=s[6]*r,f=s[8]*e,d=s[9]*n,p=s[10]*r,m=h+u+p,g=0;return m>0?(g=2*Math.sqrt(m+1),t[3]=.25*g,t[0]=(c-d)/g,t[1]=(f-a)/g,t[2]=(o-l)/g):h>u&&h>p?(g=2*Math.sqrt(1+h-u-p),t[3]=(c-d)/g,t[0]=.25*g,t[1]=(o+l)/g,t[2]=(f+a)/g):u>p?(g=2*Math.sqrt(1+u-h-p),t[3]=(f-a)/g,t[0]=(o+l)/g,t[1]=.25*g,t[2]=(c+d)/g):(g=2*Math.sqrt(1+p-h-u),t[3]=(o-l)/g,t[0]=(f+a)/g,t[1]=(c+d)/g,t[2]=.25*g),t},us=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var n=e[0],r=e[1],h=e[2],o=e[4],a=e[5],l=e[6],u=e[8],c=e[9],f=e[10];i[0]=Math.hypot(n,r,h),i[1]=Math.hypot(o,a,l),i[2]=Math.hypot(u,c,f);var d=1/i[0],p=1/i[1],m=1/i[2],g=n*d,y=r*p,M=h*m,w=o*d,S=a*p,T=l*m,b=u*d,v=c*p,x=f*m,C=g+S+x,I=0;return C>0?(I=2*Math.sqrt(C+1),t[3]=.25*I,t[0]=(T-v)/I,t[1]=(b-M)/I,t[2]=(y-w)/I):g>S&&g>x?(I=2*Math.sqrt(1+g-S-x),t[3]=(T-v)/I,t[0]=.25*I,t[1]=(y+w)/I,t[2]=(b+M)/I):S>x?(I=2*Math.sqrt(1+S-g-x),t[3]=(b-M)/I,t[0]=(y+w)/I,t[1]=.25*I,t[2]=(T+v)/I):(I=2*Math.sqrt(1+x-g-S),t[3]=(y-w)/I,t[0]=(b+M)/I,t[1]=(T+v)/I,t[2]=.25*I),t},cs=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=s[3],a=n+n,l=r+r,u=h+h,c=n*a,f=n*l,d=n*u,p=r*l,m=r*u,g=h*u,y=o*a,M=o*l,w=o*u,S=e[0],T=e[1],b=e[2];return t[0]=(1-(p+g))*S,t[1]=(f+w)*S,t[2]=(d-M)*S,t[3]=0,t[4]=(f-w)*T,t[5]=(1-(c+g))*T,t[6]=(m+y)*T,t[7]=0,t[8]=(d+M)*b,t[9]=(m-y)*b,t[10]=(1-(c+p))*b,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},fs=function(t,s,i,e,n){var r=s[0],h=s[1],o=s[2],a=s[3],l=r+r,u=h+h,c=o+o,f=r*l,d=r*u,p=r*c,m=h*u,g=h*c,y=o*c,M=a*l,w=a*u,S=a*c,T=e[0],b=e[1],v=e[2],x=n[0],C=n[1],I=n[2],G=(1-(m+y))*T,E=(d+S)*T,N=(p-w)*T,D=(d-S)*b,_=(1-(f+y))*b,A=(g+M)*b,L=(p+w)*v,O=(g-M)*v,R=(1-(f+m))*v;return t[0]=G,t[1]=E,t[2]=N,t[3]=0,t[4]=D,t[5]=_,t[6]=A,t[7]=0,t[8]=L,t[9]=O,t[10]=R,t[11]=0,t[12]=i[0]+x-(G*x+D*C+L*I),t[13]=i[1]+C-(E*x+_*C+O*I),t[14]=i[2]+I-(N*x+A*C+R*I),t[15]=1,t},ds=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i+i,o=e+e,a=n+n,l=i*h,u=e*h,c=e*o,f=n*h,d=n*o,p=n*a,m=r*h,g=r*o,y=r*a;return t[0]=1-c-p,t[1]=u+y,t[2]=f-g,t[3]=0,t[4]=u-y,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ps=function(t,s,i,e,n,r,h){var o=1/(i-s),a=1/(n-e),l=1/(r-h);return t[0]=2*r*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(n+e)*a,t[10]=(h+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*r*2*l,t[15]=0,t},ms=function(t,s,i,e,n){var r=1/Math.tan(s/2);if(t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0){var h=1/(e-n);t[10]=(n+e)*h,t[14]=2*n*e*h}else t[10]=-1,t[14]=-2*e;return t},gs=function(t,s,i,e,n){var r=1/Math.tan(s/2);if(t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0){var h=1/(e-n);t[10]=n*h,t[14]=n*e*h}else t[10]=-1,t[14]=-e;return t},ys=function(t,s,i,e){var n=Math.tan(s.upDegrees*Math.PI/180),r=Math.tan(s.downDegrees*Math.PI/180),h=Math.tan(s.leftDegrees*Math.PI/180),o=Math.tan(s.rightDegrees*Math.PI/180),a=2/(h+o),l=2/(n+r);return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(h-o)*a*.5,t[9]=(n-r)*l*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},Ms=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),l=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=(h+r)*l,t[15]=1,t},ws=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),l=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=r*l,t[15]=1,t},Ss=function(t,s,i,e){var n,r,h,o,a,l,u,c,f,d,p=s[0],m=s[1],g=s[2],y=e[0],M=e[1],w=e[2],S=i[0],T=i[1],b=i[2];return Math.abs(p-S)<EPSILON&&Math.abs(m-T)<EPSILON&&Math.abs(g-b)<EPSILON?Bt(t):(u=p-S,c=m-T,f=g-b,n=M*(f*=d=1/Math.hypot(u,c,f))-w*(c*=d),r=w*(u*=d)-y*f,h=y*c-M*u,(d=Math.hypot(n,r,h))?(n*=d=1/d,r*=d,h*=d):(n=0,r=0,h=0),o=c*h-f*r,a=f*n-u*h,l=u*r-c*n,(d=Math.hypot(o,a,l))?(o*=d=1/d,a*=d,l*=d):(o=0,a=0,l=0),t[0]=n,t[1]=o,t[2]=u,t[3]=0,t[4]=r,t[5]=a,t[6]=c,t[7]=0,t[8]=h,t[9]=l,t[10]=f,t[11]=0,t[12]=-(n*p+r*m+h*g),t[13]=-(o*p+a*m+l*g),t[14]=-(u*p+c*m+f*g),t[15]=1,t)},Ts=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=e[0],a=e[1],l=e[2],u=n-i[0],c=r-i[1],f=h-i[2],d=u*u+c*c+f*f;d>0&&(u*=d=1/Math.sqrt(d),c*=d,f*=d);var p=a*f-l*c,m=l*u-o*f,g=o*c-a*u;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=c*g-f*m,t[5]=f*p-u*g,t[6]=u*m-c*p,t[7]=0,t[8]=u,t[9]=c,t[10]=f,t[11]=0,t[12]=n,t[13]=r,t[14]=h,t[15]=1,t},bs=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},vs=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},xs=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Cs=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},Is=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Gs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},Es=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Ns=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],y=t[15],M=s[0],w=s[1],S=s[2],T=s[3],b=s[4],v=s[5],x=s[6],C=s[7],I=s[8],G=s[9],E=s[10],N=s[11],D=s[12],_=s[13],A=s[14],L=s[15];return Math.abs(i-M)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(e-w)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(n-S)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-T)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(h-b)<=EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(o-v)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-x)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-C)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-I)<=EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(c-G)<=EPSILON*Math.max(1,Math.abs(c),Math.abs(G))&&Math.abs(f-E)<=EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(d-N)<=EPSILON*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(p-D)<=EPSILON*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(m-_)<=EPSILON*Math.max(1,Math.abs(m),Math.abs(_))&&Math.abs(g-A)<=EPSILON*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(y-L)<=EPSILON*Math.max(1,Math.abs(y),Math.abs(L))},Ds=function(){var t=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},_s=function(t){var s=new ARRAY_TYPE(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},As=function(t){var s=t[0],i=t[1],e=t[2];return Math.hypot(s,i,e)},Ls=function(t,s,i){var e=new ARRAY_TYPE(3);return e[0]=t,e[1]=s,e[2]=i,e},Os=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Rs=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},Ps=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},ks=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},Fs=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},js=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},zs=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Bs=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},$s=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},Us=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},Ws=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},Ys=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},Qs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},Vs=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2];return Math.hypot(i,e,n)},Js=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2];return i*i+e*e+n*n},Hs=function(t){var s=t[0],i=t[1],e=t[2];return s*s+i*i+e*e},qs=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},Zs=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},Xs=function(t,s){var i=s[0],e=s[1],n=s[2],r=i*i+e*e+n*n;return r>0&&(r=1/Math.sqrt(r)),t[0]=s[0]*r,t[1]=s[1]*r,t[2]=s[2]*r,t},Ks=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},ti=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[0],o=i[1],a=i[2];return t[0]=n*a-r*o,t[1]=r*h-e*a,t[2]=e*o-n*h,t},si=function(t,s,i,e){var n=s[0],r=s[1],h=s[2];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=h+e*(i[2]-h),t},ii=function(t,s,i,e){var n=Math.acos(Math.min(Math.max(Ks(s,i),-1),1)),r=Math.sin(n),h=Math.sin((1-e)*n)/r,o=Math.sin(e*n)/r;return t[0]=h*s[0]+o*i[0],t[1]=h*s[1]+o*i[1],t[2]=h*s[2]+o*i[2],t},ei=function(t,s,i,e,n,r){var h=r*r,o=h*(2*r-3)+1,a=h*(r-2)+r,l=h*(r-1),u=h*(3-2*r);return t[0]=s[0]*o+i[0]*a+e[0]*l+n[0]*u,t[1]=s[1]*o+i[1]*a+e[1]*l+n[1]*u,t[2]=s[2]*o+i[2]*a+e[2]*l+n[2]*u,t},ni=function(t,s,i,e,n,r){var h=1-r,o=h*h,a=r*r,l=o*h,u=3*r*o,c=3*a*h,f=a*r;return t[0]=s[0]*l+i[0]*u+e[0]*c+n[0]*f,t[1]=s[1]*l+i[1]*u+e[1]*c+n[1]*f,t[2]=s[2]*l+i[2]*u+e[2]*c+n[2]*f,t},ri=function(t,s){s=s||1;var i=2*RANDOM()*Math.PI,e=2*RANDOM()-1,n=Math.sqrt(1-e*e)*s;return t[0]=Math.cos(i)*n,t[1]=Math.sin(i)*n,t[2]=e*s,t},hi=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[3]*e+i[7]*n+i[11]*r+i[15];return h=h||1,t[0]=(i[0]*e+i[4]*n+i[8]*r+i[12])/h,t[1]=(i[1]*e+i[5]*n+i[9]*r+i[13])/h,t[2]=(i[2]*e+i[6]*n+i[10]*r+i[14])/h,t},oi=function(t,s,i){var e=s[0],n=s[1],r=s[2];return t[0]=e*i[0]+n*i[3]+r*i[6],t[1]=e*i[1]+n*i[4]+r*i[7],t[2]=e*i[2]+n*i[5]+r*i[8],t},ai=function(t,s,i){var e=i[0],n=i[1],r=i[2],h=i[3],o=s[0],a=s[1],l=s[2],u=n*l-r*a,c=r*o-e*l,f=e*a-n*o,d=n*f-r*c,p=r*u-e*f,m=e*c-n*u,g=2*h;return u*=g,c*=g,f*=g,d*=2,p*=2,m*=2,t[0]=o+u+d,t[1]=a+c+p,t[2]=l+f+m,t},li=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0],r[1]=n[1]*Math.cos(e)-n[2]*Math.sin(e),r[2]=n[1]*Math.sin(e)+n[2]*Math.cos(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},ui=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[2]*Math.sin(e)+n[0]*Math.cos(e),r[1]=n[1],r[2]=n[2]*Math.cos(e)-n[0]*Math.sin(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},ci=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0]*Math.cos(e)-n[1]*Math.sin(e),r[1]=n[0]*Math.sin(e)+n[1]*Math.cos(e),r[2]=n[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},fi=function(t,s){var i=t[0],e=t[1],n=t[2],r=s[0],h=s[1],o=s[2],a=Math.sqrt((i*i+e*e+n*n)*(r*r+h*h+o*o)),l=a&&Ks(t,s)/a;return Math.acos(Math.min(Math.max(l,-1),1))},di=function(t){return t[0]=0,t[1]=0,t[2]=0,t},pi=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},mi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},gi=function(t,s){var i=t[0],e=t[1],n=t[2],r=s[0],h=s[1],o=s[2];return Math.abs(i-r)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(e-h)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-o)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(o))},yi=function(){var t=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Mi=function(t){var s=new ARRAY_TYPE(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},wi=function(t,s,i,e){var n=new ARRAY_TYPE(4);return n[0]=t,n[1]=s,n[2]=i,n[3]=e,n},Si=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Ti=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},bi=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},vi=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},xi=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},Ci=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},Ii=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Gi=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Ei=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Ni=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},Di=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},_i=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},Ai=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Li=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2],r=s[3]-t[3];return Math.hypot(i,e,n,r)},Oi=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2],r=s[3]-t[3];return i*i+e*e+n*n+r*r},Ri=function(t){var s=t[0],i=t[1],e=t[2],n=t[3];return Math.hypot(s,i,e,n)},Pi=function(t){var s=t[0],i=t[1],e=t[2],n=t[3];return s*s+i*i+e*e+n*n},ki=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},Fi=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},ji=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*i+e*e+n*n+r*r;return h>0&&(h=1/Math.sqrt(h)),t[0]=i*h,t[1]=e*h,t[2]=n*h,t[3]=r*h,t},zi=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Bi=function(t,s,i,e){var n=i[0]*e[1]-i[1]*e[0],r=i[0]*e[2]-i[2]*e[0],h=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],l=i[2]*e[3]-i[3]*e[2],u=s[0],c=s[1],f=s[2],d=s[3];return t[0]=c*l-f*a+d*o,t[1]=-u*l+f*h-d*r,t[2]=u*a-c*h+d*n,t[3]=-u*o+c*r-f*n,t},$i=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=s[3];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=h+e*(i[2]-h),t[3]=o+e*(i[3]-o),t},Ui=function(t,s){var i,e,n,r,h,o;s=s||1;do{h=(i=2*RANDOM()-1)*i+(e=2*RANDOM()-1)*e}while(h>=1);do{o=(n=2*RANDOM()-1)*n+(r=2*RANDOM()-1)*r}while(o>=1);var a=Math.sqrt((1-h)/o);return t[0]=s*i,t[1]=s*e,t[2]=s*n*a,t[3]=s*r*a,t},Wi=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3];return t[0]=i[0]*e+i[4]*n+i[8]*r+i[12]*h,t[1]=i[1]*e+i[5]*n+i[9]*r+i[13]*h,t[2]=i[2]*e+i[6]*n+i[10]*r+i[14]*h,t[3]=i[3]*e+i[7]*n+i[11]*r+i[15]*h,t},Yi=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[0],o=i[1],a=i[2],l=i[3],u=l*e+o*r-a*n,c=l*n+a*e-h*r,f=l*r+h*n-o*e,d=-h*e-o*n-a*r;return t[0]=u*l+d*-h+c*-a-f*-o,t[1]=c*l+d*-o+f*-h-u*-a,t[2]=f*l+d*-a+u*-o-c*-h,t[3]=s[3],t},Qi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},Vi=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Ji=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Hi=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=s[0],o=s[1],a=s[2],l=s[3];return Math.abs(i-h)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(e-o)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-a)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-l)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(l))},qi=function(){var t=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Zi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},Xi=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},Ki=function(t,s){var i=2*Math.acos(s[3]),e=Math.sin(i/2);return e>EPSILON?(t[0]=s[0]/e,t[1]=s[1]/e,t[2]=s[2]/e):(t[0]=1,t[1]=0,t[2]=0),i},te=function(t,s){var i=dot$2(t,s);return Math.acos(2*i*i-1)},se=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],l=i[2],u=i[3];return t[0]=e*u+h*o+n*l-r*a,t[1]=n*u+h*a+r*o-e*l,t[2]=r*u+h*l+e*a-n*o,t[3]=h*u-e*o-n*a-r*l,t},ie=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+h*o,t[1]=n*a+r*o,t[2]=r*a-n*o,t[3]=h*a-e*o,t},ee=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a-r*o,t[1]=n*a+h*o,t[2]=r*a+e*o,t[3]=h*a-n*o,t},ne=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+n*o,t[1]=n*a-e*o,t[2]=r*a+h*o,t[3]=h*a-r*o,t},re=function(t,s){var i=s[0],e=s[1],n=s[2];return t[0]=i,t[1]=e,t[2]=n,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-n*n)),t},he=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=Math.sqrt(i*i+e*e+n*n),o=Math.exp(r),a=h>0?o*Math.sin(h)/h:0;return t[0]=i*a,t[1]=e*a,t[2]=n*a,t[3]=o*Math.cos(h),t},oe=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=Math.sqrt(i*i+e*e+n*n),o=h>0?Math.atan2(h,r)/h:0;return t[0]=i*o,t[1]=e*o,t[2]=n*o,t[3]=.5*Math.log(i*i+e*e+n*n+r*r),t},ae=function(t,s,i){return oe(t,s),scale$2(t,t,i),he(t,t),t},le=function(t,s,i,e){var n,r,h,o,a,l=s[0],u=s[1],c=s[2],f=s[3],d=i[0],p=i[1],m=i[2],g=i[3];return(r=l*d+u*p+c*m+f*g)<0&&(r=-r,d=-d,p=-p,m=-m,g=-g),1-r>EPSILON?(n=Math.acos(r),h=Math.sin(n),o=Math.sin((1-e)*n)/h,a=Math.sin(e*n)/h):(o=1-e,a=e),t[0]=o*l+a*d,t[1]=o*u+a*p,t[2]=o*c+a*m,t[3]=o*f+a*g,t},ue=function(t){var s=RANDOM(),i=RANDOM(),e=RANDOM(),n=Math.sqrt(1-s),r=Math.sqrt(s);return t[0]=n*Math.sin(2*Math.PI*i),t[1]=n*Math.cos(2*Math.PI*i),t[2]=r*Math.sin(2*Math.PI*e),t[3]=r*Math.cos(2*Math.PI*e),t},ce=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*i+e*e+n*n+r*r,o=h?1/h:0;return t[0]=-i*o,t[1]=-e*o,t[2]=-n*o,t[3]=r*o,t},fe=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},de=function(t,s){var i,e=s[0]+s[4]+s[8];if(e>0)i=Math.sqrt(e+1),t[3]=.5*i,i=.5/i,t[0]=(s[5]-s[7])*i,t[1]=(s[6]-s[2])*i,t[2]=(s[1]-s[3])*i;else{var n=0;s[4]>s[0]&&(n=1),s[8]>s[3*n+n]&&(n=2);var r=(n+1)%3,h=(n+2)%3;i=Math.sqrt(s[3*n+n]-s[3*r+r]-s[3*h+h]+1),t[n]=.5*i,i=.5/i,t[3]=(s[3*r+h]-s[3*h+r])*i,t[r]=(s[3*r+n]+s[3*n+r])*i,t[h]=(s[3*h+n]+s[3*n+h])*i}return t},pe=function(t,s,i,e){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ANGLE_ORDER,r=Math.PI/360;s*=r,e*=r,i*=r;var h=Math.sin(s),o=Math.cos(s),a=Math.sin(i),l=Math.cos(i),u=Math.sin(e),c=Math.cos(e);switch(n){case"xyz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"xzy":t[0]=h*l*c-o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c+h*a*u;break;case"yxz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;case"yzx":t[0]=h*l*c+o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c-h*a*u;break;case"zxy":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"zyx":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;default:throw new Error("Unknown angle order "+n)}return t},me=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},ge=function(t,s){return Math.abs(zi(t,s))>=1-EPSILON},ye=function(){var t=new ARRAY_TYPE(8);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},Me=function(t){var s=new ARRAY_TYPE(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},we=function(t,s,i,e,n,r,h,o){var a=new ARRAY_TYPE(8);return a[0]=t,a[1]=s,a[2]=i,a[3]=e,a[4]=n,a[5]=r,a[6]=h,a[7]=o,a},Se=function(t,s,i,e,n,r,h){var o=new ARRAY_TYPE(8);o[0]=t,o[1]=s,o[2]=i,o[3]=e;var a=.5*n,l=.5*r,u=.5*h;return o[4]=a*e+l*i-u*s,o[5]=l*e+u*t-a*i,o[6]=u*e+a*s-l*t,o[7]=-a*t-l*s-u*i,o},Te=function(t,s,i){var e=.5*i[0],n=.5*i[1],r=.5*i[2],h=s[0],o=s[1],a=s[2],l=s[3];return t[0]=h,t[1]=o,t[2]=a,t[3]=l,t[4]=e*l+n*a-r*o,t[5]=n*l+r*h-e*a,t[6]=r*l+e*o-n*h,t[7]=-e*h-n*o-r*a,t},be=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},ve=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},xe=function(t,s){var i=qi();ls(i,s);var e=new ARRAY_TYPE(3);return os(e,s),Te(t,i,e),t},Ce=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},Ie=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Ge=function(t,s,i,e,n,r,h,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t},Ee=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},Ne=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},De=function(t,s){var i=s[4],e=s[5],n=s[6],r=s[7],h=-s[0],o=-s[1],a=-s[2],l=s[3];return t[0]=2*(i*l+r*h+e*a-n*o),t[1]=2*(e*l+r*o+n*h-i*a),t[2]=2*(n*l+r*a+i*o-e*h),t},_e=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=.5*i[0],a=.5*i[1],l=.5*i[2],u=s[4],c=s[5],f=s[6],d=s[7];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=h*o+n*l-r*a+u,t[5]=h*a+r*o-e*l+c,t[6]=h*l+e*a-n*o+f,t[7]=-e*o-n*a-r*l+d,t},Ae=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=o*h+u*e+a*r-l*n,f=a*h+u*n+l*e-o*r,d=l*h+u*r+o*n-a*e,p=u*h-o*e-a*n-l*r;return ie(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},Le=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=o*h+u*e+a*r-l*n,f=a*h+u*n+l*e-o*r,d=l*h+u*r+o*n-a*e,p=u*h-o*e-a*n-l*r;return ee(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},Oe=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=o*h+u*e+a*r-l*n,f=a*h+u*n+l*e-o*r,d=l*h+u*r+o*n-a*e,p=u*h-o*e-a*n-l*r;return ne(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},Re=function(t,s,i){var e=i[0],n=i[1],r=i[2],h=i[3],o=s[0],a=s[1],l=s[2],u=s[3];return t[0]=o*h+u*e+a*r-l*n,t[1]=a*h+u*n+l*e-o*r,t[2]=l*h+u*r+o*n-a*e,t[3]=u*h-o*e-a*n-l*r,o=s[4],a=s[5],l=s[6],u=s[7],t[4]=o*h+u*e+a*r-l*n,t[5]=a*h+u*n+l*e-o*r,t[6]=l*h+u*r+o*n-a*e,t[7]=u*h-o*e-a*n-l*r,t},Pe=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],l=i[2],u=i[3];return t[0]=e*u+h*o+n*l-r*a,t[1]=n*u+h*a+r*o-e*l,t[2]=r*u+h*l+e*a-n*o,t[3]=h*u-e*o-n*a-r*l,o=i[4],a=i[5],l=i[6],u=i[7],t[4]=e*u+h*o+n*l-r*a,t[5]=n*u+h*a+r*o-e*l,t[6]=r*u+h*l+e*a-n*o,t[7]=h*u-e*o-n*a-r*l,t},ke=function(t,s,i,e){if(Math.abs(e)<EPSILON)return Ce(t,s);var n=Math.hypot(i[0],i[1],i[2]);e*=.5;var r=Math.sin(e),h=r*i[0]/n,o=r*i[1]/n,a=r*i[2]/n,l=Math.cos(e),u=s[0],c=s[1],f=s[2],d=s[3];t[0]=u*l+d*h+c*a-f*o,t[1]=c*l+d*o+f*h-u*a,t[2]=f*l+d*a+u*o-c*h,t[3]=d*l-u*h-c*o-f*a;var p=s[4],m=s[5],g=s[6],y=s[7];return t[4]=p*l+y*h+m*a-g*o,t[5]=m*l+y*o+g*h-p*a,t[6]=g*l+y*a+p*o-m*h,t[7]=y*l-p*h-m*o-g*a,t},Fe=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},je=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[4],a=i[5],l=i[6],u=i[7],c=s[4],f=s[5],d=s[6],p=s[7],m=i[0],g=i[1],y=i[2],M=i[3];return t[0]=e*M+h*m+n*y-r*g,t[1]=n*M+h*g+r*m-e*y,t[2]=r*M+h*y+e*g-n*m,t[3]=h*M-e*m-n*g-r*y,t[4]=e*u+h*o+n*l-r*a+c*M+p*m+f*y-d*g,t[5]=n*u+h*a+r*o-e*l+f*M+p*g+d*m-c*y,t[6]=r*u+h*l+e*a-n*o+d*M+p*y+c*g-f*m,t[7]=h*u-e*o-n*a-r*l+p*M-c*m-f*g-d*y,t},ze=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},Be=function(t,s,i,e){var n=1-e;return dot$1(s,i)<0&&(e=-e),t[0]=s[0]*n+i[0]*e,t[1]=s[1]*n+i[1]*e,t[2]=s[2]*n+i[2]*e,t[3]=s[3]*n+i[3]*e,t[4]=s[4]*n+i[4]*e,t[5]=s[5]*n+i[5]*e,t[6]=s[6]*n+i[6]*e,t[7]=s[7]*n+i[7]*e,t},$e=function(t,s){var i=squaredLength$1(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},Ue=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},We=function(t,s){var i=squaredLength$1(s);if(i>0){i=Math.sqrt(i);var e=s[0]/i,n=s[1]/i,r=s[2]/i,h=s[3]/i,o=s[4],a=s[5],l=s[6],u=s[7],c=e*o+n*a+r*l+h*u;t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=(o-e*c)/i,t[5]=(a-n*c)/i,t[6]=(l-r*c)/i,t[7]=(u-h*c)/i}return t},Ye=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},Qe=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Ve=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7];return Math.abs(i-u)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(e-c)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-f)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(h-p)<=EPSILON*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(o-m)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-y)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(y))},Je=function(){var t=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t},He=function(t){var s=new ARRAY_TYPE(2);return s[0]=t[0],s[1]=t[1],s},qe=function(t,s){var i=new ARRAY_TYPE(2);return i[0]=t,i[1]=s,i},Ze=function(t,s){return t[0]=s[0],t[1]=s[1],t},Xe=function(t,s,i){return t[0]=s,t[1]=i,t},Ke=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},tn=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},sn=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},en=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},nn=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},rn=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},hn=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},on=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},an=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},un=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},cn=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},fn=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return Math.hypot(i,e)},dn=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},pn=function(t){var s=t[0],i=t[1];return Math.hypot(s,i)},mn=function(t){var s=t[0],i=t[1];return s*s+i*i},gn=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},yn=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},Mn=function(t,s){var i=s[0],e=s[1],n=i*i+e*e;return n>0&&(n=1/Math.sqrt(n)),t[0]=s[0]*n,t[1]=s[1]*n,t},wn=function(t,s){return t[0]*s[0]+t[1]*s[1]},Sn=function(t,s,i){var e=s[0]*i[1]-s[1]*i[0];return t[0]=t[1]=0,t[2]=e,t},Tn=function(t,s,i,e){var n=s[0],r=s[1];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t},bn=function(t,s){s=s||1;var i=2*RANDOM()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},vn=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[2]*n,t[1]=i[1]*e+i[3]*n,t},xn=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[2]*n+i[4],t[1]=i[1]*e+i[3]*n+i[5],t},Cn=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[3]*n+i[6],t[1]=i[1]*e+i[4]*n+i[7],t},In=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[4]*n+i[12],t[1]=i[1]*e+i[5]*n+i[13],t},Gn=function(t,s,i,e){var n=s[0]-i[0],r=s[1]-i[1],h=Math.sin(e),o=Math.cos(e);return t[0]=n*o-r*h+i[0],t[1]=n*h+r*o+i[1],t},En=function(t,s){var i=t[0],e=t[1],n=s[0],r=s[1],h=Math.sqrt((i*i+e*e)*(n*n+r*r)),o=h&&(i*n+e*r)/h;return Math.acos(Math.min(Math.max(o,-1),1))},Nn=function(t){return t[0]=0,t[1]=0,t},Dn=function(t){return"vec2("+t[0]+", "+t[1]+")"},_n=function(t,s){return t[0]===s[0]&&t[1]===s[1]},An=function(t,s){var i=t[0],e=t[1],n=s[0],r=s[1];return Math.abs(i-n)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(e-r)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(r))};setMatrixArrayType=e,toRadian=n,equals$9=h,create$8=u,clone$8=p,copy$8=m,identity$5=g,fromValues$8=y,set$8=M,transpose$2=w,invert$5=S,adjoint$2=T,determinant$3=b,multiply$8=v,rotate$4=x,scale$8=C,fromRotation$4=I,fromScaling$3=G,str$8=E,frob$3=N,LDU=D,add$8=_,subtract$6=A,exactEquals$8=L,equals$8=O,multiplyScalar$3=R,multiplyScalarAndAdd$3=P,create$7=k,clone$7=F,copy$7=j,identity$4=z,fromValues$7=B,set$7=$,invert$4=U,determinant$2=W,multiply$7=Y,rotate$3=Q,scale$7=V,translate$3=J,fromRotation$3=H,fromScaling$2=q,fromTranslation$3=Z,str$7=X,frob$2=K,add$7=tt,subtract$5=st,multiplyScalar$2=it,multiplyScalarAndAdd$2=et,exactEquals$7=nt,equals$7=rt,create$6=ht,fromMat4$1=ot,clone$6=at,copy$6=lt,fromValues$6=ut,set$6=ct,identity$3=ft,transpose$1=dt,invert$3=pt,adjoint$1=mt,determinant$1=gt,multiply$6=yt,translate$2=Mt,rotate$2=wt,scale$6=St,fromTranslation$2=Tt,fromRotation$2=bt,fromScaling$1=vt,fromMat2d=xt,fromQuat$1=Ct,normalFromMat4=It,projection=Gt,str$6=Et,frob$1=Nt,add$6=Dt,subtract$4=_t,multiplyScalar$1=At,multiplyScalarAndAdd$1=Lt,exactEquals$6=Ot,equals$6=Rt,create$5=Pt,clone$5=kt,copy$5=Ft,fromValues$5=jt,set$5=zt,identity$2=Bt,transpose=$t,invert$2=Ut,adjoint=Wt,determinant=Yt,multiply$5=Qt,translate$1=Vt,scale$5=Jt,rotate$1=Ht,rotateX$3=qt,rotateY$3=Zt,rotateZ$3=Xt,fromTranslation$1=Kt,fromScaling=ts,fromRotation$1=ss,fromXRotation=is,fromYRotation=es,fromZRotation=ns,fromRotationTranslation$1=rs,fromQuat2=hs,getTranslation$1=os,getScaling=as,getRotation=ls,decompose=us,fromRotationTranslationScale=cs,fromRotationTranslationScaleOrigin=fs,fromQuat=ds,frustum=ps,perspectiveNO=ms,perspectiveZO=gs,perspectiveFromFieldOfView=ys,orthoNO=Ms,orthoZO=ws,lookAt=Ss,targetTo=Ts,str$5=bs,frob=vs,add$5=xs,subtract$3=Cs,multiplyScalar=Is,multiplyScalarAndAdd=Gs,exactEquals$5=Es,equals$5=Ns,create$4=Ds,clone$4=_s,length$4=As,fromValues$4=Ls,copy$4=Os,set$4=Rs,add$4=Ps,subtract$2=ks,multiply$4=Fs,divide$2=js,ceil$2=zs,floor$2=Bs,min$2=$s,max$2=Us,round$2=Ws,scale$4=Ys,scaleAndAdd$2=Qs,distance$2=Vs,squaredDistance$2=Js,squaredLength$4=Hs,negate$2=qs,inverse$2=Zs,normalize$4=Xs,dot$4=Ks,cross$2=ti,lerp$4=si,slerp$1=ii,hermite=ei,bezier=ni,random$3=ri,transformMat4$2=hi,transformMat3$1=oi,transformQuat$1=ai,rotateX$2=li,rotateY$2=ui,rotateZ$2=ci,angle$1=fi,zero$2=di,str$4=pi,exactEquals$4=mi,equals$4=gi,create$3=yi,clone$3=Mi,fromValues$3=wi,copy$3=Si,set$3=Ti,add$3=bi,subtract$1=vi,multiply$3=xi,divide$1=Ci,ceil$1=Ii,floor$1=Gi,min$1=Ei,max$1=Ni,round$1=Di,scale$3=_i,scaleAndAdd$1=Ai,distance$1=Li,squaredDistance$1=Oi,length$3=Ri,squaredLength$3=Pi,negate$1=ki,inverse$1=Fi,normalize$3=ji,dot$3=zi,cross$1=Bi,lerp$3=$i,random$2=Ui,transformMat4$1=Wi,transformQuat=Yi,zero$1=Qi,str$3=Vi,exactEquals$3=Ji,equals$3=Hi,create$2=qi,identity$1=Zi,setAxisAngle=Xi,getAxisAngle=Ki,getAngle=te,multiply$2=se,rotateX$1=ie,rotateY$1=ee,rotateZ$1=ne,calculateW=re,exp=he,ln=oe,pow=ae,slerp=le,random$1=ue,invert$1=ce,conjugate$1=fe,fromMat3=de,fromEuler=pe,str$2=me,equals$2=ge,create$1=ye,clone$1=Me,fromValues$1=we,fromRotationTranslationValues=Se,fromRotationTranslation=Te,fromTranslation=be,fromRotation=ve,fromMat4=xe,copy$1=Ce,identity=Ie,set$1=Ge,getDual=Ee,setDual=Ne,getTranslation=De,translate=_e,rotateX=Ae,rotateY=Le,rotateZ=Oe,rotateByQuatAppend=Re,rotateByQuatPrepend=Pe,rotateAroundAxis=ke,add$1=Fe,multiply$1=je,scale$1=ze,lerp$1=Be,invert=$e,conjugate=Ue,normalize$1=We,str$1=Ye,exactEquals$1=Qe,equals$1=Ve,create=Je,clone=He,fromValues=qe,copy=Ze,set=Xe,add=Ke,subtract=tn,multiply=sn,divide=en,ceil=nn,floor=rn,min=hn,max=on,round=an,scale=un,scaleAndAdd=cn,distance=fn,squaredDistance=dn,length=pn,squaredLength=mn,negate=gn,inverse=yn,normalize=Mn,dot=wn,cross=Sn,lerp=Tn,random=bn,transformMat2=vn,transformMat2d=xn,transformMat3=Cn,transformMat4=In,rotate=Gn,angle=En,zero=Nn,str=Dn,exactEquals=_n,equals=An,EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,RANDOM=Math.random,ANGLE_ORDER="zyx",degree=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),common={__proto__:null,EPSILON:EPSILON,get h(){return ARRAY_TYPE},o:RANDOM,l:ANGLE_ORDER,u:e,m:n,equals:h},mul$8=v,sub$6=A,mat2=Object.freeze({__proto__:null,create:u,clone:p,M:m,identity:g,S:y,set:M,T:w,v:S,C:T,I:b,multiply:v,rotate:x,scale:C,G:I,N:G,D:E,_:N,A:D,add:_,L:A,O:L,equals:O,R:R,P:P,mul:mul$8,sub:sub$6}),mul$7=Y,sub$5=st,mat2d=Object.freeze({__proto__:null,create:k,clone:F,M:j,identity:z,S:B,set:$,v:U,I:W,multiply:Y,rotate:Q,scale:V,translate:J,G:H,N:q,F:Z,D:X,_:K,add:tt,L:st,R:it,P:et,O:nt,equals:rt,mul:mul$7,sub:sub$5}),mul$6=yt,sub$4=_t,mat3=Object.freeze({__proto__:null,create:ht,j:ot,clone:at,M:lt,S:ut,set:ct,identity:ft,T:dt,v:pt,C:mt,I:gt,multiply:yt,translate:Mt,rotate:wt,scale:St,F:Tt,G:bt,N:vt,B:xt,$:Ct,U:It,W:Gt,D:Et,_:Nt,add:Dt,L:_t,R:At,P:Lt,O:Ot,equals:Rt,mul:mul$6,sub:sub$4}),perspective=ms,ortho=Ms,mul$5=Qt,sub$3=Cs,mat4=Object.freeze({__proto__:null,create:Pt,clone:kt,M:Ft,S:jt,set:zt,identity:Bt,T:$t,v:Ut,C:Wt,I:Yt,multiply:Qt,translate:Vt,scale:Jt,rotate:Ht,Y:qt,V:Zt,J:Xt,F:Kt,N:ts,G:ss,H:is,Z:es,X:ns,K:rs,tt:hs,st:os,it:as,et:ls,nt:us,rt:cs,ht:fs,$:ds,ot:ps,lt:ms,perspective:perspective,ut:gs,ct:ys,ft:Ms,dt:ortho,gt:ws,yt:Ss,Mt:Ts,D:bs,_:vs,add:xs,L:Cs,R:Is,P:Gs,O:Es,equals:Ns,mul:mul$5,sub:sub$3}),sub$2=ks,mul$4=Fs,div$2=js,dist$2=Vs,sqrDist$2=Js,len$4=As,sqrLen$4=Hs,t=Ds(),forEach$2=function(s,i,e,n,r,h){var o,a;for(i||(i=3),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],r(t,t,h),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2];return s},vec3=Object.freeze({__proto__:null,create:Ds,clone:_s,length:As,S:Ls,M:Os,set:Rs,add:Ps,L:ks,multiply:Fs,wt:js,ceil:zs,floor:Bs,min:$s,max:Us,round:Ws,scale:Ys,St:Qs,Tt:Vs,bt:Js,vt:Hs,xt:qs,inverse:Zs,normalize:Xs,Ct:Ks,It:ti,Gt:si,Et:ii,Nt:ei,Dt:ni,random:ri,_t:hi,At:oi,Lt:ai,Y:li,V:ui,J:ci,angle:fi,Ot:di,D:pi,O:mi,equals:gi,sub:sub$2,mul:mul$4,div:div$2,Rt:dist$2,Pt:sqrDist$2,kt:len$4,Ft:sqrLen$4,forEach:forEach$2}),sub$1=vi,mul$3=xi,div$1=Ci,dist$1=Li,sqrDist$1=Oi,len$3=Ri,sqrLen$3=Pi,forEach$1=function(){var t=yi();return function(s,i,e,n,r,h){var o,a;for(i||(i=4),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],t[3]=s[o+3],r(t,t,h),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2],s[o+3]=t[3];return s}}(),vec4=Object.freeze({__proto__:null,create:yi,clone:Mi,S:wi,M:Si,set:Ti,add:bi,L:vi,multiply:xi,wt:Ci,ceil:Ii,floor:Gi,min:Ei,max:Ni,round:Di,scale:_i,St:Ai,Tt:Li,bt:Oi,length:Ri,vt:Pi,xt:ki,inverse:Fi,normalize:ji,Ct:zi,It:Bi,Gt:$i,random:Ui,_t:Wi,Lt:Yi,Ot:Qi,D:Vi,O:Ji,equals:Hi,sub:sub$1,mul:mul$3,div:div$1,Rt:dist$1,Pt:sqrDist$1,kt:len$3,Ft:sqrLen$3,forEach:forEach$1}),clone$2=Mi,fromValues$2=wi,copy$2=Si,set$2=Ti,add$2=bi,mul$2=se,scale$2=_i,dot$2=zi,lerp$2=$i,length$2=Ri,len$2=length$2,squaredLength$2=Pi,sqrLen$2=squaredLength$2,normalize$2=ji,exactEquals$2=Ji,rotationTo=function(){var t=Ds(),s=Ls(1,0,0),i=Ls(0,1,0);return function(e,n,r){var h=Ks(n,r);return h<-.999999?(ti(t,s,n),len$4(t)<1e-6&&ti(t,i,n),Xs(t,t),Xi(e,t,Math.PI),e):h>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(ti(t,n,r),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+h,normalize$2(e,e))}}(),sqlerp=function(){var t=qi(),s=qi();return function(i,e,n,r,h,o){return le(t,e,h,o),le(s,n,r,o),le(i,t,s,2*o*(1-o)),i}}(),setAxes=function(){var t=ht();return function(s,i,e,n){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],normalize$2(s,de(s,t))}}(),quat=Object.freeze({__proto__:null,create:qi,identity:Zi,jt:Xi,zt:Ki,Bt:te,multiply:se,Y:ie,V:ee,J:ne,$t:re,exp:he,Ut:oe,pow:ae,Et:le,random:ue,v:ce,Wt:fe,Yt:de,Qt:pe,D:me,clone:clone$2,S:fromValues$2,M:copy$2,set:set$2,add:add$2,mul:mul$2,scale:scale$2,Ct:dot$2,Gt:lerp$2,length:length$2,kt:len$2,vt:squaredLength$2,Ft:sqrLen$2,normalize:normalize$2,O:exactEquals$2,equals:ge,Vt:rotationTo,Jt:sqlerp,Ht:setAxes}),getReal=copy$2,setReal=copy$2,mul$1=je,dot$1=dot$2,length$1=length$2,len$1=length$1,squaredLength$1=squaredLength$2,sqrLen$1=squaredLength$1,quat2=Object.freeze({__proto__:null,create:ye,clone:Me,S:we,qt:Se,K:Te,F:be,G:ve,j:xe,M:Ce,identity:Ie,set:Ge,Zt:getReal,Xt:Ee,Kt:setReal,ts:Ne,st:De,translate:_e,Y:Ae,V:Le,J:Oe,ss:Re,es:Pe,ns:ke,add:Fe,multiply:je,mul:mul$1,scale:ze,Ct:dot$1,Gt:Be,v:$e,Wt:Ue,length:length$1,kt:len$1,vt:squaredLength$1,Ft:sqrLen$1,normalize:We,D:Ye,O:Qe,equals:Ve}),len=pn,sub=tn,mul=sn,div=en,dist=fn,sqrDist=dn,sqrLen=mn,forEach=function(){var t=Je();return function(s,i,e,n,r,h){var o,a;for(i||(i=2),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],r(t,t,h),s[o]=t[0],s[o+1]=t[1];return s}}(),vec2=Object.freeze({__proto__:null,create:Je,clone:He,S:qe,M:Ze,set:Xe,add:Ke,L:tn,multiply:sn,wt:en,ceil:nn,floor:rn,min:hn,max:on,round:an,scale:un,St:cn,Tt:fn,bt:dn,length:pn,vt:mn,xt:gn,inverse:yn,normalize:Mn,Ct:wn,It:Sn,Gt:Tn,random:bn,rs:vn,hs:xn,At:Cn,_t:In,rotate:Gn,angle:En,Ot:Nn,D:Dn,O:_n,equals:An,kt:len,sub:sub,mul:mul,div:div,Rt:dist,Pt:sqrDist,Ft:sqrLen,forEach:forEach}),globalThis.ls=common,globalThis.ls.us=mat2,globalThis.ls.cs=mat2d,globalThis.ls.fs=mat3,globalThis.ls.ds=mat4,globalThis.ls.ps=quat,globalThis.ls.gs=quat2,globalThis.ls.ys=vec2,globalThis.ls.Ms=vec3,globalThis.ls.ws=vec4}var t,EPSILON,ARRAY_TYPE,RANDOM,ANGLE_ORDER,degree,common,mul$8,sub$6,mat2,mul$7,sub$5,mat2d,mul$6,sub$4,mat3,perspective,ortho,mul$5,sub$3,mat4,sub$2,mul$4,div$2,dist$2,sqrDist$2,len$4,sqrLen$4,forEach$2,vec3,sub$1,mul$3,div$1,dist$1,sqrDist$1,len$3,sqrLen$3,forEach$1,vec4,clone$2,fromValues$2,copy$2,set$2,add$2,mul$2,scale$2,dot$2,lerp$2,length$2,len$2,squaredLength$2,sqrLen$2,normalize$2,exactEquals$2,rotationTo,sqlerp,setAxes,quat,getReal,setReal,mul$1,dot$1,length$1,len$1,squaredLength$1,sqrLen$1,quat2,len,sub,mul,div,dist,sqrDist,sqrLen,forEach,vec2,setMatrixArrayType,toRadian,equals$9,create$8,clone$8,copy$8,identity$5,fromValues$8,set$8,transpose$2,invert$5,adjoint$2,determinant$3,multiply$8,rotate$4,scale$8,fromRotation$4,fromScaling$3,str$8,frob$3,LDU,add$8,subtract$6,exactEquals$8,equals$8,multiplyScalar$3,multiplyScalarAndAdd$3,create$7,clone$7,copy$7,identity$4,fromValues$7,set$7,invert$4,determinant$2,multiply$7,rotate$3,scale$7,translate$3,fromRotation$3,fromScaling$2,fromTranslation$3,str$7,frob$2,add$7,subtract$5,multiplyScalar$2,multiplyScalarAndAdd$2,exactEquals$7,equals$7,create$6,fromMat4$1,clone$6,copy$6,fromValues$6,set$6,identity$3,transpose$1,invert$3,adjoint$1,determinant$1,multiply$6,translate$2,rotate$2,scale$6,fromTranslation$2,fromRotation$2,fromScaling$1,fromMat2d,fromQuat$1,normalFromMat4,projection,str$6,frob$1,add$6,subtract$4,multiplyScalar$1,multiplyScalarAndAdd$1,exactEquals$6,equals$6,create$5,clone$5,copy$5,fromValues$5,set$5,identity$2,transpose,invert$2,adjoint,determinant,multiply$5,translate$1,scale$5,rotate$1,rotateX$3,rotateY$3,rotateZ$3,fromTranslation$1,fromScaling,fromRotation$1,fromXRotation,fromYRotation,fromZRotation,fromRotationTranslation$1,fromQuat2,getTranslation$1,getScaling,getRotation,decompose,fromRotationTranslationScale,fromRotationTranslationScaleOrigin,fromQuat,frustum,perspectiveNO,perspectiveZO,perspectiveFromFieldOfView,orthoNO,orthoZO,lookAt,targetTo,str$5,frob,add$5,subtract$3,multiplyScalar,multiplyScalarAndAdd,exactEquals$5,equals$5,create$4,clone$4,length$4,fromValues$4,copy$4,set$4,add$4,subtract$2,multiply$4,divide$2,ceil$2,floor$2,min$2,max$2,round$2,scale$4,scaleAndAdd$2,distance$2,squaredDistance$2,squaredLength$4,negate$2,inverse$2,normalize$4,dot$4,cross$2,lerp$4,slerp$1,hermite,bezier,random$3,transformMat4$2,transformMat3$1,transformQuat$1,rotateX$2,rotateY$2,rotateZ$2,angle$1,zero$2,str$4,exactEquals$4,equals$4,create$3,clone$3,fromValues$3,copy$3,set$3,add$3,subtract$1,multiply$3,divide$1,ceil$1,floor$1,min$1,max$1,round$1,scale$3,scaleAndAdd$1,distance$1,squaredDistance$1,length$3,squaredLength$3,negate$1,inverse$1,normalize$3,dot$3,cross$1,lerp$3,random$2,transformMat4$1,transformQuat,zero$1,str$3,exactEquals$3,equals$3,create$2,identity$1,setAxisAngle,getAxisAngle,getAngle,multiply$2,rotateX$1,rotateY$1,rotateZ$1,calculateW,exp,ln,pow,slerp,random$1,invert$1,conjugate$1,fromMat3,fromEuler,str$2,equals$2,create$1,clone$1,fromValues$1,fromRotationTranslationValues,fromRotationTranslation,fromTranslation,fromRotation,fromMat4,copy$1,identity,set$1,getDual,setDual,getTranslation,translate,rotateX,rotateY,rotateZ,rotateByQuatAppend,rotateByQuatPrepend,rotateAroundAxis,add$1,multiply$1,scale$1,lerp$1,invert,conjugate,normalize$1,str$1,exactEquals$1,equals$1,create,clone,fromValues,copy,set,add,subtract,multiply,divide,ceil,floor,min,max,round,scale,scaleAndAdd,distance,squaredDistance,length,squaredLength,negate,inverse,normalize,dot,cross,lerp,random,transformMat2,transformMat2d,transformMat3,transformMat4,rotate,angle,zero,str,exactEquals,equals,tmpPoint1,tmpPoint2,tmpLine1,tmpLine2,lineInt,lineSegmentsIntersect,triangleArea,isLeft,isLeftOn,isRight,isRightOn,collinear,sqdist,polygonAt,polygonClear,polygonAppend,polygonMakeCCW,polygonReverse,polygonIsReflex,polygonCanSee,polygonCanSee2,polygonCopy,polygonGetCutEdges,polygonDecomp,polygonSlice,polygonIsSimple,getIntersectionPoint,polygonQuickDecomp,polygonRemoveCollinearPoints,polygonRemoveDuplicatePoints,scalar_eq,points_eq,ReadBrandList,RunTest,GetWindowsNTVersionName,s,a,c,i,l,f,d,r,a,o,arrayFlat,assertFail,isValidTypeChange,logDefendedObjectWarning,CheckDefendedObjectsUsedCorrectly,getObjectPropertySet,VerifyObjectPropertiesConsistent,isNegativeZero,padTwoDigits,hueToRGB,RequireStringOrNumber,SetNewCallback,DoAsyncifiedWork,DoNextAsyncifiedJob,ClearTimeCache,CheckActiveIdleTimeouts,lookupHtmlEntity,bbToHtmlReplacerFunc,IsWordBreakWhiteSpace,IsOpeningCJKPunctiationChar,IsContinuingCJKPunctuationChar,WordBreakTrimEnd,IsNewline,PlaneFromPoints,IsInFrontOfPlane,IsPointInFrontOfPlane,interpolateQuad,GetFormatSpecifiers,fillOrStrokeRect,ptToPx,getOffsetParam,CheckPendingPolls,SortZOrderList,GetDispatcher,MakeIWorldInstanceClass,GetDispatcher,GetTimelineState,GetTimelineState,GetTweenState,getActual,GetTypeFromFileExtension,AddScript,SortByInstLastCachedZIndex,SortByInstLastCachedZIndex,SortByInstZElevation,vec3EqualsXYZ,MaybePrepareLayerDraw,SortSolArray,IsSolArrayIdentical,NoActions,WrapIndex,GetExpressionFunc,EvalParams,EvalParams,GetInst,GetWorldInfo,GetInst_SDKv2,GetWorldInfo_SDKv2,GetObjectClass,GetLayer,CollMemory_Add,CollMemory_Remove,CollMemory_RemoveInstance,CollMemory_Get,DoOverlapCondition,FinishCollisionConditionPicking,FinishCollisionCondition,PickByUID_Normal,PickByUID_Inverted,GetNextParamMap,ValidateInternalAPIToken,ForEachOrdered_SortInstances,SortZOrderList,SortInstancesByValue,DbToLinear,unaryminus,bothNumbers,add,subtract,multiply,divide,mod,pow,and,or;{let Ln=function(t,s,i){i=i||0;var e,n,r,h,o,a,l,u=[0,0];return e=t[1][1]-t[0][1],n=t[0][0]-t[1][0],r=e*t[0][0]+n*t[0][1],h=s[1][1]-s[0][1],o=s[0][0]-s[1][0],a=h*s[0][0]+o*s[0][1],rr(l=e*o-h*n,0,i)||(u[0]=(o*r-n*a)/l,u[1]=(e*a-h*r)/l),u},On=function(t,s,i,e){var n=s[0]-t[0],r=s[1]-t[1],h=e[0]-i[0],o=e[1]-i[1];if(h*r-o*n==0)return!1;var a=(n*(i[1]-t[1])+r*(t[0]-i[0]))/(h*r-o*n),l=(h*(t[1]-i[1])+o*(i[0]-t[0]))/(o*n-h*r);return a>=0&&a<=1&&l>=0&&l<=1},Rn=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},Pn=function(t,s,i){return Rn(t,s,i)>0},kn=function(t,s,i){return Rn(t,s,i)>=0},Fn=function(t,s,i){return Rn(t,s,i)<0},jn=function(t,s,i){return Rn(t,s,i)<=0},zn=function(t,s,i,e){if(e){var n=tmpPoint1,r=tmpPoint2;n[0]=s[0]-t[0],n[1]=s[1]-t[1],r[0]=i[0]-s[0],r[1]=i[1]-s[1];var h=n[0]*r[0]+n[1]*r[1],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(h/(o*a))<e}return 0===Rn(t,s,i)},Bn=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},$n=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},Un=function(t){t.length=0},Wn=function(t,s,i,e){for(var n=i;n<e;n++)t.push(s[n])},Yn=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!Pn($n(t,s-1),$n(t,s),$n(t,s+1))&&(Qn(t),!0)},Qn=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},Vn=function(t,s){return Fn($n(t,s-1),$n(t,s),$n(t,s+1))},Jn=function(t,s,i){var e,n,r=tmpLine1,h=tmpLine2;if(kn($n(t,s+1),$n(t,s),$n(t,i))&&jn($n(t,s-1),$n(t,s),$n(t,i)))return!1;n=Bn($n(t,s),$n(t,i));for(var o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&kn($n(t,s),$n(t,i),$n(t,o+1))&&jn($n(t,s),$n(t,i),$n(t,o))&&(r[0]=$n(t,s),r[1]=$n(t,i),h[0]=$n(t,o),h[1]=$n(t,o+1),e=Ln(r,h),Bn($n(t,s),e)<n))return!1;return!0},Hn=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&On($n(t,s),$n(t,i),$n(t,e),$n(t,e+1)))return!1;return!0},qn=function(t,s,i,e){var n=e||[];if(Un(n),s<i)for(var r=s;r<=i;r++)n.push(t[r]);else{for(r=0;r<=i;r++)n.push(t[r]);for(r=s;r<t.length;r++)n.push(t[r])}return n},Zn=function(t){for(var s=[],i=[],e=[],n=[],r=Number.MAX_VALUE,h=0;h<t.length;++h)if(Vn(t,h))for(var o=0;o<t.length;++o)if(Jn(t,h,o)){i=Zn(qn(t,h,o,n)),e=Zn(qn(t,o,h,n));for(var a=0;a<e.length;a++)i.push(e[a]);i.length<r&&(s=i,r=i.length,s.push([$n(t,h),$n(t,o)]))}return s},Xn=function(t){var s=Zn(t);return s.length>0?Kn(t,s):[t]},Kn=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var n=s[e],r=0;r<i.length;r++){var h=Kn(i[r],n);if(h){i.splice(r,1),i.push(h[0],h[1]);break}}return i}return n=s,e=t.indexOf(n[0]),r=t.indexOf(n[1]),-1!==e&&-1!==r&&[qn(t,e,r),qn(t,r,e)]},tr=function(t){var s,i=t;for(s=0;s<i.length-1;s++)for(var e=0;e<s-1;e++)if(On(i[s],i[s+1],i[e],i[e+1]))return!1;for(s=1;s<i.length-2;s++)if(On(i[0],i[i.length-1],i[s],i[s+1]))return!1;return!0},sr=function(t,s,i,e,n){n=n||0;var r=s[1]-t[1],h=t[0]-s[0],o=r*t[0]+h*t[1],a=e[1]-i[1],l=i[0]-e[0],u=a*i[0]+l*i[1],c=r*l-a*h;return rr(c,0,n)?[0,0]:[(l*o-h*u)/c,(r*u-a*o)/c]},ir=function(t,s,i,e,n,r,h){r=r||100,h=h||0,n=n||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],l=[0,0],u=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],M=[],w=t,S=t;if(S.length<3)return s;if(++h>r)return console.warn("quickDecomp: max level ("+r+") reached."),s;for(var T=0;T<t.length;++T)if(Vn(w,T)){i.push(w[T]),u=c=Number.MAX_VALUE;for(var b=0;b<t.length;++b)Pn($n(w,T-1),$n(w,T),$n(w,b))&&jn($n(w,T-1),$n(w,T),$n(w,b-1))&&(l=sr($n(w,T-1),$n(w,T),$n(w,b),$n(w,b-1)),Fn($n(w,T+1),$n(w,T),l)&&(f=Bn(w[T],l))<c&&(c=f,a=l,m=b)),Pn($n(w,T+1),$n(w,T),$n(w,b+1))&&jn($n(w,T+1),$n(w,T),$n(w,b))&&(l=sr($n(w,T+1),$n(w,T),$n(w,b),$n(w,b+1)),Pn($n(w,T-1),$n(w,T),l)&&(f=Bn(w[T],l))<u&&(u=f,o=l,p=b));if(m===(p+1)%t.length)l[0]=(a[0]+o[0])/2,l[1]=(a[1]+o[1])/2,e.push(l),T<p?(Wn(y,w,T,p+1),y.push(l),M.push(l),0!==m&&Wn(M,w,m,w.length),Wn(M,w,0,T+1)):(0!==T&&Wn(y,w,T,w.length),Wn(y,w,0,p+1),y.push(l),M.push(l),Wn(M,w,m,T+1));else{if(m>p&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(b=m;b<=p;++b)kn($n(w,T-1),$n(w,T),$n(w,b))&&jn($n(w,T+1),$n(w,T),$n(w,b))&&(f=Bn($n(w,T),$n(w,b)))<d&&Hn(w,T,b)&&(d=f,g=b%t.length);T<g?(Wn(y,w,T,g+1),0!==g&&Wn(M,w,g,S.length),Wn(M,w,0,T+1)):(0!==T&&Wn(y,w,T,S.length),Wn(y,w,0,g+1),Wn(M,w,g,T+1))}return y.length<M.length?(ir(y,s,i,e,n,r,h),ir(M,s,i,e,n,r,h)):(ir(M,s,i,e,n,r,h),ir(y,s,i,e,n,r,h)),s}return s.push(t),s},er=function(t,s){for(var i=0,e=t.length-1;t.length>3&&e>=0;--e)zn($n(t,e-1),$n(t,e),$n(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},nr=function(t,s){for(var i=t.length-1;i>=1;--i)for(var e=t[i],n=i-1;n>=0;--n)hr(e,t[n],s)&&t.splice(i,1)},rr=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},hr=function(t,s,i){return rr(t[0],s[0],i)&&rr(t[1],s[1],i)};lineInt=Ln,lineSegmentsIntersect=On,triangleArea=Rn,isLeft=Pn,isLeftOn=kn,isRight=Fn,isRightOn=jn,collinear=zn,sqdist=Bn,polygonAt=$n,polygonClear=Un,polygonAppend=Wn,polygonMakeCCW=Yn,polygonReverse=Qn,polygonIsReflex=Vn,polygonCanSee=Jn,polygonCanSee2=Hn,polygonCopy=qn,polygonGetCutEdges=Zn,polygonDecomp=Xn,polygonSlice=Kn,polygonIsSimple=tr,getIntersectionPoint=sr,polygonQuickDecomp=ir,polygonRemoveCollinearPoints=er,polygonRemoveDuplicatePoints=nr,scalar_eq=rr,points_eq=hr,tmpPoint1=[],tmpPoint2=[],tmpLine1=[],tmpLine2=[],self.Ss={Ts:Xn,bs:ir,vs:tr,xs:er,Cs:nr,Is:Yn}}{let ar=!1,lr=!1,ur="dev";const cr=Symbol("Construct internal API token");let fr=14;const dr=self.Gs=class{constructor(){throw TypeError("static class can't be instantiated")}static Es(){if(fr<=0)throw new Error("cannot obtain internal API token");return--fr,cr}static Ns(){ar=!0}static Ds(){return ar}static _s(){lr=!0}static As(){return lr}static Ls(t){ur=t}static Os(){return ur}static Rs(){return"final"===ur}};dr.Ps=!1,dr.ks=!1,dr.hardwareConcurrency=navigator.hardwareConcurrency||2,self.Fs={}}{const pr=self.Gs;pr.js=class{constructor(t){this.zs=t,this.Bs=new Map,this.$s()}$s(){let t=this.zs;(t.startsWith("?")||t.startsWith("#"))&&(t=t.substr(1));const s=t.split("&");for(const t of s)this.Us(t)}Us(t){if(!t)return;if(!t.includes("="))return void this.Bs.set(t,null);const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.Bs.set(i,e)}Ws(){for(const t of this.Bs)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}Ys(t){return this.Bs.has(t)}Qs(t){const s=this.Bs.get(t);return void 0===s?null:s}Vs(){history.replaceState("",document.title,location.pathname+location.search)}Js(t){this.zs=t,this.Bs.clear(),this.$s()}},pr.Hs=new pr.js(location.search),pr.qs=new pr.js(location.hash),pr.Hs.Ys("perf")&&(pr.Zs=!0),"dev"!==pr.Hs.Qs("mode")&&pr.Ls("final")}{let mr=function(t){const s=parseFloat(t);return Mr.get(s)||(s>=13?"11":"NT "+t)};GetWindowsNTVersionName=mr;const gr=self.Gs,yr="(unknown)";gr.Xs={Ks:yr,ti:yr,si:yr,ii:yr,ei:NaN,ni:yr,ri:"browser",hi:!0,oi:!1,ai:!1,li:!1,ci:async()=>{}};const Mr=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]),wr=navigator.userAgent,Sr=navigator.userAgentData;if(Sr&&Sr.brands.length>0){let br=function(t){let s="",i="",e="",n="";for(const r of t){const t=vr.get(r.brand);!s&&t&&(s=t,i=r.version);const h=xr.get(r.brand);!e&&h&&(e=h,n=r.version)}s||"Chromium"!==e||(gr.Xs.si="Chromium",gr.Xs.ii=n),gr.Xs.si=s||yr,gr.Xs.ii=i||yr,gr.Xs.ni=e||yr};ReadBrandList=br,gr.Xs.Ks=Sr.platform,gr.Xs.oi=Sr.mobile,gr.Xs.hi=!gr.Xs.oi;const vr=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),xr=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);br(Sr.brands);let Cr=!1;gr.Xs.ci=async()=>{if(!Cr)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);br(t.fullVersionList),"Windows"===gr.Xs.Ks?gr.Xs.ti=mr(t.platformVersion):gr.Xs.ti=t.platformVersion,Cr=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let Ir=function(t,s){const i=Array.isArray(t)?t:[t];for(const t of i){const i=t.exec(wr);if(i){s(i);break}}};RunTest=Ir,Ir(/windows\s+nt\s+([\d\.]+)/i,(t=>{gr.Xs.Ks="Windows";const s=t[1];gr.Xs.ti=mr(s)})),Ir(/mac\s+os\s+x\s+([\d\._]+)/i,(t=>{gr.Xs.Ks="macOS",gr.Xs.ti=t[1].replace(/_/g,".")})),Ir(/CrOS/,(()=>{gr.Xs.Ks="Chrome OS"})),Ir(/linux|openbsd|freebsd|netbsd/i,(()=>{gr.Xs.Ks="Linux"})),Ir(/android/i,(()=>{gr.Xs.Ks="Android"})),Ir(/android\s+([\d\.]+)/i,(t=>{gr.Xs.Ks="Android",gr.Xs.ti=t[1]})),gr.Xs.Ks===yr&&(Ir(/(iphone|ipod|ipad)/i,(t=>{gr.Xs.Ks="iOS"})),Ir([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],(t=>{gr.Xs.Ks="iOS",gr.Xs.ti=t[1].replace(/_/g,".")})));const Gr=/chrome\//i.test(wr),Er=/chromium\//i.test(wr),Nr=/edg\//i.test(wr),Dr=/OPR\//.test(wr),_r=/nwjs/i.test(wr),Ar=/safari\//i.test(wr),Lr=/webkit/i.test(wr);Nr||Dr||Ir(/chrome\/([\d\.]+)/i,(t=>{gr.Xs.si="Chrome",gr.Xs.ii=t[1],gr.Xs.ni="Chromium"})),Ir(/edg\/([\d\.]+)/i,(t=>{gr.Xs.si="Edge",gr.Xs.ii=t[1],gr.Xs.ni="Chromium"})),Ir(/OPR\/([\d\.]+)/,(t=>{gr.Xs.si="Opera",gr.Xs.ii=t[1],gr.Xs.ni="Chromium"})),Ir(/chromium\/([\d\.]+)/i,(t=>{gr.Xs.si="Chromium",gr.Xs.ii=t[1],gr.Xs.ni="Chromium"})),Ir(/nwjs\/[0-9.]+/i,(t=>{gr.Xs.si="NW.js",gr.Xs.ii=t[1],gr.Xs.ni="Chromium",gr.Xs.ri="nwjs"})),Ir(/firefox\/([\d\.]+)/i,(t=>{gr.Xs.si="Firefox",gr.Xs.ii=t[1],gr.Xs.ni="Gecko"})),!Ar||Gr||Er||Nr||Dr||_r||(gr.Xs.si="Safari",gr.Xs.ni="WebKit",Ir(/version\/([\d\.]+)/i,(t=>{gr.Xs.ii=t[1]})),Ir(/crios\/([\d\.]+)/i,(t=>{gr.Xs.si="Chrome for iOS",gr.Xs.ii=t[1]})),Ir(/fxios\/([\d\.]+)/i,(t=>{gr.Xs.si="Firefox for iOS",gr.Xs.ii=t[1]})),Ir(/edgios\/([\d\.]+)/i,(t=>{gr.Xs.si="Edge for iOS",gr.Xs.ii=t[1]}))),gr.Xs.ni===yr&&Lr&&(gr.Xs.ni="WebKit"),"Android"===gr.Xs.Ks&&"Safari"===gr.Xs.si&&(gr.Xs.si="Stock");const Or=new Set(["Windows","macOS","Linux","Chrome OS"]).has(gr.Xs.Ks)||"nwjs"===gr.Xs.ri;gr.Xs.hi=Or,gr.Xs.oi=!Or}"Chrome"===gr.Xs.si&&"browser"===gr.Xs.ri&&/wv\)/.test(wr)&&(gr.Xs.ri="webview"),"nwjs"!==gr.Xs.ri&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(gr.Xs.ri="webapp"),gr.Xs.ei=parseFloat(gr.Xs.ii);const Tr="macOS"===gr.Xs.Ks&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2;Tr&&(gr.Xs.Ks="iOS",gr.Xs.ti=gr.Xs.ii,gr.Xs.hi=!1,gr.Xs.oi=!0,gr.Xs.li=!0),gr.Xs.ai="macOS"===gr.Xs.Ks||"iOS"===gr.Xs.Ks}{let Rr=function(t){return new Promise(((s,i)=>{t.onsuccess=()=>s(t.result),t.onerror=()=>i(t.error)}))},Pr=function(t){return new Promise(((s,i)=>{t.oncomplete=()=>s(),t.onerror=()=>i(t.error),t.onabort=()=>i(t.error)}))},kr=function(t,s){return Vr(t,s)},Fr=function(t,s){return Vr(t,s,!0)},jr=function(t){zr(t);let s=Wr.get(t);return s instanceof Promise||(s=Jr(t),Wr.set(t,s),s.catch((s=>Wr.delete(t)))),s},zr=function(t){if("string"!=typeof t)throw new TypeError("expected string")},Br=function(t,s){const i=t.objectStore(Ur).openCursor();return new Promise((t=>{const e=[];i.onsuccess=i=>{const n=i.target.result;if(n){switch(s){case"entries":e.push([n.key,n.value]);break;case"keys":e.push(n.key);break;case"values":e.push(n.value)}n.continue()}else t(e)}}))};s=Rr,a=Pr,c=kr,i=Fr,l=jr,f=zr,d=Br;const $r=2,Ur="keyvaluepairs",Wr=new Map,Yr="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,Qr="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function Vr(t,s,i=!1,e=!0){const n=await jr(t);try{return s(n.transaction([Ur],i?"readwrite":"readonly"))}catch(n){if(e&&"InvalidStateError"===n.name)return Wr.delete(t),Vr(t,s,i,!1);throw n}}async function Jr(t){zr(t);const s=indexedDB.open(t,$r);return s.addEventListener("upgradeneeded",(s=>{try{s.target.result.createObjectStore(Ur)}catch(s){console.error(`Failed to create objectstore for database ${t}`,s)}})),Rr(s)}class Hr{constructor(t){zr(t),this.name=t}async ready(){await jr(this.name)}set(t,s){return zr(t),Fr(this.name,(async i=>{const e=Rr(i.objectStore(Ur).put(s,t)),n=Pr(i);await Promise.all([n,e])}))}get(t){return zr(t),kr(this.name,(async s=>{const i=Rr(s.objectStore(Ur).get(t)),e=Pr(s),[n,r]=await Promise.all([e,i]);return r}))}delete(t){return zr(t),Fr(this.name,(async s=>{const i=Rr(s.objectStore(Ur).delete(t)),e=Pr(s);await Promise.all([e,i])}))}clear(){return Fr(this.name,(async t=>{const s=Rr(t.objectStore(Ur).clear()),i=Pr(t);await Promise.all([i,s])}))}keys(){return kr(this.name,(async t=>{let s;s=Qr?Rr(t.objectStore(Ur).getAllKeys()):Br(t,"keys");const i=Pr(t),[e,n]=await Promise.all([i,s]);return n}))}values(){return kr(this.name,(async t=>{let s;s=Yr?Rr(t.objectStore(Ur).getAll()):Br(t,"values");const i=Pr(t),[e,n]=await Promise.all([i,s]);return n}))}entries(){return kr(this.name,(async t=>{const s=Br(t,"entries"),i=Pr(t),[e,n]=await Promise.all([i,s]);return n}))}}self.fi=Hr}{let qr=function(t){throw new Error(`"${t}" is not implemented`)},Zr=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},Xr=function(t){return"object"==typeof t?new Promise((s=>{const{port1:i,port2:e}=new MessageChannel;e.onmessage=t=>s(t.data),i.postMessage(t)})):Promise.resolve(t)};r=qr,a=Zr,o=Xr;const Kr=self.fi,th=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];class sh{constructor(t){this.di=t,this.pi=!this.di,this.pi||"undefined"!=typeof indexedDB||(this.pi=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.mi=new Map}gi(t){if(!this.pi)for(const s of th)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.pi=!0;break}}async yi(t){const s=this.mi.get(t),i=await Xr(s);return void 0===i?null:i}async Mi(t,s){s=await Xr(s),this.mi.set(t,s)}wi(t){this.mi.delete(t)}Si(){this.mi.clear()}Ti(){return Array.from(this.mi.keys())}bi(){return this.pi}xi(){return this.mi}Ci(t){this.mi=t}async getItem(t,s){if(Zr(s),this.pi)return await this.yi(t);let i;try{i=await this.di.get(t)}catch(s){return this.gi(s),this.pi?await this.yi(t):(console.error(`Error reading '${t}' from storage, returning null: `,s),null)}return void 0===i?null:i}async setItem(t,s,i){if(Zr(i),void 0===s&&(s=null),this.pi)await this.Mi(t,s);else try{await this.di.set(t,s)}catch(i){if(this.gi(i),!this.pi)throw i;await this.Mi(t,s)}}async removeItem(t,s){if(Zr(s),this.pi)this.wi(t);else try{await this.di.delete(t)}catch(s){this.gi(s),this.pi?this.wi(t):console.error(`Error removing '${t}' from storage: `,s)}}async clear(t){if(Zr(t),this.pi)this.Si();else try{await this.di.clear()}catch(t){this.gi(t),this.pi?this.Si():console.error("Error clearing storage: ",t)}}async keys(t){if(Zr(t),this.pi)return this.Ti();let s=[];try{s=await this.di.keys()}catch(t){if(this.gi(t),this.pi)return this.Ti();console.error("Error getting storage keys: ",t)}return s}ready(t){return Zr(t),this.pi?Promise.resolve(!0):this.di.ready()}Ii(t){if(t.Gi)return new sh(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new Kr(s);return new sh(i)}}length(t){qr("localforage.length()")}key(t,s){qr("localforage.key()")}iterate(t,s){qr("localforage.iterate()")}Ei(t){qr("localforage.setDriver()")}config(t){qr("localforage.config()")}Ni(t){qr("localforage.defineDriver()")}Di(){qr("localforage.driver()")}supports(t){qr("localforage.supports()")}dropInstance(){qr("localforage.dropInstance()")}}self.localforage=new sh(new Kr("localforage"))}{const ih=self.Gs;if(ih._i={},ih._i.Ai=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");return void 0!==t.animate&&void 0!==t.animate([{opacity:"0"},{opacity:"1"}],1e3).reverse}catch(t){return!1}})(),ih._i.Li="undefined"!=typeof HTMLDialogElement,ih._i.Oi=!!self.requestIdleCallback,ih._i.ImageBitmap=!!self.createImageBitmap,ih._i.ImageBitmapOptions=!1,ih._i.Ri=!1,ih._i.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then((()=>{ih._i.ImageBitmapOptions=!0})).catch((()=>{ih._i.ImageBitmapOptions=!1}))}catch(eh){ih._i.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then((t=>{ih._i.Ri=10===t.width&&10===t.height})).catch((()=>{ih._i.Ri=!1}))}catch(nh){ih._i.Ri=!1}}if(ih._i.Pi=!(!navigator.clipboard||!navigator.clipboard.readText),ih._i.ki=!(!navigator.permissions||!navigator.permissions.query),ih._i.Fi=!1,ih._i.ki){const rh={name:"clipboard-read"};navigator.permissions.query(rh).then((()=>{ih._i.Fi=!0})).catch((()=>{ih._i.Fi=!1}))}ih._i.ji=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),ih._i.zi="undefined"!=typeof Proxy,ih._i.Bi="undefined"!=typeof document&&void 0!==document.createElement("a").download,ih._i.$i="function"==typeof fetch,ih._i.Ui=!!(self.isSecureContext&&"Opera"!==ih.Xs.si&&navigator.storage&&navigator.storage.persist),ih._i.Wi=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),ih._i.Yi=(()=>{if("undefined"==typeof document)return!1;if("iOS"===ih.Xs.Ks)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),ih._i.ImageDecoder=void 0!==self.ImageDecoder,ih._i.Qi=!!self.VideoEncoder,ih._i.Vi=!!self.showOpenFilePicker,ih._i.Ji=!!self.queryLocalFonts,ih._i.UserActivation=!!navigator.userActivation,ih._i.Hi=!1,(async()=>{let t;"undefined"==typeof document?t=new OffscreenCanvas(32,32):(t=document.createElement("canvas"),t.width=32,t.height=32);const s=t.getContext("2d");s.fillStyle="blue",s.fillRect(0,0,32,32);let i=null;try{t.convertToBlob?i=await t.convertToBlob({type:"image/webp",quality:1}):t.toBlob&&(i=await new Promise((s=>t.toBlob(s,"image/webp",1)))),ih._i.Hi=i&&"image/webp"===i.type}catch(t){ih._i.Hi=!1}})()}{const hh=self.Gs;if(!String.prototype.trimStart){const oh=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(oh,"")}}if(!String.prototype.trimEnd){const ah=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(ah,"")}}if(String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(hh.Zi(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),!Array.prototype.flat){let lh=function(t,s){return t.reduce(((t,i)=>s>0&&Array.isArray(i)?(Array.prototype.push.apply(t,lh(i,s-1)),t):(t.push(i),t)),[])};arrayFlat=lh,Array.prototype.flat=function(t=1){return lh(this,t)}}Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise(((t,s)=>navigator.webkitTemporaryStorage.queryUsageAndQuota(((s,i)=>t({usage:s,quota:i})),s)))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let uh=function(t){let s="Assertion failure: "+t+"\n\nStack trace:\n"+ch.Xi();console.error(s)};assertFail=uh;const ch=self.Gs;self.assert=function(t,s){t||uh(s)}}{const fh=self.Gs,dh=self.Fs;fh.Ki=function(t){return"number"==typeof t},fh.te=function(t){return fh.Ki(t)&&isFinite(t)},fh.se=function(t){if(!fh.Ki(t))throw new TypeError("expected number")},fh.ie=function(t){fh.ee(t)},fh.ne=function(t,s,i){if(!fh.Ki(t)||isNaN(t)||s>t||i<t)throw new RangeError("number outside of range")},fh.re=function(...t){for(let s of t);},fh.he=function(t){if(!fh.te(t))throw new TypeError("expected finite number")},fh.oe=function(t){fh.ee(t)},fh.ae=function(...t){for(let s of t);},fh.le=function(t){return"string"==typeof t},fh.ue=function(t){if(!fh.le(t))throw new TypeError("expected string")},fh.ce=function(t){fh.ee(t)},fh.fe=function(...t){for(let s of t);},fh.de=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},fh.pe=function(t){if(!fh.de(t))throw new TypeError("expected simple object")},fh.me=function(t){if(!fh.ee(t)&&!fh.de(t))throw new TypeError("expected simple object")},fh.ge=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},fh.ye=function(t){if(!fh.ge(t))throw new TypeError("expected object")},fh.Me=function(t){fh.ee(t)},fh.we=function(...t){for(let s of t);},fh.Se=function(t){return fh.Te(t,Blob)&&"string"==typeof t.name},fh.be=function(t){if(!fh.Se(t))throw new TypeError("expected file")},fh.ve=function(t){fh.ee(t)},fh.xe=function(t){return Array.isArray(t)},fh.Ce=function(t){if(!fh.xe(t))throw new TypeError("expected array")},fh.Ie=function(t){fh.ee(t)},fh.Ge=function(...t){for(let s of t);},fh.Ee=function(t){return!(!fh.xe(t)||t.length&&!fh.xe(t[0]))},fh.Ne=function(t){if(!fh.Ee(t))throw new TypeError("expected 2d array");for(let s of t)if(!fh.xe(s))throw new TypeError("expected 2d array")},fh.De=function(t){fh.ee(t)},fh._e=function(t){return"function"==typeof t},fh.Ae=function(t,s){if(!fh._e(t))throw new TypeError("expected function");if(!fh.ee(s)&&t!==s)throw new TypeError("expected same function reference")},fh.Le=function(t){fh.ee(t)},fh.Oe=function(...t){for(let s of t);},fh.Re=function(t,...s){if(!fh._e(t))throw new TypeError("expected function");if(!s.length)throw new Error("missing comparison functions");for(let i of s)if(!fh.ee(i)&&t===i)return;throw new TypeError("expected same function reference")},fh.Pe=function(...t){if(!fh.ee(t))for(let s of t);},fh.ke=function(t,s){return t instanceof s},fh.Fe=function(t,...s){for(let i of s)if(fh.ke(t,i))return!0;return!1},fh.je=function(t,s){if(!fh.ke(t,s))throw new TypeError("unexpected type")},fh.ze=function(t,s){fh.ee(t)},fh.Be=function(t,...s){for(let t of s);},fh.$e=function(t,...s){if(!fh.Fe(t,...s))throw new TypeError("unexpected type")},fh.Ue=function(t,...s){if(!fh.ee(t)&&!fh.Fe(t,...s))throw new TypeError("unexpected type")},fh.We=function(t,s){for(let i of t)if(!fh.ke(i,s))return!1;return!0},fh.Ye=function(t){for(let s of t)if(!fh.te(s))return!1;return!0},fh.Qe=function(t,s){for(let s of t);},fh.Ve=function(t,s){if(!fh.ee(t))for(let s of t);},fh.Je=function(t,s){if(!fh.ee(t))for(let s of t);},fh.He=function(t,...s){for(let s of t);},fh.qe=function(t,...s){if(!fh.ee(t))for(let s of t);},fh.Ze=function(t,s){return!(fh.ee(t)||!fh.le(t.nodeName))&&(!s||fh.Xe(t.nodeName,s))},fh.Ke=function(t,s){if(fh.ee(t)||!fh.le(t.nodeName))throw new TypeError("expected DOM node");if(s&&!fh.Xe(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},fh.tn=function(t,s){fh.ee(t)},fh.sn=function(t,s){return!(fh.ee(t)||!fh.le(t.tagName))&&(!s||fh.Xe(t.tagName,s))},fh.en=function(t,s){if(fh.ee(t)||!fh.le(t.tagName))throw new TypeError("expected HTML element");if(s&&!fh.Xe(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},fh.nn=function(t,s){fh.ee(t)},fh.rn=function(t){return fh.sn(t,"img")||fh.sn(t,"canvas")||fh.sn(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},fh.hn=function(t){if(!fh.rn(t))throw new TypeError("expected drawable")},fh.an=function(t){fh.ee(t)},fh.ln=function(t){return t instanceof ImageData||fh.rn(t)},fh.un=function(t){if(!fh.ln(t))throw new TypeError("expected drawable or image data")},fh.cn=function(t){if(!fh.ee(t)&&!fh.ln(t))throw new TypeError("expected drawable or image data")},fh.fn=function(t){return"string"==typeof t||fh.dn&&t instanceof fh.dn||t instanceof fh.pn},fh.mn=function(t){if(!fh.fn(t))throw new TypeError("expected string-like")},fh.gn=function(t){fh.ee(t)},fh.yn=function(...t){for(let s of t);},fh.Mn=function(){throw new Error("must be overridden")},fh.wn=function(){throw new Error("not yet implemented")},fh.Sn=function(t){return t.constructor===function*(){}.constructor},fh.Tn=function(t){if(!fh.Sn(t))throw new Error("expected generator function")},fh.bn=function(t){return"function"===t[Symbol.iterator]},fh.vn=function(t){if(!fh.bn(t))throw new Error("expected iterable")},fh.xn=function(t){return!fh.ee(t)},fh.ee=function(t){return null==t},fh.Cn=function(t){let s=t[0].constructor;for(let i of t)if(i.constructor!==s)return!1;return s},fh.In=function(t,s){for(let i of t)if(!(i instanceof s))return!1;return!0};const ph=Object.getPrototypeOf(Uint8Array);fh.Gn=function(t){return fh.ke(t,ph)},fh.En=function(t){},fh.Nn=function(t){fh.Dn(t,ph)},fh._n=function(t,...s){if(!fh.An(t,...s))throw new TypeError("unexpected type")},fh.An=function(t,...s){for(const i of s)if(fh.Te(t,i))return!0;return!1},fh.Dn=function(t,s){if(!fh.Te(t,s))throw new TypeError("unexpected type")},fh.Te=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},dh.se=fh.se,dh.ie=fh.ie,dh.he=fh.he,dh.oe=fh.oe,dh.ue=fh.ue,dh.ce=fh.ce,dh.ye=fh.ye,dh.Me=fh.Me,dh.Ce=fh.Ce,dh.Ie=fh.Ie,dh.Ae=fh.Ae,dh.Le=fh.Le,dh.je=fh.je,dh.ze=fh.ze,dh.ee=fh.ee}{let mh=function(t,s){let i=Sh.getType(t),e=Sh.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},gh=function(t){console.warn("[Defence] "+t+" @",Sh.Xi())},yh=function(){if(Eh=-1,vh.size>0||xh.size>0){let t=[...new Set([...vh.keys()].map((t=>Sh.getName(t))))].join(",");console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${t}`),vh.clear(),xh.clear()}},Mh=function(t){let s=new Set;for(let i in t)s.add(i);return s},wh=function(t,s){let i=Mh(s),e=Nh.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);Sh.Ln(s,[...i]),s.length&&console.warn(`[Defence] '${Sh.getName(t)}' constructor creates inconsistent properties: ${s.join(", ")}`)}else Nh.set(t,i)};isValidTypeChange=mh,logDefendedObjectWarning=gh,CheckDefendedObjectsUsedCorrectly=yh,getObjectPropertySet=Mh,VerifyObjectPropertiesConsistent=wh;const Sh=self.Gs,Th=new Map;let bh;Sh.On=function(t,s){console.log(`%c${t}`,`font-weight: bold; color:${s}`)},Sh.Rn=function(t,...s){Th.has(t)||Th.set(t,-1),-1===Th.get(t)&&Th.set(t,requestAnimationFrame((()=>{console.log(`%c${t}`,"font-weight: bold",...s),Th.set(t,-1)})))},Sh.Pn=function(t){performance.mark(t),bh||(bh=new Map),bh.has(t)||bh.set(t,{kn:0,total:0,Fn:0,jn:1,toString:function(){return`${t} :: current => ${this.kn.toPrecision(3)} :: average => ${this.Fn.toPrecision(3)} :: calls => ${this.jn}`}})},Sh.zn=function(t){performance.measure(`measure-${t}`,t);const s=performance.getEntriesByName(`measure-${t}`)[0],i=bh.get(t);i.kn=s.duration,i.total+=i.kn,i.Fn=i.total/i.jn,console.log(i.toString()),i.jn++,performance.clearMarks(t),performance.clearMeasures(`measure-${t}`)},Sh.Xi=function(){return(new Error).stack},Sh.Bn=function(){},Sh.cast=function(t,s){return t&&t instanceof s?t:null},Sh.getName=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":Sh.Ki(t)?"<number>":Sh.le(t)?"<string>":Sh.xe(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":Sh._e(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},Sh.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},Sh.range=function*(t,s){if(!isFinite(Math.abs(t-s)))throw new Error("Invalid parameters");if(t>s)for(let i=t-1;i>=s;i--)yield i;else for(let i=t;i<s;i++)yield i};let vh=new Map,xh=new Map,Ch=new WeakMap,Ih=new WeakMap;Sh.$n={};const Gh=new Set(["then","splice"]);Sh.$n.get=function(t,s){return s in t||"symbol"==typeof s||Gh.has(s)||gh(`Accessed missing property '${s}' from defended object '${Sh.getName(t)}', returning undefined`),Ih.has(t)&&"symbol"!=typeof s&&!Gh.has(s)&&gh(`Accessed property '${s}' on a released object '${Sh.getName(t)}'\nObject was originally released at: ${Ih.get(t)})\nCall stack at access: `),t[s]},Sh.$n.set=function(t,s,i){return s in t||vh.has(t)||gh(`Set non-existent property '${s}' to '${i}' on defended object '${Sh.getName(t)}'`),mh(t[s],i)||vh.has(t)||gh(`Set '${Sh.getType(t[s])}' property '${s}' to type '${Sh.getType(i)}' on defended object '${Sh.getName(t)}'`),Ih.has(t)&&gh(`Set property '${s}' on a released object '${Sh.getName(t)}'\nObject was originally released at: ${Ih.get(t)})\nCall stack at access: `),t[s]=i,!0},Sh.$n.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${Sh.getName(t)}'`)},Sh.$n.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${Sh.getName(t)}'`)},Sh.$n.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${Sh.getName(t)}'`)};let Eh=-1;Sh.Un=class{constructor(){if(!Sh.ks||!Sh._i.zi)return;let t=new.target,s=Object.create(t.prototype),i=new Proxy(s,Sh.$n);return vh.set(s,i),xh.set(i,s),Ch.set(i,s),-1===Eh&&(Eh=requestAnimationFrame(yh)),i}},Sh.Wn=function(t){if(Sh.ks&&Sh._i.zi&&t instanceof Sh.Un){if(!xh.has(t))return t;let s=xh.get(t);return xh.delete(t),vh.delete(s),t}return Sh.Ps?Object.seal(t):t},Sh.Yn=function(t,...s){let i;try{i=new t(...s)}catch(t){throw xh.clear(),vh.clear(),t}return Sh.ks&&wh(t,i),Sh.Wn(i)},Sh.Qn=function(t){let s=Ch.get(t);s&&Ih.set(s,Sh.Xi())},Sh.Vn=function(t){let s=Ch.get(t);return!!s&&!!Ih.get(s)};let Nh=new Map;Sh.Jn=class{constructor(t){this.Hn="",t&&this.start(t)}start(t){Sh.Zs&&(this.Hn=t,performance.mark(this.Hn+"-Start"))}end(){Sh.Zs&&(performance.mark(this.Hn+"-End"),performance.measure(this.Hn,this.Hn+"-Start",this.Hn+"-End"))}next(t){Sh.Zs&&(this.end(),this.Hn=t,performance.mark(this.Hn+"-Start"))}}}{let Dh=function(t){return 0===t&&1/t<0};isNegativeZero=Dh;const _h=self.Gs,Ah=2*Math.PI,Lh=Math.PI/180,Oh=180/Math.PI;_h.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0===e)return i;if(t<s){const n=i-(s-t)%e;return n===i?0:n}return s+(t-s)%e},_h.qn=function(t,s,i,e,n){const r=i-s;return 0===r&&0===e?t:(t-s)*(n-e)/r+e},_h.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},_h.Zn=function(t,s,i){return t<s?s:t>i?i:t},_h.Xn=function(t){return(t%=Ah)<0&&(t+=Ah),t},_h.Kn=function(t){return t*Lh},_h.tr=function(t){return t*Oh},_h.sr=function(t,s){return Math.sqrt(t*t+s*s)},_h.ir=function(t,s,i){return Math.sqrt(t*t+s*s+i*i)},_h.er=function(t,s,i,e){return _h.sr(i-t,e-s)},_h.nr=function(t,s,i,e){const n=i-t,r=e-s;return n*n+r*r},_h.rr=function(t,s,i,e){return Math.atan2(e-s,i-t)},_h.hr=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),n=i*Math.sin(s)+e*Math.cos(s);return n>=1?0:n<=-1?Math.PI:Math.acos(n)},_h.ar=function(t,s,i){let e=Math.sin(t),n=Math.cos(t),r=Math.sin(s),h=Math.cos(s);return Math.acos(e*r+n*h)>i?n*r-e*h>0?_h.Xn(t+i):_h.Xn(t-i):_h.Xn(s)},_h.lr=function(t,s){let i=Math.sin(t);return Math.cos(t)*Math.sin(s)-i*Math.cos(s)<=0},_h.ur=function(t,s,i,e=0){let n=_h.hr(t,s);const r=Ah*e;return _h.lr(s,t)?_h.Xn(t+(n+r)*i):_h.Xn(t-(n+r)*i)},_h.cr=function(t,s,i,e=0){const n=_h.hr(t,s),r=Ah*e;return _h.lr(s,t)?_h.Xn(t+(n+r)*i):_h.Xn(t+(Ah-n+r)*i)},_h.dr=function(t,s,i,e=0){const n=_h.hr(t,s),r=Ah*e;return _h.lr(s,t)?_h.Xn(t-(-Ah+n-r)*i):_h.Xn(t-(n+r)*i)},_h.pr=function(t,s){const i=_h.hr(t,s);return _h.lr(t,s)?_h.Xn(s-i):_h.Xn(s+i)},_h.Gt=function(t,s,i){return t+i*(s-t)},_h.mr=function(t,s,i){return t===s?0:(i-t)/(s-t)},_h.gr=function(t,s,i,e,n){return _h.Gt(e,n,_h.mr(t,s,i))},_h.yr=function(t,s,i,e){return _h.Gt(_h.Gt(t,s,e),_h.Gt(s,i,e),e)},_h.Mr=function(t,s,i,e,n){return _h.Gt(_h.yr(t,s,i,n),_h.yr(s,i,e,n),n)},_h.wr=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},_h.Sr=function(t){return t>0&&!(t-1&t)},_h.Tr=function(t){--t;for(let s=1;s<32;s<<=1)t|=t>>s;return t+1},_h.br=function(t,s){return Math.round(t*s)/s},_h.vr=function(t,s){return Math.floor(t*s)/s},_h.Cr=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},_h.Ir=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},_h.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;e>=0&&"0"===i.charAt(e);--e);return e>=0&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},_h.Gr=function(t,s,i){return _h.Zn(t,0,255)|_h.Zn(s,0,255)<<8|_h.Zn(i,0,255)<<16};const Rh=1024,Ph=1023,kh=16384,Fh=8191,jh=-8192;_h.Er=function(t,s,i,e){return(t=_h.Zn(Math.floor(1024*t),-8192,8191))<0&&(t+=16384),(s=_h.Zn(Math.floor(1024*s),-8192,8191))<0&&(s+=16384),(i=_h.Zn(Math.floor(1024*i),-8192,8191))<0&&(i+=16384),-(16384*t*16384*1024+16384*s*1024+1024*i+(e=_h.Zn(Math.floor(1023*e),0,1023)))},_h.Nr=function(t,s,i){return _h.Er(t,s,i,1)},_h.Dr=function(t){if(t>=0)return(255&t)/255;{let s=Math.floor(-t/274877906944);return s>8191&&(s-=16384),s/1024}},_h._r=function(t){if(t>=0)return((65280&t)>>8)/255;{let s=Math.floor(-t%274877906944/16777216);return s>8191&&(s-=16384),s/1024}},_h.Ar=function(t){if(t>=0)return((16711680&t)>>16)/255;{let s=Math.floor(-t%16777216/1024);return s>8191&&(s-=16384),s/1024}},_h.Lr=function(t){return Dh(t)?0:t>=0?1:Math.floor(-t%1024)/1023},_h.Or=function(t,s){for(t=Math.floor(t),s=Math.floor(s);0!==s;){let i=s;s=t%s,t=i}return t};const zh=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];_h.Rr=function(t,s){if((t=Math.floor(t))===(s=Math.floor(s)))return[1,1];for(let i of zh){let e=t/i[0]*i[1];if(Math.abs(s-e)<1)return i.slice(0);if(e=t/i[1]*i[0],Math.abs(s-e)<1)return[i[1],i[0]]}let i=_h.Or(t,s);return[t/i,s/i]},_h.Pr=function(t,s,i,e,n,r,h,o){const a=Math.min(t,i),l=Math.max(t,i),u=Math.min(n,h),c=Math.max(n,h);if(l<u||a>c)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(r,o),m=Math.max(r,o);if(d<p||f>m)return!1;const g=n-t+h-i,y=r-s+o-e,M=i-t,w=e-s,S=h-n,T=o-r,b=Math.abs(w*S-T*M),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=M*y-w*g;return Math.abs(x)<=b},_h.kr=function(t,s,i,e,n,r,h,o,a,l,u,c){const f=Math.min(a,u),d=Math.max(a,u);if(r<f||n>d)return!1;const p=Math.min(l,c),m=Math.max(l,c);if(o<p||h>m)return!1;const g=a-t+u-i,y=l-s+c-e,M=i-t,w=e-s,S=u-a,T=c-l,b=Math.abs(w*S-T*M),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=M*y-w*g;return Math.abs(x)<=b},_h.Fr=function(t,s,i,e,n){const r=Math.min(t,i),h=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),l=n.jr(),u=n.zr(),c=n.Br(),f=n.$r(),d=n.Ur(),p=n.Wr(),m=n.Yr(),g=n.Qr();return _h.kr(t,s,i,e,r,h,o,a,l,u,c,f)||_h.kr(t,s,i,e,r,h,o,a,c,f,d,p)||_h.kr(t,s,i,e,r,h,o,a,d,p,m,g)||_h.kr(t,s,i,e,r,h,o,a,m,g,l,u)},_h.Vr=function(t,s,i,e,n){const r=Math.min(t,i),h=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e);let l=0;for(let u=n.length-4;l<=u;l+=2)if(_h.kr(t,s,i,e,r,h,o,a,n[l],n[l+1],n[l+2],n[l+3]))return!0;return _h.kr(t,s,i,e,r,h,o,a,n[l],n[l+1],n[0],n[1])};const Bh=2,$h=1e-6;_h.Jr=function(t,s,i,e,n,r,h,o){const a=i-t,l=o-r,u=a*l-(e-s)*(h-n);if(0===u)return 2;const c=((s-e)*(h-t)+a*(o-s))/u;return 0<c&&c<1.000001?(l*(h-t)+(n-h)*(o-s))/u:2},_h.Hr=function(t,s,i,e,n,r,h,o,a){const l=(h-n)*a,u=(o-r)*a;return _h.Jr(t,s,i,e,n-l,r-u,h+l,o+u)},_h.qr=function(t,s,i,e,n,r,h,o){const a=n-i,l=r-e,u=h-i,c=o-e,f=t-i,d=s-e,p=a*a+l*l,m=a*u+l*c,g=a*f+l*d,y=u*u+c*c,M=u*f+c*d,w=1/(p*y-m*m),S=(y*g-m*M)*w,T=(p*M-m*g)*w;return S>=0&&T>=0&&S+T<=1},_h.Zr=function(t,s,i,e,n,r,h,o){const a=n-i,l=r-e,u=h-i,c=o-e,f=t-i,d=s-e,p=a*a+l*l,m=a*u+l*c,g=u*u+c*c,y=f*a+d*l,M=f*u+d*c,w=p*g-m*m,S=(g*y-m*M)/w,T=(p*M-m*y)/w;return[1-S-T,S,T]},_h.Xr=function(t,s,i,e,n,r,h,o,a,l,u,c){return[t*e+s*h+i*l,t*n+s*o+i*u,t*r+s*a+i*c]}}{const Uh=self.Gs;let Wh=null,Yh="";if("undefined"!=typeof document){Wh=document;const Zh=document.querySelector("base");Yh=Zh&&Zh.hasAttribute("href")?Zh.getAttribute("href"):"",Yh&&(Yh.startsWith("/")&&(Yh=Yh.substr(1)),Yh.endsWith("/")||(Yh+="/"))}Uh.Kr=function(){return Yh},Uh.th=function(){if(!Wh)return"";const t=Wh.location;return Uh.sh(t.origin+t.pathname)+Yh},Uh.sh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},Uh.ih=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},Uh.eh=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},Uh.nh=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},Uh.rh=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},Uh.hh=function(t){return t.replace(/\\/g,"/")},Uh.oh=function(t,s){return s===(t?Uh.eh(t).slice(1):"")},Uh.ah=function(t,s){let i,e;return Uh.Se(t)&&(i=Uh.rh(t.name)),Uh.le(t)&&(i=Uh.rh(t)),Uh.Se(s)&&(e=Uh.rh(s.name)),Uh.le(s)&&(e=Uh.rh(s)),i===e},Uh.uh=function(t){t=Uh.hh(t);let s=/^\w\:\//.exec(t);s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=t.replace(/\/{2,}/g,"/")).length>1&&"/"===t.slice(-1)&&(t=t.slice(0,-1));const i=t.lastIndexOf("/")+1;let e,n="",r=t,h="";i>0&&(n=t.slice(0,i),r=t.slice(i)),e=r;const o=r.lastIndexOf(".");return o>0&&(h=r.slice(o),e=r.slice(0,-h.length)),{dir:n,fh:r,name:e,root:s,ext:h,dh:s+n+r}},Uh.ph=function(t,s){return new Promise(((i,e)=>{self.setTimeout(i,t,s)}))},Uh.mh=function(t){try{t()}catch(t){Uh.Ps&&console.warn("Swallowed exception: ",t)}},Uh.gh=function(){},Uh.Xe=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},Uh.yh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},Uh.Mh=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},Uh.wh=function(t,s){t.length=s},Uh.Sh=function(t){t&&0!==t.length&&Uh.wh(t,0)},Uh.Th=function(t){if(t){for(let s=0;s<t.length;s++){let i=t[s];Uh.wh(i,0)}Uh.wh(t,0)}},Uh.bh=function(t,s,i){s|=0;const e=t.length;if(!(s<=e))for(let n=e;n<s;++n)t.push(i)},Uh.xh=function(t,s,i){s|=0;const e=t.length;s<e?Uh.wh(t,s):s>e&&Uh.bh(t,s,i)},Uh.Ch=function(t,s){Uh.Sh(t),Uh.Ln(t,s)},Uh.Ln=function(t,s){if(s.length<1e4)t.push(...s);else for(let i=0,e=s.length;i<e;++i)t.push(s[i])},Uh.Ih=function(t,s){if((s=Math.floor(s))<0||s>=t.length)return;let i=t.length-1;for(let e=s;e<i;++e)t[e]=t[e+1];Uh.wh(t,i)},Uh.Gh=function(t,s){let i=t.indexOf(s);i>=0&&t.splice(i,1)},Uh.Eh=function(t,s){let i=t.length;if(s.length!==i)return!1;for(let e=0;e<i;++e)if(t[e]!==s[e])return!1;return!0},Uh.Nh=function(t,s){let i=[],e=0;for(let n=0,r=t.length;n<r;++n){let r=t[n];s(r)?i.push(r):(t[e]=r,++e)}return Uh.wh(t,e),i},Uh.Dh=function(t,s){const i=t.length;let e=0;for(let i=0,n=t.length;i<n;++i){let n=t[i];s.has(n)||(t[e++]=n)}return Uh.wh(t,e),i-e},Uh._h=function(t,s){return t===Math.floor(t)&&t>=0&&t<s.length},Uh.Ah=function(t,s){if(!Uh._h(t,s))throw new RangeError("array index out of bounds")},Uh.Lh=function(t){return t.slice()},Uh.Oh=function(t,s){let i=[];for(let e of t)if(Uh.ge(e)){let t=s(e);if(!t)throw new Error("missing clone");if(t.constructor!==e.constructor)throw new Error("object is not a clone");i.push(t)}else Uh.xe(e)?i.push(Uh.Oh(e,s)):i.push(e);return i},Uh.Rh=function(t){let s=[];for(let i of t)s.push(i.slice());return s},Uh.Ph=function(t,s=" "){return t?t.split(s).map((t=>t.trim())).filter((t=>!!t)):[]},Uh.kh=function(t,s,i){const e=new Set;for(const n of t.values())s(n)&&(i?e.add(i(n)):e.add(n));return e},Uh.Fh=function(t,s){return t.union?t.union(s):new Set([...t,...s])},Uh.jh=function(t,s){for(const i of s)t.add(i);return t},Uh.zh=function(t){for(let s of t)return s;return null},Uh.xor=function(t,s){return!t!=!s},Uh.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return t>i;case 5:return t>=i;default:return!1}},Uh.Bh=function(t){for(let s in t)if(t.hasOwnProperty(s))return!0;return!1},Uh.$h=function(t,s){return t.length?new Promise(((i,e)=>{const n=[];let r=0,h=!1;for(let o=0,a=t.length;o<a;++o)n.push(void 0),t[o].then((e=>{h||(n[o]=e,++r,r===t.length?i(n):s(r,t.length))})).catch((t=>{h=!0,e(t)}))})):Promise.resolve([])};let Qh=[];Uh.Uh=function(t){Qh.push(t)},Uh.Wh=function(){let t=0;for(let s of Qh)t+=s();return Math.floor(t)};let Vh=1;const Jh=new Map,Hh=new MessageChannel;Hh.port2.onmessage=function(t){const s=t.data,i=Jh.get(s);Jh.delete(s),i&&i(performance.now())},Uh.Yh=function(t){const s=Vh++;return Jh.set(s,t),Hh.port1.postMessage(s),s},Uh.Qh=function(t){Jh.delete(t)},Uh.Vh=Uh.Yh,Uh.Jh=function(){return new Promise((t=>Uh.Vh(t)))};const qh=new Set;Uh.Hh=function(t){const s=self.requestAnimationFrame((async i=>{await Uh.Jh(),qh.has(s)&&(qh.delete(s),t(i))}));return qh.add(s),s},Uh.qh=function(t){qh.has(t)&&(self.cancelAnimationFrame(t),qh.delete(t))}}{const Xh=self.Gs;Xh.Zh=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},Xh.Xh=function(t){return!Xh.Zh(t)},Xh.Kh=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} ${t.statusText}`)},Xh.so=function(t,s){return fetch(t,s).then((t=>(Xh.Kh(t),t)))},Xh.io=function(t){return Xh.so(t).then((t=>t.text()))},Xh.eo=function(t){return Xh.so(t).then((t=>t.json()))},Xh.no=function(t){return Xh.so(t).then((t=>t.blob()))},Xh.ro=function(t){return Xh.so(t).then((t=>t.arrayBuffer()))},Xh.ho=function(t){return new Promise(((s,i)=>{const e=new Image;e.onload=()=>s(e),e.onerror=t=>i(t),e.src=t}))},Xh.oo=function(t){return"function"==typeof t.arrayBuffer?t.arrayBuffer():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsArrayBuffer(t)}))},Xh.ao=function(t){return"function"==typeof t.text?t.text():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsText(t)}))},Xh.lo=function(t){return Xh.ao(t).then((t=>JSON.parse(t)))},Xh.uo=async function(t,s){let i=URL.createObjectURL(t);try{const t=await Xh.ho(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof t.decode&&await t.decode(),t}finally{i&&URL.revokeObjectURL(i)}},Xh.co=function(t,s){if("undefined"!=typeof document&&"function"==typeof document.createElement){const i=document.createElement("canvas");return i.width=t,i.height=s,i}return new OffscreenCanvas(t,s)},Xh.fo=function(t,s,i){if("number"!=typeof i&&(i=1),s=s||"image/png",i=Xh.Zn(i,0,1),t.convertToBlob)return t.convertToBlob({type:s,quality:i});if(t.toBlob)return new Promise((e=>t.toBlob(e,s,i)));throw new Error("could not convert canvas to blob")},Xh.do=function(t,s,i){const e=Xh.co(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),Xh.fo(e,s,i)},Xh.po=function(t,s,i){if(Xh._i.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then((t=>Xh.do(t,s,i)));if(Xh._i.ImageBitmap)return createImageBitmap(t).then((t=>Xh.do(t,s,i)));{const e=Xh.co(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),Xh.fo(e,s,i)}},Xh.mo=function(t,s){t.clear();for(const i of s)t.add(i)},Xh.yo=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},Xh.Mo=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},Xh.wo=function t(s){if("object"==typeof s&&null!==s){if(s instanceof Set)return{_c3type_:"set",data:[...s].map((s=>t(s)))};if(s instanceof Map)return{_c3type_:"map",data:[...s].map((s=>[s[0],t(s[1])]))};{const i=Object.create(null);for(const[e,n]of Object.entries(s))i[e]=t(n);return i}}return s},Xh.So=function t(s){if("object"==typeof s&null!==s){if("set"===s._c3type_)return new Set(s.data.map((s=>t(s))));if("map"===s._c3type_)return new Map(s.data.map((s=>[s[0],t(s[1])])));{const i=Object.create(null);for(const[e,n]of Object.entries(s))i[e]=t(n);return i}}return s},Xh.To=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const n of t)"-"===n?e>0&&(i=!0):i?(s+=n.toUpperCase(),i=!1):s+=n,++e;return s},Xh.bo=function(t){return"object"==typeof t&&"function"==typeof t.next},Xh.vo=function(t,s){const i=[];if("function"==typeof s)for(let e=0;e<t;++e)i.push(s());else for(let e=0;e<t;++e)i.push(s);return i}}{let Kh=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},to=function(t,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};padTwoDigits=Kh,hueToRGB=to;const so=self.Gs,io=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,eo=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;so.xo=class{constructor(t,s,i,e){this.Co=NaN,this.Io=NaN,this.Go=NaN,this.Eo=NaN,this.Co=0,this.Io=0,this.Go=0,this.Eo=0,t instanceof so.xo?this.set(t):this.No(t||0,s||0,i||0,e||0)}Do(t,s,i){return this.Co=+t,this.Io=+s,this.Go=+i,this.Zn(),this}No(t,s,i,e){return this.Co=+t,this.Io=+s,this.Go=+i,this.Eo=+e,this.Zn(),this}set(t){return this.Co=t.Co,this.Io=t.Io,this.Go=t.Go,this.Eo=t.Eo,this}M(t){return this.set(t)}add(t){this.Co+=t.Co,this.Io+=t.Io,this.Go+=t.Go,this.Eo+=t.Eo,this.Zn()}_o(t,s,i,e=0){this.Co+=+t,this.Io+=+s,this.Go+=+i,this.Eo+=+e,this.Zn()}Ao(t){this.Lo(Math.max(this.Co,t.Co)-Math.min(this.Co,t.Co)),this.Oo(Math.max(this.Io,t.Io)-Math.min(this.Io,t.Io)),this.Ro(Math.max(this.Go,t.Go)-Math.min(this.Go,t.Go)),this.Po(Math.max(this.Eo,t.Eo)-Math.min(this.Eo,t.Eo)),this.Zn()}ko(t){this.Co=t.Co,this.Io=t.Io,this.Go=t.Go}Lo(t){this.Co=so.Zn(+t,0,1)}Fo(){return this.Co}Oo(t){this.Io=so.Zn(+t,0,1)}jo(){return this.Io}Ro(t){this.Go=so.Zn(+t,0,1)}zo(){return this.Go}Po(t){this.Eo=so.Zn(+t,0,1)}Bo(){return this.Eo}clone(){return so.Yn(so.xo,this.Co,this.Io,this.Go,this.Eo)}toArray(){return[this.Co,this.Io,this.Go,this.Eo]}$o(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this.Co,t[s++]=this.Io,t[s++]=this.Go,t[s]=this.Eo}Wo(t,s){t[s++]=this.Co,t[s++]=this.Io,t[s]=this.Go}equals(t){return this.Co===t.Co&&this.Io===t.Io&&this.Go===t.Go&&this.Eo===t.Eo}Yo(t){return this.Co===t.Co&&this.Io===t.Io&&this.Go===t.Go}Qo(t,s,i){return this.Co===t&&this.Io===s&&this.Go===i}Vo(t,s,i,e){return this.Co===t&&this.Io===s&&this.Go===i&&this.Eo===e}Jo(t,s){return t[s]===Math.fround(this.Co)&&t[s+1]===Math.fround(this.Io)&&t[s+2]===Math.fround(this.Go)&&t[s+3]===Math.fround(this.Eo)}Ho(t,s){return t[s]===Math.fround(this.Co)&&t[s+1]===Math.fround(this.Io)&&t[s+2]===Math.fround(this.Go)}multiply(t){this.Co*=t.Co,this.Io*=t.Io,this.Go*=t.Go,this.Eo*=t.Eo}qo(t){this.Co*=t,this.Io*=t,this.Go*=t,this.Eo*=t}Zo(){return this.Co*=this.Eo,this.Io*=this.Eo,this.Go*=this.Eo,this}Xo(){return this.Co/=this.Eo,this.Io/=this.Eo,this.Go/=this.Eo,this}Zn(){return this.Co=so.Zn(this.Co,0,1),this.Io=so.Zn(this.Io,0,1),this.Go=so.Zn(this.Go,0,1),this.Eo=so.Zn(this.Eo,0,1),this}Ko(t){this.Co=so.Dr(t),this.Io=so._r(t),this.Go=so.Ar(t),this.Eo=so.Lr(t)}ta(t,s,i){return`rgb(${100*(so.te(t)?t:this.Fo())}%, ${100*(so.te(s)?s:this.jo())}%, ${100*(so.te(i)?i:this.zo())}%)`}sa(t,s,i,e){return`rgba(${100*(so.te(t)?t:this.Fo())}%, ${100*(so.te(s)?s:this.jo())}%, ${100*(so.te(i)?i:this.zo())}%, ${so.te(e)?e:this.Bo()})`}ia(){const t=Math.round(255*this.Fo()),s=Math.round(255*this.jo()),i=Math.round(255*this.zo());return"#"+Kh(t.toString(16))+Kh(s.toString(16))+Kh(i.toString(16))}ea(t){if("string"!=typeof t)return!1;let s,i,e;if("#"===(t=t.trim()).charAt(0)&&(t=t.substr(1)),3===t.length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.Lo(s),isFinite(i)&&this.Oo(i),isFinite(e)&&this.Ro(e),this.Po(1),!0}na(){return`${Math.round(255*this.Fo())}, ${Math.round(255*this.jo())}, ${Math.round(255*this.zo())}`}ra(){return[Math.round(255*this.Fo()),Math.round(255*this.jo()),Math.round(255*this.zo())]}ha(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),isFinite(n)&&this.Ro(n),this.Po(1),!0}oa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),isFinite(n)&&this.Ro(n),this.Po(1),!0}aa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255,r=parseFloat(s[3].trim());return isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),isFinite(n)&&this.Ro(n),isFinite(r)&&this.Po(r),!0}la(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100,r=parseFloat(s[3].trim());return isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),isFinite(n)&&this.Ro(n),isFinite(r)&&this.Po(r),!0}ua(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.oa(t):this.ha(t);if(t.startsWith("rgba("))return t.includes("%")?this.la(t):this.aa(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.ca(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.oa(t):4===s.length&&this.la(t):3===s.length?this.ha(t):4===s.length&&this.aa(t)}}return this.ea(t)}toJSON(){return[this.Co,this.Io,this.Go,this.Eo]}fa(t,s,i,e){let n,r,h;if(t%=360,s=so.Zn(s,0,100),i=so.Zn(i,0,100),e=so.Zn(e,0,1),t/=360,i/=100,0==(s/=100))n=r=h=i;else{const e=i<.5?i*(1+s):i+s-i*s,o=2*i-e;n=to(o,e,t+1/3),r=to(o,e,t),h=to(o,e,t-1/3)}return this.Lo(n),this.Oo(r),this.Ro(h),this.Po(e),this}ca(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=io.exec(s),e=eo.exec(s);return i&&4===i.length?(this.fa(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this.fa(+i[1],+i[2],+i[3],+i[4]),0))}da(){const t=this.Co,s=this.Io,i=this.Go,e=this.Eo;return`hsla(${so.xo.pa(t,s,i)}, ${so.xo.ma(t,s,i)}%, ${so.xo.ga(t,s,i)}%, ${e})`}ya(){const t=this.Co,s=this.Io,i=this.Go;return[so.xo.pa(t,s,i),so.xo.ma(t,s,i),so.xo.ga(t,s,i),this.Eo]}Ma(t){Array.isArray(t)&&(t.length<3||(this.Co=t[0],this.Io=t[1],this.Go=t[2],t.length>=4?this.Eo=t[3]:this.Eo=1))}set r(t){this.Lo(t)}get r(){return this.Fo()}set g(t){this.Oo(t)}get g(){return this.jo()}set b(t){this.Ro(t)}get b(){return this.zo()}set a(t){this.Po(t)}get a(){return this.Bo()}wa(t,s){switch(t){case 0:this.Lo(s);break;case 1:this.Oo(s);break;case 2:this.Ro(s);break;case 3:this.Po(s);break;default:throw new RangeError("invalid color index")}}Sa(t){switch(t){case 0:return this.Fo();case 1:return this.jo();case 2:return this.zo();case 3:return this.Bo();default:throw new RangeError("invalid color index")}}static Ta(t,s){let i,e;if(Array.isArray(t))i=new so.xo,i.Ma(t);else{if(!(t instanceof so.xo))throw new Error("unexpected type");i=t}if(Array.isArray(s))e=new so.xo,e.Ma(s);else{if(!(s instanceof so.xo))throw new Error("unexpected type");e=s}return i.equals(e)}static ba(t,s){return so.Zn(Math.max(t,s)-Math.min(t,s),0,1)}static va(t,s){const i=new so.xo;return i.Lo(Math.max(t.Co,s.Co)-Math.min(t.Co,s.Co)),i.Oo(Math.max(t.Io,s.Io)-Math.min(t.Io,s.Io)),i.Ro(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i.Po(Math.max(t.Eo,s.Eo)-Math.min(t.Eo,s.Eo)),i}static xa(t,s){const i=new so.xo(0,0,0,1);return i.Lo(Math.max(t.Co,s.Co)-Math.min(t.Co,s.Co)),i.Oo(Math.max(t.Io,s.Io)-Math.min(t.Io,s.Io)),i.Ro(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i}static pa(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;let r=0;switch(e){case t:r=(s-i)/(e-n)+(s<i?6:0);break;case s:r=(i-t)/(e-n)+2;break;case i:r=(t-s)/(e-n)+4}return Math.round(r/6*360)}static ma(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;const r=e-n,h=(e+n)/2>.5?r/(2-e-n):r/(e+n);return Math.round(100*h)}static ga(t,s,i){const e=Math.max(t,s,i),n=(e+Math.min(t,s,i))/2;return e?Math.round(100*n):0}},so.xo.Ca=Object.freeze(so.Yn(so.xo,1,1,1,1)),so.xo.Ia=Object.freeze(so.Yn(so.xo,0,0,0,1)),so.xo.Ga=Object.freeze(so.Yn(so.xo,0,0,0,0))}{const no=self.Gs;no.Ea=class{constructor(t,s){this.Na=0,this.Da=0,t instanceof no.Ea?this.M(t):this.set(t||0,s||0)}set(t,s){this.Na=+t,this.Da=+s}M(t){this.Na=t.Na,this.Da=t.Da}equals(t){return this.Na===t.Na&&this.Da===t.Da}_a(t,s){return this.Na===t&&this.Da===s}Jo(t,s){return t[s]===Math.fround(this.Na)&&t[s+1]===Math.fround(this.Da)}Aa(t){this.Na=+t}La(){return this.Na}Oa(t){this.Da=+t}Ra(){return this.Da}toArray(){return[this.Na,this.Da]}$o(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this.Na,t[s]=this.Da}offset(t,s){this.Na+=+t,this.Da+=+s}scale(t,s){this.Na*=t,this.Da*=s}wt(t,s){this.Na/=t,this.Da/=s}round(){this.Na=Math.round(this.Na),this.Da=Math.round(this.Da)}floor(){this.Na=Math.floor(this.Na),this.Da=Math.floor(this.Da)}ceil(){this.Na=Math.ceil(this.Na),this.Da=Math.ceil(this.Da)}angle(){return no.rr(0,0,this.Na,this.Da)}Pa(){return this.Na*this.Na+this.Da*this.Da}length(){return no.sr(this.Na,this.Da)}ka(t,s){const i=this.Na*s-this.Da*t;this.Da=this.Da*s+this.Na*t,this.Na=i}rotate(t){0!==t&&this.ka(Math.sin(t),Math.cos(t))}Fa(t,s,i){0===t||s===this.Na&&i===this.Da||(this.Na-=s,this.Da-=i,this.ka(Math.sin(t),Math.cos(t)),this.Na+=+s,this.Da+=+i)}move(t,s){0!==s&&(this.Na+=Math.cos(t)*s,this.Da+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.Na/=t,this.Da/=t)}Zn(t,s){this.Na=no.Zn(this.Na,t,s),this.Da=no.Zn(this.Da,t,s)}Ct(t){return this.Na*t.Na+this.Da*t.Da}reverse(){this.Na=-this.Na,this.Da=-this.Da}ja(){let t=this.Na;return this.Na=this.Da,this.Da=-t,this}}}{const ro=self.Gs;ro.Rect=class{constructor(t,s,i,e){this.za=NaN,this.Ba=NaN,this.$a=NaN,this.Ua=NaN,this.za=0,this.Ba=0,this.$a=0,this.Ua=0,t instanceof ro.Rect?this.M(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.za=+t,this.Ba=+s,this.$a=+i,this.Ua=+e}Wa(t,s,i,e){t=+t,s=+s,this.za=t,this.Ba=s,this.$a=t+ +i,this.Ua=s+ +e}M(t){this.za=+t.za,this.Ba=+t.Ba,this.$a=+t.$a,this.Ua=+t.Ua}clone(){return new ro.Rect(this.za,this.Ba,this.$a,this.Ua)}static Ya(t,s){const i=new ro.Rect;return i.Qa(Math.min(t.za,s.za)),i.Va(Math.min(t.Ba,s.Ba)),i.Ja(Math.max(t.$a,s.$a)),i.Ha(Math.max(t.Ua,s.Ua)),i}static qa(t){return new ro.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.za===t.za&&this.Ba===t.Ba&&this.$a===t.$a&&this.Ua===t.Ua}Za(t,s,i,e){return this.za===t&&this.Ba===s&&this.width()===i&&this.height()===e}Jo(t,s){return t[s]===Math.fround(this.za)&&t[s+1]===Math.fround(this.Ba)&&t[s+2]===Math.fround(this.$a)&&t[s+3]===Math.fround(this.Ua)}Qa(t){this.za=+t}Xa(){return this.za}Va(t){this.Ba=+t}Ka(){return this.Ba}Ja(t){this.$a=+t}tl(){return this.$a}Ha(t){this.Ua=+t}sl(){return this.Ua}toArray(){return[this.za,this.Ba,this.$a,this.Ua]}$o(){return new Float64Array(this.toArray())}il(){return new DOMRect(this.za,this.Ba,this.width(),this.height())}static el(t){return ro.Yn(ro.Rect,t.left,t.top,t.right,t.bottom)}Uo(t,s){t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.$a,t[s]=this.Ua}nl(t,s){t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.$a,t[s++]=this.Ba,t[s++]=this.$a,t[s++]=this.Ua,t[s++]=this.za,t[s]=this.Ua}rl(t,s,i){t[s++]=this.za,t[s++]=this.Ba,t[s++]=i,t[s++]=this.$a,t[s++]=this.Ba,t[s++]=i,t[s++]=this.$a,t[s++]=this.Ua,t[s++]=i,t[s++]=this.za,t[s++]=this.Ua,t[s]=i}width(){return this.$a-this.za}height(){return this.Ua-this.Ba}hl(){return(this.za+this.$a)/2}ol(){return(this.Ba+this.Ua)/2}offset(t,s){t=+t,s=+s,this.za+=t,this.Ba+=s,this.$a+=t,this.Ua+=s}offsetLeft(t){this.za+=+t}offsetTop(t){this.Ba+=+t}al(t){this.$a+=+t}ll(t){this.Ua+=+t}ul(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.Ba<this.Ua?this.za<this.$a?this.Ua=this.Ba+this.width():this.Ua=this.Ba-this.width():this.za<this.$a?this.Ua=this.Ba-this.width():this.Ua=this.Ba+this.width()}cl(t,s){t=+t,s=+s,this.za-=t,this.Ba-=s,this.$a+=t,this.Ua+=s}fl(t,s){t=+t,s=+s,this.za+=t,this.Ba+=s,this.$a-=t,this.Ua-=s}multiply(t,s){this.za*=t,this.Ba*=s,this.$a*=t,this.Ua*=s}wt(t,s){this.za/=t,this.Ba/=s,this.$a/=t,this.Ua/=s}dl(t){this.za=+t-this.za,this.$a=+t-this.$a}pl(t){this.Ba=+t-this.Ba,this.Ua=+t-this.Ua}ml(t,s){const i=this.width(),e=this.height(),n=this.Xa()+i*t,r=this.Ka()+e*s;this.Wa(n-e*s,r-i*t,e,i)}gl(){const t=this.za;this.za=this.$a,this.$a=t}yl(){const t=this.Ba;this.Ba=this.Ua,this.Ua=t}Ml(t){const s=this.Ba;this.Ba=+t-this.Ua,this.Ua=+t-s}round(){this.za=Math.round(this.za),this.Ba=Math.round(this.Ba),this.$a=Math.round(this.$a),this.Ua=Math.round(this.Ua)}wl(){this.za=Math.ceil(this.za),this.Ba=Math.ceil(this.Ba),this.$a=Math.floor(this.$a),this.Ua=Math.floor(this.Ua)}Sl(){this.za=Math.floor(this.za),this.Ba=Math.floor(this.Ba),this.$a=Math.ceil(this.$a),this.Ua=Math.ceil(this.Ua)}floor(){this.za=Math.floor(this.za),this.Ba=Math.floor(this.Ba),this.$a=Math.floor(this.$a),this.Ua=Math.floor(this.Ua)}ceil(){this.za=Math.ceil(this.za),this.Ba=Math.ceil(this.Ba),this.$a=Math.ceil(this.$a),this.Ua=Math.ceil(this.Ua)}Zn(t,s,i,e){this.za=Math.max(this.za,+t),this.Ba=Math.max(this.Ba,+s),this.$a=Math.min(this.$a,+i),this.Ua=Math.min(this.Ua,+e)}Tl(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.za=ro.Zn(this.za,t,i),this.Ba=ro.Zn(this.Ba,s,e),this.$a=ro.Zn(this.$a,t,i),this.Ua=ro.Zn(this.Ua,s,e)}normalize(){this.za>this.$a&&this.gl(),this.Ba>this.Ua&&this.yl()}bl(t){return!(t.$a<this.za||t.Ua<this.Ba||t.za>this.$a||t.Ba>this.Ua)}vl(t,s,i){return!(t.$a+s<this.za||t.Ua+i<this.Ba||t.za+s>this.$a||t.Ba+i>this.Ua)}xl(t,s){return t>=this.za&&t<=this.$a&&s>=this.Ba&&s<=this.Ua}Cl(t){return t.za>=this.za&&t.Ba>=this.Ba&&t.$a<=this.$a&&t.Ua<=this.Ua}Il(t){t.za<this.za&&(this.za=+t.za),t.Ba<this.Ba&&(this.Ba=+t.Ba),t.$a>this.$a&&(this.$a=+t.$a),t.Ua>this.Ua&&(this.Ua=+t.Ua)}Gl(t){this.za=ro.Gt(t.za,t.$a,this.za),this.Ba=ro.Gt(t.Ba,t.Ua,this.Ba),this.$a=ro.Gt(t.za,t.$a,this.$a),this.Ua=ro.Gt(t.Ba,t.Ua,this.Ua)}}}{const ho=self.Gs;ho.El=class{constructor(t,s,i,e,n,r,h,o){this.Nl=NaN,this.Dl=NaN,this._l=NaN,this.Al=NaN,this.Ll=NaN,this.Ol=NaN,this.Rl=NaN,this.Pl=NaN,this.Nl=0,this.Dl=0,this._l=0,this.Al=0,this.Ll=0,this.Ol=0,this.Rl=0,this.Pl=0,t instanceof ho.El?this.M(t):this.set(t||0,s||0,i||0,e||0,n||0,r||0,h||0,o||0)}set(t,s,i,e,n,r,h,o){this.Nl=+t,this.Dl=+s,this._l=+i,this.Al=+e,this.Ll=+n,this.Ol=+r,this.Rl=+h,this.Pl=+o}kl(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}M(t){this.Nl=t.Nl,this.Dl=t.Dl,this._l=t._l,this.Al=t.Al,this.Ll=t.Ll,this.Ol=t.Ol,this.Rl=t.Rl,this.Pl=t.Pl}equals(t){return this.Nl===t.Nl&&this.Dl===t.Dl&&this._l===t._l&&this.Al===t.Al&&this.Ll===t.Ll&&this.Ol===t.Ol&&this.Rl===t.Rl&&this.Pl===t.Pl}Fl(t){this.Nl=+t}jr(){return this.Nl}jl(t){this.Dl=+t}zr(){return this.Dl}zl(t){this._l=+t}Br(){return this._l}Bl(t){this.Al=+t}$r(){return this.Al}$l(t){this.Ll=+t}Ur(){return this.Ll}Ul(t){this.Ol=+t}Wr(){return this.Ol}Wl(t){this.Rl=+t}Yr(){return this.Rl}Yl(t){this.Pl=+t}Qr(){return this.Pl}Ql(){return new DOMQuad(new DOMPoint(this.Nl,this.Dl),new DOMPoint(this._l,this.Al),new DOMPoint(this.Ll,this.Ol),new DOMPoint(this.Rl,this.Pl))}static Vl(t){return ho.Yn(ho.El,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.Nl,this.Dl,this._l,this.Al,this.Ll,this.Ol,this.Rl,this.Pl]}$o(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this.Nl,t[s++]=this.Dl,t[s++]=this._l,t[s++]=this.Al,t[s++]=this.Ll,t[s++]=this.Ol,t[s++]=this.Rl,t[s]=this.Pl}Jl(t,s,i){t[s++]=this.Nl,t[s++]=this.Dl,t[s++]=i,t[s++]=this._l,t[s++]=this.Al,t[s++]=i,t[s++]=this.Ll,t[s++]=this.Ol,t[s++]=i,t[s++]=this.Rl,t[s++]=this.Pl,t[s]=i}offset(t,s){t=+t,s=+s,this.Nl+=t,this.Dl+=s,this._l+=t,this.Al+=s,this.Ll+=t,this.Ol+=s,this.Rl+=t,this.Pl+=s}round(){this.Nl=Math.round(this.Nl),this.Dl=Math.round(this.Dl),this._l=Math.round(this._l),this.Al=Math.round(this.Al),this.Ll=Math.round(this.Ll),this.Ol=Math.round(this.Ol),this.Rl=Math.round(this.Rl),this.Pl=Math.round(this.Pl)}floor(){this.Nl=Math.floor(this.Nl),this.Dl=Math.floor(this.Dl),this._l=Math.floor(this._l),this.Al=Math.floor(this.Al),this.Ll=Math.floor(this.Ll),this.Ol=Math.floor(this.Ol),this.Rl=Math.floor(this.Rl),this.Pl=Math.floor(this.Pl)}ceil(){this.Nl=Math.ceil(this.Nl),this.Dl=Math.ceil(this.Dl),this._l=Math.ceil(this._l),this.Al=Math.ceil(this.Al),this.Ll=Math.ceil(this.Ll),this.Ol=Math.ceil(this.Ol),this.Rl=Math.ceil(this.Rl),this.Pl=Math.ceil(this.Pl)}Hl(t){this.Nl=t.za,this.Dl=t.Ba,this._l=t.$a,this.Al=t.Ba,this.Ll=t.$a,this.Ol=t.Ua,this.Rl=t.za,this.Pl=t.Ua}ql(t,s){0===s?this.Hl(t):this.Zl(t,Math.sin(s),Math.cos(s))}Zl(t,s,i){const e=t.za*s,n=t.Ba*s,r=t.$a*s,h=t.Ua*s,o=t.za*i,a=t.Ba*i,l=t.$a*i,u=t.Ua*i;this.Nl=o-n,this.Dl=a+e,this._l=l-n,this.Al=a+r,this.Ll=l-h,this.Ol=u+r,this.Rl=o-h,this.Pl=u+e}Xl(t){t.set(Math.min(this.Nl,this._l,this.Ll,this.Rl),Math.min(this.Dl,this.Al,this.Ol,this.Pl),Math.max(this.Nl,this._l,this.Ll,this.Rl),Math.max(this.Dl,this.Al,this.Ol,this.Pl))}xl(t,s){let i=this._l-this.Nl,e=this.Al-this.Dl;const n=this.Ll-this.Nl,r=this.Ol-this.Dl,h=t-this.Nl,o=s-this.Dl;let a=i*i+e*e,l=i*n+e*r,u=i*h+e*o;const c=n*n+r*r,f=n*h+r*o;let d=1/(a*c-l*l),p=(c*u-l*f)*d,m=(a*f-l*u)*d;return p>=0&&m>0&&p+m<1||(i=this.Rl-this.Nl,e=this.Pl-this.Dl,a=i*i+e*e,l=i*n+e*r,u=i*h+e*o,d=1/(a*c-l*l),p=(c*u-l*f)*d,m=(a*f-l*u)*d,p>=0&&m>0&&p+m<1)}hl(){return(this.Nl+this._l+this.Ll+this.Rl)/4}ol(){return(this.Dl+this.Al+this.Ol+this.Pl)/4}Kl(t,s,i,e){return!(!this.xl(t,s)&&!this.xl(i,e))||ho.Fr(t,s,i,e,this)}tu(t){let s=t.hl(),i=t.ol();if(this.xl(s,i))return!0;if(s=this.hl(),i=this.ol(),t.xl(s,i))return!0;const e=this.Nl,n=this.Dl,r=this._l,h=this.Al,o=this.Ll,a=this.Ol,l=this.Rl,u=this.Pl;return ho.Fr(e,n,r,h,t)||ho.Fr(r,h,o,a,t)||ho.Fr(o,a,l,u,t)||ho.Fr(l,u,e,n,t)}su(){const t=this.Nl,s=this.Dl;this.Nl=this._l,this.Dl=this.Al,this._l=this.Ll,this.Al=this.Ol,this.Ll=this.Rl,this.Ol=this.Pl,this.Rl=t,this.Pl=s}iu(){this.eu(0,2),this.eu(1,3),this.eu(6,4),this.eu(7,5)}nu(){this.eu(0,6),this.eu(1,7),this.eu(2,4),this.eu(3,5)}ru(){this.eu(2,6),this.eu(3,7)}eu(t,s){const i=this.hu(t);this.ou(t,this.hu(s)),this.ou(s,i)}hu(t){switch(t){case 0:return this.Nl;case 1:return this.Dl;case 2:return this._l;case 3:return this.Al;case 4:return this.Ll;case 5:return this.Ol;case 6:return this.Rl;case 7:return this.Pl;default:throw new RangeError("invalid quad point index")}}ou(t,s){switch(s=+s,t){case 0:this.Nl=s;break;case 1:this.Dl=s;break;case 2:this._l=s;break;case 3:this.Al=s;break;case 4:this.Ll=s;break;case 5:this.Ol=s;break;case 6:this.Rl=s;break;case 7:this.Pl=s;break;default:throw new RangeError("invalid quad point index")}}}}{const oo=self.Gs,ao=self.assert,lo=[0,0,1,0,1,1,0,1],uo=oo.Yn(oo.El);oo.au=class extends oo.Un{constructor(t,s=!0){super(),t||(t=lo),this.lu=Float64Array.from(t),this.uu=new oo.Rect,this.cu=!0,this.fu=s}Qn(){}du(){return this.lu}pu(){return this.lu.length/2}mu(t){this.lu.length===t.length?this.lu.set(t):this.lu=Float64Array.from(t),this.cu=!0}gu(){this.mu(lo)}M(t){this.mu(t.lu)}yu(){this.cu=!0}Mu(){if(!this.cu)return;const t=this.lu;let s=t[0],i=t[1],e=s,n=i;for(let r=0,h=t.length;r<h;r+=2){const h=t[r],o=t[r+1];h<s&&(s=h),h>e&&(e=h),o<i&&(i=o),o>n&&(n=o)}this.uu.set(s,i,e,n),this.cu=!1}Hl(t,s,i){let e=this.lu;8!==e.length&&(e=new Float64Array(8),this.lu=e),e[0]=t.Xa()-s,e[1]=t.Ka()-i,e[2]=t.tl()-s,e[3]=t.Ka()-i,e[4]=t.tl()-s,e[5]=t.sl()-i,e[6]=t.Xa()-s,e[7]=t.sl()-i,this.uu.M(t),0===s&&0===i||this.uu.offset(-s,-i),this.cu=!1}wu(t,s,i){uo.M(t),uo.offset(s,i),this.mu(uo.toArray()),this.cu=!0}transform(t,s,i){let e=0,n=1;0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.Su(t,s,e,n)}Su(t,s,i,e){const n=this.lu;for(let r=0,h=n.length;r<h;r+=2){const h=r+1,o=n[r]*t,a=n[h]*s;n[r]=o*e-a*i,n[h]=a*e+o*i}this.cu=!0}offset(t,s){const i=this.lu;for(let e=0,n=i.length;e<n;e+=2)i[e]+=t,i[e+1]+=s}xl(t,s){const i=this.lu;if(t===i[0]&&s===i[1])return!0;this.Mu();const e=this.uu,n=e.Xa()-110,r=e.Ka()-101,h=e.tl()+131,o=e.sl()+120;let a=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;n<t?(a=n,u=t):(a=t,u=n),r<s?(l=r,c=s):(l=s,c=r),h<t?(f=h,p=t):(f=t,p=h),o<s?(d=o,m=s):(d=s,m=o);let g=0,y=0;for(let e=0,M=i.length;e<M;e+=2){const w=(e+2)%M,S=i[e],T=i[e+1],b=i[w],v=i[w+1];oo.kr(n,r,t,s,a,u,l,c,S,T,b,v)&&++g,oo.kr(h,o,t,s,f,p,d,m,S,T,b,v)&&++y}return g%2==1||y%2==1}Tu(t,s,i){const e=t.lu,n=this.lu;if(this.xl(e[0]+s,e[1]+i))return!0;if(t.xl(n[0]-s,n[1]-i))return!0;for(let t=0,r=n.length;t<r;t+=2){const h=(t+2)%r,o=n[t],a=n[t+1],l=n[h],u=n[h+1];let c=0,f=0,d=0,p=0;o<l?(c=o,d=l):(c=l,d=o),a<u?(f=a,p=u):(f=u,p=a);for(let t=0,n=e.length;t<n;t+=2){const r=(t+2)%n,h=e[t]+s,m=e[t+1]+i,g=e[r]+s,y=e[r+1]+i;if(oo.kr(o,a,l,u,c,d,f,p,h,m,g,y))return!0}}return!1}Kl(t,s,i,e,n,r){if(this.xl(i-t,e-s))return!0;if(this.xl(n-t,r-s))return!0;let h=0,o=0,a=0,l=0;i<n?(h=i,a=n):(h=n,a=i),e<r?(o=e,l=r):(o=r,l=e);const u=this.lu;for(let c=0,f=u.length;c<f;c+=2){const d=(c+2)%f,p=u[c]+t,m=u[c+1]+s,g=u[d]+t,y=u[d+1]+s;if(oo.kr(i,e,n,r,h,a,o,l,p,m,g,y))return!0}return!1}iu(t){const s=this.lu;for(let i=0,e=s.length;i<e;i+=2)s[i]=2*t-s[i];this.cu=!0}nu(t){const s=this.lu;for(let i=0,e=s.length;i<e;i+=2){const e=i+1;s[e]=2*t-s[e]}this.cu=!0}ru(){const t=this.lu;for(let s=0,i=t.length;s<i;s+=2){const i=s+1,e=t[s];t[s]=t[i],t[i]=e}this.cu=!0}bu(){const t=this.lu;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i];return s/this.pu()}vu(){const t=this.lu;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i+1];return s/this.pu()}xu(){return this.lu}Cu(){return this.pu()}Iu(){return this.fu}}}{const co=self.Gs;co.Gu=class extends co.Un{constructor(t){if(super(),this.Eu=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}Qn(){this.Nu(),this.Eu=null}Du(){return 0===this.Eu.size}Nu(){const t=this.Eu;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){const e=this.Eu;let n=e.get(t);n||(n=new Map,e.set(t,n)),n.set(s,i)}Qs(t,s){const i=this.Eu.get(t);return i?i.get(s):i}Ys(t,s){const i=this.Eu.get(t);return!!i&&i.has(s)}_u(t,s){const i=this.Eu,e=i.get(t);if(!e)return!1;const n=e.delete(s);return n&&0===e.size&&i.delete(t),n}Au(t){const s=this.Eu,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[i,e]of s.entries())e.delete(t)&&0===e.size&&s.delete(i)}Lu(){let t=0;for(const s of this.Eu.values())t+=s.size;return t}*values(){for(const t of this.Eu.values())yield*t.values()}*Ou(){for(const[t,s]of this.Eu.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.Eu.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const fo=self.Gs;fo.Ru=class extends fo.Un{constructor(){super(),this.Pu=new Set,this.ku=[],this.Fu=!1}Qn(){this.Nu()}Nu(){this.Pu.clear(),fo.Sh(this.ku),this.Fu=!1}ju(t){this.Pu.has(t)||(this.Pu.add(t),this.Fu||this.ku.push(t))}Ys(t){return this.Pu.has(t)}_u(t){this.Pu.delete(t)&&(this.Fu=!0)}Lu(){return this.Pu.size}Du(){return 0===this.Pu.size}zu(){return this.Fu&&(this.Bu(),this.Fu=!1),this.ku}Bu(){const t=this.ku;fo.Sh(t);for(const s of this.Pu)t.push(s)}}}{const po=self.Gs,mo=new Map,go=new Map,yo=new Map,Mo=new Map,wo=new Map,So=new Map,To=new Map,bo=new Map,vo=new Map;vo.set("linear","noease"),vo.set("default","noease");const xo=["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"],Co=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Io=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]);self.$u=class t{constructor(){}static Uu(){return"default"}static Wu(){return"noease"}static Yu(t){return Io.get(t)}static Qu(s,...i){let e,n;this.Vu(),s?(yo.has(s)||yo.set(s,new Map),e=yo.get(s),n=[...e.keys()].filter((i=>!t.Ju(i,s)||t.Ju(i,s).transition.Hu()))):(e=wo,n=[...e.keys()]);const r=n.sort();return[...go.keys()].concat(r).filter((t=>!i.includes(t)))}static qu(){this.Vu();const t=[...wo.keys()];return t.sort(),[...go.keys()].concat(t)}static Zu(){this.Vu();const t=[...wo.keys()];return t.sort(),t}static Xu(t){for(const s of xo)if(self.lang(`ui.bars.timeline.eases.${s}`)===t)return!0;for(const s of Co)if(self.lang(`ui.bars.timeline.short-eases.${s}`)===t)return!0}static Ku(t){return this.Vu(),[...go.keys()].includes(t)}static tc(s){const i=vo.get(s);return i?mo.get(i):t.Ku(s)?mo.get(s):To.has(s)?To.get(s):void 0}static sc(t){return this.Vu(),bo.get(t)}static ec(s,i){this.Vu();const e=t.tc(s);if(e)return e;if(!i)throw new Error("missing ease function");return yo.get(i).get(s)}static Ju(t,s){this.Vu();const i=Mo.get(s);if(i)return i.get(t)}static nc(s,i){return this.Vu(),!!t.tc(s)||!!yo.get(i).get(s)}static rc(s){this.Vu();return t.tc(s)||wo.get(s)}static hc(t){return this.Vu(),So.get(t)}static oc(t){return this.Vu(),this.qu()[t]}static ac(t,s){return this.Vu(),this.Qu(s).indexOf(t)}static lc(t){return this.ac(t)}static Vu(){0===mo.size&&(this.uc("default",(()=>{})),this.uc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.uc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.uc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.uc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.uc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.uc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.uc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.uc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.uc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.uc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.uc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.uc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.uc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.uc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.uc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.uc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.uc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.uc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.uc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.uc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.uc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.uc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.uc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.uc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.uc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.uc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.cc("cubicbezier",this.fc),this.cc("spline",this.dc))}static uc(s,i,e=!1){if("function"==typeof i)t.mc(s,i,"predefined");else{if(!po.xe(i))throw new Error("unexpected arguments");if(self.yc){const n=po.Yn(self.yc,s,e);n.Mc(i),t.mc(s,((t,s,i,e)=>n.wc(t,s,i,e)),"predefined"),bo.set(s,n)}else{const n=po.Yn(po.Sc,[s,i.map((t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee]))],!1);n.Tc(e),t.mc(s,((t,s,i,e)=>n.wc(t,s,i,e)),"predefined")}}}static cc(s,i){t.mc(s,i,"private")}static bc(s,i,e,n){this.Vu(),t.mc(s,i,"custom",e,n)}static vc(t,s){if(this.Ku(t))return;if([...To.keys()].includes(t))return;const i=yo.get(s);i&&i.delete(t);const e=Mo.get(s);e&&e.delete(t)}static mc(t,s,i,e,n){switch(i){case"predefined":mo.set(t,s),go.set(t,s);break;case"custom":e?(yo.has(e)||yo.set(e,new Map),Mo.has(e)||Mo.set(e,new Map),yo.get(e).set(t,s),Mo.get(e).set(t,n)):(wo.set(t,s),So.set(t,n));break;case"private":mo.set(t,s),To.set(t,s);break;default:throw new Error("unexpected ease mode")}}static xc(t,s,i,e){return 0===e?s:i*t/e+s}static fc(t,s,i,e,n){return s+3*t*(i-s)+3*t**2*(s+e-2*i)+t**3*(n-s+3*i-3*e)}static dc(t,s,i,e,n,r,h,o,a,l){if(e===n&&r===h)return t;const u=Fo(t,s,e,r,o,l),c=Lo(i,n,h,a),f=Oo(i,n,h,a),d=Ro(i,n,h,a);return Po(u,c,f,d)}static Cc(t,s,i,e){const n=[],r=Lo(t,s,i,e),h=Oo(t,s,i,e),o=Ro(t,s,i,e);for(let t=0;t<Go;++t){const s=Po(t*Eo,r,h,o);n.push(s)}return n}};const Go=11,Eo=1/(Go-1),No=4,Do=.01,_o=1e-7,Ao=10,Lo=(t,s,i,e)=>e-3*i+3*s-t,Oo=(t,s,i,e)=>3*i-6*s+3*t,Ro=(t,s,i,e)=>3*(s-t),Po=(t,s,i,e)=>((s*t+i)*t+e)*t,ko=(t,s,i,e)=>3*s*t*t+2*i*t+e,Fo=(t,s,i,e,n,r)=>{if(1==t)return 1;let h=0,o=1,a=r[o],l=Go-1;for(r[Go-1];o!=l&&a<=t;)o++,a=r[o],h+=Eo;o--,a=r[o];let u=h+(t-a)/(r[o+1]-a)*Eo;const c=Lo(s,i,e,n),f=Oo(s,i,e,n),d=Ro(s,i,e,n),p=ko(u,c,f,d);if(0===p)return u;if(p>=.01){for(let s=0;s<4;++s)u-=(Po(u,c,f,d)-t)/ko(u,c,f,d);return u}{let s,i,e=h,n=h+Eo,r=0;do{u=e+(n-e)/2;let h=Po(u,c,f,d)-t;h>0?n=u:e=u,s=Math.abs(h)>1e-7,i=++r<10}while(s&&i);return u}}}{let jo=function(t){zo.le(t)};RequireStringOrNumber=jo;const zo=self.Gs;zo.Ic=class{constructor(t){this.Gc=[],this.Hn=t||"",this.Ec=0}Qn(){this.Nu(),this.Gc=null}Nc(){return this.Hn}Nu(){zo.Th(this.Gc),this.Ec=0}Dc(){return this.Ec}_c(t=Math.random()*this.Dc()){let s=0;for(const[i,e]of this.Gc)if(s+=i,t<s)return e;return 0}Ac(){return!!this.Gc.length}Lc(t,s){jo(s),this.Ec+=t,this.Gc.push([t,s])}Oc(t,s){jo(s);const i=0===t;for(let e=0;e<this.Gc.length;e++){const n=this.Gc[e],r=i||n[0]===t,h=n[1]===s;if(r&&h){this.Gc.splice(e,1),this.Ec-=n[0];break}}}Rc(){return JSON.stringify(this.Gc)}static Pc(t,s){const i=new zo.Ic(s),e=JSON.parse(t);for(const t of e){const s=t[0],e=t[1];i.Lc(s,e)}return i}}}{const Bo=self.Gs;let $o=0;Bo.kc=class{constructor(t,s){this.Fc=t,this.jc=s,this.zc=$o++,this.Fc.Bc("runtime","screen-reader-text",{type:"create",id:this.zc,text:this.jc})}Qn(){this.Fc.Bc("runtime","screen-reader-text",{type:"release",id:this.zc}),this.Fc=null,this.jc="",this.zc=-1}$c(t){this.jc!==t&&(this.jc=t,this.Fc.Bc("runtime","screen-reader-text",{type:"update",id:this.zc,text:this.jc}))}}}{const Uo=self.Gs;Uo.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.Uc=!1,this.Wc=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.Wc)throw new Error(`cannot stop async event '${this.type}' propagation`);this.Uc=!0}}}{const Wo=self.Gs,Yo=self.assert;Wo.Event.Yc=class extends Wo.Un{constructor(t){super(),this.Qc=t,this.Vc=[],this.Jc=new Set,this.Hc=[],this.qc=new Set,this.Zc=0,this.Xc=[]}Qn(){this.Zc>0||(Wo.Sh(this.Vc),this.Jc.clear(),Wo.Sh(this.Hc),this.qc.clear(),Wo.Sh(this.Xc),Wo.Qn(this))}Kc(t,s){if(this.tf())this.Xc.push({sf:"add",if:t,capture:s});else if(s){if(this.Jc.has(t))return;this.Vc.push(t),this.Jc.add(t)}else{if(this.qc.has(t))return;this.Hc.push(t),this.qc.add(t)}}ef(t,s){this.tf()?this.Xc.push({sf:"remove",if:t,capture:s}):s?this.Jc.has(t)&&(this.Jc.delete(t),Wo.Gh(this.Vc,t)):this.qc.has(t)&&(this.qc.delete(t),Wo.Gh(this.Hc,t))}nf(){return!this.Vc.length&&!this.Hc.length}tf(){return this.Zc>0}rf(){const t=new Set,s=new Set;for(const i of this.Xc)if("add"===i.sf)this.Kc(i.if,i.capture),i.capture?s.delete(i.if):t.delete(i.if);else{if("remove"!==i.sf)throw new Error("invalid op");i.capture?(this.Jc.delete(i.if),s.add(i.if)):(this.qc.delete(i.if),t.add(i.if))}Wo.Dh(this.Hc,t),Wo.Dh(this.Vc,s),Wo.Sh(this.Xc)}hf(t){this.af();let s=!1;for(let i=0,e=this.Vc.length;i<e;++i)if(this.Vc[i](t),t.Uc){s=!0;break}if(!s)for(let s=0,i=this.Hc.length;s<i&&(this.Hc[s](t),!t.Uc);++s);return this.lf(),!t.defaultPrevented}uf(t){this.af();for(let s=0,i=this.Vc.length;s<i;++s)this.Vc[s](t);for(let s=0,i=this.Hc.length;s<i;++s)this.Hc[s](t);return this.lf(),!0}af(){this.Zc++}lf(){this.Zc--,0===this.Zc&&this.Xc.length>0&&this.rf()}cf(t){t?this.af():this.lf()}ff(t){let s=[];for(let i=0,e=this.Vc.length;i<e;++i){let e=this.Vc[i];s.push(Wo.df((()=>e(t))))}for(let i=0,e=this.Hc.length;i<e;++i){let e=this.Hc[i];s.push(Wo.df((()=>e(t))))}return Promise.all(s).then((()=>!t.defaultPrevented))}pf(t){const s=[];this.af();for(let i=0,e=this.Vc.length;i<e;++i){const e=this.Vc[i](t);e instanceof Promise&&s.push(e)}for(let i=0,e=this.Hc.length;i<e;++i){const e=this.Hc[i](t);e instanceof Promise&&s.push(e)}return this.lf(),s.length?Promise.all(s).then((()=>!t.defaultPrevented)):!t.defaultPrevented}async mf(t){return await this.pf(t)}async gf(t){this.af();for(let s=0,i=this.Vc.length;s<i;++s){const i=this.Vc[s](t);i instanceof Promise&&await i}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);i instanceof Promise&&await i}return this.lf(),!t.defaultPrevented}*yf(t){this.af();for(let s=0,i=this.Vc.length;s<i;++s){const i=this.Vc[s](t);Wo.bo(i)&&(yield*i)}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);Wo.bo(i)&&(yield*i)}this.lf()}}}{const Qo=self.Gs;Qo.Event.Mf=class extends Qo.Un{constructor(){super(),this.wf=new Map,this.Sf=!1}Qn(){if(this.Sf)throw new Error("already released");this.Tf(),this.Sf=!0,Qo.Qn(this)}Vn(){return this.Sf}Tf(){if(this.wf){for(let t of this.wf.values())t.Qn();this.wf.clear()}}bf(t,s){let i=this.wf.get(t);return i||(s?(i=Qo.Yn(Qo.Event.Yc,t),this.wf.set(t,i),i):null)}vf(t){return this.wf.has(t)}addEventListener(t,s,i){this.bf(t,!0).Kc(s,!!i)}removeEventListener(t,s,i){let e=this.bf(t,!1);e&&(e.ef(s,!!i),e.nf()&&this.wf.delete(t))}dispatchEvent(t){const s=this.bf(t.type,!1);return!s||(t.cancelable?s.hf(t):s.uf(t))}xf(t){const s=this.bf(t.type,!1);return s?(t.Wc=!0,s.ff(t)):Promise.resolve(!0)}async Cf(t){const s=this.bf(t.type,!1);if(!s)return!0;this.wf.delete(t.type),t.Wc=!0;const i=await s.ff(t);return s.Qn(),i}async If(t){const s=this.bf(t.type,!1);return!s||await s.mf(t)}Gf(t){const s=this.bf(t.type,!1);return!s||s.pf(t)}async Ef(t){const s=this.bf(t.type,!1);return!s||await s.gf(t)}Nf(t){const s=this.bf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.yf(t)}cf(t){for(const s of this.wf.values())s.cf(t)}}}{let Vo=function(t){ia=ta&&0===ea?requestIdleCallback(Jo,{timeout:35}):setTimeout(Jo,ea>0?1:t)},Jo=function(t){if(ia=-1,!sa.length)return;let s=performance.now(),i=s,e=0,n=0;do{Ho(sa.shift()),i=performance.now(),++e,n=(i-s)/e*1.1}while(sa.length&&(ta&&0===ea&&void 0!==t?n<t.timeRemaining():i-s+n<12));if(-1===ia&&sa.length){let t=i-s;Vo(Math.max(16-t,4))}},Ho=function(t){let s;try{s=t.if()}catch(s){return void t.reject(s)}t.resolve(s)};SetNewCallback=Vo,DoAsyncifiedWork=Jo,DoNextAsyncifiedJob=Ho;const qo=self.Gs,Zo=12,Xo=16,Ko=35,ta="undefined"!=typeof requestIdleCallback;let sa=[],ia=-1,ea=0,na=qo.Hs.Ys("disable-asyncify");na&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),qo.df=function(t){let s=null;return qo.Ps&&(s=qo.Xi()),new Promise(((i,e)=>{sa.push({if:t,resolve:i,reject:e,stack:s}),na?Ho(sa.pop()):-1===ia&&Vo(16)}))},qo.df.Df=function(t){if(t)++ea;else if(--ea,ea<0)throw new Error("already turned off high throughput mode")}}{let ra=function(){ua=-1},ha=function(){ca=-1,fa=-1;let t=Date.now();for(let s of da)if(s._f(t)){let t=s.Af();(-1===fa||t<fa)&&(fa=t)}else da.delete(s);if(-1!==fa){let s=Math.max(fa-t+100,1e3);ca=self.setTimeout(ha,s)}};ClearTimeCache=ra,CheckActiveIdleTimeouts=ha;const oa=self.Gs,aa=1e3,la=100;let ua=-1;oa.Lf=function(){return-1===ua&&(ua=Date.now(),self.setTimeout(ra,16)),ua};let ca=-1,fa=-1,da=new Set;oa.Of=class{constructor(t,s){this.Rf=t,this.Pf=1e3*s,this.kf=0,this.Ff=!1}jf(){let t=oa.Lf();this.kf=t+this.Pf,this.Ff||(da.add(this),this.Ff=!0),-1===ca?(fa=this.kf,ca=self.setTimeout(ha,this.Pf+100)):this.kf<fa&&fa>t+1e3&&(self.clearTimeout(ca),fa=this.kf,ca=self.setTimeout(ha,this.Pf+100))}_f(t){return!(t>=this.kf&&(this.Rf()?(this.kf=t+this.Pf,0):(this.Ff=!1,1)))}Af(){return this.kf}zf(){this.Ff&&(da.delete(this),this.Ff=!1,0===da.size&&-1!==ca&&(self.clearTimeout(ca),ca=-1,fa=-1))}Qn(){this.zf(),this.Rf=null}}}{const pa=self.Gs;pa.Bf=class t{constructor(t){this.$f=!1,this.Uf=t}Wf(){this.$f||(this.$f=!0,this.Uf&&(this.Uf(),this.Uf=null))}Yf(){return this.$f}Qn(){this.Wf()}static Qn(s){return new t((()=>s.Qn()))}static Qf(t,s,i,e,n){if(null==e)e=!1;else if("boolean"!=typeof e&&"object"!=typeof e)throw new TypeError("invalid event listener options");if(n&&(i=i.bind(n)),s.includes(" ")){s=s.split(" ");const n=new pa.Vf;for(let r of s)t.addEventListener(r,i,e),n.ju(pa.Yn(pa.Bf,(()=>t.removeEventListener(r,i,e))));return n}return t.addEventListener(s,i,e),pa.Yn(pa.Bf,(()=>t.removeEventListener(s,i,e)))}},pa.Jf=class extends pa.Bf{Hf(t){this.Uf=t}},pa.Vf=class extends pa.Bf{constructor(...t){super(),this.qf=new Set;for(let s of t)this.ju(s)}ju(...t){if(this.$f)throw new Error("already disposed");for(let s of t)this.qf.add(s)}Zf(t){if(this.$f)throw new Error("already disposed");this.qf.delete(t)}Xf(){if(this.$f)throw new Error("already disposed");if(this.qf){for(let t of this.qf)t.Wf();this.qf.clear()}}Yf(){return this.$f}Wf(){if(this.$f)throw new Error("already disposed");this.$f=!0;for(let t of this.qf)t.Wf();this.qf.clear(),this.qf=null}Qn(){this.Wf()}}}{const ma=self.Gs;ma.Kf=class extends ma.Un{constructor(){super(),this.td=0,this.Da=0,this.sd=0,this.ed=0}ju(t){t=+t,this.Da=t-this.td,this.sd=this.ed+this.Da,this.td=this.sd-this.ed-this.Da,this.ed=this.sd}nd(t){this.ed-=+t}Qs(){return this.ed}jf(){this.td=0,this.Da=0,this.sd=0,this.ed=0}Set(t){this.td=0,this.Da=0,this.sd=0,this.ed=+t}rd(t){this.td=t.td,this.Da=t.Da,this.sd=t.sd,this.ed=t.ed}Qn(){}}}{const ga=self.Gs,ya={},Ma=!0,wa=!1;ya.hd=function(t){this.od=t,this.right=this.od.ad,this.left=this.od.ad,this.parent=null,this.color=!1,this.key=null},ya.ld=function(t){this.size=0,this.ad=new ya.hd(this),this.ad.color=!1,this.root=this.ad,this.root.parent=this.ad,this.compare=t||this.ud},ya.ld.prototype.ud=function(t,s){return t<s?-1:s<t?1:0},ya.ld.prototype.clone=function(){var t=new ya.ld(this.compare);return t.fd(this),t},ya.ld.prototype.clear=function(){this.size=0,this.ad=new ya.hd(this),this.ad.color=!1,this.root=this.ad,this.root.parent=this.ad},ya.ld.prototype.dd=function(t){var s=t.right;t.right=s.left,s.left!=this.ad&&(s.left.parent=t),s.parent=t.parent,t.parent==this.ad?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,s.left=t,t.parent=s},ya.ld.prototype.pd=function(t){var s=t.left;t.left=s.right,s.right!=this.ad&&(s.right.parent=t),s.parent=t.parent,t.parent==this.ad?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,s.right=t,t.parent=s},ya.ld.prototype.md=function(t){if(this.contains(t))this.gd(t).key=t;else{var s=new ya.hd(this);s.key=t;for(var i=this.ad,e=this.root;e!=this.ad;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;s.parent=i,i==this.ad?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.ad,s.right=this.ad,s.color=Ma,this.yd(s),this.size++}},ya.ld.prototype.yd=function(t){for(;t!=this.ad&&t!=this.root&&t.parent.color==Ma;){var s;t.parent==t.parent.parent.left?(s=t.parent.parent.right).color==Ma?(t.parent.color=!1,s.color=!1,t.parent.parent.color=Ma,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.dd(t)),t.parent.color=!1,t.parent.parent.color=Ma,t.parent.parent!=this.ad&&this.pd(t.parent.parent)):(s=t.parent.parent.left).color==Ma?(t.parent.color=!1,s.color=!1,t.parent.parent.color=Ma,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.pd(t)),t.parent.color=!1,t.parent.parent.color=Ma,t.parent.parent!=this.ad&&this.dd(t.parent.parent))}this.root.color=!1},ya.ld.prototype.Md=function(t){var s,i;(i=(s=t.left==this.ad||t.right==this.ad?t:this.wd(t)).left!=this.ad?s.left:s.right).parent=s.parent,s.parent==this.ad?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.Sd(i),this.size--},ya.ld.prototype.Sd=function(t){for(;t!=this.root&&0==t.color;){var s;t==t.parent.left?((s=t.parent.right).color==Ma&&(s.color=!1,t.parent.color=Ma,this.dd(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=Ma,t=t.parent):(0==s.right.color&&(s.left.color=!1,s.color=Ma,this.pd(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.dd(t.parent),t=this.root)):((s=t.parent.left).color==Ma&&(s.color=!1,t.parent.color=Ma,this.pd(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=Ma,t=t.parent):(0==s.left.color&&(s.right.color=!1,s.color=Ma,this.dd(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.pd(t.parent),t=this.root))}t.color=!1},ya.ld.prototype.remove=function(t){var s=this.gd(t);if(s!=this.ad){var i=s.key;return this.Md(s),i}return null},ya.ld.prototype.Td=function(t,s){this.remove(s)},ya.ld.prototype.min=function(t){for(;t.left!=this.ad;)t=t.left;return t},ya.ld.prototype.max=function(t){for(;t.right!=this.ad;)t=t.right;return t},ya.ld.prototype.wd=function(t){if(t.right!=this.ad)return this.min(t.right);for(var s=t.parent;s!=this.ad&&t==s.right;)t=s,s=s.parent;return s},ya.ld.prototype.bd=function(t){if(t.left!=this.ad)return this.max(t.left);for(var s=t.parent;s!=this.ad&&t==s.left;)t=s,s=s.parent;return s},ya.ld.prototype.vd=function(t){if(this.size>0){var s=this.gd(t);if(s==this.ad)return null;if(s.right!=this.ad)return this.min(s.right).key;for(var i=s.parent;i!=this.ad&&s==i.right;)s=i,i=i.parent;return i!=this.ad?i.key:null}return null},ya.ld.prototype.xd=function(t){if(this.size>0){var s=this.gd(t);if(s==this.ad)return null;if(s.left!=this.ad)return this.max(s.left).key;for(var i=s.parent;i!=this.ad&&s==i.left;)s=i,i=i.parent;return i!=this.ad?i.key:null}return null},ya.ld.prototype.Cd=function(){return this.min(this.root).key},ya.ld.prototype.Id=function(){return this.max(this.root).key},ya.ld.prototype.gd=function(t){for(var s=this.root;s!=this.ad&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},ya.ld.prototype.contains=function(t){return null!=this.gd(t).key},ya.ld.prototype.getValues=function(){var t=[];return this.forEach((function(s){t.push(s)})),t},ya.ld.prototype.fd=function(t){if("array"==ya.Gd(t))for(var s=0;s<t.length;s++)this.md(t[s]);else if("function"==ya.Gd(t.forEach))t.forEach(this.md,this);else if("function"==ya.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.md(i[s])}else if("object"==ya.Gd(t))for(var e in t)this.md(t[e])},ya.ld.prototype.Ed=function(t){if("array"==ya.Gd(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==ya.Gd(t.forEach))t.forEach(this.Td,this);else if("function"==ya.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.remove(i[s])}else if("object"==ya.Gd(t))for(var e in t)this.remove(t[e])},ya.ld.prototype.Nd=function(t){if("array"==ya.Gd(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==ya.Gd(t.forEach))return t.every(this.contains,this);if("function"==ya.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==ya.Gd(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},ya.ld.prototype.range=function(t,s){var i=[];return this.Dd((function(t){i.push(t)}),t,s),i},ya.ld.prototype._d=function(t,s){if(!this.Ad())for(var i=this.min(this.root);i!=this.ad;){if(t.call(s,i.key,this))return;i=this.wd(i)}},ya.ld.prototype.Ld=function(t,s,i){if(!this.Ad())for(var e=this.gd(s);e!=this.ad;){if(t.call(i,e.key,this))return;e=this.wd(e)}},ya.ld.prototype.traverseTo=function(t,s,i){if(!this.Ad())for(var e=this.min(this.root),n=this.gd(s);e!=n;){if(t.call(i,e.key,this))return;e=this.wd(e)}},ya.ld.prototype.Dd=function(t,s,i,e){if(!this.Ad())for(var n=this.gd(s),r=this.gd(i);n!=r;){if(t.call(e,n.key,this))return;n=this.wd(n)}},ya.ld.prototype.Od=function(t,s){if(!this.Ad())for(var i=this.max(this.root);i!=this.ad;){if(t.call(s,i.key,this))return;i=this.bd(i)}},ya.ld.prototype.forEach=function(t,s){if(!this.Ad())for(var i=this.min(this.root);i!=this.ad;i=this.wd(i))t.call(s,i.key,i.key,this)},ya.ld.prototype.some=function(t,s){if(this.Ad())return!1;for(var i=this.min(this.root);i!=this.ad;i=this.wd(i))if(t.call(s,i.key,i.key,this))return!0;return!1},ya.ld.prototype.every=function(t,s){if(this.Ad())return!1;for(var i=this.min(this.root);i!=this.ad;i=this.wd(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},ya.ld.prototype.map=function(t,s){var i=[];if(this.Ad())return i;for(var e=this.min(this.root);e!=this.ad;e=this.wd(e))i.push(t.call(s,e.key,e.key,this));return i},ya.ld.prototype.filter=function(t,s){var i=[];if(this.Ad())return i;for(var e=this.min(this.root);e!=this.ad;e=this.wd(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},ya.ld.prototype.Rd=function(){return this.size},ya.ld.prototype.Ad=function(){return 0==this.size},ya.ld.prototype.isSubsetOf=function(t){var s=ya.Rd(t);if(this.Rd()>s)return!1;var i=0;if(this.Ad())return!0;for(var e=this.min(this.root);e!=this.ad;e=this.wd(e))ya.contains.call(t,t,e.key)&&i++;return i==this.Rd()},ya.ld.prototype.intersection=function(t){var s=new ya.ld(this.compare);if(this.Ad())return s;for(var i=this.min(this.root);i!=this.ad;i=this.wd(i))t.contains.call(t,i.key,i.key,this)&&s.md(i.key);return s},ga.ld=class extends ga.Un{constructor(t){super(),this.Pd=new ya.ld(t),this.kd=!1,this.Fd=new Set,this.jd=new Set}ju(t){this.kd?this.Pd.contains(t)?this.jd.delete(t):this.Fd.add(t):this.Pd.md(t)}Zf(t){this.kd?this.Pd.contains(t)?this.jd.add(t):this.Fd.delete(t):this.Pd.remove(t)}Ys(t){return this.kd?!!this.Fd.has(t)||!this.jd.has(t)&&this.Pd.contains(t):this.Pd.contains(t)}Nu(){this.Pd.clear(),this.Fd.clear(),this.jd.clear()}toArray(){if(this.kd)throw new Error("cannot be used in queueing mode");return this.Pd.getValues()}Lu(){return this.Pd.Rd()+this.Fd.size-this.jd.size}Du(){return 0===this.Lu()}zd(){if(this.Du())throw new Error("empty set");if(this.kd)throw new Error("cannot be used in queueing mode");const t=this.Pd;return t.min(t.root).key}Bd(){if(this.Du())throw new Error("empty set");if(this.kd)throw new Error("cannot be used in queueing mode");const t=this.zd();return this.Zf(t),t}$d(t){if(t=!!t,this.kd!==t&&(this.kd=t,!t)){for(const t of this.jd)this.Pd.remove(t);this.jd.clear();for(const t of this.Fd)this.Pd.md(t);this.Fd.clear()}}Ud(t){this.Pd.forEach(t)}*values(){if(this.Du())return;const t=this.Pd;for(let s=t.min(t.root);s!=t.ad;s=t.wd(s))yield s.key}[Symbol.iterator](){return this.values()}}}{const Sa=self.Gs;Sa.Wd=class{constructor(t=Sa.hardwareConcurrency){this.Yd=t,this.Qd=[],this.Vd=0}ju(t){return new Promise(((s,i)=>{this.Qd.push({if:t,resolve:s,reject:i}),this.Jd()}))}Hd(t){for(let s=0,i=this.Qd.length;s<i;++s)if(this.Qd[s].if===t)return s;return-1}qd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to resolve");this.Qd[i].resolve(s),this.Qd.splice(i,1)}Zd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to reject");this.Qd[i].reject(s),this.Qd.splice(i,1)}async Jd(){if(!this.Qd.length)return;if(this.Vd>=this.Yd)return;this.Vd++;const t=this.Qd.shift();try{const s=await t.if();t.resolve(s)}catch(s){t.reject(s)}this.Vd--,this.Jd()}static async Xd(t,s){const i=[];let e=!1;const n=async t=>{let n;for(;n=s.pop();){if(e)return;try{i.push(await n())}catch(t){throw e=!0,t}}},r=[];for(;t--;)r.push(n());return await Promise.all(r),i}}}{const Ta=self.Gs;Ta.Kd=class{constructor(t,s,i){this.Rf=t,this.tp=s,this.sp=i||2*s,this.ip=-1,this.ep=-1/0,this.np=()=>this.rp(),this.hp=!1,this.op=!1,this.ap=null}lp(t){this.op=!!t}up(){return void 0!==Ta.cp&&Ta.cp.fp()?this.sp:this.tp}pp(...t){if(-1!==this.ip)return;this.ap=t;let s=Ta.Lf(),i=s-this.ep,e=this.up();i>=e&&this.op?(this.ep=s,this.mp()):this.ip=self.setTimeout(this.np,Math.max(e-i,4))}mp(){this.hp=!0;const t=this.ap;this.ap=null,t?this.Rf(...t):this.Rf(),this.hp=!1}jf(){this.hp||(this.gp(),this.ap=null,this.ep=Ta.Lf())}rp(){this.ip=-1,this.ep=Ta.Lf(),this.mp()}gp(){-1!==this.ip&&(self.clearTimeout(this.ip),this.ip=-1)}Qn(){this.gp(),this.Rf=null,this.ap=null,this.np=null}}}{const ba=self.Gs;ba.yp=class{constructor(){this.Mp=new Map,this.wp=!1,this.Sp=null,this.Tp=null,this.bp=null,this.vp=null}xp(t){this.wp=!!t}Cp(){return this.wp}Ip(t){this.Sp=t}Gp(t){if(!this.Sp)throw new Error("no get base size callback set");return this.Sp(t)}Ep(t){this.Tp=t}Np(t,s,i,e,n,r){if(!this.Tp)throw new Error("no raster at size callback set");return this.Tp(t,s,i,e,n,r)}Dp(t){this.bp=t}_p(t){if(!this.bp)throw new Error("no release result callback set");this.bp(t)}Ap(t){this.vp=t}Lp(){if(!this.vp)throw new Error("no redraw callback set");this.vp()}Op(t){let s=this.Mp.get(t);return s||(s=ba.Yn(ba.Rp,this,t),this.Mp.set(t,s)),s.Pp(),s}kp(t){this.Mp.delete(t.Fp())}jp(){for(const t of this.Mp.values())t.zp(),t.Bp()}}}{const va=self.Gs,xa=4096;va.Rp=class{constructor(t,s){this.$p=t,this.Up=s,this.Wp=0,this.Yp=0,this.Qp=0,this.Vp=this.$p.Gp(s).then((t=>{this.$p&&(this.Yp=t[0],this.Qp=t[1],this.$p.Lp())})).catch((t=>{console.error("[SVG] Error loading SVG: ",t),this.Jp=!0,this.$p&&this.$p.Lp()})),this.Hp=0,this.qp=0,this.Zp=0,this.Xp=0,this.Kp=!1,this.tm=null,this.sm=!1,this.Jp=!1}Qn(){if(this.Wp<=0)throw new Error("already released");this.Wp--,0===this.Wp&&this.im()}zp(){this.tm&&(this.$p._p(this.tm),this.tm=null)}im(){this.zp(),this.$p.kp(this),this.$p=null}Fp(){return this.Up}Pp(){this.Wp++}nm(){return this.Wp>0}rm(){return this.tm}Bp(){this.sm=!0}async hm(t,s,i){if(0===s||0===i||this.Jp)return;if(this.Kp)return;let e=va.Tr(Math.ceil(s)),n=va.Tr(Math.ceil(i));const r=Math.max(e,n);if(r>4096){const t=4096/r;s*=t,i*=t,e=Math.min(Math.ceil(e*t),4096),n=Math.min(Math.ceil(n*t),4096)}if(s<e&&i<n){const t=s/i;e/n>t?(s=n*t,i=n):(s=e,i=e/t)}if(this.$p.Cp()&&(e=Math.ceil(s),n=Math.ceil(i)),e<=this.Hp&&n<=this.qp&&!this.sm)return;this.Kp=!0,this.Hp=e,this.qp=n;const h=await this.$p.Np(this.Up,t,this.Hp,this.qp,s,i);this.$p&&(this.zp(),this.tm=h,this.Zp=s,this.Xp=i,this.Kp=!1,this.sm=!1,this.$p.Lp())}om(){return this.Vp}am(){return this.Yp}lm(){return this.Qp}um(){return this.Zp}fm(){return this.Xp}dm(){return this.Jp}}}{let Ca=function(t){return _a.get(t)};lookupHtmlEntity=Ca;const Ia=self.Gs;Ia.pm="\ufeff";const Ga=new Set("0123456789");Ia.gm=function(t){return Ga.has(t)};const Ea=new Set(" \t\n\r            ​\u2028\u2029  　");Ia.ym=function(t){return Ea.has(t)},Ia.Mm=function(t){return[...t].filter((t=>!Ia.ym(t))).join("")},Ia.wm=function(t){for(const s of t)if(!Ia.ym(s))return!1;return!0},Ia.Sm=function(t){for(const s of t)if(!Ia.ym(s))return!1;return!0},Ia.Tm=function(t){return 1===t.length&&t.charCodeAt(0)<32},Ia.bm=function(t){return[...t].filter((t=>!Ia.Tm(t))).join("")};let Na=null;try{Na=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}Ia.vm=function(t){return!Ia.ym(t)&&Na&&Na.test(t)};const Da=new Set("0123456789.+-e");Ia.xm=function(t){if(!(t=t.trim()).length)return!1;let s=t.charAt(0);if("-"!==s&&!Ga.has(s))return!1;for(let s of t)if(!Da.has(s))return!1;return!0},Ia.Cm=function(t){let s=t.length;for(;s>0;){let i=t.charAt(s-1);if(!Ia.gm(i))break;--s}return t.substr(0,s)},Ia.Im=function(t){let s=Ia.Cm(t),i=t.substr(s.length);return i=i?(parseInt(i,10)+1).toString():"2",s+i};const _a=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]),Aa=/[&<>"']/g;Ia.Gm=function(t){return t.replace(Aa,Ca)},Ia.Em=function(t){let s=Ia.Nm(t,"\\","\\\\");return s=Ia.Nm(s,'"','\\"'),s=Ia.Nm(s,"\t","\\t"),s=Ia.Nm(s,"\r",""),Ia.Nm(s,"\n","\\n")},Ia.Dm=function(t){let s=Ia.Nm(t,"&","&amp;");return s=Ia.Nm(s,"<","&lt;"),s=Ia.Nm(s,">","&gt;"),Ia.Nm(s,'"',"&quot;")};const La=/[-[\]{}()*+?.,\\^$|#\s]/g;Ia.Zi=function(t){return t.replace(La,"\\$&")},Ia._m=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},Ia.Am=function(t,s){let i=0,e=0;for(;i<s;){if(i=t.indexOf("\n",i),-1===i)return e;e++,i++}return e},Ia.Lm=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());const e=s.length;let n=0,r=0,h=[];for(;(r=t.indexOf(s,n))>-1;)h.push(r),n=r+e;return h},Ia.Nm=function(t,s,i){return t.replaceAll(s,(()=>i))},Ia.Om=function(t,s,i){return t.replace(new RegExp(Ia.Zi(s),"gi"),(()=>i))},Ia.Rm=function(t,s){"string"==typeof s?t.textContent=s:s.Pm()?t.textContent=s.toString():(t.innerHTML=s.km(),s instanceof Ia.pn&&s.Fm(t))},Ia.jm=function(t,s){return t instanceof Ia.dn||t instanceof Ia.pn?t.equals(s):s instanceof Ia.dn||s instanceof Ia.pn?s.equals(t):t===s},Ia.zm=function(t,...s){let i=t;for(let e=0,n=s.length;e<n;++e){const n=`{${e}}`;if(!t.includes(n))throw new Error(`missing placeholder '${n}' in string substitution`);i=i.replace(n,s[e].toString())}return i},Ia.Bm=function(t,...s){let i=t,e=-1,n=-1;for(let r=0,h=s.length;r<h;++r){const h=`{${r}}`;t.includes(h)?(n=r,i=i.replace(h,s[r].toString())):-1===e&&(e=r)}if(e>=0&&n>=0&&e<n)throw new Error(`missing placeholder '${e}' in string substitution`);return i},Ia.$m=function(t,s){let i=t;for(let[t,e]of Object.entries(s))i=i.replaceAll(t,e.toString());return i},Ia.Um=function(t,s){return t>s?1:t<s?-1:0},Ia.Wm=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return i>e?1:i<e?-1:0};const Oa=new self.Intl.Segmenter;Ia.Ym=function(t){const s=[];for(const i of Oa.segment(t))s.push(i.segment);return s},Ia.Qm=function*(t){for(const s of Oa.segment(t))yield s.segment},Ia.Vm=function(t){let s=0;for(const i of Oa.segment(t))++s;return s};const Ra=1024,Pa=1048576,ka=1073741824,Fa=1099511627776;Ia.Jm=function(t,s){let i="common."+(s?"dataRates":"dataSizes")+".";const e=self.Hm;if(t<1024)return e(i+"bytes",t);if(t<1048576){let s=t/1024;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"kilobytes",s)}if(t<ka){let s=t/1048576;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"megabytes",s)}if(t<Fa){let s=t/ka;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"gigabytes",s)}{let s=t/Fa;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"terabytes",s)}};const ja={qm:!1,Zm:!0,Xm:!0,Km:!0,tg:!0};Ia.sg=function(t,s){s=Object.assign({},ja,s),Ia.eg.ig("common.time");const i=[],e=self.lang,n=self.ng;if(s.Zm){const s=Math.floor(t/86400);s>0&&(t-=24*s*3600,i.push(n(".days",null,s)))}if(s.Xm){const s=Math.floor(t/3600);(s>0||i.length)&&(t-=3600*s,i.push(n(".hours",null,s)))}if(s.Km){const e=Math.floor(t/60);(e>0||i.length||!s.tg)&&(t-=60*e,i.push(n(".minutes",null,e)))}if(s.tg){const s=Math.floor(t%60);i.push(n(".seconds",null,s))}const r=(s.qm?e(".approx-prefix"):"")+i.join(e(".separator"));return Ia.eg.rg(),r},Ia.hg=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),n=s-e.length;for(let t=0;t<n;++t)i+="0";return i+e},Ia.og=function(t){return t.toLowerCase().replace(/\b\w/g,(t=>t.toUpperCase()))},Ia.ag=function(t,s){let i=t.split(".").map((t=>t.trim())),e=s.split(".").map((t=>t.trim()));Ia.xh(i,4,"0"),Ia.xh(e,4,"0"),i=i.map((t=>parseInt(t,10))),e=e.map((t=>parseInt(t,10)));for(let t=0;t<4;++t){const s=i[t]-e[t];if(0!==s)return s<0?-1:1}return 0},Ia.lg=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const s=Math.floor(16*Math.random());return("x"===t?s:3&s|8).toString(16)}))},Ia.ug=function(t,s){if(t.length!==s.length)throw new Error("strings must be same length");let i=0;for(let e=0,n=t.length;e<n;++e)t.charAt(e)!==s.charAt(e)&&++i;return i},Ia.cg=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,n,r,h,o;for(t.length>s.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(r=e,n=1;n<=t.length;n++)h=s[e-1]===t[n-1]?o[n-1]:Math.min(o[n-1]+1,Math.min(r+1,o[n]+1)),o[n-1]=r,r=h;o[t.length]=r}return o[t.length]}}{let za=function(t,s,i){const e=Ua.get(i);if(!e)return"class"===i?s?"</span>":`<span class="bbclass${Ha++}">`:t;if("string"==typeof e){if("a"===e&&0===Va.length||"abbr"===e&&0===Ja.length)return t;if("a"!==e||s){if("abbr"!==e||s)return"<"+s+e+">";{const t=parseInt(i.substring(3),10)-1;if(t<0||t>=Ja.length)throw new Error("invalid bbcode tip substitution");const s=Ja[t];let e="";if("string"==typeof s?e=s:"function"==typeof s&&(e=s()),"string"!=typeof e)throw new TypeError("invalid bbcode tip");return`<abbr title="${Ba.Nm(e,'"',"&quot;")}">`}}{const t=parseInt(i.substring(1),10)-1;if(t<0||t>=Va.length)throw new Error("invalid bbcode link substitution");const s=Va[t];if("string"==typeof s)return`<a href="${Va[t]}">`;if("function"==typeof s)return`<a class="bblink${t}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(e)){let t=e[0],i=e[1];return s?"</"+t+">":`<${t} class="${i}">`}};bbToHtmlReplacerFunc=za;const Ba=self.Gs,$a=self.assert,Ua=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),Wa=new Set(["icon"]),Ya=/\[(\/?)([a-zA-Z0-9]+)\]/g,Qa=/\[(\/?)([^\[\n]*?)\]/g;let Va=null,Ja=null,Ha=0;const qa=/\n/g;Ba.pn=class{constructor(t,s){if(this.fg=s&&s.dg?t:Ba.Gm(t),this.pg="",this.mg=!1,this.gg=[],this.yg=[],s){if(this.mg=!!s.Mg,s.links){if(s.links.length>9)throw new Error("too many links");this.gg=s.links}if(s.wg){if(s.wg.length>9)throw new Error("too many tips");this.yg=s.wg}}this.Sg=this.fg.includes("["),this.Tg=this.mg&&this.fg.includes("\n"),this.bg=!this.Sg&&!this.Tg&&!this.fg.includes("&"),this.vg=!1,this.xg=[]}toString(){return this.fg}valueOf(){return this.fg}Pm(){return this.bg}Cg(){return this.Sg?this.fg.replace(Ya,""):this.fg}km(){if(this.bg)return this.fg;if(!this.pg&&this.fg){let t=this.fg;this.Sg&&(Ha=0,Va=this.gg,Ja=this.yg,t=t.replace(Ya,za),Va=null,Ja=null),this.Tg&&(t=t.replace(qa,"<br>")),this.pg=t}return this.pg}Fm(t){if(this.gg.length)for(let s=0,i=this.gg.length;s<i;++s){const i=this.gg[s];if("function"!=typeof i)continue;const e=t.querySelector(".bblink"+s);if(!e)throw new Error("unable to attach BBString link handler");e.onclick=i}}equals(t){return t instanceof Ba.dn?this.km()===t.km():t instanceof Ba.pn?this.fg===t.fg:this.fg===t}Ig(){if(this.vg)return this.xg;const t=[],s=this.fg,i=[];Qa.lastIndex=0;let e=0,n=null;for(;null!==(n=Qa.exec(s));){const r=n.index;if(r>0&&"\\"===s.charAt(r-1))continue;const h=n[0],o=n[1],a=n[2],l=s.substring(e,r);if(e=r+h.length,l&&t.push({text:l,Gg:i.slice(0)}),a)if(o){const t=a.toLowerCase();for(let s=i.length-1;s>=0;--s)if(i[s].tag===t){i.splice(s,1);break}}else{let s=a,e=null;const n=a.indexOf("=");if(-1!==n?(s=a.substring(0,n).toLowerCase(),e=a.substring(n+1)):s=s.toLowerCase(),Wa.has(s)){if("icon"!==s)throw new Error(`unknown self-closing tag ${s}`);t.push({icon:e,Gg:i.slice(0)})}else i.push({tag:s,Eg:e})}}e<s.length&&t.push({text:s.substring(e),Gg:i.slice(0)});for(const s of t)s.text&&(s.text=this.Ng(s.text));return this.xg=t.map((t=>t.icon?Ba.Yn(Ba.Dg,{icon:t.icon,Gg:t.Gg}):Ba.Yn(Ba._g,{Ag:Ba.Ym(t.text),Gg:t.Gg}))),this.vg=!0,this.xg}Ng(t){return t=Ba.Nm(t,"\\[","["),Ba.Nm(t,"\\\\","\\")}static Lg(t){return Ba.Yn(Ba.pn,t,{dg:!0}).Cg()}static Og(t){return t.replace(Qa,"")}}}{let Za=function(t){return" "!==t&&" "!==t&&il.ym(t)},Xa=function(t){return el.has(t)},Ka=function(t){return il.vm(t)&&!Xa(t)},tl=function(t){for(;t.length>0&&Za(t.at(-1));)t.pop()},sl=function(t){return"\n"===t||"\r\n"===t};IsWordBreakWhiteSpace=Za,IsOpeningCJKPunctiationChar=Xa,IsContinuingCJKPunctuationChar=Ka,WordBreakTrimEnd=tl,IsNewline=sl;const il=self.Gs,el=new Set("〈《「『【〔〖〘〚〝");il.Rg=class{constructor(){this.Pg=[],this.kg=null}Fg(){return this.Pg}jg(){return this.Pg.length}zg(t){this.kg=t}Bg(t,s){let i=0,e=0,n=0,r=0,h=0;for(const o of t){if(-1===o.$g()){const t=s(o);o.Ug(t.height),o.Wg(t.fontBoundingBoxAscent||0),o.Yg(t.fontBoundingBoxDescent||0),o.Qg(t.Vg||0),o.Jg()?o.Hg(t.width):o.qg()&&o.Zg(this.kg)}i+=o.$g(),e=Math.max(e,o.Xg()),n=Math.max(n,o.Kg()),r=Math.max(r,o.ty()),h=Math.max(h,o.sy())}return{width:i,height:e,fontBoundingBoxAscent:n,fontBoundingBoxDescent:r,Vg:h}}iy(t,s,i,e,n,r){this.Pg.push(il.Yn(il.Rg.ey,{ny:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:n,Vg:r}))}Rg(t,s,i,e,n){if("string"==typeof t&&(t=[il.Yn(il._g,{Ag:il.Ym(t)})]),il.Sh(this.Pg),!t.length||1===t.length&&t[0].Jg()&&t[0].Du()||i<2)return;if(1===t.length){const e=t[0];if(e.Jg()&&e.hy()<=100&&!e.oy()){let{width:t,height:r,fontBoundingBoxAscent:h,fontBoundingBoxDescent:o,Vg:a}=s(e);if(t+=n,e.Hg(t),e.Ug(r),e.Wg(h||0),e.Yg(o||0),e.Qg(a||0),t<=i)return void this.iy([e],t,r,h,o,a)}}let r;r="word"===e?this.ly(t):"cjk"===e?this.uy(t):this.py(t),this.my(r,s,i,n)}ly(t){const s=[];let i=[],e=!1;for(const n of t){const t=n.gy();if(n.qg())i.length>0&&s.push(i),s.push([n]),i=[];else for(const r of n.yy())if(sl(r))i.length>0&&s.push(i),s.push([il.Yn(il._g,{Ag:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(il.Yn(il._g,{Ag:[r],Gg:t})),e=Za(r);else{const n=Za(r);if(n===e){const s=i.at(-1);s.gy()===t?s.My(r):i.push(il.Yn(il._g,{Ag:[r],Gg:t}))}else s.push(i),i=[il.Yn(il._g,{Ag:[r],Gg:t})],e=n}}return i.length>0&&s.push(i),s}uy(t){const s=[];let i=[],e=!1;for(const n of t){const t=n.gy();if(n.qg())i.length>0&&s.push(i),s.push([n]),i=[];else for(const r of n.yy())if(sl(r))i.length>0&&s.push(i),s.push([il.Yn(il._g,{Ag:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(il.Yn(il._g,{Ag:[r],Gg:t})),e=Xa(r);else if(e||Ka(r)){const s=i.at(-1);s.gy()===t?s.My(r):i.push(il.Yn(il._g,{Ag:[r],Gg:t})),e=Xa(r)}else s.push(i),i=[il.Yn(il._g,{Ag:[r],Gg:t})],e=Xa(r)}return i.length>0&&s.push(i),s}py(t){const s=[];for(const i of t)if(i.Jg()){const t=i.yy();il.Ln(s,t.map((t=>[il.Yn(il._g,{Ag:[t],Gg:i.gy()})])))}else s.push([i]);return s}wy(t){return t.map((t=>t.Sy()))}Ty(t,s){const i=t.length?t.at(-1):null;let e=0;i&&i.Jg()&&s[0].Jg()&&s[0].gy()===i.gy()&&(i.by(s[0].yy()),e=1);for(let i=s.length;e<i;++e){const i=s[e];t.push(i.Sy())}}my(t,s,i,e){let n=[],r=0,h=0,o=0,a=0,l=0;for(const e of t){if(1===e.length&&e[0].Jg()&&1===e[0].hy()&&sl(e[0].yy()[0])){if(0===h){const t=s(il.Yn(il._g,{Ag:[" "],Gg:e[0].gy()}));h=t.height,o=t.fontBoundingBoxAscent||0,a=t.fontBoundingBoxDescent||0,l=t.Vg||0}this.iy(n,r,h,o,a,l),n=[],r=0,h=0,o=0,a=0,l=0;continue}const t=this.wy(n);this.Ty(t,e);const u=this.Bg(t,s),c=u.width;if(c>=i)if(n.length>0&&this.iy(n,r,h,o,a,l),n=[],e[0].Jg()&&il.Sm(e[0].yy()))r=0,h=0,o=0,a=0,l=0;else{this.Ty(n,e);const t=this.Bg(n,s);r=t.width,h=t.height,o=t.fontBoundingBoxAscent,a=t.fontBoundingBoxDescent,l=t.Vg}else n=t,r=c,h=u.height,o=u.fontBoundingBoxAscent,a=u.fontBoundingBoxDescent,l=u.Vg}n.length>0&&this.iy(n,r,h,o,a,l),this.vy(s,e)}vy(t,s){for(const i of this.Pg){const e=i.xy();if(!e.length)continue;let n=e.at(-1);if(n.Jg()){const r=n.yy(),h=r.slice(0);if(tl(h),0===h.length)i.Cy(-n.$g()),e.pop();else if(h.length<r.length){n.Iy(h);const s=t(n).width,e=n.$g()-s;n.Hg(s),i.Cy(-e)}0!==s&&e.length>0&&(n=e.at(-1),n.Cy(s),i.Cy(s))}}}Nu(){il.Sh(this.Pg)}Gy(){return this.Pg.reduce(((t,s)=>Math.max(t,s.$g())),0)}Ey(){return this.Pg.reduce(((t,s)=>t+s.Xg()),0)}}}{const nl=self.Gs;nl.Rg.ey=class{constructor(t){this.xg=t.ny||[],this.Ny=t.width||-1,this.Dy=t.height||-1,this._y=t.fontBoundingBoxAscent||-1,this.Ay=t.fontBoundingBoxDescent||-1,this.Ly=t.Vg||-1,this.Oy=0,this.Ry=0}ny(){return this.xg.values()}*Py(){const t=this.xg;for(let s=t.length-1;s>=0;--s)yield t[s]}xy(){return this.xg}Cy(t){this.Ny+=t}$g(){return this.Ny}Xg(){return this.Dy}ky(){return this._y}ty(){return this.Ay}sy(){return this.Ly}Fy(t){this.Oy=t}jy(){return this.Oy}zy(t){this.Ry=t}By(){return this.Ry}}}{const rl=self.Gs;rl.$y=class{constructor(t){this.Uy=t.Gg||[],this.Ny=t.width||-1,this.Dy=t.height||-1,this._y=t.fontBoundingBoxAscent||-1,this.Ay=t.fontBoundingBoxDescent||-1,this.Ly=t.Vg||-1,this.Oy=0,this.Ry=0}Jg(){return!1}qg(){return!1}gy(){return this.Uy}Wy(t){const s=this.Uy;for(let i=s.length-1;i>=0;--i){const e=s[i];if(e.tag===t)return e}return null}Yy(t){return!!this.Wy(t)}Qy(){const t=new Map;for(const s of this.Uy)t.set(s.tag,s.Eg);return t}Cy(t){this.Ny+=t}Hg(t){this.Ny=t}$g(){return this.Ny}Ug(t){this.Dy=t}Xg(){return this.Dy}Wg(t){this._y=t}Kg(){return this._y}Yg(t){this.Ay=t}ty(){return this.Ay}Qg(t){this.Ly=t}sy(){return this.Ly}Fy(t){this.Oy=t}jy(){return this.Oy}zy(t){this.Ry=t}By(){return this.Ry}}}{const hl=self.Gs;hl._g=class extends hl.$y{constructor(t){super(t),this.Vy=t.Ag}Jg(){return!0}by(t){hl.Ln(this.Vy,t),this.Ny=-1,this.Dy=-1,this._y=-1,this.Ay=-1,this.Ly=-1}My(t){this.Vy.push(t)}Sy(){return hl.Yn(hl._g,{Ag:this.Vy.slice(0),Gg:this.Uy,width:this.Ny,height:this.Dy,fontBoundingBoxAscent:this._y,fontBoundingBoxDescent:this.Ay,Vg:this.Ly})}yy(){return this.Vy}Iy(t){this.Vy=t}hy(){return this.Vy.length}Du(){return 0===this.Vy.length}oy(){return this.Vy.includes("\n")}}}{const ol=self.Gs;ol.Dg=class extends ol.$y{constructor(t){super(t),this.Jy=t.icon}qg(){return!0}Hy(){return this.Jy}Sy(){return ol.Yn(ol.Dg,{icon:this.Jy,Gg:this.Uy,width:this.Ny,height:this.Dy,fontBoundingBoxAscent:this._y,fontBoundingBoxDescent:this.Ay,Vg:this.Ly})}qy(t){if(!t)return null;let s=Number(this.Jy);return String(s)===this.Jy?(s=Math.floor(s),t.Zy(s)):t.Xy(this.Jy)}Zg(t){const s=this.qy(t);this.Ny=s?this.Dy*s.$g()/s.Xg():0}Ky(t){const s=this.qy(t);return s?s.Ky():null}hy(){return 1}}}{const al=self.Gs;al.tM=class{constructor(t){this.sM=new Map,this.iM=t.eM,this.nM=t.rM}Qn(){for(const t of this.sM.values())t.Qn();this.sM.clear()}hM(t){let s=this.sM.get(t);if(s)return s;const i=this.iM(t);return s=al.Yn(al.oM,this,{source:t,aM:i}),this.sM.set(t,s),s}lM(t){return this.sM.has(t)}uM(t){const s=this.sM.get(t);s&&s.Qn(),this.sM.delete(t)}async cM(t){return await this.nM(t)}}}{const ll=self.Gs;ll.oM=class{constructor(t,s){this.fM=t,this.dM=s.source,this.pM=[],this.mM=new Map,this.gM=!1,this.yM=!1,this.MM=null;const i=s.aM.wM;for(let t=0,s=i.length;t<s;++t){const s=i[t],e=ll.Yn(ll.SM,this,{index:t,tag:s.tag,source:s.source,width:s.width,height:s.height});this.pM.push(e),s.tag&&this.mM.set(s.tag.toLowerCase(),e)}}Qn(){for(const t of this.pM)t.Qn();ll.Sh(this.pM),this.mM.clear(),this.fM=null,this.dM=null}TM(){return this.gM}bM(){return this.yM}vM(){return this.MM||(this.MM=this.xM()),this.MM}async xM(){if(this.gM)return;this.gM=!0,this.yM=!0;const t=await this.fM.cM(this.dM);if(!this.fM)return;const s=t.wM;for(let t=0,i=Math.min(s.length,this.pM.length);t<i;++t){const i=s[t].CM;this.pM[t].IM(i)}this.yM=!1}Zy(t){return(t=Math.floor(t))<0||t>=this.pM.length?null:this.pM[t]}Xy(t){return this.mM.get(t.toLowerCase())||null}}}{const ul=self.Gs;ul.SM=class{constructor(t,s){this.GM=t,this.dM=s.source||null,this.EM=s.index,this.NM=s.tag,this.Ny=s.width,this.Dy=s.height,this.DM=null}Qn(){this.Ny=0,this.Dy=0,this.GM=null}_M(){return this.dM}$g(){return this.Ny}Xg(){return this.Dy}IM(t){this.DM=t}Ky(){return this.DM}}}{let cl=function(t,s,i,e){const n=Tl;gl.L(wl,i,s),gl.L(Sl,t,s),gl.It(n,wl,Sl),gl.normalize(n,n),e.set(n[0],n[1],n[2],gl.Ct(t,n))},fl=function(t,s,i,e,n,r,h){const o=h.x,a=h.y,l=h.z,u=h.w,c=h.AM,f=h.LM,d=h.OM,p=1-c,m=1-f,g=1-d;return o*t*c+o*e*p+a*s*f+a*n*m+l*i*d+l*r*g>=u||o*e*c+o*t*p+a*n*f+a*s*m+l*r*d+l*i*g>u},dl=function(t,s,i,e){return e.x*t+e.y*s+e.z*i>=e.w};PlaneFromPoints=cl,IsInFrontOfPlane=fl,IsPointInFrontOfPlane=dl;const pl=self.Gs,ml=self.ls,gl=ml.Ms,yl=ml.ws,Ml=ml.ds,wl=gl.create(),Sl=gl.create(),Tl=gl.create(),bl=yl.create(),vl=Ml.create(),xl=gl.create(),Cl=gl.create(),Il=gl.create(),Gl=gl.create(),El=gl.create(),Nl=gl.create(),Dl=gl.create(),_l=gl.create(),Al=yl.S(0,0,1,1);pl.RM={PM(t,s,i,e,n,r,h){const o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],l=e[2]*t+e[6]*s+e[10]*i+e[14],u=e[3]*t+e[7]*s+e[11]*i+e[15];let c=n[0]*o+n[4]*a+n[8]*l+n[12]*u,f=n[1]*o+n[5]*a+n[9]*l+n[13]*u,d=n[2]*o+n[6]*a+n[10]*l+n[14]*u,p=n[3]*o+n[7]*a+n[11]*l+n[15]*u;return 0!==p&&(p=1/p,c*=p,f*=p,d*=p,h[0]=(.5*c+.5)*r[2]+r[0],h[1]=(.5*f+.5)*r[3]+r[1],h[2]=.5*(1+d),!0)},kM(t,s,i,e,n,r,h){const o=vl,a=bl;return Ml.multiply(o,n,e),null!==Ml.v(o,o)&&(a[0]=(t-r[0])/r[2]*2-1,a[1]=(s-r[1])/r[3]*2-1,a[2]=2*i-1,a[3]=1,yl._t(a,a,o),0!==a[3]&&(a[3]=1/a[3],h[0]=a[0]*a[3],h[1]=a[1]*a[3],h[2]=a[2]*a[3],!0))},FM(t,s,i,e,n,r,h){const o=wl,a=Sl;if(!pl.RM.kM(t,s,0,e,n,r,o))return!1;if(!pl.RM.kM(t,s,1,e,n,r,a))return!1;const l=Sl;gl.L(l,a,o);const u=Tl;gl.set(u,0,0,1);const c=-i,f=gl.Ct(u,l);let d=0;if(0===f){if(0!==gl.Ct(u,o)+c)return!1}else if(d=-(gl.Ct(o,u)+c)/f,d<0)return!1;return gl.St(h,o,l,d),!0}};class Ll{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.AM=NaN,this.LM=NaN,this.OM=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.AM=t>0?1:0,this.LM=s>0?1:0,this.OM=i>0?1:0}}pl.RM.jM=class{constructor(){this.zM=new Ll,this.BM=new Ll,this.$M=new Ll,this.UM=new Ll,this.WM=new Ll,this.YM=new Ll}QM(t,s){const i=Al;pl.RM.kM(0,1,0,t,s,i,xl),pl.RM.kM(1,1,0,t,s,i,Cl),pl.RM.kM(0,0,0,t,s,i,Il),pl.RM.kM(1,0,0,t,s,i,Gl),pl.RM.kM(0,1,1,t,s,i,El),pl.RM.kM(1,1,1,t,s,i,Nl),pl.RM.kM(0,0,1,t,s,i,Dl),pl.RM.kM(1,0,1,t,s,i,_l),cl(Il,xl,El,this.zM),cl(xl,Cl,Nl,this.BM),cl(Cl,Gl,_l,this.$M),cl(Gl,Il,Dl,this.UM),cl(Dl,El,Nl,this.YM),cl(Gl,Cl,xl,this.WM)}VM(t,s,i,e,n,r){return fl(t,s,i,e,n,r,this.zM)&&fl(t,s,i,e,n,r,this.BM)&&fl(t,s,i,e,n,r,this.$M)&&fl(t,s,i,e,n,r,this.UM)&&fl(t,s,i,e,n,r,this.WM)&&fl(t,s,i,e,n,r,this.YM)}JM(t,s,i){return!dl(t,s,i,this.WM)}}}{const Ol=self.Gs,Rl=self.ls,Pl=Rl.Ms,kl=Rl.ws,Fl=Rl.ds,jl=Fl.create(),zl=Pl.S(0,0,0),Bl=Pl.S(0,0,0),$l=Pl.S(0,0,0),Ul=Pl.S(0,1,0),Wl=kl.S(0,0,0,0),Yl=new Ol.El,Ql=new Ol.Rect,Vl=new Ol.El(0,0,1,0,1,1,0,1),Jl={HM:1,qM:1e4},Hl=Fl.S(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Ol.RM.ZM=class{constructor(t){t=Object.assign({},Jl,t),this.Ny=0,this.Dy=0,this.XM=Ol.Kn(45),this.KM=Math.tan(this.XM/2),this.tw=Fl.create(),this.sw=Fl.create(),this.iw=!1,this.ew=t.HM,this.rw=t.qM,this.hw=[],this.ow=new Map,this.aw=null,this.lw=null,this.uw=null,this.cw=null,this.fw=null,this.dw=null,this.pw=null,this.mw=null,this.gw=null,this.yw=null,this.Mw=null,this.ww=null,this.Sw=new Map,this.Tw=null,this.bw=[],this.xw=new Map,this.Cw=0,this.Iw=0,this.Gw=1,this.Ew=[this.Gw],this.Nw=1,this.Dw=[this.Nw],this._w=.5,this.Aw=[this._w],this.Lw=0,this.Ow=!0,this.Rw=!1}Pw(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}kw(){this.Cw=0,this.Iw=0,this.aw=null,this.lw=null,this.uw=null,this.cw=null,this.fw=null,this.dw=null,this.pw=null,this.mw=null,this.gw=null,this.yw=null,this.Mw=null,this.ww=null,this.Fw()}jw(){this.kw(),this.Tw=null}zw(){for(const t of this.hw)t.Qn();this.kw()}$g(){return this.Ny}Xg(){return this.Dy}Bw(t){return this.$w()?100:t/(2*this.Uw())}Ww(t){return this.$w()?t/(2*this.Uw())/this.Bw(t):1}Yw(t){this.ew=t}Qw(){return this.ew}Vw(t){this.rw=t}Jw(){return this.rw}Hw(t){this.XM=t,this.KM=Math.tan(this.XM/2)}qw(){return this.XM}Uw(){return this.KM}Zw(){this.iw=!1}Xw(){this.iw=!0}$w(){return!this.iw}Kw(){return this.iw}tS(t,s,i=.5,e=.5){const n=this.Qw(),r=this.Jw(),h=this.qw();if(.5===i&&.5===e)this.sS()?Fl.ut(t,h,s,n,r):Fl.perspective(t,h,s,n,r);else{const h=2*(i=1-i)-2,o=2*i,a=2*e-2,l=2*e,u=this.Uw()*n,c=u*s;Fl.ot(t,h*c,o*c,a*u,l*u,n,r),this.sS()&&Fl.mul(t,Hl,t)}}iS(t,s,i,e=1){const n=self.devicePixelRatio,r=2*this.Bw(i)*n*this.Uw()/i,h=s*r/(2*n*e),o=i*r/(2*n*e),a=-h,l=h,u=-o,c=o;this.sS()?Fl.gt(t,a,l,u,c,this.Qw(),this.Jw()):Fl.dt(t,a,l,u,c,this.Qw(),this.Jw())}eS(t,s,i,e,n,r=1){let h=1;this.$w()&&(h=200*this.Uw()/n);const o=$l;Pl.set(o,h,-h,1);const a=zl,l=Bl;Pl.multiply(a,s,o),Pl.multiply(l,i,o),Fl.yt(t,a,l,e||Ul),o[2]=r,Fl.scale(t,t,o)}nS(t,s,i,e,n,r,h,o){return Pl.set(zl,t,s,i),Pl.set(Bl,e,n,r),this.eS(jl,zl,Bl,Ul,h,o),jl}rS(t){this.hw.push(t),this.ow.set(t.Nc(),t)}hS(t){const s=this.hw.indexOf(t);-1!==s&&this.hw.splice(s,1),this.ow.delete(t.Nc())}Fw(){Ol.Sh(this.hw),this.ow.clear()}oS(t){return this.ow.get(t)||null}aS(){return this.aw}lS(){this.uS(this.aw)}cS(){return this.lw}fS(){this.uS(this.lw)}dS(){this.uS(this.uw)}pS(){this.uS(this.cw)}mS(){this.uS(this.fw)}gS(){this.uS(this.dw)}yS(){this.uS(this.pw)}MS(){this.uS(this.mw)}wS(){this.uS(this.gw)}SS(){this.uS(this.yw)}TS(){this.uS(this.Mw)}bS(){this.uS(this.ww)}vS(t){this.Tw=t}xS(){return this.Tw}CS(t,s,i,e){const n=Ol.RM.GS.IS(t,s,i,e);let r=this.Sw.get(n);return r||(r=Ol.Yn(Ol.RM.GS,this,t,s,i,e),this.Sw.set(n,r)),r.ES(),r}NS(t){t.DS(),0===t._S()&&(this.Tw===t&&(this.Tw=null),this.Sw.delete(t.AS()),t.Qn())}LS(t){Ol.Sh(this.bw),this.xw.clear();let s=0;for(const i of t){const t=i[0],e=i[1],n=i[2];this.bw.push([e,n]),this.xw.set(t,{number:s,OS:e,RS:n}),s++}}PS(t){return this.bw[t]}kS(t){return this.PS(t)[0]}FS(t){return this.PS(t)[1]}jS(t){const s=this.xw.get(t);if(void 0===s)throw new Error("invalid blend name");return s}zS(t){const s=this.xw.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}BS(t){this.Cw=t}$S(){return this.Cw}US(t){this.Iw=t,this.Tw=null}WS(){return this.Iw}ey(t,s,i,e){const n=Ol.rr(t,s,i,e),r=Math.sin(n),h=Math.cos(n),o=.5*this.Gw,a=r*o,l=h*o,u=this.Nw;2===u?this.YS(t,s,0,i,e,0,a,l):1===u?this.QS(t,s,0,i,e,0,a,l):this.VS(t,s,0,i,e,0,a,l)}JS(t,s,i,e,n,r){const h=Ol.rr(t,s,e,n),o=Math.sin(h),a=Math.cos(h),l=.5*this.Gw,u=o*l,c=a*l,f=this.Nw;2===f?this.YS(t,s,i,e,n,r,u,c):1===f?this.QS(t,s,i,e,n,r,u,c):this.VS(t,s,i,e,n,r,u,c)}YS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a-o,u=s+a-h,c=e+a+o,f=n+a+h,d=2*o,p=2*h,m=l+h,g=u-o,y=l-h+d,M=u+o+p,w=c+h,S=f-o,T=c-h-d,b=f+o-p;this.HS(m,g,i,w,S,r,T,b,r,y,M,i,Vl)}QS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a-o,u=s+a-h,c=e+a+o,f=n+a+h,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,M=f-o,w=c-h,S=f+o;this.HS(d,p,i,y,M,r,w,S,r,m,g,i,Vl)}VS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a,u=s+a,c=e+a,f=n+a,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,M=f-o,w=c-h,S=f+o;this.HS(d,p,i,y,M,r,w,S,r,m,g,i,Vl)}qS(t,s,i,e,n,r){const h=Ol.rr(t,s,i,e),o=Math.sin(h),a=Math.cos(h),l=.5*this.Gw,u=o*l,c=a*l,f=this.Nw;2===f?this.ZS(t,s,i,e,u,c,n,r):1===f?this.XS(t,s,i,e,u,c,n,r):this.KS(t,s,i,e,u,c,n,r)}ZS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a-r,u=s+a-n,c=i+a+r,f=e+a+n,d=2*r,p=2*n,m=l+n,g=u-r,y=l-n+d,M=u+r+p,w=c+n,S=f-r,T=c-n-d,b=f+r-p;Yl.set(m,g,w,S,T,b,y,M),Ql.set(h,0,o,0),this.tT(Yl,Ql)}XS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a-r,u=s+a-n,c=i+a+r,f=e+a+n,d=l+n,p=u-r,m=l-n,g=u+r,y=c+n,M=f-r,w=c-n,S=f+r;Yl.set(d,p,y,M,w,S,m,g),Ql.set(h,0,o,0),this.tT(Yl,Ql)}KS(t,s,i,e,n,r,h,o){const a=this._w,l=t+a,u=s+a,c=i+a,f=e+a,d=l+n,p=u-r,m=l-n,g=u+r,y=c+n,M=f-r,w=c-n,S=f+r;Yl.set(d,p,y,M,w,S,m,g),Ql.set(h,0,o,0),this.tT(Yl,Ql)}sT(t,s,i,e){const n=.5*this.Gw,r=this.Nw;2===r?this.iT(t,s,i,e,n):1===r?this.eT(t,s,i,e,n):this.nT(t,s,i,e,n)}iT(t,s,i,e,n){this.YS(t,s,0,i,s,0,0,n),this.YS(i,s,0,i,e,0,n,0),this.YS(i,e,0,t,e,0,0,-n),this.YS(t,e,0,t,s,0,-n,0)}eT(t,s,i,e,n){this.QS(t,s,0,i,s,0,0,n),this.QS(i,s,0,i,e,0,n,0),this.QS(i,e,0,t,e,0,0,-n),this.QS(t,e,0,t,s,0,-n,0)}nT(t,s,i,e,n){this.VS(t,s,0,i,s,0,0,n),this.VS(i,s,0,i,e,0,n,0),this.VS(i,e,0,t,e,0,0,-n),this.VS(t,e,0,t,s,0,-n,0)}rT(t){this.sT(t.Xa(),t.Ka(),t.tl(),t.sl())}hT(t){const s=Ol.rr(t.jr(),t.zr(),t.Br(),t.$r()),i=Math.sin(s),e=Math.cos(s),n=.5*this.Gw,r=i*n,h=e*n,o=this.Nw;2===o?this.oT(t,r,h):1===o?this.aT(t,r,h):this.lT(t,r,h)}oT(t,s,i){this.YS(t.jr(),t.zr(),0,t.Br(),t.$r(),0,s,i),this.YS(t.Br(),t.$r(),0,t.Ur(),t.Wr(),0,i,-s),this.YS(t.Ur(),t.Wr(),0,t.Yr(),t.Qr(),0,-s,-i),this.YS(t.Yr(),t.Qr(),0,t.jr(),t.zr(),0,-i,s)}aT(t,s,i){this.QS(t.jr(),t.zr(),0,t.Br(),t.$r(),0,s,i),this.QS(t.Br(),t.$r(),0,t.Ur(),t.Wr(),0,i,-s),this.QS(t.Ur(),t.Wr(),0,t.Yr(),t.Qr(),0,-s,-i),this.QS(t.Yr(),t.Qr(),0,t.jr(),t.zr(),0,-i,s)}lT(t,s,i){this.VS(t.jr(),t.zr(),0,t.Br(),t.$r(),0,s,i),this.VS(t.Br(),t.$r(),0,t.Ur(),t.Wr(),0,i,-s),this.VS(t.Ur(),t.Wr(),0,t.Yr(),t.Qr(),0,-s,-i),this.VS(t.Yr(),t.Qr(),0,t.jr(),t.zr(),0,-i,s)}uT(t){this.Gw=t,this.Ew[this.Ew.length-1]=t}cT(){return this.Gw}fT(t){if(this.Ew.length>=100)throw new Error("pushed too many line widths - check push/pop pairs");this.Ew.push(t),this.Gw=t}dT(){if(this.Ew.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.Ew.pop(),this.Gw=this.Ew.at(-1)}pT(){this.Nw=0,this.Dw[this.Dw.length-1]=0}mT(){this.Nw=1,this.Dw[this.Dw.length-1]=0}gT(){this.Nw=2,this.Dw[this.Dw.length-1]=0}yT(t){if("butt"===t)this.MT();else if("square"===t)this.wT();else{if("zag"!==t)throw new Error("invalid line cap");this.ST()}}MT(){if(this.Dw.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Dw.push(0),this.Nw=0}wT(){if(this.Dw.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Dw.push(1),this.Nw=1}ST(){if(this.Dw.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Dw.push(2),this.Nw=2}TT(){if(this.Dw.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.Dw.pop(),this.Nw=this.Dw.at(-1)}bT(t){this._w=t,this.Aw[this.Aw.length-1]=t}vT(){return this._w}xT(t){if(this.Aw.length>=100)throw new Error("pushed too many line offsets - check push/pop pairs");this.Aw.push(t),this._w=t}CT(){if(this.Aw.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.Aw.pop(),this._w=this.Aw.at(-1)}IT(t){const s=t.length/2;if(s<3)throw new Error("need at least 3 points");const i=s-2,e=i-1,n=t[0],r=t[1];for(let s=0;s<i;s+=2){const i=2*s,h=t[i+2],o=t[i+3],a=t[i+4],l=t[i+5];if(s===e)this.GT(n,r,h,o,a,l,a,l);else{const s=t[i+6],e=t[i+7];this.GT(n,r,h,o,a,l,s,e)}}}ET(){return 3}NT(){this.DT(!0),this.Lw++}_T(){return this.Lw}AT(){this.Lw++}LT(t){this.Ow=!!t}OT(){return this.Ow}RT(t){this.Rw=!!t}PT(){return this.Rw}kT(){return!1}sS(){return!1}FT(){}jT(){}zT(){}BT(){return this.FT()+this.jT()+this.zT()}$T(){return Ol.Yn(Ol.RM.UT,this)}}}{const ql=self.Gs;ql.RM.WT=class{constructor(t,s){this.Hn=s.name,this.YT=t,this.QT=s.VT||0,this.JT=s.HT||0,this.qT=!!s.ZT,this.XT=!!s.KT,this.tb=!!s.sb,this.ib=!!s.eb,this.nb=!!s.animated,this.rb=!!s.hb,this.ob=!!s.ab,this.lb=!1,this.ub=this.qT||this.rb||0!==this.QT||0!==this.JT}Qn(){this.YT=null}cb(){return this.YT}Nc(){return this.Hn}fb(){return 0!==this.QT||0!==this.JT}pb(){return this.QT}mb(){return this.JT}gb(){return this.qT}yb(){return this.XT}Mb(){return this.tb}wb(){return this.ib}Sb(){return this.nb}Tb(){return this.rb}bb(){return this.ob}xb(){return this.lb}Cb(){return this.ub}Ib(){return!1}}}{const Zl=self.Gs;Zl.RM.GS=class{constructor(t,s,i,e,n){this.YT=t,this.Wp=0,this.Gb=null,this.Eb="",this.Nb=i,this.Db=Zl.Yn(Zl.xo),this.Db.set(e),this._b=n,"string"==typeof s?this.Eb=s:(this.Gb=s,this.Eb=this.Gb.Nc())}Qn(){if(this.Wp>0)throw new Error("releasing state group still in use");this.YT=null,this.Gb=null,this.Eb=""}Ab(){const t=this.YT;t.uS(this.Gb),t.Lb(this.Nb),t.Ob(this.Db),t.US(this._b),t.vS(this)}AS(){return Zl.RM.GS.IS(this.Eb,this.Nb,this.Db,this._b)}ES(){++this.Wp}DS(){--this.Wp}_S(){return this.Wp}Rb(){this.Gb=null}Pb(t){if(this.Gb=t.oS(this.Eb),!this.Gb)throw new Error("failed to restore shader program")}static IS(t,s,i,e){return("string"==typeof t?t:t.Nc())+","+s+","+i.Fo()+","+i.jo()+","+i.zo()+","+i.Bo()+","+e}}}{let Xl=function(t,s,i){const e=i.jr(),n=i.zr(),r=i.Br()-e,h=i.$r()-n;return[e+r*t+(i.Yr()-e)*s,n+h*t+(i.Qr()-n)*s]};interpolateQuad=Xl;const Kl=self.Gs,tu=Kl.Yn(Kl.El);Kl.RM.kb=class{constructor(t,s,i){this.Fb=t,this.jb=s,this.zb=i,this.Na=NaN,this.Da=NaN,this._b=NaN,this.Bb=NaN,this.$b=NaN,this.Na=0,this.Da=0,this._b=0,this.Bb=0,this.$b=0}Ub(t,s,i,e){this.Na=t,this.Da=s,this.Bb=i,this.$b=e}Wb(){return this.Na}Yb(t){this.Na!==t&&(this.Na=t,this.Fb.Qb())}Vb(){return this.Da}Jb(t){this.Da!==t&&(this.Da=t,this.Fb.Qb())}Hb(){return this._b}qb(t){this._b!==t&&(this._b=Math.max(t,0),this.Fb.Qb())}Zb(){return this.Bb}Xb(t){this.Bb=t}Kb(){return this.$b}tv(t){this.$b=t}sv(t,s,i){[this.Na,this.Da]=Xl(t.Na,t.Da,s),this._b=t._b,this.Bb=Kl.Gt(i.Xa(),i.tl(),t.Bb),this.$b=Kl.Gt(i.Ka(),i.sl(),t.$b)}ev(t,s,i){[this.Na,this.Da]=Xl(t.Na,t.Da,s),this._b=t._b,[this.Bb,this.$b]=Xl(t.Bb,t.$b,i)}nv(){return{x:this.Wb(),y:this.Vb(),z:this.Hb(),u:this.Zb(),v:this.Kb()}}rv(t){this.Yb(t.x),this.Jb(t.y),t.hasOwnProperty("z")&&this.qb(t.z),this.Xb(t.u),this.tv(t.v)}hv(){return this.Fb}ov(){return this.jb}av(){return this.zb}},Kl.RM.lv=class{constructor(t,s,i){if(t<2||s<2)throw new Error("invalid mesh size");this.uv=t,this.cv=s,this.fv=i||null,this.dv=[],this.pv=0,this.mv=0,this.gv=1,this.yv=1,this.Mv=0,this.wv=!1;const e=t-1,n=s-1;for(let i=0;i<s;++i){const s=[];for(let r=0;r<t;++r){const t=Kl.Yn(Kl.RM.kb,this,r,i),h=r/e,o=i/n;t.Ub(h,o,h,o),s.push(t)}this.dv.push(s)}}Qn(){Kl.Sh(this.dv)}Sv(){return this.uv}Tv(){return this.cv}bv(){return this.fv}vv(){return this.dv}Qb(){this.wv=!0}xv(){if(!this.wv)return;let t=1/0,s=1/0,i=-1/0,e=-1/0,n=0;for(const r of this.dv)for(const h of r){const r=h.Wb(),o=h.Vb();t=Math.min(t,r),s=Math.min(s,o),i=Math.max(i,r),e=Math.max(e,o),n=Math.max(n,h.Hb())}this.pv=t,this.mv=s,this.gv=i,this.yv=e,this.Mv=n,this.wv=!1}Cv(){return this.xv(),this.pv}Iv(){return this.xv(),this.mv}Gv(){return this.xv(),this.gv}Ev(){return this.xv(),this.yv}Nv(){return this.xv(),this.Mv}Dv(){return this.Nv()>0}_v(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.uv||s<0||s>=this.cv?null:this.dv[s][t]}Av(t,s,i){const e=i instanceof Kl.Rect;if(t.Sv()!==this.Sv()||t.Tv()!==this.Tv())throw new Error("source mesh wrong size");const n=t.dv,r=this.dv;for(let t=0,h=r.length;t<h;++t){const h=n[t],o=r[t];for(let t=0,n=o.length;t<n;++t){const n=h[t],r=o[t];e?r.sv(n,s,i):r.ev(n,s,i)}}}Lv(t){const s=this.dv;let i=s[0];for(let e=1,n=s.length;e<n;++e){const n=s[e];let r=i[0],h=n[0];for(let s=1,e=n.length;s<e;++s){const e=i[s],o=n[s];tu.set(r.Zb(),r.Kb(),e.Zb(),e.Kb(),o.Zb(),o.Kb(),h.Zb(),h.Kb()),t.HS(r.Wb(),r.Vb(),r.Hb(),e.Wb(),e.Vb(),e.Hb(),o.Wb(),o.Vb(),o.Hb(),h.Wb(),h.Vb(),h.Hb(),tu),r=e,h=o}i=n}}Ov(t,s){s||(s=(t,s,i)=>[t,s,i]);const i=this.dv;let e=i[0];for(let n=1,r=i.length;n<r;++n){const h=i[n];let o=e[0],a=h[0];for(let i=1,l=h.length;i<l;++i){const u=e[i],c=h[i],[f,d,p]=s(o.Wb(),o.Vb(),o.Hb()),[m,g,y]=s(u.Wb(),u.Vb(),u.Hb()),[M,w,S]=s(c.Wb(),c.Vb(),c.Hb()),[T,b,v]=s(a.Wb(),a.Vb(),a.Hb());t.JS(f,d,p,m,g,y),t.JS(f,d,p,M,w,S),t.JS(f,d,p,T,b,v),i===l-1&&t.JS(m,g,y,M,w,S),n===r-1&&t.JS(T,b,v,M,w,S),o=u,a=c}e=h}}Rv(t){const s=.001,i=.99999999,e=t.du(),n=[],r=this.Sv()-1,h=this.Tv()-1,o=1/r,a=1/h,l=r-1,u=h-1;let c=e[0],f=e[1],d=Kl.Zn(Math.floor(c*r),0,l),p=Kl.Zn(Math.floor(f*h),0,u),m=!0,g=0,y=0,M=0,w=-1;const S=()=>{c=Kl.Zn(Kl.Gt(c,g,M),0,1),f=Kl.Zn(Kl.Gt(f,y,M),0,1),n.push(c,f)};for(let t=0,T=e.length;t<T;t+=2){c=e[t],f=e[t+1],n.push(c,f),d=Kl.Zn(Math.floor(c*r),0,l),p=Kl.Zn(Math.floor(f*h),0,u);const b=(t+2)%T;for(g=e[b],y=e[b+1],w=-1;;){if(n.length>1e6)throw new Error("Too many mesh poly points");const t=d*o,e=p*a,r=(d+1)*o,h=(p+1)*a;if(m=Kl.qr(c,f,t,e,r,e,r,h),0!==w&&(M=Kl.Hr(c,f,g,y,t,e,r,h,-.001),M>=0&&M<=i))S(),m=!m,w=0;else if(p>0&&2!==w&&(M=Kl.Hr(c,f,g,y,t,e,r,e,s),M>=0&&M<=i))S(),p--,m=!1,w=4;else if(d<l&&3!==w&&(M=Kl.Hr(c,f,g,y,r,e,r,h,s),M>=0&&M<=i))S(),d++,m=!1,w=1;else if(d>0&&1!==w&&(M=Kl.Hr(c,f,g,y,t,e,t,h,s),M>=0&&M<=i))S(),d--,m=!0,w=3;else{if(!(p<u&&4!==w&&(M=Kl.Hr(c,f,g,y,t,h,r,h,s),M>=0&&M<=i)))break;S(),p++,m=!0,w=2}}}return Kl.Yn(Kl.au,n)}Pv(t,s){const i=this.kv(t);this.Fv(i),s.mu(i)}kv(t){const s=[],i=t.du();for(let t=0,e=i.length;t<e;t+=2){const e=i[t],n=i[t+1],[r,h]=this.jv(e,n);s.push(r,h)}return s}jv(t,s){const i=this.Sv()-1,e=this.Tv()-1,n=1/i,r=1/e,h=Kl.Zn(Math.floor(t*i),0,i-1),o=Kl.Zn(Math.floor(s*e),0,e-1),a=h*n,l=o*r,u=(h+1)*n,c=(o+1)*r,f=this._v(h,o),d=this._v(h+1,o+1),p=Kl.qr(t,s,a,l,u,l,u,c),m=p?a+n:a,g=p?l:l+r,y=this._v(h+(p?1:0),o+(p?0:1)),[M,w,S]=Kl.Zr(t,s,a,l,m,g,u,c);return Kl.Xr(M,w,S,f.Wb(),f.Vb(),f.Hb(),y.Wb(),y.Vb(),y.Hb(),d.Wb(),d.Vb(),d.Hb())}Fv(t){const s=[],i=1e-7;let e=t[0],n=t[1],r=e-t.at(-2),h=n-t.at(-1);for(let o=0,a=t.length;o<a;o+=2){const l=(o+2)%a,u=t[l],c=t[l+1],f=u-e,d=c-n,p=Math.abs(f)<i&&Math.abs(r)<i&&Math.sign(d)===Math.sign(h),m=Math.abs(d)<i&&Math.abs(h)<i&&Math.sign(f)===Math.sign(r);(!p&&!m&&Math.abs(f/r-d/h)>.001||0==f&&0===d)&&s.push(e,n),e=u,n=c,r=f,h=d}s.length>=6&&s.length<t.length&&Kl.Ch(t,s)}nv(){return{cols:this.Sv(),rows:this.Tv(),points:this.dv.map((t=>t.map((t=>t.nv()))))}}rv(t){const s=this.Sv(),i=this.Tv();if(t.cols!==s||t.rows!==i)throw new Error("mesh data wrong size");const e=t.points;for(let t=0;t<i;++t){const i=e[t];for(let e=0;e<s;++e)this._v(e,t).rv(i[e])}}}}{let su=function(t,s){let i,e,n,r;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,n=s.RGB,r=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,n=s.RGB,r=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{zv:i,Bv:e,format:n,type:r}};GetFormatSpecifiers=su;const iu=self.Gs,eu=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),nu=new Set(["nearest","bilinear","trilinear"]),ru=new Set(["default","low","high"]),hu=new Set(["clamp-to-edge","repeat","mirror-repeat"]),ou={$v:"clamp-to-edge",Uv:"clamp-to-edge",Wv:"trilinear",Yv:0,Qv:"rgba8",Vv:!0,Jv:"default",Hv:!0,qv:!1,width:-1,height:-1},au={Hv:!0,flipY:!1},lu=new Set;iu.RM.Zv=class{constructor(t){this.YT=t,this.Xv=null,this.Ny=0,this.Dy=0,this.Kv=!0,this.tx="clamp-to-edge",this.sx="clamp-to-edge",this.ix="trilinear",this.nx=0,this.hx="rgba8",this.ox=!1,this.lx="default",this.Wp=0}ux(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData||t instanceof ArrayBuffer||null===t))throw new Error("invalid texture source");if(s=Object.assign({},ou,s),this.Xv)throw new Error("already created texture");if(this.tx=s.$v,this.sx=s.Uv,this.ix=s.Wv,this.nx=s.Yv,this.hx=s.Qv,this.ox=!!s.Vv&&this.YT.OT(),this.lx=s.Jv,!hu.has(this.tx)||!hu.has(this.sx))throw new Error("invalid wrap mode");if(!nu.has(this.ix))throw new Error("invalid sampling");if(!eu.has(this.hx))throw new Error("invalid pixel format");if(!ru.has(this.lx))throw new Error("invalid mipmap quality");if(this.Kv=!0,t instanceof ArrayBuffer||null===t||s.qv){if(this.Ny=s.width,this.Dy=s.height,t instanceof ArrayBuffer&&t.byteLength!==this.Ny*this.Dy*4)throw new Error("ArrayBuffer wrong size")}else this.Ny=t.width,this.Dy=t.height;if(this.Ny<=0||this.Dy<=0)throw new Error("invalid texture data size");if(s.qv){const s=iu.co(this.Ny,this.Dy);s.getContext("2d").drawImage(t,0,0,this.Ny,this.Dy),t=s}const i=iu.Sr(this.Ny)&&iu.Sr(this.Dy),e=this.YT.mx();if(this.Ny>e||this.Dy>e)throw new Error("texture data exceeds maximum texture size");const n=this.YT.gx(),r=this.YT.yx();this.Xv=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.Xv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.Hv),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const h=su(this.hx,n);if(this.YT.Mx()||i||!this.wx())if(r>=2){let s;s=this.ox?Math.floor(Math.log2(Math.max(this.Ny,this.Dy))+1):1,n.texStorage2D(n.TEXTURE_2D,s,h.zv,this.Ny,this.Dy),t instanceof ArrayBuffer?n.texSubImage2D(n.TEXTURE_2D,0,0,0,this.Ny,this.Dy,h.format,h.type,new Uint8Array(t)):null!==t&&n.texSubImage2D(n.TEXTURE_2D,0,0,0,h.format,h.type,t)}else t instanceof ArrayBuffer?n.texImage2D(n.TEXTURE_2D,0,h.Bv,this.Ny,this.Dy,0,h.format,h.type,new Uint8Array(t)):null===t?n.texImage2D(n.TEXTURE_2D,0,h.Bv,this.Ny,this.Dy,0,h.format,h.type,null):n.texImage2D(n.TEXTURE_2D,0,h.Bv,h.format,h.type,t);else{if(null===t)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if(t instanceof ArrayBuffer&&(t=new ImageData(new Uint8ClampedArray(t),this.Ny,this.Dy)),t instanceof ImageData){const s=iu.co(this.Ny,this.Dy);s.getContext("2d").putImageData(t,0,0),t=s}const s=iu.co(iu.Tr(this.Ny),iu.Tr(this.Dy)),i=s.getContext("2d");i.imageSmoothingEnabled="nearest"!==this.ix,i.drawImage(t,0,0,this.Ny,this.Dy,0,0,s.width,s.height),n.texImage2D(n.TEXTURE_2D,0,h.Bv,h.format,h.type,s)}null!==t&&this.Sx(n),n.bindTexture(n.TEXTURE_2D,null),this.YT.Tx(),this.Wp=1,lu.add(this)}bx(t,s,i){if(i=Object.assign({},ou,i),this.Xv)throw new Error("already created texture");if(this.tx=i.$v,this.sx=i.Uv,this.ix=i.Wv,this.hx=i.Qv,this.ox=!!i.Vv&&this.YT.OT(),this.lx=i.Jv,!hu.has(this.tx)||!hu.has(this.sx))throw new Error("invalid wrap mode");if(!nu.has(this.ix))throw new Error("invalid sampling");if(!eu.has(this.hx))throw new Error("invalid pixel format");if(!ru.has(this.lx))throw new Error("invalid mipmap quality");this.Kv=!1,this.Ny=Math.floor(t),this.Dy=Math.floor(s);const e=iu.Sr(this.Ny)&&iu.Sr(this.Dy),n=this.YT.mx();if(this.Ny<=0||this.Dy<=0)throw new Error("invalid texture size");if(this.Ny>n||this.Dy>n)throw new Error("texture exceeds maximum texture size");if(!this.YT.Mx()&&this.wx()&&!e)throw new Error("non-power-of-two tiled textures not supported");const r=this.YT.gx(),h=this.YT.yx();this.Xv=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.Xv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.Hv),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);const o=su(this.hx,r),a=h>=2?o.zv:o.Bv;r.texImage2D(r.TEXTURE_2D,0,a,this.Ny,this.Dy,0,o.format,o.type,null),this.Sx(r),r.bindTexture(r.TEXTURE_2D,null),this.YT.Tx(),this.Wp=1,lu.add(this)}vx(t){if("default"===this.lx)return this.Kv?t.NICEST:t.FASTEST;if("low"===this.lx)return t.FASTEST;if("high"===this.lx)return t.NICEST;throw new Error("invalid mipmap quality")}wx(){return"clamp-to-edge"!==this.tx||"clamp-to-edge"!==this.sx}xx(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}Sx(t){const s=iu.Sr(this.Ny)&&iu.Sr(this.Dy);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.xx(t,this.tx)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.xx(t,this.sx)),"nearest"===this.ix)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.ox=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.YT.Mx())&&this.ox){t.hint(t.GENERATE_MIPMAP_HINT,this.vx(t)),t.generateMipmap(t.TEXTURE_2D);const s="trilinear"===this.ix&&!this.YT.PT();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.ox=!1;const i=this.YT.Cx();i&&this.nx>0&&"nearest"!==this.ix&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.nx,this.YT.Ix()))}Gx(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.Xv||this.Wp<=0)throw new Error("texture not created");if(this.Kv)throw new Error("cannot update static texture");s=Object.assign({},au,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,n=this.YT.yx(),r=this.YT.gx();r.bindTexture(r.TEXTURE_2D,this.Xv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.Hv),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!s.flipY);const h=su(this.hx,r),o=n>=2?h.zv:h.Bv;try{if(this.Ny===i&&this.Dy===e){const s=iu.Sr(this.Ny)&&iu.Sr(this.Dy);r.texSubImage2D(r.TEXTURE_2D,0,0,0,h.format,h.type,t),(s||this.YT.Mx())&&this.ox&&(r.hint(r.GENERATE_MIPMAP_HINT,this.vx(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Ny=i,this.Dy=e;const s=iu.Sr(this.Ny)&&iu.Sr(this.Dy);if(!this.YT.Mx()&&this.wx()&&!s)throw new Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,o,h.format,h.type,t),(s||this.YT.Mx())&&this.ox&&(r.hint(r.GENERATE_MIPMAP_HINT,this.vx(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}r.bindTexture(r.TEXTURE_2D,null),this.YT.Tx()}Ex(){if(this.Wp>0)throw new Error("texture still has references");if(!this.Xv)throw new Error("already deleted texture");lu.delete(this),this.YT.gx().deleteTexture(this.Xv),this.Xv=null}Nx(){return!!this.Xv}Dx(){return this.Xv}cb(){return this.YT}_x(){this.Wp++}Ax(){if(this.Wp<=0)throw new Error("no more references");this.Wp--}Lx(){return this.Wp}$g(){return this.Ny}Xg(){return this.Dy}Ox(){return this.Kv}Rx(){let t=this.Ny*this.Dy;switch(this.hx){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.ox&&(t+=Math.floor(t/3)),t}static Rb(){lu.clear()}static Px(){return lu.values()}}}{const uu=self.Gs,cu=self.assert,fu=self.ls,du=fu.Ms,pu=fu.ds,mu=new Set(["nearest","bilinear","trilinear"]),gu={Wv:"trilinear",alpha:!0,depth:!1,kx:!0,Fx:!0,jx:0},yu=new Set;uu.RM.zx=class{constructor(t){this.YT=t,this.Bx=null,this.$x=null,this.Xv=null,this.Ux=null,this.Ny=0,this.Dy=0,this.Wx=!0,this.ix="trilinear",this.Yx=!0,this.Qx=!1,this.Vx=!0,this.Jx=0,this.Hx=pu.create(),this.qx=0,this.Zx=0,this.Xx=0}Kx(t,s,i){i=Object.assign({},gu,i);const e=this.YT.yx();if(this.Xv||this.Ux)throw new Error("already created render target");if(this.ix=i.Wv,this.Yx=!!i.alpha,this.Qx=!!i.depth,this.Vx=!!i.kx,this.Wx=!!i.Fx,this.Jx=i.jx,!mu.has(this.ix))throw new Error("invalid sampling");if(this.Jx>0&&(e<2||this.Vx))throw new Error("invalid use of multisampling");if(e<2&&(this.Vx=!0),this.Ny=t,this.Dy=s,this.Ny<=0||this.Dy<=0)throw new Error("invalid render target size");this.tC();const n=this.YT.gx();if(this.Bx=n.createFramebuffer(),this.Qx&&(this.$x=n.createFramebuffer()),this.Vx){this.Xv=this.YT.sC(this.Ny,this.Dy,{Wv:this.ix,Qv:this.Yx?"rgba8":"rgb8",Vv:!1});const t=this.Xv.Dx();n.bindFramebuffer(n.FRAMEBUFFER,this.Bx),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),this.Qx&&(n.bindFramebuffer(n.FRAMEBUFFER,this.$x),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0))}else{this.Ux=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.Ux);const t=this.Yx?n.RGBA8:n.RGB8;if(this.Jx>0){const s=n.getInternalformatParameter(n.RENDERBUFFER,t,n.SAMPLES);if(s&&s[0]){const t=s[0];this.Jx>t&&(this.Jx=t)}else this.Jx=0}0===this.Jx?n.renderbufferStorage(n.RENDERBUFFER,t,this.Ny,this.Dy):n.renderbufferStorageMultisample(n.RENDERBUFFER,this.Jx,t,this.Ny,this.Dy),n.bindFramebuffer(n.FRAMEBUFFER,this.Bx),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Ux),this.Qx&&(n.bindFramebuffer(n.FRAMEBUFFER,this.$x),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Ux)),n.bindRenderbuffer(n.RENDERBUFFER,null)}const r=this.YT.iC();this.Qx&&r&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Bx),this.YT.eC()?n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,r,0):n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r)),n.bindFramebuffer(n.FRAMEBUFFER,null),yu.add(this)}nC(t,s){if(this.Ny===t&&this.Dy===s)return;this.Ny=t,this.Dy=s,this.tC();const i=this.YT.gx();i.bindFramebuffer(i.FRAMEBUFFER,this.Bx),this.Xv?this.Xv.Gx(new ImageData(this.Ny,this.Dy)):(i.bindRenderbuffer(i.RENDERBUFFER,this.Ux),i.renderbufferStorage(i.RENDERBUFFER,this.Yx?i.RGBA8:i.RGB8,this.Ny,this.Dy),i.bindRenderbuffer(i.RENDERBUFFER,null));const e=this.YT.iC();this.Qx&&e&&(this.YT.eC()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}Ex(){if(!this.Xv&&!this.Ux)throw new Error("already deleted render target");yu.delete(this);const t=this.YT.gx();this.Xv?(t.bindFramebuffer(t.FRAMEBUFFER,this.Bx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.Qx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.$x),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.YT.rC(this.Xv),this.Xv=null):this.Ux&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Bx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.Qx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.$x),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Ux),this.Ux=null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.YT.yx()>=2&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.Bx),this.Qx&&t.deleteFramebuffer(this.$x);const s=this.YT.hC();s.oC=null,s.aC=null,this.Bx=null}tC(){this.YT.tS(this.Hx,this.Ny/this.Dy),this.qx=this.YT.qw(),this.Zx=this.YT.Qw(),this.Xx=this.YT.Jw()}lC(){return this.Bx}uC(){return this.$x}cb(){return this.YT}cC(){return this.Xv}fC(){return this.YT.qw()===this.qx&&this.YT.Qw()===this.Zx&&this.YT.Jw()===this.Xx||this.tC(),this.Hx}dC(){return"nearest"!==this.ix}pC(){return this.Yx}mC(){return this.Vx}gC(){return this.Qx}$g(){return this.Ny}Xg(){return this.Dy}yC(){return this.Wx}MC(){return this.Jx}wC(){const t={Wv:this.ix,alpha:this.Yx,kx:this.Vx};return this.Wx||(t.width=this.Ny,t.height=this.Dy),t}SC(t){return"nearest"!==(t=Object.assign({},gu,t)).Wv===this.dC()&&!!t.alpha===this.pC()&&!!t.depth===this.gC()&&!(this.YT.yx()>=2&&!!t.kx!==this.mC())&&("number"==typeof t.width||"number"==typeof t.height?!this.yC()&&this.$g()===Math.floor(t.width)&&this.Xg()===Math.floor(t.height):this.yC())}TC(){return this.Xv?this.Xv.Dx():null}Rx(){return this.Xv?this.Xv.Rx():this.Ny*this.Dy*(this.Yx?4:3)}static async bC(t,s){const i=await t.vC(s,!0);return await uu.po(i)}static Rb(){yu.clear()}static xC(){return yu.values()}static CC(t,s){for(const i of yu)i.yC()&&i.nC(t,s)}}}{const Mu=self.Gs,wu=self.ls,Su=wu.Ms,Tu=wu.ds,bu=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);Mu.RM.IC=class extends Mu.RM.WT{static async GC(t,s){const i=t.gx(),e=s.src,n=s.EC,r=s.name,h=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(h,e),i.compileShader(h);const o=i.createShader(i.VERTEX_SHADER);i.shaderSource(o,n),i.compileShader(o);const a=i.createProgram();i.attachShader(a,h),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a);const l=t.NC();if(l?await t.DC((()=>i.getProgramParameter(a,l.COMPLETION_STATUS_KHR))):await Mu.ph(5),!i.getShaderParameter(h,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(h);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+t)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(o);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+t)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const t=i.getProgramInfoLog(a);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+t)}const u=Mu.bm(i.getProgramInfoLog(a)||"").trim();return u&&!Mu.wm(u)&&console.info(`[WebGL] Shader program '${r}' compilation log: `,u),i.deleteShader(h),i.deleteShader(o),a}static async _C(t,s){const i=await Mu.RM.IC.GC(t,s);return new Mu.RM.IC(t,i,s)}constructor(t,s,i){super(t,i);const e=t.gx(),n=t.hC();t.DT(),e.useProgram(s),this.AC=e,this.Gb=s,this.LC="<default-device-transform>"===i.name;const r=e.getAttribLocation(s,"aPos"),h=e.getAttribLocation(s,"aTex");this.OC=e.getAttribLocation(s,"aPoints"),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.RC),e.vertexAttribPointer(r,t.ET(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==h&&(e.bindBuffer(e.ARRAY_BUFFER,t.PC),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(h)),-1!==this.OC&&(e.bindBuffer(e.ARRAY_BUFFER,t.kC),e.vertexAttribPointer(this.OC,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.OC)),e.bindBuffer(e.ARRAY_BUFFER,null),this.FC=new Mu.RM.jC(this,"matP","mat4"),this.zC=new Mu.RM.jC(this,"matMV","mat4"),this.BC=new Mu.RM.jC(this,"color","vec4"),this.$C=new Mu.RM.jC(this,"samplerFront","sampler"),this.UC=new Mu.RM.jC(this,"pointTexStart","vec2"),this.WC=new Mu.RM.jC(this,"pointTexEnd","vec2"),this.YC=new Mu.RM.jC(this,"zElevation","float"),this.QC=new Mu.RM.jC(this,"tileSize","vec2"),this.VC=new Mu.RM.jC(this,"tileSpacing","vec2"),this.JC=new Mu.RM.jC(this,"color2_","vec4"),this.HC=new Mu.RM.jC(this,"outlineThickness","float"),this.qC=new Mu.RM.jC(this,"samplerBack","sampler"),this.ZC=new Mu.RM.jC(this,"samplerDepth","sampler"),this.XC=new Mu.RM.jC(this,"destStart","vec2"),this.KC=new Mu.RM.jC(this,"destEnd","vec2"),this.tI=new Mu.RM.jC(this,"srcStart","vec2"),this.sI=new Mu.RM.jC(this,"srcEnd","vec2"),this.iI=new Mu.RM.jC(this,"srcOriginStart","vec2"),this.eI=new Mu.RM.jC(this,"srcOriginEnd","vec2"),this.nI=new Mu.RM.jC(this,"pixelSize","vec2"),this.rI=new Mu.RM.jC(this,"seconds","float"),this.hI=new Mu.RM.jC(this,"devicePixelRatio","float"),this.oI=new Mu.RM.jC(this,"layerScale","float"),this.aI=new Mu.RM.jC(this,"layerAngle","float"),this.lI=new Mu.RM.jC(this,"layoutStart","vec2"),this.uI=new Mu.RM.jC(this,"layoutEnd","vec2"),this.cI=new Mu.RM.jC(this,"zNear","float"),this.fI=new Mu.RM.jC(this,"zFar","float"),this.dI=!!(this.nI.pI()||this.rI.pI()||this.qC.pI()||this.XC.pI()||this.KC.pI()||this.tI.pI()||this.sI.pI()||this.iI.pI()||this.eI.pI()||this.hI.pI()||this.oI.pI()||this.aI.pI()||this.lI.pI()||this.uI.pI());const o=i.parameters||[];this.mI=[],this.lb=this.nI.pI()||this.tI.pI()||this.sI.pI()||this.iI.pI()||this.eI.pI(),this.gI=!1,this.yI=!1,this.BC.MI(1,1,1,1),this.JC.MI(1,1,1,1),this.$C.wI(0),this.qC.wI(1),this.ZC.wI(2),this.UC.SI(0,0),this.WC.SI(1,1),this.YC.TI(0),this.QC.SI(0,0),this.VC.SI(0,0),this.XC.SI(0,0),this.KC.SI(1,1),this.tI.SI(0,0),this.sI.SI(0,0),this.iI.SI(0,0),this.eI.SI(0,0),this.nI.SI(0,0),this.hI.TI(1),this.cI.TI(t.Qw()),this.fI.TI(t.Jw()),this.oI.TI(1),this.aI.TI(0),this.rI.TI(0),this.lI.SI(0,0),this.uI.SI(0,0),this.HC.TI(1);for(const t of o){const s=t[0],i=t[2],e=new Mu.RM.jC(this,s,i);"color"===i?e.bI(0,0,0):e.TI(0),this.mI.push(e)}this.LC?this.vI(n.xI):(this.CI(n.xI,!0),this.II(n.GI,!0));const a=n.EI;e.useProgram(a?a.Gb:null)}Qn(){this.AC.deleteProgram(this.Gb),this.Gb=null,this.YT.hS(this),this.AC=null,super.Qn()}NI(){return this.AC}DI(){return this.Gb}_I(){return this.mI.length}AI(t){return t<0||t>=this.mI.length?null:this.mI[t].LI()}OI(t){for(let s=0,i=t.length;s<i;++s)if(!this.mI[s].RI(t[s]))return!1;return!0}kI(t){for(let s=0,i=t.length;s<i;++s)this.mI[s].FI(t[s])}jI(t,s,i,e,n,r,h,o,a,l){return!(this.qC.pI()||this.nI.pI()&&!this.nI.zI(n,r)||this.XC.pI()&&!this.XC.zI(t.Xa(),t.Ka())||this.KC.pI()&&!this.KC.zI(t.tl(),t.sl())||this.hI.pI()&&!this.hI.BI(h)||this.oI.pI()&&!this.oI.BI(o)||this.aI.pI()&&!this.aI.BI(a)||this.tI.pI()&&!this.tI.zI(s.Xa(),s.Ka())||this.sI.pI()&&!this.sI.zI(s.tl(),s.sl())||this.iI.pI()&&!this.iI.zI(i.Xa(),i.Ka())||this.eI.pI()&&!this.eI.zI(i.tl(),i.sl())||this.lI.pI()&&!this.lI.zI(e.Xa(),e.Ka())||this.uI.pI()&&!this.uI.zI(e.Ka(),e.sl())||this.rI.pI()&&!this.rI.BI(l))}$I(t,s,i,e,n,r,h,o,a,l){this.qC.pI()||(this.nI.pI()&&this.nI.UI(n,r),this.XC.pI()&&this.XC.UI(t.Xa(),t.Ka()),this.KC.pI()&&this.KC.UI(t.tl(),t.sl()),this.hI.pI()&&this.hI.WI(h),this.oI.pI()&&this.oI.WI(o),this.aI.pI()&&this.aI.WI(a),this.tI.pI()&&this.tI.UI(s.Xa(),s.Ka()),this.sI.pI()&&this.sI.UI(s.tl(),s.sl()),this.iI.pI()&&this.iI.UI(i.Xa(),i.Ka()),this.eI.pI()&&this.eI.UI(i.tl(),i.sl()),this.lI.pI()&&this.lI.UI(e.Xa(),e.Ka()),this.uI.pI()&&this.uI.UI(e.Ka(),e.sl()),this.rI.pI()&&this.rI.WI(l))}CI(t,s){this.gI&&!s||this.LC||(this.FC.pI()&&this.FC.YI(t),this.gI=!0)}QI(){this.gI=!1}II(t,s){this.yI&&!s||this.LC||(this.zC.pI()&&this.zC.YI(t),this.yI=!0)}VI(){this.yI=!1}vI(t){if(!this.LC)throw new Error("not device transform shader");this.FC.YI(t);const s=this.YT,i=s.$g()/2,e=s.Xg()/2,n=s.nS(i,e,s.Bw(s.Xg()),i,e,0,s.Xg());this.zC.YI(n)}JI(t){this.BC.pI()&&this.BC.HI(t[0],t[1],t[2],t[3])}static qI(){return bu}static ZI(t){return t?"\n#extension GL_EXT_conservative_depth : enable\nlayout (depth_greater) out highp float gl_FragDepth;\n\t":""}static XI(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static KI(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static tG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static sG(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static iG(t){return["#version 300 es",Mu.RM.IC.ZI(t),"in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static eG(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static nG(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static rG(t){return["#version 300 es",Mu.RM.IC.ZI(t),"in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static hG(t,s,i,e){let n="";return t>=2?n="#version 300 es\n"+Mu.RM.IC.ZI(e):(s&&(n="#extension GL_EXT_frag_depth : enable\n"),i&&(n+="#extension GL_EXT_shader_texture_lod : enable\n",n+="#extension GL_OES_standard_derivatives : enable\n")),n+`\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n${t>=2?"in":"varying"} vec2 vTex;\n${t>=2?"out lowp vec4 outColor;":""}\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform vec2 pixelSize;\n\nuniform vec2 tileSize;\nuniform vec2 tileSpacing;\nuniform float outlineThickness;\n\nconst float PI = 3.1415926;\n\nlowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)\n{\n\treturn (a + b + (a - b) * cos(x * PI)) / 2.0;\n}\n\nvec3 randVec3(vec2 seed)\n{\n\treturn vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));\n}\n\nlowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)\n{\n\tvec2 posRandom = tileSize;\n\tfloat angleRandom = outlineThickness;\n\t\n\tvec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;\n\t\n\tfloat angle = angleRandom * rand.z * PI;\n\tfloat sin_a = sin(angle);\n\tfloat cos_a = cos(angle);\n\tfloat aspect = pixelSize.x / pixelSize.y;\n\n\tvec2 mid = tile + vec2(0.5, 0.5);\n\tvec2 dp = uv - mid;\n\tdp.x /= aspect;\n\tvec2 r = vec2(dp.x * cos_a - dp.y * sin_a,\n\t\t\t\t  dp.y * cos_a + dp.x * sin_a);\n\tr.x *= aspect;\n\n\tvec2 p = mid + r + (posRandom * rand.xy / 2.0);\n\t\n\t${t>=2?"return textureGrad(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&!i?"return texture2D(samplerFront, p);":""}\n}\n\nvoid main(void) {\n\t\n\t${t<2?"lowp vec4 outColor;":""}\n\t\n\tfloat blendMarginX = tileSpacing.x;\n\tfloat blendMarginY = tileSpacing.y;\n\t\n\tvec2 tile = floor(vTex);\n\tvec2 tex = fract(vTex);\n\tvec2 ddx = ${t>=2||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};\n\tvec2 ddy = ${t>=2||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};\n\t\n\tvec4 curTile = sampleTile(tile, vTex, ddx, ddy);\n\t\n\tbool inLeftMargin = (tex.x < blendMarginX);\n\tbool inRightMargin = (tex.x > 1.0 - blendMarginX);\n\tbool inTopMargin = (tex.y < blendMarginY);\n\tbool inBottomMargin = (tex.y > 1.0 - blendMarginY);\n\t\n\tif (inLeftMargin)\n\t{\n\t\tlowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;\n\t\tlowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = leftMixedTile;\n\t\t}\n\t}\n\telse if (inRightMargin)\n\t{\n\t\tlowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);\n\t\tlowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = rightMixedTile;\n\t\t}\n\t}\n\telse if (inTopMargin)\n\t{\n\t\tlowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t}\n\telse if (inBottomMargin)\n\t{\n\t\tlowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t}\n\telse\n\t{\n\t\toutColor = curTile;\n\t}\n\t\n\toutColor *= color;\n\t${t<2?"gl_FragColor = outColor;":""}\n\t${t>=2?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n\t${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n}\n`}static oG(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static aG(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static lG(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static uG(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static cG(t){return["#version 300 es",Mu.RM.IC.ZI(t),"uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static fG(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static dG(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static pG(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {","\thighmedp float grad = vTex.x / (1.0 - vTex.y);","\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);","}"].join("\n")}static mG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static gG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static yG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static MG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static wG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const vu=self.Gs,xu=self.ls,Cu=xu.ds,Iu=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);vu.RM.jC=class{constructor(t,s,i){if(!Iu.has(i))throw new Error("invalid uniform type");this.fv=t,this.AC=this.fv.NI(),this.Hn=s,this.Qc=i,this.SG="color"===this.Qc,this.TG=this.AC.getUniformLocation(this.fv.DI(),s),this.bG=!!this.TG;const e=Iu.get(i);this.vG=new Float32Array(e),this.xG=new Float32Array(e)}Qn(){this.fv=null,this.AC=null,this.TG=null}pI(){return this.bG}LI(){return this.Qc}CG(){return this.SG}TI(t){this.pI()&&(this.vG[0]=t,this.xG.set(this.vG),this.AC.uniform1f(this.TG,t))}wI(t){this.pI()&&(this.vG[0]=t,this.xG.set(this.vG),this.AC.uniform1i(this.TG,t))}SI(t,s){this.pI()&&(this.vG[0]=t,this.vG[1]=s,this.xG.set(this.vG),this.AC.uniform2f(this.TG,t,s))}bI(t,s,i){this.pI()&&(this.vG[0]=t,this.vG[1]=s,this.vG[2]=i,this.xG.set(this.vG),this.AC.uniform3f(this.TG,t,s,i))}MI(t,s,i,e){this.pI()&&(this.vG[0]=t,this.vG[1]=s,this.vG[2]=i,this.vG[3]=e,this.xG.set(this.vG),this.AC.uniform4f(this.TG,t,s,i,e))}IG(t){t=Math.fround(t);const s=this.vG;s[0]!==t&&(s[0]=t,this.AC.uniform1f(this.TG,t))}GG(t){const s=this.vG;s[0]!==t&&(s[0]=t,this.AC.uniform1i(this.TG,t))}EG(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.vG;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.AC.uniform2f(this.TG,t,s))}NG(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.vG;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.AC.uniform3f(this.TG,t,s,i))}HI(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const n=this.vG;n[0]===t&&n[1]===s&&n[2]===i&&n[3]===e||(n[0]=t,n[1]=s,n[2]=i,n[3]=e,this.AC.uniform4f(this.TG,t,s,i,e))}YI(t){const s=this.vG;Cu.O(s,t)||(vu.Mh(s,t,0),this.AC.uniformMatrix4fv(this.TG,!1,t))}RI(t){const s=this.xG;return this.CG()?s[0]===Math.fround(t.Fo())&&s[1]===Math.fround(t.jo())&&s[2]===Math.fround(t.zo()):s[0]===Math.fround(t)}FI(t){const s=this.xG;this.CG()?(s[0]=t.Fo(),s[1]=t.jo(),s[2]=t.zo()):s[0]=t}BI(t){return this.xG[0]===Math.fround(t)}zI(t,s){const i=this.xG;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}WI(t){this.xG[0]=t}UI(t,s){const i=this.xG;i[0]=t,i[1]=s}}}{const Gu=self.Gs,Eu=self.ls,Nu=Eu.ws,Du=Eu.ds,_u=0,Au=1,Lu=2,Ou=3,Ru=4,Pu=5,ku=6,Fu=7,ju=8,zu=9,Bu=10,$u=11,Uu=12,Wu=13,Yu=14,Qu=15,Vu=16,Ju=17,Hu=18,qu=19,Zu=20,Xu=21,Ku=22,tc=23,sc=24,ic=25,ec=26,nc=27,rc=28,hc=29;Gu.RM.DG=class{constructor(t){this._G=t,this.GI=Du.create(),this.xI=Du.create(),this.oC=null,this.aC=null,this.AG=!1,this.LG=Nu.S(1,1,1,1),this.EI=null,this.OG=new Gu.Rect,this.clearColor=Gu.Yn(Gu.xo,0,0,0,0)}},Gu.RM.PG=class{constructor(t){const s=new ArrayBuffer(96);this.Qc=0,this.kG=t,this.AC=t._G.gx(),this.FG=0,this.jG=0,this.zG=null,this.BG=new Float32Array(s,0,16),this.$G=new Float32Array(s,64,4),this.UG=new Float32Array(s,80,4),this.WG=[]}YG(t,s){this.Qc=1,this.FG=t,this.jG=s}QG(){const t=this.AC;t.drawElements(t.TRIANGLES,this.jG,t.UNSIGNED_SHORT,this.FG)}VG(t){this.Qc=2,this.zG=t}JG(){const t=this.AC,s=this.zG;t.bindTexture(t.TEXTURE_2D,s?s.Dx():null)}HG(t){this.Qc=3,t.Uo(this.$G,0)}qG(){const t=this.$G,s=this.kG;Nu.M(s.LG,t),s.EI.JI(t)}ZG(t){this.Qc=21,t.Uo(this.$G,0)}XG(){const t=this.$G,s=this.kG.EI;s.JC.pI()&&s.JC.HI(t[0],t[1],t[2],t[3])}KG(t,s){this.Qc=4,this.FG=t,this.jG=s}tE(){this.AC.blendFunc(this.FG,this.jG)}sE(t,s,i,e){this.Qc=5;const n=this.$G;n[0]=t,n[1]=s,n[2]=i,n[3]=e}iE(){const t=this.$G;this.AC.viewport(t[0],t[1],t[2],t[3])}eE(t){this.Qc=6,Du.M(this.BG,t)}nE(){const t=this.kG,s=t._G.hw,i=t.EI,e=this.BG;for(let t=0,n=s.length;t<n;++t){const n=s[t];n===i?n.CI(e,!0):n.QI()}Du.M(t.xI,e)}rE(t){this.Qc=7,Du.M(this.BG,t)}hE(){const t=this.kG,s=t._G.hw,i=t.EI,e=this.BG;for(let t=0,n=s.length;t<n;++t){const n=s[t];n===i?n.II(e,!0):n.VI()}Du.M(t.GI,e)}oE(t){this.Qc=8,this.zG=t}aE(){const t=this.AC,s=this.zG,i=this.kG;s?(i.oC=s.lC(),i.aC=s.uC(),i.AG&&i.aC?t.bindFramebuffer(t.FRAMEBUFFER,i.aC):t.bindFramebuffer(t.FRAMEBUFFER,i.oC)):(i.oC=null,i.aC=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}lE(t){this.Qc=9,t.Uo(this.BG,0)}uE(t,s,i,e){this.Qc=9;const n=this.BG;n[0]=t,n[1]=s,n[2]=i,n[3]=e}cE(){const t=this.AC,s=this.BG,i=this.kG.clearColor,e=s[0],n=s[1],r=s[2],h=s[3];i.Vo(e,n,r,h)||(t.clearColor(e,n,r,h),i.No(e,n,r,h)),t.clear(t.COLOR_BUFFER_BIT)}fE(t){this.Qc=15,t.Uo(this.BG,0)}dE(){const t=this.BG;this.kG.OG.set(t[0],t[1],t[2],t[3])}pE(t,s){this.Qc=10,this.FG=t,this.jG=1,this.BG[0]=s}mE(){const t=this.AC,s=this.kG,i=s._G.lw;t.useProgram(i.Gb),i.CI(s.xI,!1),i.II(s.GI,!1);const e=s.OG;i.UC.pI()&&i.UC.EG(e.Xa(),e.Ka()),i.WC.pI()&&i.WC.EG(e.tl(),e.sl());const n=this.BG[0];if(i.YC.pI()&&i.YC.IG(n),i.BC.pI()){const t=s.LG;i.BC.HI(t[0],t[1],t[2],t[3])}t.drawArrays(t.POINTS,this.FG/4,this.jG),t.useProgram(s.EI.Gb)}gE(t){this.Qc=11,this.zG=t}yE(){const t=this.AC,s=this.kG,i=this.zG;if(s.EI=i,t.useProgram(i.Gb),i.CI(s.xI,!1),i.II(s.GI,!1),i.BC.pI()){const t=s.LG;i.BC.HI(t[0],t[1],t[2],t[3])}}ME(){this.Qc=12}wE(){const t=this.kG.EI,s=this.AC,i=this.BG,e=this.$G,n=this.UG;if(t.qC.pI()){const t=this.kG._G,i=this.zG;t.SE!==i&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,i?i.Dx():null),t.SE=i,s.activeTexture(s.TEXTURE0))}t.nI.pI()&&t.nI.EG(i[0],i[1]),t.XC.pI()&&t.XC.EG(i[2],i[3]),t.KC.pI()&&t.KC.EG(i[4],i[5]),t.hI.pI()&&t.hI.IG(this.jG),t.oI.pI()&&t.oI.IG(i[6]),t.aI.pI()&&t.aI.IG(i[7]),t.tI.pI()&&t.tI.EG(i[12],i[13]),t.sI.pI()&&t.sI.EG(i[14],i[15]),t.iI.pI()&&t.iI.EG(n[0],n[1]),t.eI.pI()&&t.eI.EG(n[2],n[3]),t.lI.pI()&&t.lI.EG(e[0],e[1]),t.uI.pI()&&t.uI.EG(e[2],e[3]),t.rI.pI()&&t.rI.IG(this.FG)}TE(){this.Qc=13}bE(){const t=this.kG.EI.mI,s=this.WG;for(let i=0,e=t.length;i<e;++i){const e=t[i],n=s[i];e.CG()?e.NG(n.Fo(),n.jo(),n.zo()):e.IG(n)}}vE(t){this.Qc=14,this.zG=t}xE(){const t=this.AC,s=this.zG,i=this.kG.oC;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}CE(t,s,i){this.Qc=17;const e=this.BG,n=this.kG._G;e[0]=t.$g(),e[1]=t.Xg(),e[2]=s?s.$g():n.$g(),e[3]=s?s.Xg():n.Xg(),e[4]=t.dC()?1:0,e[5]="stretch"===i;const r=this.WG;Gu.Sh(r),r.push(t.lC()),r.push(s?s.lC():null)}IE(){const t=this.BG,s=this.WG,i=this.AC,e=t[0],n=t[1],r=t[2],h=t[3],o=0!==t[4],a=0!==t[5],l=s[0],u=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,l),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,u),a)i.blitFramebuffer(0,0,e,n,0,0,r,h,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const t=Math.min(e,r),s=Math.min(n,h),o=Math.max(n-h,0),a=Math.max(h-n,0);i.blitFramebuffer(0,o,t,s+o,0,a,t,s+a,i.COLOR_BUFFER_BIT,i.NEAREST)}}GE(t){this.Qc=18,this.zG=t}EE(){this.zG.NE(),this.zG=null}DE(t){this.Qc=19,this.zG=t}_E(){this.zG.AE(),this.zG=null}LE(t,s,i){this.Qc=20;const e=this.BG;e[0]=t,e[1]=s,e[2]=i}OE(){const t=this.kG.EI,s=this.BG;t.nI.pI()&&t.nI.EG(s[0],s[1]),t.HC.pI()&&t.HC.IG(s[2])}RE(t,s,i,e,n,r,h){this.Qc=16;const o=this.BG;t.Uo(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=n/i,o[8]=r/s,o[9]=h/i}PE(){const t=this.kG.EI,s=this.BG;t.tI.pI()&&t.tI.EG(s[0],s[1]),t.nI.pI()&&t.nI.EG(s[4],s[5]),t.QC.pI()&&t.QC.EG(s[6],s[7]),t.VC.pI()&&t.VC.EG(s[8],s[9])}kE(t,s,i,e,n,r,h){this.Qc=29;const o=this.BG;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=n,o[5]=r,o[6]=h}FE(){const t=this.kG.EI,s=this.BG;t.nI.pI()&&t.nI.EG(s[0],s[1]),t.QC.pI()&&t.QC.EG(s[2],s[3]),t.HC.pI()&&t.HC.IG(s[4]),t.VC.pI()&&t.VC.EG(s[5],s[6])}jE(t){this.Qc=22,this.FG=t?1:0}zE(){const t=this.AC,s=0!==this.FG;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}BE(t){this.Qc=23,this.FG=t?1:0}$E(){const t=this.AC;0===this.FG?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}UE(t){this.Qc=24,this.FG=t?1:0}WE(){const t=this.AC,s=this.kG,i=s._G,e=0!==this.FG;s.AG=e,t.activeTexture(t.TEXTURE2),e?(s.aC&&t.bindFramebuffer(t.FRAMEBUFFER,s.aC),t.bindTexture(t.TEXTURE_2D,i.iC())):(t.bindTexture(t.TEXTURE_2D,null),s.aC&&t.bindFramebuffer(t.FRAMEBUFFER,s.oC)),t.activeTexture(t.TEXTURE0)}YE(){this.Qc=25}QE(){const t=this.AC;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}VE(){this.Qc=26}JE(){const t=this.AC;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}HE(){this.Qc=27}qE(){const t=this.AC;t.disable(t.STENCIL_TEST)}ZE(t,s,i,e,n){this.Qc=28,this.FG=t?1:0;const r=this.BG;r[0]=s,r[1]=i,r[2]=e,r[3]=n}XE(){const t=this.AC,s=this.BG;1===this.FG?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}KE(){switch(this.Qc){case 1:return void this.QG();case 2:return void this.JG();case 3:return void this.qG();case 4:return void this.tE();case 5:return void this.iE();case 6:return void this.nE();case 7:return void this.hE();case 8:return void this.aE();case 9:return void this.cE();case 10:return void this.mE();case 11:return void this.yE();case 12:return void this.wE();case 13:return void this.bE();case 14:return void this.xE();case 15:return void this.dE();case 16:return void this.PE();case 17:return void this.IE();case 18:return void this.EE();case 19:return void this._E();case 20:return void this.OE();case 21:return void this.XG();case 22:return void this.zE();case 23:return void this.$E();case 24:return void this.WE();case 25:return void this.QE();case 26:return void this.JE();case 27:return void this.qE();case 28:return void this.XE();case 29:return void this.FE()}}}}{let oc=function(t,s,i,e,n,r){s?t.strokeRect(i,e,n,r):t.fillRect(i,e,n,r)},ac=function(t){return t*(4/3)},lc=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};fillOrStrokeRect=oc,ptToPx=ac,getOffsetParam=lc;const uc=self.Gs,cc=4096,fc=4,dc=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),pc={timeout:60},mc=new uc.xo(0,0,0,1),gc=new Set(["left","center","right"]),yc=new Set(["top","center","bottom"]),Mc=new Set(["word","cjk","character"]),wc=new Set(["ltr","rtl"]),Sc=new Set;uc.tN&&uc.tN.addEventListener("fontload",(t=>{const s=t.font.Nc();for(const t of Sc)(t.sN()||uc.Xe(t.iN(),s))&&t.eN()}));let Tc=!1,bc=!1;uc.RM.UT=class{constructor(t,s){s=Object.assign({},pc,s),this.YT=t,this.nN="Arial",this.rN=16,this.hN=1,this.oN=0,this.aN=!1,this.lN=!1,this.uN="black",this.cN=!1,this.kg=null,this.fN=!0,this.dN=null,this.pN=new Set,this.mN="left",this.gN="top",this.jc="",this.yN=null,this.MN=uc.Yn(uc.Rg),this.wN="word",this.SN="ltr",this.TN=!1,this.bN=!1,this.vN=!1,this.xN=-1,this.CN=0,this.IN=0,this.GN=0,this.Ny=0,this.Dy=0,this.EN=1,this.NN=null,this.DN=null,this._N=null,this.AN=null,this.LN=-1,this.ON=-1,this.RN="",this.PN="",this.kN="",this.FN=1,this.jN=1,this.zN=t=>this.BN(t),this.Xv=null,this.$N=new uc.Rect,this.UN=1,this.WN=new uc.Of((()=>{this.YN(),this.QN(8,8)}),s.timeout),this.VN=null,this.JN=!1,Sc.add(this)}Qn(){this.dN=null,this.pN.clear(),this.kg=null,this.yN=null,this.NN=null,this.DN=null,this._N=null,this.AN=null,this.zN=null,this.WN.Qn(),this.VN=null,this.YN(),this.MN.Nu(),this.MN=null,this.YT=null,this.JN=!0,Sc.delete(this)}HN(){this.vN=!0}qN(){this.HN(),this.bN=!0}eN(){this.qN(),this.TN=!0}ZN(t){if(t=!!t,this.cN===t)return;this.cN=t;const s=this.cN?"alphabetic":"top";this.DN&&(this.DN.textBaseline=s),this._N&&(this._N.textBaseline=s),this.eN()}sN(){return this.cN}zg(t){this.kg!==t&&(this.kg=t,this.MN.zg(t),this.kg&&this.kg.bM()&&this.kg.vM().then((()=>this.HN())),this.eN())}XN(t){t=!!t,this.fN!==t&&(this.fN=t,this.HN())}KN(t){t||(t="serif"),this.nN!==t&&(this.nN=t,this.eN())}iN(){return this.nN}tD(t){t<.1&&(t=.1),this.rN!==t&&(this.rN=t,this.eN())}sD(){return this.rN}iD(t){this.hN!==t&&(this.hN=t,this.eN())}eD(t){this.oN!==t&&(this.oN=t,this.qN())}nD(){return this.oN}rD(t){t=!!t,this.aN!==t&&(this.aN=t,this.eN())}hD(){return this.aN}oD(t){t=!!t,this.lN!==t&&(this.lN=t,this.eN())}aD(){return this.lN}lD(t){t=Math.floor(t),this.xN!==t&&(this.xN=t,this.HN())}uD(){return this.xN}cD(t,s){let i=[];(this.aN||s.Yy("b"))&&i.push("bold"),(this.lN||s.Yy("i"))&&i.push("italic");const e=s.Wy("size"),n=(e?parseFloat(e.Eg):this.rN)*this.hN;t?i.push(n+"pt"):i.push(n*this.fD()+"pt");let r=this.nN;const h=s.Wy("font");return h&&h.Eg&&(r=h.Eg,this.dN&&!this.pN.has(r)&&(this.dN(r),this.pN.add(r))),r&&(dc.has(r)?i.push(r):i.push('"'+r+'"')),i.join(" ")}Ob(t){t instanceof uc.xo&&(t=t.ta()),this.uN!==t&&(this.uN=t,this.HN())}dD(t,s,i){mc.Do(t,s,i),this.Ob(mc)}pD(t){if(!gc.has(t))throw new Error("invalid horizontal alignment");this.mN!==t&&(this.mN=t,this.qN())}mD(){return this.mN}gD(t){if(!yc.has(t))throw new Error("invalid vertical alignment");this.gN!==t&&(this.gN=t,this.qN())}yD(){return this.gN}MD(t){if(!Mc.has(t))throw new Error("invalid word wrap mode");this.wN!==t&&(this.wN=t,this.eN())}wD(){return this.wN}SD(t){if(!wc.has(t))throw new Error("invalid text direction");this.SN!==t&&(this.SN=t,this.DN&&(this.DN.direction=this.SN),this._N&&(this._N.direction=this.SN),this.eN())}TD(){return this.SN}$c(t){this.jc!==t&&(this.jc=t,this.eN())}bD(){return this.jc}fD(){return this.UN*this.EN*self.devicePixelRatio}vD(t,s,i){if(void 0===i&&(i=1),t<=0||t<=0)return;if(this.IN===t&&this.GN===s&&this.EN===i)return;const e=this.IN;this.IN=t,this.GN=s,this.EN=i;const n=self.devicePixelRatio;this.Ny=this.IN*this.EN*n,this.Dy=this.GN*this.EN*n;const r=Math.max(this.Ny,this.Dy),h=Math.min(this.YT.mx(),4096);let o=1;r>h&&(o=h/r,this.Ny=Math.min(this.Ny*o,h),this.Dy=Math.min(this.Dy*o,h)),this.UN=o,this.IN!==e?this.eN():this.qN()}$g(){return this.Ny}Xg(){return this.Dy}xD(){return this.EN}CD(){return this.ID(),this.MN.Gy()}GD(){return this.ID(),this.MN.Ey()+this.MN.jg()*(this.oN+4)-this.oN}ED(){this.ID();let t=0;for(const s of this.MN.Fg())for(const i of s.ny())t+=i.hy();return t}cC(){return this.WN.jf(),this.ND(),this.Xv}DD(t,s){this.ID();const i=this.fD(),e=this.MN.Fg();for(const n of e){const e=n.ty()*i;if(s>=n.By()-n.Xg()*i+e&&s<n.By()+e)for(const s of n.ny())if(t>=s.jy()&&t<s.jy()+s.$g()*i)return s}return null}*_D(t){this.ID();const s=this.MN.Fg();for(const i of s)for(const s of i.ny()){const i=s.Wy("tag");i&&uc.Xe(i.Eg,t)&&(yield s)}}AD(t,s){for(const i of this._D(t)){if(0===s)return i;--s}return null}LD(t){let s=0;for(const i of this._D(t))++s;return s}ND(){(!this.Xv||this.vN||this.bN||this.TN)&&(this.JN||this.Ny<=0||this.Dy<=0||(this.vN=!1,this.OD()))}OD(){this.JN||(this.ID(),this.QN(Math.max(uc.Tr(Math.ceil(this.Ny)),128),Math.max(uc.Tr(Math.ceil(this.Dy)),64)),this.RD(),this.PD(),this.WN.jf())}QN(t,s){this.NN||(this.NN=uc.co(16,16));let i=!1;this.LN===t&&this.ON===s||(this.LN=t,this.ON=s,this.NN.width=t,this.NN.height=s,i=!0),this.DN||(this.DN=this.NN.getContext("2d"),i=!0),i?(this.DN.textBaseline=this.cN?"alphabetic":"top",this.DN.direction=this.SN,this.DN.font=this.RN,this.DN.fillStyle=this.kN,this.DN.strokeStyle=this.kN,this.DN.globalAlpha=this.FN,this.DN.lineWidth=this.jN):this.DN.clearRect(0,0,t,s)}kD(){this._N||(this._N=uc.co(16,16).getContext("2d"),this.AN=uc.co(16,16).getContext("2d"),this._N.textBaseline=this.cN?"alphabetic":"top",this.AN.textBaseline="top",this._N.direction=this.SN,this.AN.direction=this.SN)}FD(t){this.PN!==t&&(this.PN=t,this._N.font=t,this.AN.font=t)}jD(){if(!Tc){Tc=!0,this.kD();const t=this._N.measureText("test");bc="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return bc}ID(){this.zD(),this.BD()}zD(){this.TN&&(this.kD(),!this.cN||this.yN&&this.yN.toString()===this.jc||(this.yN=new uc.pn(this.jc,{dg:!0})),this.MN.Rg(this.cN?this.yN.Ig():this.jc,this.zN,this.IN,this.wN,0),this.TN=!1)}BD(){this.bN&&(this.$D(),this.bN=!1)}BN(t){const s=t.Jg()?t.yy().join(""):" ";this.FD(this.cD(!0,t));const i=t.Wy("size"),e=(i?parseFloat(i.Eg):this.rN)*this.hN,n=this._N.measureText(s);let r=0;if(this.cN&&this.jD()){const t=this.AN.measureText(s);r=n.fontBoundingBoxAscent-t.fontBoundingBoxAscent}return{width:n.width,height:ac(e),fontBoundingBoxAscent:n.fontBoundingBoxAscent||0,fontBoundingBoxDescent:n.fontBoundingBoxDescent||0,Vg:r}}UD(t){this.RN!==t&&(this.RN=t,this.DN.font=t)}WD(t){this.kN!==t&&(this.kN=t,this.DN.fillStyle=t,this.DN.strokeStyle=t)}YD(t){this.FN!==t&&(this.FN=t,this.DN.globalAlpha=t)}QD(t){this.jN!==t&&(this.jN=t,this.DN.lineWidth=t)}$D(){const t=this.fD(),s=(4+this.oN)*t;let i=0;const e=this.MN.Fg();if(0===e.length)return;for(const t of e){t.Fy(NaN),t.zy(NaN);for(const s of t.ny())s.Fy(NaN),s.zy(NaN)}const n=this.cN&&this.jD();let r=e[0].Xg()*t;if("center"===this.gN){const h=e.reduce(((i,e)=>i+e.Xg()*t+s),0)-s;i=Math.max(this.Dy/2-h/2,0),n&&(r=e[0].sy()*t)}else if("bottom"===this.gN){const r=e.reduce(((i,e)=>i+e.Xg()*t+s),0)-this.oN*t,h=n?e.at(-1).ty()*t:0;i=this.Dy-r-h-2}for(let n=0,h=e.length;n<h;++n){const h=e[n],o=h.Xg()*t,a=i;if(this.cN){if(i+=0===n?r:o,n>0&&i>this.Dy-4*t)break}else if(n>0&&i>=this.Dy-o)break;a>=0&&this.VD(h,i,t),this.cN||(i+=o),i+=s}}VD(t,s,i){let e=0;"center"===this.mN?e=Math.floor((this.Ny-t.$g()*i)/2):"right"===this.mN&&(e=this.Ny-t.$g()*i),t.Fy(e),t.zy(s);for(const n of"ltr"===this.SN?t.ny():t.Py())this.JD(n,e,s,i),e+=n.$g()*i}JD(t,s,i,e){const n=t.Wy("offsetx");s+=n?lc(n.Eg,t.Xg())*e:0;const r=t.Wy("offsety");if(i+=r?lc(r.Eg,t.Xg())*e:0,t.qg()){const s=t.Wy("iconoffsety");i+=s?lc(s.Eg,t.Xg())*e:.2*t.Xg()*e}t.Fy(s),t.zy(i)}RD(){this.DN.imageSmoothingEnabled=this.fN,this.DN.imageSmoothingQuality="high",this.CN=0;const t=this.fD(),s=this.MN.Fg();for(const i of s)this.HD(i,t)}HD(t,s){const i=t.jy(),e=t.By();if(Number.isFinite(i)&&Number.isFinite(e))for(const i of"ltr"===this.SN?t.ny():t.Py())this.qD(i,s,t.Xg())}qD(t,s,i){const e=this.DN,n=t.jy(),r=t.By();if(!Number.isFinite(n)||!Number.isFinite(r))return;const h=i/16;let o=t.$g()*s;const a=t.Xg()*s,l=t.Xg()/16,u=(4+this.oN)*s;let c=t.Jg()?t.yy():null;if(-1!==this.xN){if(this.CN>=this.xN)return;t.Jg()&&this.CN+c.length>this.xN&&(c=c.slice(0,this.xN-this.CN),o=this.BN(t).width*s),this.CN+=t.hy()}const f=t.Wy("background"),d=t.Yy("u"),p=t.Yy("s");if(t.Jg()&&uc.Sm(c)&&!f&&!d&&!p||t.Yy("hide"))return;const m=t.Wy("color"),g=t.Wy("opacity");this.YD(g?parseFloat(g.Eg)/100:1),f&&(this.WD(f.Eg),e.fillRect(n,r-a,o,a+u));const y=t.Wy("linethickness"),M=y?parseFloat(y.Eg):1,w=t.Yy("stroke");if(w&&this.QD(.5*l*M*this.fD()),t.Jg()){const s=c.join("");if(this.UD(this.cD(!1,t)),!w){this.QD(.5*l*M*this.fD());const i=t.Wy("outlineback");i&&(this.WD(i.Eg),this.ZD(!0,s,n,r,o))}if(this.WD(m?m.Eg:this.uN),this.ZD(w,s,n,r,o),!w){this.QD(.5*l*M*this.fD());const i=t.Wy("outline");i&&(this.WD(i.Eg),this.ZD(!0,s,n,r,o))}}else if(t.qg()&&t.$g()>0){const s=t.Ky(this.kg);s&&e.drawImage(s,n,r-a,o,a)}if(this.WD(m?m.Eg:this.uN),d&&oc(e,w,n,r+s*h,o,s*h*M),p){const t=s*l,i=r-a/4+t/2;e.fillRect(n,i-t*M/2,o,t*M)}}ZD(t,s,i,e,n){"rtl"===this.SN&&(i+=n),t?"Gecko"===uc.Xs.ni?this.DN.strokeText(s,i,e,n):this.DN.strokeText(s,i,e):"Gecko"===uc.Xs.ni?this.DN.fillText(s,i,e,n):this.DN.fillText(s,i,e)}PD(){this.YT.XD()||(this.Xv||(this.Xv=this.YT.sC(this.NN.width,this.NN.height,{Vv:!0,Jv:"high"})),this.YT.KD(this.NN,this.Xv),this.$N.set(0,0,this.Ny/this.Xv.$g(),this.Dy/this.Xv.Xg()),this.VN&&this.VN())}t_(){return this.$N}YN(){this.Xv&&(this.YT.XD()||this.YT.rC(this.Xv),this.Xv=null)}static Rb(){for(const t of Sc)t.YN()}static s_(){return Sc.values()}}}{const vc=self.Gs;class xc{constructor(t){this.AC=t.gx(),this.i_=t.yx(),this.e_=t.n_(),this.r_=null,this.Ff=!1,this.h_=!1,this.o_=0,1===this.i_?this.r_=this.e_.createQueryEXT():this.r_=this.AC.createQuery()}Qn(){this.a_(),this.AC=null,this.e_=null,this.h_=!1}a_(){this.r_&&(1===this.i_?this.e_.deleteQueryEXT(this.r_):this.AC.deleteQuery(this.r_),this.r_=null)}NE(){if(this.Ff)throw new Error("query already active");1===this.i_?this.e_.beginQueryEXT(this.e_.TIME_ELAPSED_EXT,this.r_):this.AC.beginQuery(this.e_.TIME_ELAPSED_EXT,this.r_),this.Ff=!0}AE(){if(!this.Ff)throw new Error("query not active");1===this.i_?this.e_.endQueryEXT(this.e_.TIME_ELAPSED_EXT):this.AC.endQuery(this.e_.TIME_ELAPSED_EXT),this.Ff=!1}l_(){if(!this.r_||this.h_||this.Ff)return;let t=!1;t=1===this.i_?this.e_.getQueryObjectEXT(this.r_,this.e_.QUERY_RESULT_AVAILABLE_EXT):this.AC.getQueryParameter(this.r_,this.AC.QUERY_RESULT_AVAILABLE);const s=this.AC.getParameter(this.e_.GPU_DISJOINT_EXT);t&&!s&&(1===this.i_?this.o_=this.e_.getQueryObjectEXT(this.r_,this.e_.QUERY_RESULT_EXT):this.o_=this.AC.getQueryParameter(this.r_,this.AC.QUERY_RESULT),this.o_/=1e9,this.h_=!0),(t||s)&&this.a_()}u_(){return this.h_}c_(){if(!this.h_)throw new Error("no result available");return this.o_}}vc.RM.f_=class{constructor(t){this.YT=t,this.Lw=t._T(),this.Ff=!1,this.d_=null,this.p_=!1,this.m_=null,this.g_=[]}Qn(){for(const t of this.g_)t instanceof xc&&t.Qn();vc.Sh(this.g_),this.d_=null,this.m_=null,this.YT=null}NE(){if(this.Ff)throw new Error("query already active");const t=this.YT.y_();t.length>0?(this.p_=!0,this.d_=t.at(-1),this.d_.M_(),this.d_.g_.push(this)):(this.p_=!1,this.d_=null),this.Ff=!0,t.push(this),this.w_()}AE(){if(!this.Ff)throw new Error("query not active");if(this.YT.y_().pop()!==this)throw new Error("can only end most nested query");this.Ff=!1,this.M_(),this.d_&&(this.d_.w_(),this.d_=null)}w_(){this.m_=vc.Yn(xc,this.YT),this.g_.push(this.m_),this.m_.NE()}M_(){this.m_.AE(),this.m_=null}l_(){for(const t of this.g_)t.l_()}S_(){return this.p_}u_(){return this.g_.every((t=>t.u_()))}c_(){return this.g_.reduce(((t,s)=>t+s.c_()),0)}_T(){return this.Lw}}}{const Cc=self.Gs;Cc.RM.T_=class{constructor(t,s=1e3){this.YT=t,this.b_=s,this.v_=[],this.YT.x_(this)}Qn(){this.Nu(),this.YT.C_(this),this.YT=null}Nu(){for(const t of this.v_)t.Qn();Cc.Sh(this.v_)}I_(){const t=new Cc.RM.f_(this.YT);return this.v_.push(t),this.v_.length>this.b_&&this.v_.shift().Qn(),t}G_(t){for(const s of this.v_){if(s._T()>=t)return;if(s.S_())return;s.l_()}}E_(t,s){if(s<=t)return NaN;let i=0;for(const e of this.v_){if(e._T()>=s)break;if(!(e._T()<t)){if(!e.u_())return NaN;i+=e.c_()}}return i}N_(t){for(let s=0,i=this.v_.length;s<i;++s){const i=this.v_[s];if(!(i._T()<t))return void(s>0&&this.v_.splice(0,s));i.Qn()}}}}{let Ic=function(){Vc=-1;for(const t of Qc)t.D_()&&(t.resolve(),Qc.delete(t));Qc.size>0&&(Vc=self.requestAnimationFrame(Ic))};CheckPendingPolls=Ic;const Gc=self.Gs,Ec=self.assert,Nc=self.ls,Dc=Nc.Ms,_c=Nc.ws,Ac=Nc.ds,Lc={powerPreference:"default",__:!0,alpha:!1,depth:!1,A_:!1,L_:2,failIfMajorPerformanceCaveat:!1},Oc=new Set(["default","low-power","high-performance"]),Rc=8e3,Pc=12e3,kc=8e3,Fc=7996,jc=262144,zc=new Gc.El(0,0,1,0,1,1,0,1),Bc=Ac.create(),$c=Ac.create(),Uc=new Gc.El,Wc=new Gc.Rect;let Yc=null;Gc.Ps&&(self.O_=function(){Yc?Yc.loseContext():console.warn("WEBGL_lose_context not supported")},self.R_=function(){Yc?Yc.restoreContext():console.warn("WEBGL_lose_context not supported")});const Qc=new Set;let Vc=-1;Gc.RM.P_=class extends Gc.RM.ZM{constructor(t,s){if(super(s),s=Object.assign({},Lc,s),!Oc.has(s.powerPreference))throw new Error("invalid power preference");const i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat};let e=null,n=0;if(s.L_>=2&&(e=t.getContext("webgl2",i),n=2),e||(e=t.getContext("webgl",i),n=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.AC=e,this.k_=e.getContextAttributes(),this.F_=e.getParameter(e.VERSION),this.i_=n,this.j_=_c.create(),this.z_=!1,this.B_=Ac.create(),this.U_=!!s.depth,this.W_=!(!s.depth||!s.A_),this.Y_=this.U_,this.Q_=!1,this.V_=null,this.J_=!0,this.H_=0,this.q_=0,this.RC=null,this.PC=null,this.Z_=null,this.kC=null,this.X_=new Float32Array(8e3*this.ET()),this.K_=new Uint16Array(12e3),this.tA=new Float32Array(16e3),this.sA=new Float32Array(32e3),this.iA=0,this.eA=0,this.nA=0,this.rA=0,this.hA=null,this.oA=null,this.aA=[],this.lA=0,this.uA=0,this.cA=null,this.fA=0,this.kG=Gc.Yn(Gc.RM.DG,this),this.dA=Gc.Yn(Gc.xo,1,1,1,1),this.pA=null,this.SE=null,this.mA=0,this.gA=0,this.yA=new Gc.Rect,this.MA=Gc.Yn(Gc.Rect,0,0,-1,-1),this.wA=0,this.SA=-1,this.TA=0,this.bA=0,this.vA=0,this.xA="(unavailable)",this.CA="(unavailable)",this.IA=[],this.GA=!1,this.EA=null,this.NA=null,this.DA=null,this._A=null,this.AA=null,this.LA=null,this.OA=null,this.RA=0,this.PA=!!s.__,this.e_=null,this.kA=new Set,this.FA=[],this.Pw(this.K_)}kT(){return!0}async jw(){super.jw();const t=this.AC,s=this.ET();this.dA.No(1,1,1,1),this.pA=null,this.SE=null,this.iA=0,this.nA=0,this.rA=8e3*s-4*s,Gc.Sh(this.aA),this.lA=0,this.uA=0,this.hA=null,this.cA=null,this.yA.set(0,0,1,1),this.fA=0;const i=this.kG;i.EI=null,i.oC=null,i.aC=null,_c.set(i.LG,1,1,1,1),i.clearColor.No(0,0,0,0),i.OG.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.mA=t.ONE,this.gA=t.ONE_MINUS_SRC_ALPHA,this.jA(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.U_?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.Y_=this.U_,this.Q_=!1,this.kC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.kC),t.bufferData(t.ARRAY_BUFFER,this.sA.byteLength,t.DYNAMIC_DRAW),this.RC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.RC),t.bufferData(t.ARRAY_BUFFER,this.X_.byteLength,t.DYNAMIC_DRAW),this.PC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.PC),t.bufferData(t.ARRAY_BUFFER,this.tA.byteLength,t.DYNAMIC_DRAW),this.Z_=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.Z_),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.K_,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.SA=t.getParameter(t.MAX_TEXTURE_SIZE);const e=t.getParameter(t.ALIASED_POINT_SIZE_RANGE);this.TA=e[0],this.bA=e[1];const n=t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT),r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);this.vA=n&&r?Math.min(n.precision,r.precision):0,this.bA>2048&&(this.bA=2048),this.IA=t.getSupportedExtensions();const h=t.getExtension("WEBGL_debug_renderer_info");if(h&&(this.xA=t.getParameter(h.UNMASKED_VENDOR_WEBGL),this.CA=t.getParameter(h.UNMASKED_RENDERER_WEBGL)),this.EA=t.getExtension("KHR_parallel_shader_compile"),Gc.Ps&&(Yc=t.getExtension("WEBGL_lose_context")),this.PA&&(1===this.yx()?this.e_=t.getExtension("EXT_disjoint_timer_query"):this.e_=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.NA=t.getExtension("EXT_texture_filter_anisotropic"),this.NA?this.RA=t.getParameter(this.NA.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.RA=0,this.yx()<2&&this.U_&&this.W_&&(this._A=t.getExtension("WEBGL_depth_texture"),!this._A))throw new Error("no depth texture support");this.yx()<2&&(this.AA=t.getExtension("EXT_frag_depth"),this.LA=t.getExtension("OES_standard_derivatives"),this.OA=t.getExtension("EXT_shader_texture_lod"));const o=Gc.RM.IC,a=o.XI(!1);let l=o.tG(),u=a,c=o.lG(),f=o.oG(),d=o.eG(),p=o.XI(!0),m=!1;this.U_&&(this.yx()<2?this.AA&&(l=o.sG(),c=o.uG(),d=o.nG(),m=!0):(u=o.KI(),l=o.iG(this.zA()),c=o.cG(this.zA()),f=o.aG(),d=o.rG(this.zA()),p=o.KI(!0)));const g=o.hG(this.yx(),m,this.LA&&this.OA,this.zA()),y=this.yx()>=2?o.KI():a,M=[[l,u,"<default>"],[l,u,"<default-device-transform>"],[c,f,"<point>"],[o.fG(),a,"<fill>"],[o.dG(),a,"<lineargradient>"],[o.pG(),a,"<penumbra>"],[o.gG(),a,"<hardellipse>"],[o.yG(),a,"<hardellipseoutline>"],[o.MG(),a,"<smoothellipse>"],[o.wG(),a,"<smoothellipseoutline>"],[o.mG(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(M.map((t=>this.BA({src:t[0],EC:t[1],name:t[2]}))));this.aw=w[0],this.oA=w[1],this.lw=w[2],this.fw=w[3],this.dw=w[4],this.pw=w[5],this.mw=w[6],this.gw=w[7],this.yw=w[8],this.Mw=w[9],this.ww=w[10],this.uw=w[11],this.cw=w[12],this.lS()}async BA(t){const s=await Gc.RM.IC._C(this,t);return this.rS(s),s}$A(){this.hA=null}vD(t,s,i){if(this.Ny===t&&this.Dy===s&&!i)return;this.DT();const e=this.AC,n=this.kG;this.Ny=t,this.Dy=s,this.UA(0,0,t,s),this.tS(this.B_,t/s),this.WA(this.B_),this.oA&&(e.useProgram(this.oA.DI()),this.oA.vI(this.tw),this.hA=this.oA,this.kG.EI=this.oA),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.pA=null,this.SE=null,this.U_&&this.J_&&this.YA(this.Ny,this.Dy),this.cA&&this.cA.nC(this.Ny,this.Dy),e.bindFramebuffer(e.FRAMEBUFFER,null),this.cA=null,n.oC=null,n.aC=null}YA(t,s){const i=this.AC;this.V_&&this.H_===t&&this.q_===s||(this.W_?(this.V_&&i.deleteTexture(this.V_),this.V_=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.V_),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.yx()>=2?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this._A&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this._A.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.V_&&i.deleteRenderbuffer(this.V_),this.V_=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.V_),i.renderbufferStorage(i.RENDERBUFFER,this.i_>=2?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.H_=t,this.q_=s)}QA(t,s){this.U_&&(this.J_=!1,this.YA(t,s))}VA(){this.U_&&(this.J_=!0,this.YA(this.Ny,this.Dy))}UA(t,s,i,e){const n=this.j_;n[0]===t&&n[1]===s&&n[2]===i&&n[3]===e||(this.JA().sE(t,s,i,e),_c.set(n,t,s,i,e),this.uA=0)}Hw(t){super.Hw(t),this.tS(this.B_,this.Ny/this.Dy)}Yw(t){super.Yw(t),this.tS(this.B_,this.Ny/this.Dy)}Vw(t){super.Vw(t),this.tS(this.B_,this.Ny/this.Dy)}WA(t){Ac.O(this.tw,t)||(this.JA().eE(t),Ac.M(this.tw,t),this.uA=0,this.z_=!0)}HA(){let t,s,i;const e=this.cA;null===e?(t=this.B_,s=this.$g(),i=this.Xg()):(t=e.fC(),s=e.$g(),i=e.Xg()),this.WA(t),this.UA(0,0,s,i)}qA(t){Ac.O(this.sw,t)||(this.JA().rE(t),Ac.M(this.sw,t),this.uA=0,this.z_=!0)}ZA(){this.z_=!1}XA(){return this.z_}hC(){return this.kG}JA(){const t=this.aA;return this.lA===t.length&&t.push(new Gc.RM.PG(this.kG)),t[this.lA++]}DT(){0!==this.lA&&(this.XD()||(this.KA(),this.tL(),this.lA=0,this.iA=0,this.eA=0,this.nA=0,this.uA=0))}KA(){const t=this.AC;this.nA>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.kC),t.bufferSubData(t.ARRAY_BUFFER,0,this.sA.subarray(0,this.nA))),this.iA>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.RC),t.bufferSubData(t.ARRAY_BUFFER,0,this.X_.subarray(0,this.iA)),t.bindBuffer(t.ARRAY_BUFFER,this.PC),t.bufferSubData(t.ARRAY_BUFFER,0,this.tA.subarray(0,this.eA)))}tL(){const t=this.aA;for(let s=0,i=this.lA;s<i;++s)t[s].KE()}sL(){return this.dA.Bo()}iL(t,s,i,e){const n=this.dA;n.Vo(t,s,i,e)||(n.No(t,s,i,e),this.JA().HG(n),this.uA=0,this.Tw=null)}eL(t){const s=this.dA;s.Bo()!==t&&(s.Po(t),this.JA().HG(s),this.uA=0,this.Tw=null)}Ob(t){const s=this.dA;s.equals(t)||(s.set(t),this.JA().HG(s),this.uA=0,this.Tw=null)}nL(){this.iL(1,1,1,1)}rL(){return this.dA}hL(t){t!==this.pA&&(this.JA().VG(t),this.pA=t,this.uA=0)}Tx(){this.pA=null}Lb(t){const s=this.PS(t);this.oL(s[0],s[1])}aL(t){const s=this.jS(t);this.oL(s.OS,s.RS)}oL(t,s){t===this.mA&&s===this.gA||(this.JA().KG(t,s),this.mA=t,this.gA=s,this.uA=0,this.Tw=null)}lL(){return this.mA===this.AC.ONE&&this.gA===this.AC.ONE_MINUS_SRC_ALPHA}uL(){this.oL(this.AC.ONE,this.AC.ONE_MINUS_SRC_ALPHA)}cL(){this.oL(this.AC.SRC_ALPHA,this.AC.ONE_MINUS_SRC_ALPHA)}fL(){this.oL(this.AC.ONE,this.AC.ZERO)}Rect(t){this.dL(t.Xa(),t.Ka(),t.tl(),t.sl())}dL(t,s,i,e){this.GT(t,s,i,s,i,e,t,e)}pL(){let t=this.iA;t>=this.rA&&(this.DT(),t=0),1===this.uA?this.aA[this.lA-1].jG+=6:(this.JA().YG(t,6),this.uA=1)}mL(t){t.Jl(this.X_,this.iA,this.Cw+this.Iw),this.iA+=12}El(t){this.pL(),this.mL(t),zc.Uo(this.tA,this.eA),this.eA+=8}GT(t,s,i,e,n,r,h,o){this.pL();const a=this.X_;let l=this.iA;const u=this.Cw+this.Iw;a[l++]=t,a[l++]=s,a[l++]=u,a[l++]=i,a[l++]=e,a[l++]=u,a[l++]=n,a[l++]=r,a[l++]=u,a[l++]=h,a[l++]=o,a[l++]=u,this.iA=l,zc.Uo(this.tA,this.eA),this.eA+=8}tT(t,s){this.pL(),this.mL(t),s.nl(this.tA,this.eA),this.eA+=8}gL(t,s){this.pL(),this.mL(t),s.Uo(this.tA,this.eA),this.eA+=8}yL(t,s,i,e,n,r,h,o,a,l,u,c,f){this.pL();const d=this.X_;let p=this.iA;const m=this.Cw+this.Iw;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.iA=p,f.nl(this.tA,this.eA),this.eA+=8}HS(t,s,i,e,n,r,h,o,a,l,u,c,f){this.pL();const d=this.X_;let p=this.iA;const m=this.Cw+this.Iw;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.iA=p,f.Uo(this.tA,this.eA),this.eA+=8}ML(t,s,i){const e=this.X_,n=this.tA;if(i.length%3!=0)throw new Error("invalid index buffer length");for(let r=0,h=i.length;r<h;){const h=i[r++],o=i[r++],a=i[r++],l=3*h,u=3*o,c=3*a,f=2*h,d=2*o,p=2*a;this.pL();let m=this.iA,g=this.eA;e[m++]=t[l+0],e[m++]=t[l+1],e[m++]=t[l+2],e[m++]=t[u+0],e[m++]=t[u+1],e[m++]=t[u+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],n[g++]=s[f+0],n[g++]=s[f+1],n[g++]=s[d+0],n[g++]=s[d+1],n[g++]=s[p+0],n[g++]=s[p+1],n[g++]=s[p+0],n[g++]=s[p+1],this.iA=m,this.eA=g}}wL(t,s){this.US(0),Ac.M(Bc,this.tw),Ac.M($c,this.sw),this.HA();const[i,e]=this.SL(this.cA),n=this.nS(0,0,this.Bw(e),0,0,0,e);if(this.qA(n),"crop"===t&&this.cA&&s){const t=this.Ny/2,i=this.Dy/2,e=s.$g(),n=s.Xg(),r=this.cA.$g(),h=this.cA.Xg(),o=Math.min(r,e),a=Math.min(h,n),l=Math.max(n-h,0),u=Math.max(h-n,0);Wc.set(-t,i-u,-t+o,i-a-u),Uc.Hl(Wc),Wc.set(0,l,o,a+l),Wc.wt(e,n),this.tT(Uc,Wc)}else{const t=i/2,s=e/2;this.dL(-t,s,t,-s)}this.WA(Bc),this.qA($c)}TL(t){this.yA.equals(t)||(this.yA.M(t),this.JA().fE(t),this.uA=0)}bL(){}vL(t,s,i,e){this.nA>=7996&&this.DT();let n=this.nA;const r=this.Cw+this.Iw;2===this.uA&&this.fA===r?this.aA[this.lA-1].jG++:(this.JA().pE(n,r),this.uA=2,this.fA=r);const h=this.sA;h[n++]=t,h[n++]=s,h[n++]=i,h[n++]=e,this.nA=n}uS(t){this.hA!==t&&(this.JA().gE(t),this.hA=t,this.uA=0,this.Tw=null)}xL(){return this.hA}CL(){this.uS(this.oA)}IL(t){this.JA().ZG(t),this.uA=0}GL(t,s,i=1){this.JA().LE(t,s,i),this.uA=0}EL(t,s,i,e,n,r,h){if(this.hA!==this.uw)throw new Error("must set tilemap fill mode first");this.JA().RE(t,s,i,e,n,r,h),this.uA=0}NL(t,s,i,e,n,r,h){if(this.hA!==this.cw)throw new Error("must set tile randomization mode first");this.JA().kE(t,s,i,e,n,r,h),this.uA=0}DL(t,s,i,e,n,r,h,o,a,l,u){const c=this.hA;if(u%=10800,!c.dI||c.jI(s,i,e,n,r,h,o,a,l,u))return;const f=this.JA();f.ME(),c.$I(s,i,e,n,r,h,o,a,l,u);const d=f.BG;d[0]=r,d[1]=h,s.Uo(d,2),d[6]=a,d[7]=l,i.Uo(d,12);const p=f.$G;n.Uo(p,0);const m=p[1];p[1]=p[3],p[3]=m,e.Uo(f.UG,0),f.FG=u,f.jG=o,c.qC.pI()?f.zG=t?t.cC():null:f.zG=null,this.uA=0}_L(t){const s=this.hA;if(0===t.length||s.OI(t))return;const i=this.JA();i.TE(),s.kI(t),Gc.Ch(i.WG,t),this.uA=0}AL(t,s,i,e){this.JA().uE(t,s,i,e),this.uA=0}Nu(t){this.JA().lE(t),this.uA=0}LL(){}NT(){super.NT(),this.AC.flush()}OL(){this.U_&&this.cA&&this.cA.gC()&&(this.JA().jE(this.Y_),this.uA=0)}RL(t){t=!!t,this.Y_!==t&&this.U_&&(this.Y_=t,this.JA().BE(t),this.uA=0)}PL(){return this.Y_}iC(){return this.V_}eC(){return this.W_}kL(t){if(t=!!t,this.W_&&this.Q_!==t){if(t&&this.PL())throw new Error("depth still enabled");this.Q_=t,this.JA().UE(t),this.uA=0}}FL(t,s,i,e,n=0){t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),this.MA.Za(t,s,i,e)||(this.MA.Wa(t,s,i,e),s=(n||this.SL(this.jL())[1])-s-e,this.JA().ZE(!0,t,s,i,e),this.uA=0)}zL(){-1!==this.MA.tl()&&(this.MA.set(0,0,-1,-1),this.JA().ZE(!1,0,0,0,0),this.uA=0)}BL(){for(const t of this.kA)t.G_(this.Lw)}XD(){return!this.AC||this.AC.isContextLost()||this.GA}Rb(){super.zw(),Gc.RM.Zv.Rb(),Gc.RM.zx.Rb(),Gc.RM.UT.Rb();for(const t of this.kA)t.Nu();this.IA=[],this.e_=null,this.EA=null,this.DA=null,this.NA=null,this._A=null,this.AA=null,this.LA=null,this.OA=null,this.RA=0,this.xA="(unavailable)",this.CA="(unavailable)",this.hA=null,this.oA=null,this.V_=null;for(const t of this.Sw.values())t.Rb()}async Pb(){this.GA=!0,await this.jw(),this.GA=!1;for(const t of this.Sw.values())t.Pb(this);this.vD(this.Ny,this.Dy,!0)}$L(t,s){if(this.XD())throw new Error("context lost");this.DT();const i=Gc.Yn(Gc.RM.Zv,this);return i.ux(t,s),i}async UL(t,s){if(this.XD())throw new Error("context lost");if(s=Object.assign({},s),Gc._i.ImageBitmapOptions){let i=await createImageBitmap(t,{premultiplyAlpha:"premultiply"});const e=s.$v&&"clamp-to-edge"!==s.$v||s.Uv&&"clamp-to-edge"!==s.Uv,n=Gc.Sr(i.width)&&Gc.Sr(i.height);return this.Mx()||n||!e?s.Hv=!1:Gc._i.Ri?(i=await createImageBitmap(t,{premultiplyAlpha:"premultiply",resizeWidth:Gc.Tr(i.width),resizeHeight:Gc.Tr(i.height)}),s.Hv=!1):i=await createImageBitmap(t,{premultiplyAlpha:"none"}),await Gc.df((()=>this.$L(i,s)))}if(t instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const s=await Gc.uo(t);t=s}return await Gc.df((()=>this.$L(t,s)))}sC(t,s,i){this.DT();const e=Gc.Yn(Gc.RM.Zv,this);return e.bx(t,s,i),e}KD(t,s,i){this.DT(),s.Gx(t,i)}rC(t){t&&(t.Ax(),t.Lx()>0||(this.DT(),t===this.pA&&(this.AC.bindTexture(this.AC.TEXTURE_2D,null),this.pA=null),t===this.SE&&(this.AC.activeTexture(this.AC.TEXTURE1),this.AC.bindTexture(this.AC.TEXTURE_2D,null),this.AC.activeTexture(this.AC.TEXTURE0),this.SE=null),t.Ex()))}WL(t){let s=this.Ny,i=this.Dy,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height&&(i=Math.floor(t.height),e=!1)),s<=0||i<=0)throw new Error("invalid size");this.DT();const n=Gc.Yn(Gc.RM.zx,this);return n.Kx(s,i,Object.assign({Fx:e},t)),this.cA=null,this.kG.oC=null,this.kG.aC=null,n}YL(t,s=!0){t!==this.cA&&(t&&t.yC()&&t.nC(this.Ny,this.Dy),this.JA().oE(t),this.cA=t,this.uA=0,s&&this.HA())}jL(){return this.cA}SL(t){return t?[t.$g(),t.Xg()]:[this.Ny,this.Dy]}QL(t,s="stretch"){this.i_<2||this.cA&&this.cA.MC()>0?(this.fL(),this.nL(),this.VL(t,s)):(this.JA().CE(t,this.cA,s),this.uA=0)}VL(t,s="stretch"){const i=t.cC();if(!i)throw new Error("not a texture-backed render target");this.hL(i),this.wL(s,i)}JL(t){this.i_<2||(this.JA().vE(t.lC()),this.uA=0)}HL(t){this.YL(null),this.DT();const s=t.cC();s===this.pA&&(this.AC.bindTexture(this.AC.TEXTURE_2D,null),this.pA=null),s===this.SE&&(this.AC.activeTexture(this.AC.TEXTURE1),this.AC.bindTexture(this.AC.TEXTURE_2D,null),this.AC.activeTexture(this.AC.TEXTURE0),this.SE=null),t.Ex()}async vC(t,s,i){this.DT();const e=this.cA;let n,r,h;t?(n=t.$g(),r=t.Xg(),h=t.lC()):(n=this.$g(),r=this.Xg(),h=null);let o=0,a=0,l=n,u=r;if(i){o=Gc.Zn(Math.floor(i.Xa()),0,n-1),a=Gc.Zn(Math.floor(i.Ka()),0,r-1);let t=i.width();t=0===t?n-o:Gc.Zn(Math.floor(t),0,n-o);let s=i.height();s=0===s?r-a:Gc.Zn(Math.floor(s),0,r-a),l=t,u=s,a=r-(a+u)}const c=this.AC;c.bindFramebuffer(c.FRAMEBUFFER,h);const f=()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.cA=null,this.kG.oC=null,this.kG.aC=null,this.YL(e)};let d;if(!s&&this.yx()>=2){c.bindFramebuffer(c.READ_FRAMEBUFFER,h);const t=c.createBuffer(),s=l*u*4,i=c.PIXEL_PACK_BUFFER;c.bindBuffer(i,t),c.bufferData(i,s,c.STREAM_READ),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(i,null),f();const e=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);await this.DC((()=>c.getSyncParameter(e,c.SYNC_STATUS)===c.SIGNALED)),c.deleteSync(e),d=new ImageData(l,u),c.bindBuffer(i,t),c.getBufferSubData(i,0,new Uint8Array(d.data.buffer),0,s),c.bindBuffer(i,null),c.deleteBuffer(t)}else d=new ImageData(l,u),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}qL(){this.RL(!0),this.JA().YE(),this.uA=0,this.wA=1}ZL(){this.RL(!1),this.JA().VE(),this.uA=0,this.wA=2}XL(){return 2===this.wA}KL(){this.RL(!0),this.JA().HE(),this.uA=0,this.wA=0}tO(t){this.sO()&&(this.JA().GE(t),this.uA=0)}iO(t){this.sO()&&(this.JA().DE(t),this.uA=0)}DC(t){const s=new Promise((s=>Qc.add({resolve:s,D_:t})));return-1===Vc&&(Vc=self.requestAnimationFrame(Ic)),s}FT(){return this.Ny*this.Dy*(this.k_.alpha?4:3)}jT(){let t=0;for(const s of Gc.RM.zx.xC())s.cC()||(t+=s.Rx());return t}zT(){let t=0;for(const s of Gc.RM.Zv.Px())t+=s.Rx();return t}eO(){return this.F_}yx(){return this.i_}nO(){return"webgl"+this.yx()}Mx(){return this.yx()>=2}mx(){return this.SA}rO(){return this.TA}hO(){return this.bA}oO(){return 0!==this.vA}aO(){return this.vA}lO(){return this.xA}uO(){return this.CA}cO(){if(this.yx()>=2)return"webgl2";{const t=[];return this.AA&&t.push("EXT_frag_depth"),this.LA&&t.push("OES_standard_derivatives"),this.OA&&t.push("EXT_shader_texture_lod"),t.length>0?"webgl1:"+t.join(","):"webgl1:none"}}fO(){return this.IA}sO(){return!!this.e_}n_(){return this.e_}NC(){return this.EA}zA(){return!!this.DA}Cx(){return this.NA}Ix(){return this.RA}x_(t){this.kA.add(t)}C_(t){this.kA.delete(t)}y_(){return this.FA}gx(){return this.AC}jA(t){this.LS([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}dO(){return this.$T()}}}{const Jc=self.Gs,Hc={pO:null,mO:null,gO:null,getTime:null,yO:null};Jc.RM.MO=class{constructor(t){t=Object.assign({},Hc,t),this.wO=t.pO,this.SO=t.mO,this.TO=t.gO,this.bO=t.getTime,this.vO=t.yO,this.xO=null,this.CO=new Set}IO(t){this.CO.add(t)}GO(t){this.CO.delete(t)}Rb(){this.xO=null;for(const t of this.CO)t.Rb()}EO(t){return this.wO?this.wO(t):[t.$g(),t.Xg()]}jL(t){return this.SO(t)}NO(t,s){this.TO(t,s)}DO(){return this.bO()}Lp(t){this.vO(t)}_O(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.xO||this.xO.$g()===s&&this.xO.Xg()===i||(t.rC(this.xO),this.xO=null),null===this.xO&&(this.xO=t.$L(null,{width:s,height:i,Wv:"nearest",Vv:!1})),this.xO}}}{const qc=self.Gs,Zc=self.assert,Xc=self.ls,Kc=Xc.ds,tf=qc.Yn(qc.Rect),sf=qc.Yn(qc.Rect),ef=qc.Yn(qc.Rect),nf=qc.Yn(qc.Rect),rf=Kc.create(),hf=Kc.create(),of={AO:null,LO:null,OO:null,RO:!1},af={PO:null,kO:!1,FO:!1,jO:!1,zO:!1,BO:!1,$O:!1};qc.RM.UO=class{constructor(t,s){s=Object.assign({},of,s),this.$p=t,this.WO=s.AO,this.YO=s.LO,this.QO=s.OO,this.VO=null,this.JO=[],this.HO=[],this.qO=[],this.ZO=!1,this.Nb=0,this.XO=!1,this.KO=!1,this.tR=!1,this.sR=!1,this.iR=!1,this.eR=!1,this.z_=!1,this.nR=!1,this.rR=!1,this.hR=!1,this.oR=!1,this.aR=!1,this.lR=0,this.uR=[null,null,null],this.cR=!!s.RO,this.fR=0,this.dR=0,this.pR=0,this.mR=0,this.gR=null,this.yR=null,this.MR=qc.Yn(qc.Rect),this.wR=qc.Yn(qc.Rect),this.SR=qc.Yn(qc.Rect),this.TR=qc.Yn(qc.Rect),this.bR=qc.Yn(qc.Rect),this.vR=1,this.xR=1,this.CR=0,this.IR=0,this.GR=null,this.ER=null,this.NR=0,this.DR=0,this._R=0,this.AR=0,this.LR=!1,this.Hx=Kc.create(),this.OR=Kc.create(),this.$p.IO(this)}Qn(){this.$p.GO(this),qc.Sh(this.qO),qc.Sh(this.JO),qc.Sh(this.HO),this.gR=null,this.yR=null,this.WO=null,this.YO=null,this.QO=null}Rb(){this.ZO=!0,qc.Sh(this.qO),qc.Sh(this.JO),qc.Sh(this.HO)}RR(){return this.ZO}PR(t,s){if(s=Object.assign({},af,s),qc.Sh(this.qO),this.fR=0,this.dR=0,this.XO=!1,this.KO=!1,this.tR=!1,this.sR=!1,this.iR=!1,this.eR=!1,this.lR=0,this.aR=!!s.zO,this.oR=!!s.$O,this.ZO=!1,qc.Ch(this.JO,t),0===t.length)return;if(s.PO){if(s.PO.length!==t.length)throw new Error("incorrect indexMap length");qc.Ch(this.HO,s.PO)}else{qc.Sh(this.HO);for(let s=0,i=t.length;s<i;++s)this.HO.push(s)}for(const s of t)this.fR+=s.pb(),this.dR+=s.mb(),s.Sb()&&(this.XO=!0),s.bb()&&(this.KO=!0),s.Tb()&&(this.tR=!0),s.gb()&&(this.sR=!0),s.Ib()&&(this.iR=!0);this.eR=this.kR(t[0].cb());const i=this.FR(t[0],s),e=this.jR(t.at(-1),s);if(1===t.length&&!i&&!e)return void(this.hR=!0);this.hR=!1;let n=0;i&&(this.lR=1,this.qO.push(qc.Yn(qc.RM.UO.BR.zR,this,-1,1)),n=1);for(let s=0,r=t.length;s<r;++s)if(0!==s||i){let t=1===n?2:1;s!==r-1||e||(t=0),this.lR=Math.max(this.lR,t),this.qO.push(qc.Yn(qc.RM.UO.BR.$R,this,n,t,s)),n=t}else this.lR=1,this.qO.push(qc.Yn(qc.RM.UO.BR.UR,this,-1,1,s)),n=1;e&&this.qO.push(qc.Yn(qc.RM.UO.BR.WR,this,n,0))}FR(t,s){return!!(s.kO||t.yb()||s.jO&&!t.wb()||t.bb()&&!this.oR||0!==this.fR||0!==this.dR)||(t.cb().kT()?t.Tb()&&(s.BO||s.zO)||t.xb()&&s.zO:t.Tb()&&!this.eR&&s.BO)}jR(t,s){return!!s.FO||(t.cb().kT()?t.Tb()||t.gb():(t.Tb()||t.gb())&&this.YR())}kR(t){return t.sS()&&this.tR&&!this.sR}QR(t,s,i){t.sS()&&null===s&&(s=t.VR()),this.GR=s,this.gR=i.JR||null,this.yR=i.HR||null,this.Nb=i.qR||0,this.vR=i.devicePixelRatio||1,this.xR=i.ZR||1,this.CR=i.XR||0,this.IR="number"==typeof i.time?i.time:this.$p.DO(),this.z_=!1,t.ZA(),this.XO&&this.KR();let e=!1;if(this.tP()&&(this.sP(t,i),e=!0,this.ER=this.$p._O(t,this.pR,this.mR),tf.M(this.wR),tf.Sl(),t.sS()&&t.iP(this.GR),t.eP(this.GR.cC(),this.ER,tf.Xa(),tf.Ka(),tf.width(),tf.height())),this.hR)this.nP(t,i);else if(e||this.sP(t,i),0!==this.SR.width()||0!==this.SR.height()){t.uL(),t.nL(),t.BS(0),t.US(0),this.VO=i.rP||null,this.NR=i.hP||0,this.DR=i.oP||0,this._R=i.aP||0,this.AR=i.lP||0,this.LR=!!i.uP,this.cP(t),this.uR[0]=s,this.uR[1]=this.lR>=1?this.fP():null,this.uR[2]=2===this.lR?this.fP():null;for(const s of this.qO){const i=this.dP(s.pP()),e=this.dP(s.mP());t.sS()?s.gP(t,i,e):s.yP(t,i,e)}t.hL(null),this.uR[1]&&this.MP(this.uR[1]),this.uR[2]&&this.MP(this.uR[2]),this.uR.fill(null),this.wP(t),this.GR=null,this.ER=null,this.gR=null,this.yR=null,this.VO=null}}sP(t,s){const[i,e]=this.$p.EO(t);this.SP(t,i,e),this.TP(s)}SP(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.pR===s&&this.mR===i||this.bP(t,s,i,0,0,this.Hx,this.OR),this.pR=s,this.mR=i}bP(t,s,i,e,n,r,h){const o=s/2+e,a=i/2+n;t.tS(r,s/i);const l=t.nS(o,a,t.Bw(i),o,a,0,i);Kc.M(h,l)}TP(t){this.MR.M(t.vP),t.xP?this.wR.M(t.xP):this.wR.set(0,0,this.pR,this.mR),this.SR.M(this.wR),this.SR.wt(this.pR,this.mR);const s=this.xR*this.vR;this.wR.cl(this.fR*s,this.dR*s),this.bR.M(this.wR),this.bR.wt(this.pR,this.mR),this.wR.Tl(0,0,this.pR,this.mR),this.TR.M(this.wR),this.TR.wt(this.pR,this.mR)}cP(t){if(this.nR=t.PL(),this.rR=t.XL(),this.oR)t.RL(!1),this.KO&&t.kL(!0);else{if(tf.M(this.wR),t.kT()){const t=this.xR*this.vR;tf.cl(Math.max(this.fR,1)*t,Math.max(this.dR,1)*t),tf.Sl(),tf.Zn(0,0,this.pR,this.mR)}else tf.Sl();t.FL(tf.Xa(),tf.Ka(),tf.width(),tf.height(),this.mR)}}CP(t){t.nL(),this.oR||(this.rR&&t.KL(),t.RL(!1),this.KO&&t.kL(!0)),t.sS()&&t.IP(!0)}wP(t){t.kL(!1),this.rR&&t.ZL(),t.RL(this.nR),this.oR||t.zL(),t.sS()&&t.IP(!1),this.z_=t.XA()}GP(){this.bR.Zn(0,0,1,1)}dP(t){return t<0?null:this.uR[t]}fP(){return this.$p.jL(this)}EP(){return this.GR}MP(t){this.$p.NO(t,this)}NP(t){return this.JO[t]}DP(t){this.VO?this.VO(this,t,(()=>this.WO(t,this))):this.WO(t,this),this.hR||this.CP(t)}_P(t){if(this.oR)return!0;if(0!==this.NR||0!==this.DR||0!==this._R||0!==this.AR)return!1;const[s,i]=t.SL(t.jL());return s===this.pR&&i===this.mR}AP(t,s){let i=this.Hx,e=this.OR;if(s&&!this._P(t)){let s,n;i=rf,e=hf,0!==this._R&&0!==this.AR?[s,n]=[this._R,this.AR]:[s,n]=t.SL(t.jL()),this.bP(t,s,n,this.NR,this.DR,i,e),this.oR||t.zL()}t.WA(i),t.qA(e)}KR(){this.$p.Lp(this)}LP(t,s){return this.QO(this.HO[t],s)}OP(t,s){let i=this.bR,e=this.TR,n=this.SR;t.kT()&&(sf.M(i),sf.pl(1),i=sf,ef.M(e),ef.pl(1),e=ef,nf.M(n),nf.pl(1),n=nf),this.RP(t,s,e,n,i,1/this.pR,1/this.mR)}PP(t,s){let i=this.TR,e=this.SR,n=1/this.pR,r=1/this.mR;if(this.YO){let{kP:t,FP:s,jP:h}=this.YO(this.gR);t||(tf.set(0,0,0,0),t=tf),s||(s=this.pR),h||(h=this.mR),i=t,e=t,n=1/s,r=1/h}else t.kT()&&(ef.M(i),ef.pl(1),i=ef,nf.M(e),nf.pl(1),e=nf);let h=this.bR;t.kT()&&(h=sf,h.M(this.bR),h.pl(1)),this.RP(t,s,i,e,h,n,r),t.sS()&&this.iR&&t.zP(this.aR)}BP(t){return this.tR?t.sS()?this.tP()?this.ER:this.GR.cC():this.GR:null}RP(t,s,i,e,n,r,h){t.DL(this.BP(t),n,i,e,this.MR,r,h,this.vR,this.xR,this.CR,this.IR),t._L(this.LP(s,t))}nP(t,s){const i=this.JO[0],e=t.PL(),n=i.bb();n&&(t.RL(!1),t.kL(!0),this.bR.set(0,0,1,1),this.SR.set(0,0,1,1)),t.uS(i),t.Lb(this.Nb),t.YL(this.GR);let r=0,h=1;if(this.SR.set(0,0,1,1),i.xb()&&this.YO){const{kP:t,FP:s,jP:i}=this.YO(this.gR);t&&this.SR.M(t),r=Number.isFinite(s)?1/s:0,h=Number.isFinite(i)?1/i:0}else{const[s,i]=this.$p.EO(t);r=1/s,h=1/i}s.vP?this.MR.M(s.vP):this.MR.set(0,0,0,0),t.DL(this.BP(t),this.bR,this.SR,this.SR,this.MR,r,h,this.vR,this.xR,this.CR,this.IR),t._L(this.LP(0,t)),t.sS()&&this.iR&&t.zP(this.aR),t.BS(0),this.DP(t),n&&(t.kL(!1),t.RL(e))}tP(){return this.eR}YR(){return!this.eR}$P(){return this.tR}UP(){return!!this.hR&&!this.tP()}WP(){return this.oR}YP(){return this.gR}QP(){return this.yR}VP(){return this.Nb}JP(){return this.LR}XA(){return this.z_}HP(){return this.wR}qP(){return this.TR}ZP(){return this.cR}async XP(t,s,i){}}}{const lf=self.Gs;lf.RM.UO.BR=class{constructor(t,s,i,e=-1){this.KP=t,this.tk=s,this.sk=i,this.EM=e}ik(){return this.KP}pP(){return this.tk}mP(){return this.sk}ek(){return this.EM}DI(){return this.ik().NP(this.ek())}yP(t,s,i){}gP(t,s,i){}}}{const uf=self.Gs;uf.RM.UO.BR.zR=class extends uf.RM.UO.BR{constructor(t,s,i,e){super(t,s,i,e)}yP(t,s,i){const e=this.ik();t.uL(),t.lS(),t.YL(i,e.JP()),t.AL(0,0,0,0),e.DP(t),e.GP()}gP(t,s,i){const e=this.ik();t.uL(),t.lS(),t.YL(i,!1),t.AL(0,0,0,0),e.DP(t),e.GP()}}}{const cf=self.Gs,ff=cf.Yn(cf.Rect),df=cf.Yn(cf.El);cf.RM.UO.BR.WR=class extends cf.RM.UO.BR{constructor(t,s,i,e){super(t,s,i,e)}yP(t,s,i){const e=this.ik();t.lS(),t.YL(i),e.AP(t,!0),t.Lb(e.VP()),t.hL(s.cC()),df.Hl(e.HP()),ff.M(e.qP()),ff.pl(1),t.tT(df,ff),e.ZP()&&t.JL(s)}gP(t,s,i){const e=this.ik();t.lS(),t.YL(i,!1),e._P(t)?df.Hl(e.qP()):(t.IP(!1),e.AP(t,!0),df.Hl(e.HP())),t.nk(null),t.Lb(e.VP()),t.hL(s.cC()),e.WP()?t.wL():t.tT(df,e.qP())}}}{const pf=self.Gs;pf.RM.UO.BR.UR=class extends pf.RM.UO.BR{constructor(t,s,i,e){super(t,s,i,e)}yP(t,s,i){const e=this.ik();t.YL(i,e.JP()),t.AL(0,0,0,0),t.fL(),t.uS(this.DI()),e.PP(t,this.ek()),e.DP(t),e.GP()}gP(t,s,i){const e=this.ik();t.YL(i,!1),t.AL(0,0,0,0),t.fL(),t.uS(this.DI()),e.PP(t,this.ek()),e.DP(t),e.GP()}}}{const mf=self.Gs,gf=mf.Yn(mf.Rect),yf=mf.Yn(mf.El);mf.RM.UO.BR.$R=class extends mf.RM.UO.BR{constructor(t,s,i,e){super(t,s,i,e)}yP(t,s,i){const e=this.ik();t.YL(i);const n=0===this.mP();n?t.Lb(e.VP()):(t.AL(0,0,0,0),t.fL()),t.uS(this.DI()),e.OP(t,this.ek()),t.hL(s.cC()),e.AP(t,n),yf.Hl(e.HP()),gf.M(e.qP()),gf.pl(1),t.tT(yf,gf),e.ZP()&&t.JL(s)}gP(t,s,i){const e=this.ik();t.YL(i,!1),0===this.mP()?(t.Lb(e.VP()),t.nk(null),e._P(t)?yf.Hl(e.qP()):(t.IP(!1),e.AP(t,!0),yf.Hl(e.HP()))):(t.AL(0,0,0,0),t.fL(),yf.Hl(e.qP())),t.uS(this.DI()),e.OP(t,this.ek()),t.hL(s.cC()),e.WP()?t.wL():t.tT(yf,e.qP())}}}{let Mf=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]};SortZOrderList=Mf;const wf=self.Gs,Sf=self.Fs;let Tf=null;const bf=new Set,vf=[],xf=[];let Cf=!1,If=!1,Gf=!1;const Ef=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.rk=class{constructor(t){Tf=t,Object.defineProperties(this,{hk:{value:Tf.lk().ak(),writable:!1},uk:{value:Tf.fk().ck(),writable:!1},dk:{value:{},writable:!1},pk:{value:{},writable:!1},mk:{value:Tf.gk(),writable:!1},yk:{value:Tf.Mk(),writable:!1},wk:{value:new Date(Tf.Sk()),writable:!1},storage:{value:new self.Tk(Tf),writable:!1},bk:{value:Tf.vk(),writable:!1},xk:{value:Tf.Ck(),writable:!1},Ik:{value:Tf.Gk(),writable:!1},Wv:{value:Tf.Ek(),writable:!1},Nk:{value:Tf.Dk(),writable:!1},_k:{value:new self.Ak(t),writable:!1},Lk:{value:new self.Ok(t),writable:!1}}),Tf.Rk().addEventListener("keydown",(t=>{bf.has(t.key)?t.stopPropagation():bf.add(t.key)})),Tf.Rk().addEventListener("keyup",(t=>bf.delete(t.key))),Tf.Mf().addEventListener("window-blur",(()=>bf.clear())),Tf.vk()&&(self.alert=t=>(Cf||(Cf=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}Pk(t){Object.defineProperties(this.dk,t)}kk(t){Object.defineProperties(this.pk,t)}addEventListener(t,s){Tf.Rk().addEventListener(t,s)}removeEventListener(t,s){Tf.Rk().removeEventListener(t,s)}Fk(t,...s){Sf.ue(t);const i=Tf.jk(),e=i.zk(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Iu())return e.Bk();if(s.length<e.$k())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.$k()} expected)`);const n=e.Uk();let r=n.Wk();const h=i.Yk();if(h){r=r.slice(0);const t=new Set(r);for(const s of h.Wk())t.has(s)||(r.push(s),t.add(s));for(const s of i.Qk())t.has(s)||(r.push(s),t.add(s))}return n.Vk(r,e.Jk(),e.Hk(),e.Bk(),...s)}qk(t){const s=Tf.Xk().Zk();if(!s)throw new Error("not in a function which returns a value");switch(s.Kk()){case 1:"number"==typeof t&&s.tF(t);break;case 2:"string"==typeof t&&s.tF(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.tF(t)}}signal(t){Sf.ue(t),Tf.jk().sF(t)}iF(t){return Sf.ue(t),Tf.jk().eF(t)}nF(){return[Tf.Ck(),Tf.Gk()]}get rF(){return Tf.hF()}get oF(){return Tf.aF()}get lF(){return Tf.uF()}get cF(){return Tf.fF()}get dF(){return Tf.pF()}get mF(){return Tf.gF()}set mF(t){Sf.he(t),Tf.yF(t)}get MF(){return If||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),If=!0),Tf.wF()}get framesPerSecond(){return Tf.wF()}get SF(){return Tf.TF()}get bF(){return Tf.vF()}get xF(){return Tf.CF()}get IF(){return Tf.GF()}set IF(t){if(!Ef.has(t))throw new Error("invalid framerate mode");Tf.EF(t)}get NF(){return Tf.DF()}set NF(t){Sf.he(t),Tf._F(t)}get AF(){return Tf.LF()}set AF(t){Tf.OF(t)}get RF(){return Tf.lk().PF()}get kF(){return Tf.lk().FF()}random(){return Tf.jF()}get layout(){const t=Tf.zF();if(!t)throw new Error("no layout is running - make sure a layout is loaded before accessing");return t.BF()}$F(t){const s=Tf.UF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.WF(t),!i)throw new Error("invalid layout");return i.BF()}YF(){return Tf.UF().QF().map((t=>t.BF()))}VF(t){const s=Tf.UF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.WF(t),!i)throw new Error("invalid layout");s.JF()||s.HF(i)}get keyboard(){const t=Tf.qF().keyboard;if(!t)throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return t}get ZF(){const t=Tf.qF().ZF;if(!t)throw new Error("runtime.mouse used but Mouse object missing - add it to your project first");return t}get XF(){const t=Tf.qF().XF;if(!t)throw new Error("runtime.touch used but Touch object missing - add it to your project first");return t}get KF(){const t=Tf.qF().KF;if(!t)throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");return t}tj(t,s){Sf.ue(t),Sf.ue(s),Tf.sj(t,s)}ij(t){Sf.he(t);const s=Tf.ej(t);return s?s.nj():null}rj(t,s){Sf.Ae(s);const i=Tf.hj();for(const s of t){const t=Tf.oj(s),i=t.aj();vf.push([i.lj().ek(),i.uj()]),xf.push(t)}if(0===vf.length)return;vf.sort(Mf),xf.sort(((t,i)=>s(t.nj(),i.nj())));let e=!1;for(let t=0,s=vf.length;t<s;++t){const s=xf[t],n=i.cj(vf[t][0]),r=vf[t][1],h=n.fj();h[r]!==s&&(h[r]=s,s.aj().dj(n,!0),n.pj(s),e=!0)}e&&Tf.mj(),wf.Sh(vf),wf.Sh(xf)}async gj(t,s){Gf||(console.warn("IRuntime.createWorker() is deprecated. All modern browsers now support nested workers so this method is no longer needed."),Gf=!0);const i=new MessageChannel,e=i.port1,n=i.port2;return await Tf.yj("runtime","script-create-worker",{url:t,opts:s,port2:n},[n]),e}alert(t){return Tf.yj("runtime","alert",{message:t+(Tf.vk()?" [via Web Worker]":"")})}Mj(t){return Sf.he(t),Tf.wj(t)}Sj(t){Tf.Tj(t)}async bj(t,s,i){Sf.ce(t),Sf.ie(s),Sf.ze(i,DOMRect),i||(i=new DOMRect(0,0,0,0));const e=Tf.vj();if(!e)return;Tf.mj();const n=await e.xj(t||"image/png",s,i.x,i.y,i.width,i.height);return await Tf.Cj(wf.Nj.Ej.Gj.Ij,null),n}}}{const Nf=self.Gs,Df=self.Fs;let _f=null;self.Dj=class{constructor(t){_f=t,Object.defineProperties(this,{_j:{value:!0,writable:!1}})}Aj(t){const s=self.Oj.Lj(t);if(!s)throw new Error("invalid IImageInfo");s.Rj(_f.Pj())}kj(t){return _f.io(t)}Fj(t){return _f.eo(t)}jj(t){return _f.no(t)}zj(t){return _f.ro(t)}Bj(t){return _f.$j(t)}Uj(t){return"flat"===_f.Wj()&&Nf.Xh(t)&&(t=t.toLowerCase()),_f.Yj(t)}get Qj(){return _f.Vj()}async Jj(t,s){throw new Error("decodeWebMOpus() is no longer supported - use Web Audio's decodeAudioData() directly as all supported platforms now support WebM Opus")}Hj(...t){return _f.qj(...t)}Zj(t){return _f.Xj(t)}Kj(t){return _f.tz(t)}}}{const Af=self.Gs,Lf=self.Fs;let Of=null;self.sz=class{constructor(t){Of=t,Object.defineProperties(this,{runtime:{value:Of.Pj(),writable:!1}})}iz(t,s){const i=Of.Pj(),e=i.oj(t),n=i.oj(s);return Of.ez(e,n)}nz(t,s){const i=Of.Pj(),e=i.oj(t);for(const t of s){const s=i.oj(t);if(Of.ez(e,s))return t}return null}rz(t){const s=Of.Pj().oj(t),i=Of.hz(s);return i?i.nj():null}oz(t,s){if(Lf.he(t),Lf.he(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");Of.az(t,s)}lz(){return Of.uz()}cz(t,s){const i=Of.Pj();let e;e=Array.isArray(t)?t.map((t=>i.fz(t))):[i.fz(t)];const n=Af.Rect.qa(s),r=[];return Of.dz(null,e,n,r),r.map((t=>t.nj()))}}}{const Rf=self.Gs,Pf=self.Fs;let kf=null;const Ff=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),jf=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),zf=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.Ak=class{constructor(t){kf=t,Object.defineProperties(this,{pz:{value:Rf.Xs.oi,writable:!1},os:{value:Ff.get(Rf.Xs.Ks)||"unknown",writable:!1},mz:{value:Rf.Xs.ti,writable:!1},browser:{value:jf.get(Rf.Xs.si)||"unknown",writable:!1},gz:{value:Rf.Xs.ii,writable:!1},yz:{value:zf.get(Rf.Xs.ni)||"unknown",writable:!1}})}get Mz(){let t=kf.wz();return kf.Sz()?t="nwjs":kf.Tz()?t="windows-webview2":"cordova"===t?t="Android"===Rf.Xs.Ks?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get _G(){return kf.vj().bz()}get vz(){return kf.vj().xz()}get Cz(){return kf.vj().Iz()}get Gz(){return kf.vj().Ez()}get Nz(){return kf.vj().Dz()}get _z(){return kf.vj().Az()}get Lz(){return kf.vj().Oz()}get Rz(){return kf.vj().Pz()}get devicePixelRatio(){return kf.kz()}}}{const Bf=self.Gs,$f=self.Fs;self.Tk=class{constructor(t){this.Fz=t.jz()}getItem(t){return $f.ue(t),this.Fz.getItem(t)}setItem(t,s){return $f.ue(t),this.Fz.setItem(t,s)}removeItem(t){return $f.ue(t),this.Fz.removeItem(t)}clear(){return this.Fz.clear()}keys(){return this.Fz.keys()}}}{const Uf=self.Gs,Wf=self.Fs,Yf=Uf.Es();self.zz=class{#t;constructor(){const t=Uf.$z.Bz(Yf);this.#t=t,Object.defineProperties(this,{runtime:{value:t.Pj().Uz(),writable:!1},id:{value:t.Wz(),writable:!1},Yz:{value:t.Qz(),writable:!1},Vz:{value:t.Jz(),writable:!1},qz:{value:t.Zz(),writable:!1},Xz:{value:t.Kz(),writable:!1},tB:{value:t.sB(),writable:!1},iB:{value:t.eB(),writable:!1},nB:{value:t.rB(),writable:!1},hB:{value:t.oB(),writable:!1}}),t.Pj().aB(this,t)}static lB(t){if(!t)return null;const s=Uf.$z.uB(t);return s?s.cB():null}fB(){return this.#t.pB().dB()}mB(){return this.#t.gB().nj()}}}{const Qf=self.Gs,Vf=self.Fs,Jf=Qf.Es();self.yB=class{#t;constructor(){const t=Qf.$z.Bz(Jf);this.#t=t,Object.defineProperties(this,{name:{value:t.Nc(),writable:!1},runtime:{value:t.Pj().Uz(),writable:!1},MB:{value:t.wB().cB(),writable:!1}}),t.Pj().aB(this,t)}addEventListener(t,s){Vf.ue(t),Vf.Ae(s),this.#t.Rk().addEventListener(t,s)}removeEventListener(t,s){Vf.ue(t),Vf.Ae(s),this.#t.Rk().removeEventListener(t,s)}SB(){return[...this.TB()]}bB(){return Qf.zh(this.TB())}vB(){return[...this.xB()]}CB(){return Qf.zh(this.xB())}IB(t){const s=this.#t,i=s.Pj().GB(t),e=s.EB(i);return e?e.nj():null}*TB(){for(const t of this.#t.NB())yield t.nj()}*xB(){for(const t of this.#t._B().DB())yield t.nj()}AB(t){Vf.Ae(t);const s=this.#t;if(s.LB()>0)throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.OB(t)}Ii(t,s,i,e,n){if(Vf.se(s),Vf.se(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const r=this.#t,h=r.Pj(),o=h.zF().lj(t);if(!o)throw new Error("invalid layer");const a=h.RB(r,o,s,i,e,n);e&&o.PB(a);const l=h.jk();return l.kB(!0),a.jB(),l.kB(!1),l.zB()||h.UF().BB()||h.$B(),a.nj()}}}{const Hf=self.Gs,qf=self.Fs,Zf=new WeakMap,Xf=["above","below","top-sublayer","bottom-sublayer"];self.UB=class{constructor(t){Zf.set(this,t);const s=[],i=t.WB(),e=i.YB().length;for(let t=0;t<e;++t)s.push(new self.QB(i,t));Object.defineProperties(this,{name:{value:t.Nc(),writable:!1},index:{value:t.ek(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){qf.ue(t),qf.Ae(s),Zf.get(this).Rk().addEventListener(t,s)}removeEventListener(t,s){qf.ue(t),qf.Ae(s),Zf.get(this).Rk().removeEventListener(t,s)}get width(){return Zf.get(this).$g()}set width(t){qf.he(t),Zf.get(this).Hg(t)}get height(){return Zf.get(this).Xg()}set height(t){qf.he(t),Zf.get(this).Ug(t)}VB(t,s){qf.he(t),qf.he(s);const i=Zf.get(this);i.Hg(t),i.Ug(s)}getSize(){const t=Zf.get(this);return[t.$g(),t.Xg()]}set scale(t){qf.he(t),Zf.get(this).JB(t)}get scale(){return Zf.get(this).HB()}set angle(t){qf.he(t),Zf.get(this).qB(t)}get angle(){return Zf.get(this).ZB()}set scrollX(t){qf.se(t),Zf.get(this).XB(t)}get scrollX(){return Zf.get(this).KB()}set scrollY(t){qf.se(t),Zf.get(this).t$(t)}get scrollY(){return Zf.get(this).s$()}scrollTo(t,s){qf.se(t),qf.se(s);const i=Zf.get(this);i.XB(t),i.t$(s)}i$(){const t=Zf.get(this);return[t.KB(),t.s$()]}e$(t){const s=Zf.get(this);let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return i=s.lj(t),i?i.n$():null}r$(){return Zf.get(this).h$().map((t=>t.n$()))}*o$(){for(const t of Zf.get(this).o$())yield t.n$()}a$(t,s,i){const e=Zf.get(this),n=self.l$;qf.ue(t),qf.ze(s,n);const r=s?e.Pj().u$(s):null,h=Xf.indexOf(i);if(h<0)throw new Error("invalid location");e.c$(t,r,h)}f$(t,s,i){const e=Zf.get(this),n=e.Pj(),r=self.l$;qf.je(t,r);const h=n.u$(t);if(!h)throw new Error("invalid layer");qf.ze(s,r);const o=s?n.u$(s):null,a=Xf.indexOf(i);if(a<0)throw new Error("invalid location");e.d$(h,o,a)}p$(t){const s=Zf.get(this),i=self.l$;qf.je(t,i);const e=s.Pj().u$(t);if(!e)throw new Error("invalid layer");const n=e.Pj();s.m$(e),n.jk().zB()||n.$B()}g$(){const t=Zf.get(this),s=t.Pj();t.y$(),s.jk().zB()||s.$B()}M$(t,s){qf.he(t),qf.he(s),Zf.get(this).w$(t,s)}S$(){return Zf.get(this).T$()}set W(t){qf.ue(t);const s=Zf.get(this);if("perspective"===t)s.b$();else{if("orthographic"!==t)throw new Error("invalid projection");s.v$()}}get W(){return Zf.get(this).x$()?"orthographic":"perspective"}}}{const Kf=self.Gs,td=self.Fs,sd=new WeakMap,id=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),ed=new Map([...id.entries()].map((t=>[t[1],t[0]]))),nd=new Set(["2d","3d"]),rd=Kf.Yn(Kf.xo);self.l$=class{constructor(t){sd.set(this,t);const s=[],i=t.WB(),e=i.YB().length;for(let t=0;t<e;++t)s.push(new self.QB(i,t));Object.defineProperties(this,{name:{value:t.Nc(),writable:!1},layout:{value:t.WF().BF(),writable:!1},effects:{value:s,writable:!1}}),t.Pj().aB(this,t)}get C$(){const t=sd.get(this).I$();return t?t.n$():null}*G$(){for(const t of sd.get(this).G$())yield t.n$()}*E$(){for(const t of sd.get(this).N$())yield t.n$()}*D$(){for(const t of sd.get(this).N$())for(const s of t._$())yield s.n$()}get index(){return sd.get(this).ek()}get isVisible(){return sd.get(this).A$()}set isVisible(t){sd.get(this).L$(t)}get O$(){return sd.get(this).R$()}get P$(){return sd.get(this).k$()}set P$(t){sd.get(this).F$(t)}get j$(){return sd.get(this).z$()}set j$(t){sd.get(this).B$(!!t)}get $$(){return sd.get(this).U$()}get opacity(){return sd.get(this).sL()}set opacity(t){t=Kf.Zn(+t,0,1),isNaN(t)||sd.get(this).eL(t)}set scale(t){td.he(t),sd.get(this).W$(t)}get scale(){return sd.get(this).Y$()}set Q$(t){td.he(t),sd.get(this).V$(t)}get Q$(){return sd.get(this).J$()}set angle(t){td.he(t),sd.get(this).qB(t)}get angle(){return sd.get(this).H$()}set q$(t){td.he(t),sd.get(this).Z$(t)}get q$(){return sd.get(this).X$()}set K$(t){td.he(t),sd.get(this).tU(t)}get K$(){return sd.get(this).sU()}set iU(t){td.he(t),sd.get(this).qb(t)}get iU(){return sd.get(this).Hb()}set renderingMode(t){if(!nd.has(t))throw TypeError("invalid rendering mode");sd.get(this).eU("3d"===t)}get renderingMode(){return sd.get(this).nU()?"3d":"2d"}set rU(t){sd.get(this).hU(t)}get rU(){return sd.get(this).oU()}set aU(t){sd.get(this).lU(t)}get aU(){return sd.get(this).uU()}set qR(t){td.ue(t);const s=id.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");sd.get(this).Lb(s)}get qR(){return ed.get(sd.get(this).cU())}set backgroundColor(t){if(td.Ce(t),t.length<3)throw new Error("expected 3 elements");rd.Do(t[0],t[1],t[2]);const s=sd.get(this),i=s.fU();i.Yo(rd)||(i.ko(rd),s.Pj().mj())}get backgroundColor(){const t=sd.get(this).fU();return[t.Fo(),t.jo(),t.zo()]}set scrollX(t){td.se(t);const s=sd.get(this);s.dU(!0),s.XB(t)}get scrollX(){return sd.get(this).KB()}set scrollY(t){td.se(t);const s=sd.get(this);s.dU(!0),s.t$(t)}get scrollY(){return sd.get(this).s$()}scrollTo(t,s){td.se(t),td.se(s);const i=sd.get(this);i.dU(!0),i.XB(t),i.t$(s)}i$(){const t=sd.get(this);return[t.KB(),t.s$()]}pU(){sd.get(this).dU(!1)}getViewport(){return sd.get(this).mU().il()}gU(t,s,i=0){td.se(t),td.se(s),td.se(i);const e=sd.get(this),n=e.Pj();return e.yU(t-n.Iz(),s-n.Ez(),i)}MU(t,s,i=0){td.se(t),td.se(s),td.se(i);const e=sd.get(this),n=e.Pj(),[r,h]=e.wU(t,s,i);return[r+n.Iz(),h+n.Ez()]}SU(t,s,i=0){return td.se(t),td.se(s),td.se(i),sd.get(this).TU(t,s,i)}bU(t,s,i=0){return td.se(t),td.se(s),td.se(i),sd.get(this).vU(t,s,i)}get xU(){return sd.get(this).CU()}}}{let hd=function(t){let s=ld.get(t);return s||(s=od.Yn(od.Event.Mf),ld.set(t,s),s)};GetDispatcher=hd;const od=self.Gs,ad=self.Fs,ld=new WeakMap,ud=od.Es();self.IU=class{#t;constructor(){const t=od.$z.Bz(ud);this.#t=t;const s={runtime:{value:t.Pj().Uz(),writable:!1},objectType:{value:t.GU().dB(),writable:!1},MB:{value:t.wB().cB(),writable:!1}};t.EU(s),t.NU(s),Object.defineProperties(this,s),t.Pj().aB(this,t)}static DU(){return od.$z._U()}AU(){const t=ld.get(this);t&&(t.Qn(),ld.delete(this))}addEventListener(t,s,i){ad.ue(t),ad.Ae(s),hd(this).addEventListener(t,s,i)}removeEventListener(t,s,i){ad.ue(t),ad.Ae(s),hd(this).removeEventListener(t,s,i)}dispatchEvent(t){hd(this).dispatchEvent(t)}destroy(){const t=this.#t,s=t.Pj();s.LU(t),s.jk().zB()||s.UF().BB()||s.jk().OU()||s.$B()}RU(){const t=this.#t.PU();return t?t.map((t=>t.nj())):[]}*kU(){const t=this.#t;if(t.FU())for(const s of t.jU())yield s.nj()}get uid(){return this.#t.zU()}get BU(){return this.#t.$U()}get UU(){return this.#t.WU()}set mF(t){ad.he(t),this.#t.yF(t)}get mF(){return this.#t.YU()}QU(){this.#t.VU()}get oF(){const t=this.#t;return t.Pj().aF(t)}JU(...t){ad.Ce(t);const s=new Set(t),i=this.#t.HU();return s.isSubsetOf(i)}qU(t){ad.je(t,Set),this.#t.ZU(t)}XU(){return new Set(this.#t.HU())}signal(t){ad.ue(t);const s=this.#t;s.Pj().jk().KU(s,t)}iF(t){ad.ue(t);const s=this.#t;return s.Pj().jk().tW(s,t)}}}{const cd=self.Gs,fd=self.Fs,dd=cd.Es();self.sW=class extends self.IU{#t;#s=!1;#i=null;#e=!1;#n=null;#r;#h;constructor(t){super(),this.#t=cd.$z.Bz(dd),this.#s=!1,this.#i=null,this.#e=!1,this.#n=null,this.#r=t?.iW,this.#h=t?.eW}AU(){this.nW(!1),this.rW(!1),super.AU()}hW(){return cd.$z.oW()}aW(t){const s=this.#t;s.Pj().lW(t,s)}uW(t){const s=this.#t;return s.Pj().Cj(t,s)}cW(t,s){if(fd.ue(t),fd.Ae(s),!this.#r)throw new Error("no DOM component id set");this.#t.Pj().fW(this.#r,t,s)}dW(t){fd.Ce(t);for(const[s,i]of t)this.cW(s,i)}pW(t,s){if(fd.ue(t),!this.#r)throw new Error("no DOM component id set");this.#t.Pj().Bc(this.#r,t,s)}mW(t,s){if(fd.ue(t),!this.#r)throw new Error("no DOM component id set");return this.#t.Pj().yj(this.#r,t,s)}gW(t,s){if(!this.#t.Pj().vk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#r,handler:t,data:s,responseId:null});this.pW(t,s)}nW(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=this.#t.Pj();if(t){if(!this.#i)if(this.#t.Pj().yW()){const t=globalThis.MW,s=this.MB;this.#i=()=>{const i=performance.now();this.wW(),t.SW(s,performance.now()-i)}}else this.#i=()=>this.wW();s.Mf().addEventListener("tick",this.#i)}else s.Mf().removeEventListener("tick",this.#i)}TW(){return this.#s}wW(){}rW(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=this.#t.Pj();if(t){if(!this.#n)if(this.#t.Pj().yW()){const t=globalThis.MW,s=this.MB;this.#n=()=>{const i=performance.now();this.bW(),t.SW(s,performance.now()-i)}}else this.#n=()=>this.bW();s.Mf().addEventListener("tick2",this.#n)}else s.Mf().removeEventListener("tick2",this.#n)}vW(){return this.#e}bW(){}xW(){return[]}IW(){return null}GW(t){}EW(){if(!this.#h)throw new Error("no wrapper component id set");return this.#t.Pj().NW(this.#h)}DW(t,s){if(fd.ue(t),fd.Ae(s),!this.#h)throw new Error("no wrapper component id set");this.#t.Pj()._W(this.#h,t,s)}AW(t){fd.Ce(t);for(const[s,i]of t)this.DW(s,i)}LW(t,s){if(!this.#h)throw new Error("no wrapper component id set");this.runtime.Lk.OW(this.#h,t,s)}RW(t,s){if(!this.#h)throw new Error("no wrapper component id set");return this.runtime.Lk.PW(this.#h,t,s)}}}{let pd=function(t){return class s extends t{#t;#s;constructor(t){super(t);const s=md.$z.Bz(bd),i=s.aj();this.#t=s,this.#s=i,Td.set(this,s);const e=[],n=i.kW();if(n){const t=i.GU().WB().YB().length;for(let s=0;s<t;++s)e.push(new self.QB(n,s))}const r={effects:{value:e,writable:!1}};Object.defineProperties(this,r)}get layout(){return this.#s.WF().BF()}get FW(){return this.#s.lj().n$()}get x(){return this.#s.Wb()}set x(t){t=+t;const s=this.#s;isNaN(t)||s.Wb()===t||(s.Yb(t),s.jW())}get y(){return this.#s.Vb()}set y(t){t=+t;const s=this.#s;isNaN(t)||s.Vb()===t||(s.Jb(t),s.jW())}setPosition(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.Wb()===t&&i.Vb()===s||(i.zW(t,s),i.jW())}BW(){const t=this.#s;return[t.Wb(),t.Vb()]}offsetPosition(t,s){if(t=+t,s=+s,isNaN(t)||isNaN(s)||0===t&&0===s)return;const i=this.#s;i.$W(t,s),i.jW()}set UW(t){t=+t;const s=this.#s;isNaN(t)||s.WW()===t||(s.YW(t),s.jW())}get UW(){return this.#s.WW()}set QW(t){t=+t;const s=this.#s;isNaN(t)||s.VW()===t||(s.JW(t),s.jW())}get QW(){return this.#s.VW()}HW(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.WW()===t&&i.VW()===s||(i.YW(t),i.JW(s),i.jW())}qW(){const t=this.#s;return[t.WW(),t.VW()]}get iU(){return this.#s.Hb()}set iU(t){t=+t;const s=this.#t,i=this.#s;isNaN(t)||i.Hb()===t||(i.qb(t),s.Pj().mj())}get ZW(){return this.#s.XW()}get width(){return this.#s.$g()}set width(t){t=+t;const s=this.#s;isNaN(t)||s.$g()===t||(s.Hg(t),s.jW())}get height(){return this.#s.Xg()}set height(t){t=+t;const s=this.#s;isNaN(t)||s.Xg()===t||(s.Ug(t),s.jW())}VB(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.$g()===t&&i.Xg()===s||(i.vD(t,s),i.jW())}getSize(){const t=this.#s;return[t.$g(),t.Xg()]}get angle(){return this.#s.ZB()}set angle(t){t=md.Xn(+t);const s=this.#s;isNaN(t)||s.ZB()===t||(s.qB(t),s.jW())}get KW(){return md.tr(this.angle)}set KW(t){this.angle=md.Kn(t)}Xl(t){return t?(this.#s.tY(wd,Sd,!1),wd.il()):this.#s.sY().il()}iY(t){return t?(this.#s.tY(wd,Sd,!1),Sd.Ql()):this.#s.eY().Ql()}nY(){return this.#s.rY()}get isVisible(){return this.#s.R$()}set isVisible(t){t=!!t;const s=this.#t,i=this.#s;i.R$()!==t&&(i.L$(t),s.Pj().mj())}get opacity(){return this.#s.sL()}set opacity(t){t=md.Zn(+t,0,1);const s=this.#t,i=this.#s;isNaN(t)||i.sL()===t||(i.eL(t),s.Pj().mj())}set hY(t){if(gd.Ce(t),t.length<3)throw new Error("expected 3 elements");Cd.Do(t[0],t[1],t[2]);const s=this.#t,i=this.#s;i.oY().Yo(Cd)||(i.aY(Cd),s.Pj().mj())}get hY(){const t=this.#s.oY();return[t.Fo(),t.jo(),t.zo()]}set qR(t){gd.ue(t);const s=vd.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=this.#t;this.#s.Lb(s),i.Pj().mj()}get qR(){return xd.get(this.#s.cU())}lY(){this.#s.uY()}cY(){this.#s.fY()}dY(t){gd.je(t,Md);const s=this.#t,i=s.Pj().u$(t);if(!i)throw new Error("invalid layer");s.aj().pY(i)}mY(t,i){gd.je(t,s),this.#s.gY(Td.get(t),i)}get zIndex(){return this.#s.uj()}get yY(){return this.#s.MY()}set yY(t){this.#s.wY(!!t)}xl(t,s){return gd.se(t),gd.se(s),this.#s.SY(+t,+s)}iz(t){gd.je(t,s);const i=this.#t,e=Td.get(t);return i.Pj().fk().ez(i,e)}rz(){const t=this.#t,s=t.Pj().fk().hz(t);return s?s.nj():null}getParent(){const t=this.#t.TY();return t?t.nj():null}bY(){const t=this.#t.vY();return t?t.nj():null}*xY(){for(const t of this.#t.xY())yield t.nj()}CY(){return this.#t.IY()}GY(t){const s=this.#t.EY(t);return s?s.nj():null}*children(){for(const t of this.#t.children())yield t.nj()}*NY(){for(const t of this.#t.NY())yield t.nj()}DY(t,i){gd.je(t,s),gd.Me(i),i||(i={});const e=this.#t,n=Td.get(t);e._Y(n,i)}removeChild(t){gd.je(t,s);const i=this.#t,e=Td.get(t);i.AY(e)}LY(){const t=this.#t;t.OY()&&t.TY().AY(t)}RY(){const t=this.#s;return{PY:t.kY(),FY:t.jY(),zY:t.BY(),$Y:t.UY(),WY:t.YY(),QY:t.VY(),JY:t.HY(),qY:t.ZY(),XY:t.KY()}}tQ(t,s){gd.he(t),gd.he(s),this.#s.sQ(t,s)}iQ(){const t=this.#s;t.eQ(),t.jW()}nQ(t,s,i){gd.he(t),gd.he(s),gd.ye(i);const e=this.#s;e.rQ(t,s,i)&&e.jW()}hQ(t,s){let i=NaN,e=NaN,n=NaN,r=NaN,h=NaN;const o=this.#s;if(o.oQ()){const a=o.aQ()._v(t,s);null!==a&&(i=a.Wb(),e=a.Vb(),n=a.Hb(),r=a.Zb(),h=a.Kb())}return{x:i,y:e,iU:n,lQ:r,uQ:h}}cQ(){const t=this.#s;if(!t.oQ())return[0,0];const s=t.aQ();return[s.Sv(),s.Tv()]}}};MakeIWorldInstanceClass=pd;const md=self.Gs,gd=self.Fs,yd=self.IU,Md=self.l$,wd=md.Yn(md.Rect),Sd=md.Yn(md.El),Td=new WeakMap,bd=md.Es(),vd=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),xd=new Map([...vd.entries()].map((t=>[t[1],t[0]]))),Cd=md.Yn(md.xo);self.fQ=pd(self.IU),self.dQ=pd(self.sW)}{const Id=self.Gs,Gd=self.Fs;self.pQ=class extends self.fQ{#t;constructor(){super(),this.#t=self.IU.DU()}mQ(){return this.#t.yQ().gQ()}focus(){this.#t.yQ().MQ()}blur(){this.#t.yQ().wQ()}SQ(t,s){Gd.ue(t),this.#t.yQ().TQ(t,s)}}}{let Ed=function(t){let s=_d.get(t);return s||(s=Nd.Yn(Nd.Event.Mf),_d.set(t,s),s)};GetDispatcher=Ed;const Nd=self.Gs,Dd=self.Fs,_d=new WeakMap,Ad=Nd.Es();self.bQ=class{#t;constructor(){const t=Nd.$z.Bz(Ad);this.#t=t;const s={runtime:{value:t.Pj().Uz(),writable:!1},behavior:{value:t.xQ().vQ(),writable:!1},CQ:{value:t.GQ().IQ(),writable:!1}};Object.defineProperties(this,s),t.Pj().aB(this,t)}static DU(){return Nd.$z._U()}get EQ(){return this.#t.NQ().nj()}AU(){const t=_d.get(this);t&&(t.Qn(),_d.delete(this))}addEventListener(t,s,i){Dd.ue(t),Dd.Ae(s),Ed(this).addEventListener(t,s,i)}removeEventListener(t,s,i){Dd.ue(t),Dd.Ae(s),Ed(this).removeEventListener(t,s,i)}dispatchEvent(t){Ed(this).dispatchEvent(t)}}}{const Ld=self.Gs,Od=self.Fs,Rd=Ld.Es();self.DQ=class{constructor(){const t=Ld.$z.Bz(Rd),s={runtime:{value:t.Pj().Uz(),writable:!1},behavior:{value:t.xQ().vQ(),writable:!1},name:{value:t.Nc(),writable:!1}};Object.defineProperties(this,s)}}}{const Pd=self.Gs,kd=self.Fs,Fd=Pd.Es();self._Q=class{#s;constructor(){const t=Pd.$z.Bz(Fd);this.#s=t;const s={runtime:{value:t.Pj().Uz(),writable:!1},id:{value:t.Wz(),writable:!1}};Object.defineProperties(this,s),t.Pj().aB(this,t)}SB(){return this.#s.DB().map((t=>t.nj()))}static lB(t){if(!t)return null;const s=Pd.$z.AQ(t);return s?s.vQ():null}}}{const jd=self.Gs,zd=self.Fs,Bd=jd.Yn(jd.xo);self.QB=class{#t;constructor(t,s){this.#t=t;const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){return this.#t.YB()[this.index].Nc()}get isActive(){return this.#t.LQ(this.index)}set isActive(t){t=!!t;const s=this.#t;s.LQ(this.index)!==t&&(s.OQ(this.index,t),s.RQ(),s.Pj().mj())}setParameter(t,s){zd.he(t),t=Math.floor(+t);const i=this.#t,e=i.PQ(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof jd.xo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Bd.Do(s[0],s[1],s[2]),s=Bd}else if("number"!=typeof s)throw new TypeError("expected number");i.kQ(this.index,t,s)&&i.LQ(this.index)&&i.Pj().mj()}getParameter(t){zd.he(t),t=Math.floor(+t);const s=this.#t.PQ(this.index,t);if(null===s)throw new RangeError("invalid index");return s instanceof jd.xo?[s.Fo(),s.jo(),s.zo()]:s}}}{const $d=self.Gs,Ud=self.Fs;self.FQ=class{#t;constructor(t){this.#t=t,Object.defineProperties(this,{name:{value:t.Nc(),writable:!1}})}get speed(){return this.#t.jQ()}get zQ(){return this.#t.BQ()}get $Q(){return this.#t.UQ()}get WQ(){return this.#t.YQ()}get QQ(){return this.#t.VQ()}get frameCount(){return this.#t.JQ()}HQ(){return this.#t.qQ().map((t=>t.ZQ()))}*frames(){for(const t of this.#t.qQ())yield t.ZQ()}}}{const Wd=self.Gs,Yd=self.Fs;self.Oj=class{#s;constructor(t){this.#s=t}static Lj(t){return t.#s}get width(){return this.#s.$g()}get height(){return this.#s.Xg()}getSize(){const t=this.#s;return[t.$g(),t.Xg()]}XQ(t){return t.KQ(this)}tV(){return this.#s.t_().il()}}}{const Qd=self.Gs,Vd=self.Fs;self.sV=class extends self.Oj{#s;constructor(t){super(t.iV()),this.#s=t,Object.defineProperties(this,{duration:{value:t.eV(),writable:!1},UW:{value:t.WW(),writable:!1},QW:{value:t.VW(),writable:!1}})}qW(){const t=this.#s;return[t.WW(),t.VW()]}nV(){return this.#s.rV()}hV(t){return this.oV(t)[0]}aV(t){return this.oV(t)[1]}oV(t){const s=this.#s;let i=null;if("number"==typeof t)i=s.lV(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.uV(t)}return i?[i.Wb(),i.Vb()]:this.qW()}cV(){const t=this.#s.fV();return t?t.pu():0}dV(t){return this.pV(t)[0]}mV(t){return this.pV(t)[1]}pV(t){Vd.he(t),t=Math.floor(t);const s=this.#s.fV();if(!s||t<0||t>=s.pu())return[0,0];const i=s.du();return[i[2*t],i[2*t+1]]}get tag(){return this.#s.gV()}}}{let Jd=function(t){const s=Zd.get(t);if(s.yV())throw new Error("timeline/tween was released and is no longer valid");return s};GetTimelineState=Jd;const Hd=self.Gs,qd=self.Fs,Zd=new WeakMap;self.MV=class{constructor(t){Zd.set(this,t),t.Pj().aB(this,t)}pause(){Jd(this).wV()}resume(){Jd(this).SV()}stop(){Jd(this).jf()}JU(t){return Jd(this).TV(t)}set time(t){qd.he(t),Jd(this).bV(t)}get time(){return Jd(this).DO()}set totalTime(t){qd.he(t),Jd(this).vV(t)}get totalTime(){return Jd(this).xV()}set zQ(t){Jd(this).CV(!!t)}get zQ(){return Jd(this).IV()}set QQ(t){Jd(this).GV(!!t)}get QQ(){return Jd(this).EV()}set playbackRate(t){qd.he(t),Jd(this).NV(t)}get playbackRate(){return Jd(this).DV()}get progress(){const t=Jd(this);return t.DO()/t.xV()}get tags(){return Jd(this)._V()}get finished(){return Jd(this).AV()}get LV(){return Jd(this).IsPlaying()}get OV(){return Jd(this).RV()}get PV(){return Zd.get(this).yV()}}}{let Xd=function(t){const s=sp.get(t);if(s.yV())throw new Error("timeline was released and is no longer valid");return s};GetTimelineState=Xd;const Kd=self.Gs,tp=self.Fs,sp=new WeakMap;let ip=null;self.kV=class extends self.MV{constructor(t){super(t),sp.set(this,t);const s={name:{value:t.Nc(),writable:!1}};Object.defineProperties(this,s)}}}{let ep=function(t){const s=hp.get(t);if(s.yV())throw new Error("tween was released and is no longer valid");return s};GetTweenState=ep;const np=self.Gs,rp=self.Fs,hp=new WeakMap,op=new WeakMap;let ap=null;self.FV=class extends self.MV{constructor(t,s,i){super(t),ap||(ap=i.jV),hp.set(this,t),s&&op.set(this,s)}stop(){const t=ep(this);op.get(this).zV(t)}BV(t){rp.ue(t);const s=self.$u.oc(ap(t));ep(this).$V(s)}get EQ(){const t=ep(this).UV();return t?t.nj():null}get WV(){return ep(this).YV()}set WV(t){ep(this).QV(!!t)}get value(){const t=ep(this);if("value"!==t.VV())throw new Error("not a value tween");return t.HV("value").JV()}}}{const lp=self.Gs,up=self.Fs;self.qV=class extends self.zz{constructor(){super()}}}{const cp=self.Gs,fp=self.Fs,dp=cp.Es();self.ZV=class extends self.qV{#t;#i;#s=0;#r=new Map;constructor(t){if(super(),this.#t=cp.$z.Bz(dp),!t?.iW)throw new Error("no DOM component ID specified");this.#i=t.iW,this.XV("elem-focused",(t=>t.KV())),this.XV("elem-blurred",(t=>{t&&t.tJ()}))}sJ(t){const s=this.#s++;return this.#r.set(s,t),s}iJ(t){this.#r.delete(t)}XV(t,s){this.#t.Pj().fW(this.#i,t,(t=>{const i=this.#r.get(t.elementId);s(i,t)}))}eJ(t){fp.Ce(t);for(const[s,i]of t)this.eJ(s,i)}}}{const pp=self.Gs,mp=self.Fs,gp=new WeakMap,yp=pp.Es();self.nJ=class extends self.yB{#t;constructor(){super(),this.#t=pp.$z.Bz(yp)}rJ(){}hJ(){return this.#t.iV().oJ()}aJ(t){}lJ(t){}uJ(){}cJ(t){}}}{const Mp=self.Gs,wp=self.Fs,Sp=new WeakMap,Tp=Mp.Es();self.fJ=class extends self.dQ{#t;#n=null;#s=null;constructor(t){super(t),this.#t=Mp.$z.Bz(Tp)}AU(){if(super.AU(),this.#n){const t=this.#t.Pj().Mf();t.removeEventListener("renderercontextlost",this.#n),t.removeEventListener("renderercontextrestored",this.#s),this.#n=null,this.#s=null}}dJ(){if(this.#n)return;this.#n=()=>this.pJ(),this.#s=()=>this.mJ();const t=this.#t.Pj().Mf();t.addEventListener("renderercontextlost",this.#n),t.addEventListener("renderercontextrestored",this.#s)}pJ(){}mJ(){}gJ(t){}}}{const bp=self.Gs,vp=self.Fs,xp=bp.Yn(bp.Rect),Cp=new WeakMap,Ip=bp.Es();self.yJ=class extends self.fJ{#t=-1;#s=!0;#r=!1;#e=!1;#i=-.2;#h=bp.Yn(bp.Rect,0,0,-1,-1);#o=0;#a=0;#l=-1;#u=-1;#c=!1;constructor(t){if(!t?.iW)throw new Error("no DOM component ID specified");super(t);const s=bp.$z.Bz(Ip);Cp.set(this,s),this.#t=this.MB.sJ(this);const i=s.Pj().vj();this.#o=i.MJ(),this.#a=i.wJ(),this.nW(!0)}AU(){super.AU(),this.MB.iJ(this.#t),this.SJ("destroy"),this.#t=-1,Cp.delete(this)}TJ(){if(Cp.get(this).Pj().vk())throw new Error("not valid in worker mode");return this.bJ("get-element")}SJ(t,s){s||(s={}),s.elementId=this.#t,this.pW(t,s)}bJ(t,s){return s||(s={}),s.elementId=this.#t,this.gW(t,s)}vJ(t,s){return s||(s={}),s.elementId=this.#t,this.mW(t,s)}xJ(t){t||(t={});const s=Cp.get(this).aj();t.elementId=this.#t,t.isVisible=s.R$(),t.htmlIndex=s.lj().CJ(),t.htmlZIndex=s.IJ(),Object.assign(t,this.GJ()),this.#s=!!t.isVisible,this.gW("create",t),this.EJ(!0)}NJ(t){t=!!t,this.#s!==t&&(this.#s=t,this.SJ("set-visible",{isVisible:t}))}wW(){this.EJ(!1)}DJ(){const t=Cp.get(this).Pj().vj()._J();return"Android"===bp.Xs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}EJ(t){const s=Cp.get(this);if(s.AJ())return;const i=s.aj(),e=i.lj(),n=i.sY();let[r,h]=e.wU(n.Xa(),n.Ka()),[o,a]=e.wU(n.tl(),n.sl());const l=s.Pj().vj(),u=l.Dz(),c=l.Az();if(!i.R$()||!e.R$())return void this.NJ(!1);if(!this.DJ()&&(o<=0||a<=0||r>=u||h>=c))return void this.NJ(!1);xp.set(r,h,o,a);const f=l.MJ(),d=l.wJ(),p=e.CJ(),m=i.IJ();if(!t&&xp.equals(this.#h)&&this.#o===f&&this.#a===d&&this.#l===p&&this.#u===m)return void this.NJ(!0);this.#h.M(xp),this.#o=f,this.#a=d,this.#l=p,this.#u=m,this.NJ(!0);let g=null;this.#e&&(g=e.LJ()+this.#i),this.SJ("update-position",{left:Math.round(this.#h.Xa()),top:Math.round(this.#h.Ka()),width:Math.round(this.#h.width()),height:Math.round(this.#h.height()),htmlIndex:p,htmlZIndex:m,fontSize:g})}OJ(){this.bJ("focus",{focus:!0})}RJ(){this.bJ("focus",{focus:!1})}KV(){this.#r=!0}tJ(){this.#r=!1}PJ(){return this.#r}kJ(t,s){this.FJ("set-css-style",{prop:bp.To(t),val:s})}jJ(t,s){this.FJ("set-attribute",{name:t,val:s})}zJ(t){this.FJ("remove-attribute",{name:t})}BJ(){this.#c||(this.#c=!0,Promise.resolve().then((()=>{this.#c=!1,this.SJ("update-state",this.GJ())})))}GJ(){}$J(){return this.#t}}}{const Gp=self.Gs,Ep=self.Fs;self.UJ=class extends self._Q{constructor(){super()}}}{const Np=self.Gs,Dp=self.Fs;self.WJ=class extends globalThis.DQ{constructor(){super()}rJ(){}}}{const _p=self.Gs,Ap=self.Fs,Lp=new WeakMap,Op=_p.Es();self.YJ=class extends self.bQ{#e=!1;#s=!1;#t=!1;constructor(){super(),Lp.set(this,_p.$z.Bz(Op))}AU(){super.AU(),this.nW(!1),this.rW(!1),this.QJ(!1),Lp.delete(this)}hW(){return _p.$z.oW()}VJ(){}aW(t){const s=Lp.get(this);s.Pj().lW(t,s.NQ(),s.GQ())}uW(t){const s=Lp.get(this);return s.Pj().Cj(t,s.NQ(),s.GQ())}nW(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=Lp.get(this).Pj();t?s.JJ(this):s.HJ(this)}TW(){return this.#e}wW(){}rW(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=Lp.get(this).Pj();t?s.qJ(this):s.ZJ(this)}vW(){return this.#s}bW(){}QJ(t){if(t=!!t,this.#t===t)return;this.#t=t;const s=Lp.get(this).Pj();t?s.XJ(this):s.KJ(this)}tH(){return this.#t}sH(){}xW(){return[]}IW(){return null}GW(t){}}}{const Rp=self.Gs,Pp=self.Fs;let kp=null;self.Ok=class{constructor(t){kp=t}Sj(t){kp.Tj(t)}OW(t,s,i){Pp.ue(t),Pp.ue(s),Pp.Ie(i),kp.iH(t,s,i)}PW(t,s,i){return Pp.ue(t),Pp.ue(s),Pp.Ie(i),kp.eH(t,s,i)}nH(t){return Pp.ce(t),new self.rH(kp,t)}set hH(t){kp.oH(!!t)}get hH(){return kp.aH()}lH(t){kp.uH(!!t)}cH(t){Pp.se(t);const s=kp.fH(t);return s?s.dB():null}}}{const Fp=self.Gs,jp=self.Fs;self.rH=class{#t;#s;#h;#i;#r;#n;constructor(t,s){this.#t=t;const i=t.jk(),e=t.Yk();this.#s=e,this.#h=e.dH();const n=t.Xk();this.#i=n.pH(),this.#r=n.mH(e);const r=i.gH().mH();this.#n=r,s&&r.yH(s),t.MH(!1)}wH(){const t=this.#t.jk(),s=this.#h,i=this.#n;t.SH(s),this.#s.TH(this.#i,this.#r),t.bH(s),i.vH(i.ek()+1)}get xH(){return this.#n.CH()}release(){const t=this.#t,s=t.Xk(),i=t.jk().gH();t.MH(!0),i.IH(),s.IH()}}}{const zp=self.Gs,Bp=self.Fs;let $p=null,Up=null;self.GH=class{constructor(t,s){Up=t,$p=s}EH(){$p.uL()}NH(t){$p.aL(t)}DH(){$p.mS()}_H(){$p.lS()}AH(){$p.bS()}setColor(t){$p.iL(t[0],t[1],t[2],t[3])}LH(t,s,i,e){$p.iL(t,s,i,e)}OH(){$p.nL()}RH(t){$p.eL(t)}PH(t){$p.US(t)}kH(){$p.WS()}rect(t){$p.dL(t.left,t.top,t.right,t.bottom)}FH(t,s,i,e){$p.dL(t,s,i,e)}jH(t){$p.El(zp.El.Vl(t))}zH(t,s,i,e,n,r,h,o){$p.GT(t,s,i,e,n,r,h,o)}BH(t,s){$p.tT(zp.El.Vl(t),zp.Rect.el(s))}$H(t,s){$p.gL(zp.El.Vl(t),zp.El.Vl(s))}UH(t,s,i,e,n,r,h,o,a,l,u,c,f){$p.yL(t,s,i,e,n,r,h,o,a,l,u,c,zp.Rect.el(f))}WH(t,s,i,e,n,r,h,o,a,l,u,c,f){$p.HS(t,s,i,e,n,r,h,o,a,l,u,c,zp.El.Vl(f))}YH(t,s,i){$p.ML(t,s,i)}QH(t){$p.IT(t)}line(t,s,i,e){$p.ey(t,s,i,e)}VH(t,s,i,e,n,r){$p.qS(t,s,i,e,n,r)}JH(t,s,i,e){$p.sT(t,s,i,e)}HH(t){$p.rT(zp.Rect.el(t))}qH(t){$p.hT(zp.El.Vl(t))}ZH(t){$p.fT(t)}XH(){$p.dT()}KH(t){$p.yT(t)}tq(){$p.TT()}sq(t){Bp.ze(t,self.iq);const s=t?Up.u$(t):null;$p.hL(s)}eq(t,s){const i=self.Oj.Lj(t);if(!i)throw new Error("invalid IImageInfo");return i.nq($p,{$v:s?.$v??"clamp-to-edge",Uv:s?.Uv??"clamp-to-edge",Wv:s?.Wv??"trilinear",Vv:s?.Vv??!0})}rq(t){const s=self.Oj.Lj(t);if(!s)throw new Error("invalid IImageInfo");s.YN()}KQ(t){const s=self.Oj.Lj(t);if(!s)throw new Error("invalid IImageInfo");const i=s.cC();return self.iq.hq(Up,i)}oq(t,s,i){Bp.he(t),Bp.he(s);const e=$p.sC(t,s,{$v:i?.$v??"clamp-to-edge",Uv:i?.Uv??"clamp-to-edge",Wv:i?.Wv??"trilinear",Vv:i?.Vv??!0});return self.iq.hq(Up,e)}aq(t,s,i){Bp.je(s,self.iq);const e=Up.u$(s);$p.KD(t,e,{Hv:i?.Hv??!0})}deleteTexture(t){Bp.je(t,self.iq);const s=Up.u$(t);$p.rC(s)}lq(){const t=$p.$T();return new self.uq(Up,t)}cq(){Up.vj().fq($p)}pq(t){Bp.je(t,globalThis.l$),Up.u$(t).mq($p)}}}{const Wp=self.Gs,Yp=self.Fs,Qp=new WeakMap,Vp=new WeakMap;self.iq=class{constructor(t,s){Qp.set(this,{runtime:t,texture:s}),Vp.set(s,this),t.aB(this,s),Object.defineProperties(this,{width:{value:s.$g(),writable:!1},height:{value:s.Xg(),writable:!1}})}static hq(t,s){if(!s)return null;return Vp.get(s)||new self.iq(t,s)}}}{let Jp=function(t){return Zp.get(t).gq};getActual=Jp;const Hp=self.Gs,qp=self.Fs,Zp=new WeakMap;self.uq=class{constructor(t,s){Zp.set(this,{runtime:t,gq:s}),t.aB(this,s)}release(){Jp(this).Qn()}set yq(t){qp.ue(t),Jp(this).KN(t)}get yq(){return Jp(this).iN()}set Mq(t){qp.he(t),Jp(this).tD(t)}get Mq(){return Jp(this).sD()}set lineHeight(t){qp.he(t),Jp(this).eD(t)}get lineHeight(){return Jp(this).nD()}set wq(t){Jp(this).rD(t)}get wq(){return Jp(this).hD()}set Sq(t){Jp(this).oD(t)}get Sq(){return Jp(this).aD()}setColor(t){qp.Ce(t),this.Tq(t[0],t[1],t[2])}Tq(t,s,i){Jp(this).dD(t,s,i)}bq(t){qp.ue(t),Jp(this).Ob(t)}set vq(t){Jp(this).pD(t)}get vq(){return Jp(this).mD()}set verticalAlign(t){Jp(this).gD(t)}get verticalAlign(){return Jp(this).yD()}set xq(t){Jp(this).MD(t)}get xq(){return Jp(this).wD()}set Cq(t){Jp(this).SD(t)}get Cq(){return Jp(this).TD()}set text(t){qp.ue(t),Jp(this).$c(t)}get text(){return Jp(this).bD()}VB(t,s,i){qp.he(t),qp.he(s),qp.he(i),Jp(this).vD(t,s,i)}XQ(){const{runtime:t,gq:s}=Zp.get(this),i=s.cC();return self.iq.hq(t,i)}tV(){return Jp(this).t_().il()}Iq(t){qp.Ae(t),Jp(this).VN=t}Gq(){Jp(this).YN()}get Eq(){return Jp(this).CD()}get Nq(){return Jp(this).GD()}}}{let Xp=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return im.get(i)||""},Kp=function(t){return new Promise(((s,i)=>{const e=document.createElement("script");e.onload=s,e.onerror=i,e.async=!1,e.type="module",e.src=t,document.head.appendChild(e)}))};GetTypeFromFileExtension=Xp,AddScript=Kp;const tm=self.Gs,sm=new Set(["local","remote"]),im=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);tm.Dq=class extends tm.Un{constructor(t,s){super();const i=s.exportType;this.Fc=t,this._q="folders",this.Aq=new Map,this.Lq="cordova"===i,this.Oq=!!s.isiOSCordova,this.Rq=!!s.isFileProtocol,this.Pq=s.swClientId,this.kq=s.supportedAudioFormats||{},this.Fq=new Map,this.jq=!1,this.zq=s.scriptFolder,this.Bq="",this.$q="",this.Uq="",this.Wq=s.fileMap||new Map,this.Yq=new Map;const e="html5"===i||"scirra-arcade"===i||"instant-games"===i;this.Qq=e?"remote":"local",this.Vq=new Map,this.Jq=[],this.Hq=[],this.qq=!1,this.Zq=0,this.Xq=0,this.Kq=0,this.tZ=!1,this.sZ=tm.Yn(tm.Kd,(()=>this.iZ()),50),this.eZ=tm.Yn(tm.Wd,Math.max(tm.hardwareConcurrency,8)),this.nZ=tm.Yn(tm.Wd,20),this.rZ=new self.Dj(this)}Qn(){for(const t of this.Vq.values())t.Qn();this.Vq.clear(),tm.Sh(this.Hq),this.Fc=null}Pj(){return this.Fc}hZ(t){this._q=t}Wj(){return this._q}oZ(){return this.zq}aZ(t){this.Bq=t}Vj(){return this.Bq}lZ(t){this.$q=t}uZ(){return this.$q}cZ(t){this.Uq=t}fZ(){return this.Uq}dZ(){return this.Rq}no(t,s){return s=s||this.Qq,tm.Xh(t)?("flat"===this._q&&(t=t.toLowerCase()),this.Lq&&this.Rq?this.pZ(t):"playable-ad-single-file"===this.Fc.wz()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):"local"===s?this.eZ.ju((()=>tm.no(t))):this.nZ.ju((()=>tm.no(t)))):tm.no(t)}ro(t){return tm.Xh(t)?("flat"===this._q&&(t=t.toLowerCase()),this.Lq&&this.Rq?this.mZ(t):"playable-ad-single-file"===this.Fc.wz()?tm.oo(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.Qq?this.eZ.ju((()=>tm.ro(t))):this.nZ.ju((()=>tm.ro(t)))):tm.ro(t)}io(t){return tm.Xh(t)?("flat"===this._q&&(t=t.toLowerCase()),this.Lq&&this.Rq?this.gZ(t):"playable-ad-single-file"===this.Fc.wz()?tm.ao(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.Qq?this.eZ.ju((()=>tm.io(t))):this.nZ.ju((()=>tm.io(t)))):tm.io(t)}async eo(t){const s=await this.io(t);return JSON.parse(s)}yZ(t,s){return"flat"===this._q&&(t=t.toLowerCase()),this.Fc.yj("runtime","cordova-fetch-local-file",{filename:t,as:s})}gZ(t){return this.yZ(t,"text")}async pZ(t){const s=await this.yZ(t,"buffer"),i=Xp(t);return new Blob([s],{type:i})}async MZ(t){"flat"===this._q&&(t=t.toLowerCase());let s=this.Aq.get(t);if(s)return s;const i=await this.pZ(t);return s=URL.createObjectURL(i),this.Aq.set(t,s),s}mZ(t){return this.yZ(t,"buffer")}Yj(t){"flat"===this._q&&(t=t.toLowerCase());let s=this.Bq+t;return"Gecko"===tm.Xs.ni&&"preview"===this.Fc.wz()&&(s=this.wZ(s)),s}$j(t){return tm.Zh(t)?Promise.resolve(t):this.Lq&&this.Rq?this.MZ(t):"playable-ad-single-file"===this.Fc.wz()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this._q&&(t=t.toLowerCase()),Promise.resolve(t))}SZ(t){if(tm.Zh(t)||"preview"!==this.Fc.wz()||!this.Pq||!t)return t;try{const s=new URL(t,location.href);return s.searchParams.set("__c3_client_id",this.Pq),s.toString()}catch(s){return console.warn("Invalid iframe URL: "+t),t}}TZ(t){return this.$j(t)}bZ(t){if(t.vZ&&!sm.has(t.vZ))throw new Error("invalid load policy");let s=this.Vq.get(t.url);return s||(s=tm.Yn(tm.xZ,this,{url:t.url,size:t.size||0,vZ:t.vZ||this.Qq}),this.Vq.set(s.CZ(),s),this.qq||(this.Zq+=s.Lu(),this.Hq.push(s.IZ().then((()=>this.GZ(s.Lu()))))),s)}EZ(t){this.Vq.delete(t.CZ())}async NZ(){try{await Promise.all(this.Hq),this.Kq=1}catch(t){console.error("Error loading: ",t),this.tZ=!0,this.iZ()}}DZ(){this.qq=!0}_Z(){return this.tZ}GZ(t){this.Xq+=t,this.sZ.pp()}iZ(){const t=tm.Yn(tm.Event,"loadingprogress");this.Kq=tm.Zn(this.Xq/this.Zq,0,1),t.progress=this.Kq,this.Fc.Mf().dispatchEvent(t)}PF(){return this.Kq}FF(){return this.Fc.LZ().AZ()}OZ(t){tm.Ch(this.Jq,t),this.Jq.length&&this.Hq.push(this.RZ())}async RZ(){const t=[],s=[];for(const[i,e,n]of this.Jq)this.Zq+=n,t.push(this.PZ(i,e,s).then((()=>this.GZ(n))));await Promise.all(t),this.Fc.vk()&&s.length>0&&await this.Fc.yj("runtime","load-webfonts",{webfonts:s})}async PZ(t,s,i){try{let e=await this.$j(s);"Gecko"===tm.Xs.ni&&(t=`'${t}'`),("Gecko"===tm.Xs.ni&&"preview"===this.Fc.wz()||"playable-ad-single-file"===this.Fc.wz())&&(e=this.wZ(e));const n=new FontFace(t,`url('${e}')`);this.Fc.vk()?self.fonts.add(n):document.fonts.add(n),await n.load(),this.Fc.vk()&&i.push({name:t,url:e})}catch(s){console.warn(`[C3 runtime] Failed to load web font '${t}': `,s)}}kZ(t){return!!this.kq[t]}FZ(t,s){this.jq=!!s;for(const[s,i,e]of t)this.Fq.set(s,{fileName:s,jZ:i.map((t=>({type:t[0],zZ:t[1],fullName:s+t[1],fileSize:t[2]}))),BZ:e})}$Z(t){"flat"===this._q&&(t=t.toLowerCase());const s=this.Fq.get(t);if(!s)return null;let i=null;for(const t of s.jZ)if(i||"audio/webm; codecs=opus"!==t.type||(i=t),this.kZ(t.type))return t;return i}UZ(t){const s=this.$Z(t);return s?{url:this.Yj(s.fullName),type:s.type}:null}WZ(){if(this.jq){const t=[];for(const s of this.Fq.values()){if(s.BZ)continue;const i=this.$Z(s.fileName);i&&t.push({YZ:s.fileName,url:this.Yj(i.fullName),type:i.type,fileSize:i.fileSize})}return t}return[]}QZ(t){return"preview"===this.Fc.wz()&&(t=new URL(t,location.href).toString()),this.Wq.get(t)||null}wZ(t){let s=this.Yq.get(t);if(s)return s;const i=this.QZ(t);return i?(s=URL.createObjectURL(i),this.Yq.set(t,s),s):t}ak(){return this.rZ}async qj(...t){const s=await Promise.all(t.map((t=>this.$j(t))));if(this.Fc.vk())if(1===t.length){const s=t[0];await import((tm.Xh(s)?"./":"")+s)}else{const s=t.map((t=>`import "${tm.Xh(t)?"./":""}${t}";`)).join("\n"),i=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));await import(i)}else await Promise.all(s.map((t=>Kp(t))))}async Xj(t){if(WebAssembly.compileStreaming){const s=await this.$j(t);return await WebAssembly.compileStreaming(fetch(s))}{const s=await tm.ro(t);return await WebAssembly.compile(s)}}async tz(t){const s=await this.$j(t);return await this.Fc.yj("runtime","add-stylesheet",{url:s})}}}{const em=self.Gs;em.VZ=class extends em.Un{constructor(t,s){super(),this.JZ=t,this.Fc=t.Pj(),this.HZ=s.url||"",this.qZ=s.size,this.ZZ=s.vZ,this.XZ=s.blob||null,this.KZ=!!this.XZ,this.MM=null}Qn(){this.MM=null,this.JZ=null,this.Fc=null,this.XZ=null}CZ(){return this.HZ}Lu(){return this.qZ}IZ(){return"local"===this.ZZ||this.XZ?(this.KZ=!0,Promise.resolve()):(this.MM||(this.MM=this.JZ.no(this.HZ,this.ZZ).then((t=>(this.KZ=!0,this.MM=null,this.XZ=t,t))).catch((t=>{console.error("Error loading resource: ",t),this.MM=null}))),this.MM)}tX(){return this.KZ}sX(){return this.XZ?Promise.resolve(this.XZ):this.MM?this.MM:this.JZ.no(this.HZ,this.ZZ)}}}{const nm=self.Gs,rm=new nm.Wd,hm=new Set;nm.xZ=class extends nm.VZ{constructor(t,s){super(t,s),this.iX=null,this.eX=null,this.Wp=0,this.nX=-1,this.rX=-1,hm.add(this)}Qn(){if(0!==this.Wp)throw new Error("released image asset which still has texture references");this.JZ.EZ(this),this.iX=null,hm.delete(this),super.Qn()}static hX(){for(const t of hm)t.iX=null,t.eX=null,t.Wp=0}nq(t,s){return s=s||{},this.Wp++,this.eX?Promise.resolve(this.eX):(this.iX||(s.Yv=this.Fc.vj().oX(),this.iX=this.aX(t,s)),this.iX)}async aX(t,s){try{const i=await this.sX();return 0===this.Wp?(this.iX=null,null):await rm.ju((async()=>{const e=await t.UL(i,s);return this.iX=null,0===this.Wp?(t.rC(e),null):(this.eX=e,this.nX=e.$g(),this.rX=e.Xg(),this.eX)}))}catch(t){throw console.error("Failed to load texture: ",t),t}}YN(){if(this.Wp<=0)throw new Error("texture released too many times");this.Wp--,0===this.Wp&&this.eX&&(this.eX.cb().rC(this.eX),this.eX=null)}lX(){return this.Wp}cC(){return this.eX}$g(){return this.nX}Xg(){return this.rX}async uX(){const t=await this.sX();return nm._i.ImageBitmap?await createImageBitmap(t):await nm.uo(t)}}}{let om=function(t,s){return t.aj().cX()-s.aj().cX()};SortByInstLastCachedZIndex=om;const am=self.Gs,lm=self.assert;am.fX=class extends am.Un{constructor(t,s,i){super(),this.dX=t,this.Na=s,this.Da=i,this.pX=[],this.mX=!0,this.gX=new Set,this.yX=!1}Qn(){am.Sh(this.pX),this.gX.clear(),this.dX=null}jf(){am.Sh(this.pX),this.mX=!0,this.gX.clear(),this.yX=!1}MX(){this.mX=!1}Du(){return!this.pX.length||!(this.pX.length>this.gX.size)&&(this.wX(),!0)}SX(t){if(this.gX.has(t))return this.gX.delete(t),void(0===this.gX.size&&(this.yX=!1));this.pX.push(t),this.mX=1===this.pX.length}Zf(t){this.gX.add(t),this.yX=!0,this.gX.size>=50&&this.wX()}wX(){this.yX&&(this.pX.length!==this.gX.size?(am.Dh(this.pX,this.gX),this.gX.clear(),this.yX=!1):this.jf())}TX(){this.mX||(this.pX.sort(om),this.mX=!0)}bX(t){this.wX(),this.TX(),this.pX.length&&t.push(this.pX)}}}{const um=self.Gs;um.vX=class extends um.Un{constructor(t,s){super(),this.xX=t,this.CX=s,this.IX=um.Yn(um.Gu)}Qn(){this.IX.Qn(),this.IX=null}GX(t,s,i){let e=this.IX.Qs(t,s);return e||(i?(e=um.Yn(um.fX,this,t,s),this.IX.Set(t,s,e),e):null)}EX(t){return Math.floor(t/this.xX)}NX(t){return Math.floor(t/this.CX)}DX(t,s,i){if(s)for(let e=s.Xa(),n=s.tl();e<=n;++e)for(let n=s.Ka(),r=s.sl();n<=r;++n){if(i&&i.xl(e,n))continue;const s=this.GX(e,n,!1);s&&(s.Zf(t),s.Du()&&this.IX._u(e,n))}if(i)for(let e=i.Xa(),n=i.tl();e<=n;++e)for(let n=i.Ka(),r=i.sl();n<=r;++n)s&&s.xl(e,n)||this.GX(e,n,!0).SX(t)}_X(t,s){let i=this.EX(t.Xa());const e=this.NX(t.Ka()),n=this.EX(t.tl()),r=this.NX(t.sl());for(;i<=n;++i)for(let t=e;t<=r;++t){const e=this.GX(i,t,!1);e&&e.bX(s)}}AX(t){let s=t.Xa();const i=t.Ka(),e=t.tl(),n=t.sl();for(;s<=e;++s)for(let t=i;t<=n;++t){const i=this.GX(s,t,!1);i&&i.MX()}}}}{let cm=function(t,s){return t.aj().cX()-s.aj().cX()},fm=function(t,s){return t.aj().Hb()-s.aj().Hb()};SortByInstLastCachedZIndex=cm,SortByInstZElevation=fm;const dm=self.Gs,pm=self.assert,mm=new dm.Rect,gm=new dm.El,ym=[],Mm=new dm.Rect,wm=new dm.Rect,Sm=self.ls,Tm=Sm.Ms,bm=Sm.ws,vm=Sm.ds,xm=vm.create(),Cm=Tm.create(),Im=bm.create(),Gm=Tm.create(),Em=Tm.create(),Nm=Tm.create(),Dm=dm.Yn(dm.Ea),_m=dm.Yn(dm.Rect),Am=[],Lm=[],Om=[],Rm={name:"",LX:-1,OX:!1,isVisible:!0,P$:!0,j$:!1,backgroundColor:[1,1,1,1],rU:!0,RX:[1,1],opacity:1,aU:!1,PX:!1,kX:!1,FX:!1,Q$:1,qR:0,iU:0,jX:[],zX:[],BX:[]};dm.$X=class extends dm.Un{constructor(t,s,i){super(),i=Object.assign({},Rm,i),this.UX=t,this.Fc=t.Pj(),this.WX=s,this.Hn=i.name,this.EM=-1,this.YX=!!i.j$,this.QX=-1,this.VX=i.LX,this.JX=!!i.OX,this.HX=!!i.isVisible,this.qX=!!i.P$,this.ZX=dm.Yn(dm.xo),this.ZX.Ma(i.backgroundColor),this.XX=!!i.rU,this.KX=i.RX[0],this.tK=i.RX[1],this.Db=dm.Yn(dm.xo,1,1,1,i.opacity),this.sK=dm.Yn(dm.xo),this.iK=!!i.aU,this.eK=!!i.PX,this.nK=!!i.kX,this.rK=!!i.FX,this.hK=i.Q$,this.Nb=i.qR,this.oK=null,this.aK=1,this._b=i.iU,this.lK=0,this.uK=0,this.cK=0,this.fK=!1,this.j_=dm.Yn(dm.Rect),this.dK=dm.Yn(dm.Rect),this.pK=dm.Yn(dm.Rect),this.mK=!0,this.Hx=vm.create(),this.gK=!0,this.OR=vm.create(),this.yK=!0,this.MK=dm.Yn(dm.RM.jM),this.wK=!0,this.SK=[],this.TK=i.jX,this.bK=[],this.vK=[],this.xK=new Map,this.pX=[],this.CK=!1,this.IK=!1,this.GK=!1;const e=this.Fc.vj();this.EK=dm.Yn(dm.NK,this,i.zX),this.KP=dm.Yn(dm.RM.UO,e.DK(),{AO:(t,s)=>{const i=s.YP(),n=i.jL();t.Ob(i._K()),t.VL(n),t.JL(n),e.AK(n)},OO:t=>this.WB().LK(t)}),this.RK=!0,this.PK=!0,this.kK=null,this.FK=[],this.jK=!1,this.zK=dm.Yn(dm.Rect,0,0,-1,-1),this.BK=dm.Yn(dm.Rect,0,0,-1,-1),this.$K=new self.l$(this),this.UK(),this.WK()&&(this.kK=dm.Yn(dm.vX,this.Fc.Ck(),this.Fc.Gk())),this.YK=i.BX.map((t=>dm.$X.QK(this.UX,this,t)))}VK(){for(const t of this.TK){const s=this.Fc.JK(t[1]);this.UX.HK(s),s.qK()||(s.ZK(t),s.XK(this.EM)),this.bK.push(t),this.xK.set(t[2],t)}dm.Ch(this.SK,this.bK),this.TK=null}static QK(t,s,i){return dm.Yn(dm.$X,t,s,{name:i[0],LX:i[2],isVisible:i[3],P$:i[13],j$:i[19],backgroundColor:i[4].map((t=>t/255)),rU:i[5],RX:[i[6],i[7]],opacity:i[8],aU:i[9],PX:i[17],kX:i[18],FX:i[10],Q$:i[11],qR:i[12],iU:i[16],jX:i[14],zX:i[15],BX:i[20]})}Qn(){for(const t of this.YK)t.Qn();dm.Sh(this.YK);for(const t of this.pX)this.Fc.LU(t);dm.Sh(this.pX),this.EK.Qn(),this.EK=null,this.KP.Qn(),this.KP=null,this.$K=null,this.WX=null,this.UX=null,this.Fc=null}KK(t){return this.xK.get(t)}t0(t){const s=this.UX.s0();let i=0;const e=this.bK;for(let n=0,r=e.length;n<r;++n){const r=e[n],h=this.Fc.JK(r[1]);let o=!0;if(!h.i0()||s){const s=this.Fc.e0(r,this,!0);t.push(s),h.n0()&&(o=!1,this.vK.push(s.zU()))}o&&(e[i]=e[n],++i)}dm.wh(e,i),this.Fc.$B(),this.pj()}r0(t,s){if(!t.wB().Jz())throw new Error("instance is not of world type");const i=t.aj();if(i.lj()!==this)throw new Error("instance added to wrong layer");this.pX.push(t),0!==i.Hb()&&(this.GK=!0),s&&this.WK()&&t.aj().jW(),this.pj(t)}h0(t){this.pX.includes(t)||(this.pX.push(t),0!==t.aj().Hb()&&(this.GK=!0),this.pj(t))}o0(t,s){const i=t.aj();if(i.lj()!==this)throw new Error("instance added to wrong layer");this.pX.unshift(t),0!==i.Hb()&&(this.GK=!0),this.pj(t),s&&this.WK()&&t.aj().jW()}a0(t,s){const i=this.pX.indexOf(t);i<0||(s&&this.WK()&&t.aj().l0(),this.pX.splice(i,1),this.pj(t),this.u0())}c0(){this.GK=!0}u0(){0===this.pX.length&&(this.GK=!1)}f0(t){if(t){const t=new Set;for(const s of this.pX){const i=s.aj().cX();i>=0&&t.add(i)}let s=-1;for(const i of this.pX){const e=i.aj();if(!(e.cX()>=0)){for(++s;t.has(s);)++s;e.d0(s)}}}this.pX.sort(cm)}p0(){}m0(){for(const t of this.pX)t.GU().n0()||this.Fc.LU(t);this.Fc.$B(),dm.Sh(this.pX),this.GK=!1,this.pj()}g0(t,s,i,e,n,r){const h=this.Fc.jk(),o=this.Fc.y0(),a=t.M0(),l=[];for(const u of this.bK){const c=u[0],f=c[0],d=c[1];if(!s.xl(f,d))continue;const p=o[u[1]];if(p!==t){if(!a)continue;if(!t.w0(p))continue}let m=n;if(!m){const t=this.Fc.hj();this.WF()===t?m=this:(m=t.S0(this.Nc()),m||(m=t.cj(this.ek())))}const g=this.Fc.e0(u,m,!1,void 0,void 0,!1,r);m.PB(g);const y=g.aj();y.$W(i,e),y.jW(),h.kB(!0),g.jB(),h.kB(!1),l.push(g)}return l}LB(){return this.pX.length}WF(){return this.UX}Nc(){return this.Hn}T0(t){this.EM=t}ek(){return this.EM}b0(t){this.QX=t}CJ(){return this.QX}z$(){return this.YX}B$(t){t=!!t,this.YX!==t&&(this.YX=t,this.UX.v0(),this.Fc.mj())}x0(){let t=-1;const s=this.I$();return t=s?s.N$().indexOf(this):this.WF().C0().indexOf(this),t}I0(){return this.VX}Pj(){return this.Fc}G0(){return this.JX}E0(){for(const t of this.G$())if(t.G0())return!0;return!1}kz(){return this.Fc.kz()}WB(){return this.EK}ik(){return this.N0(),this.KP}N0(){const t=this.D0();if(!this.RK&&t===this.PK&&!this.KP.RR())return;const s=this.WB()._0();this.KP.PR(s.map((t=>t.DI())),{PO:s.map((t=>t.ek())),kO:!t,$O:!0}),this.RK=!1,this.PK=t}RQ(){this.WB().RQ(),this.RK=!0}WK(){return this.rK&&!this.nK}A0(){return this.kK}L0(){this.jK=!1}R$(){for(const t of this.O0())if(!t.A$())return!1;return!0}A$(){return this.HX}L$(t){t=!!t,this.HX!==t&&(this.HX=t,this.Fc.mj())}F$(t){this.qX=!!t}k$(){return this.qX}U$(){for(const t of this.O0())if(!t.k$())return!1;return!0}dU(t){if(t=!!t,this.fK!==t){if(this.fK=t,t){const t=this.WF();this.uK=t.KB(),this.cK=t.s$()}this.R0(),this.Fc.mj()}}P0(){return this.fK}XB(t){const s=this.WF(),i=s.k0(),e=s.F0();t>e&&(t=e),t<i&&(t=i),this.uK!==t&&(this.uK=t,this.P0()&&(this.R0(),this.Fc.mj()))}t$(t){const s=this.WF(),i=s.j0(),e=s.z0();t>e&&(t=e),t<i&&(t=i),this.cK!==t&&(this.cK=t,this.P0()&&(this.R0(),this.Fc.mj()))}KB(){return this.P0()?this.uK:this.WF().KB()}s$(){return this.P0()?this.cK:this.WF().s$()}mU(){return this.B0(),this.j_}$0(){return this.B0(),this.dK}U0(){return this.B0(),this.pK}T$(){const t=this.WF();return[t.W0(),t.Y0()]}Bw(t){return this.Fc.Bw(t)}Q0(t,s){const i=this.$0();if(0===t)s.M(i);else{let e=i.hl(),n=i.ol();const r=this.V0(t),h=i.width()/r,o=i.height()/r,[a,l]=this.T$();if(.5!==a||.5!==l){const s=this.J0(),i=this.Fc,r=this.Bw()/s;let h=(a-.5)*i.H0()/r,o=(l-.5)*i.q0()/r;const u=this.ZB();0!==u&&(Dm.set(h,o),Dm.rotate(u),h=Dm.La(),o=Dm.Ra());const c=dm.mr(s,0,t);e+=dm.Gt(h,0,c),n+=dm.Gt(o,0,c)}s.set(e-h/2,n-o/2,e+h/2,n+o/2)}}sL(){return this.Db.Bo()}eL(t){t=dm.Zn(t,0,1),this.Db.Bo()!==t&&(this.Db.Po(t),this.UK(),this.Fc.mj())}UK(){this.sK.M(this.Db),this.sK.Zo()}_K(){return this.sK}D0(){return this.Db.Vo(1,1,1,1)}J$(){return this.hK}V$(t){this.hK!==t&&(this.hK=t,this.R0(),this.Fc.mj())}X$(){return this.KX}sU(){return this.tK}Z0(t,s){this.KX===t&&this.tK===s||(this.KX=t,this.tK=s,this.R0(),this.Fc.mj())}Z$(t){this.Z0(t,this.sU())}tU(t){this.Z0(this.X$(),t)}qb(t){this._b!==t&&(this._b=t,this.Fc.mj())}Hb(){return this._b}qB(t){t=dm.Xn(t),this.lK!==t&&(this.lK=t,this.R0(),this.Fc.mj())}ZB(){return dm.Xn(this.UX.ZB()+this.lK)}H$(){return this.lK}X0(){return this.pX.length>0}fj(){return this.pX}K0(){return this.t1()&&this.nK?(dm.Ch(Om,this.fj()),Om.sort(((t,s)=>this.s1(t,s))),Om):this.fj()}i1(t){dm.Ln(t,this.K0());for(const s of this.YK)s.R$()&&s.sL()>0&&s.i1(t)}s1(t,s){const i=this.WF().e1(),e=i[0],n=i[1],r=i[2],h=t.aj(),o=s.aj(),a=h.Wb()-e,l=h.Vb()-n,u=h.Hb()-r,c=o.Wb()-e,f=o.Vb()-n,d=o.Hb()-r;return c*c+f*f+d*d-(a*a+l*l+u*u)}fU(){return this.ZX}oU(){return this.XX}hU(t){t=!!t,this.XX!==t&&(this.XX=t,this.Fc.mj())}uU(){return this.iK}lU(t){t=!!t,this.iK!==t&&(this.iK=t,this.Fc.mj())}eU(t){t=!!t,this.eK!==t&&(this.eK=t,this.R0(),this.Fc.mj())}nU(){return this.eK}n1(){return!this.Pj().h1()||!this.eK}t1(){return!this.n1()}o1(){return this.t1()&&this.WF().a1()}l1(){if(!this.o1())return!1;for(const t of this.YK)if(!t.l1())return!1;return!0}Lb(t){this.Nb!==t&&(this.Nb=t,this.Fc.mj())}cU(){return this.Nb}u1(){return!this.WX}I$(){return this.WX}c1(t){this.WX=t}N$(){return this.YK}f1(){return this.YK.length>0}d1(t,s=!0){s?this.YK.push(t):this.YK.unshift(t)}m1(t,s,i){let e=this.YK.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.YK.splice(e,0,t)}g1(t){const s=this.YK.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.YK.splice(s,1)}M1(){for(const t of this.YK)if(t.w1())return!0;return!1}*_$(){for(const t of this.YK)yield*t._$();yield this}*G$(){let t=this.I$();for(;t;)yield t,t=t.I$()}*O0(){yield this,yield*this.G$()}S1(t){for(const s of this.G$())if(s===t)return!0;return!1}T1(t){return this===t||this.KX===t.KX&&this.tK===t.tK&&this.aK===t.aK&&this.hK===t.hK&&this.lK===t.lK&&this.KB()===t.KB()&&this.s$()===t.s$()}b1(){return{parallaxX:this.X$(),parallaxY:this.sU(),scale:this.Y$(),scaleRate:this.J$(),angle:this.H$(),hasOwnScroll:this.P0(),scrollX:this.KB(),scrollY:this.s$()}}v1(t){this.Z0(t.parallaxX,t.parallaxY),this.W$(t.scale),this.V$(t.scaleRate),this.qB(t.angle),this.dU(t.hasOwnScroll),this.XB(t.scrollX),this.t$(t.scrollY),this.B0()}C1(t){0!==t.size&&dm.Dh(this.pX,t)>0&&(this.u0(),this.pj())}pj(t){this.CK=!1,this.jK=!1,t&&!t.GU().wB().Zz()||(this.IK=!1)}I1(){if(!this.CK){if(this.pX.sort(fm),this.WK())for(let t=0,s=this.pX.length;t<s;++t){const s=this.pX[t].aj();s.d0(t),this.kK.AX(s.G1())}else for(let t=0,s=this.pX.length;t<s;++t)this.pX[t].aj().d0(t);this.CK=!0}}E1(){if(this.IK)return;const t=this.UX.N1(this.CJ()).map((t=>[...t._$()])).flat();let s=0;for(const i of t){for(const t of i.fj())t.GU().wB().Zz()&&t.aj().D1(s++);i._1()}}_1(){this.IK=!0}A1(){return{isVisible:this.R$(),opacity:this.sL(),isInteractive:this.k$()}}L1(t,s,i){const e=t.aj(),n=s.aj();if(e.lj()!==this||n.lj()!==this)throw new Error("can't arrange Z order unless both objects on this layer");const r=e.uj();let h=n.uj();return r!==h+(i?1:-1)&&(dm.Ih(this.pX,r),r<h&&h--,i&&h++,h===this.pX.length?this.pX.push(t):this.pX.splice(h,0,t),this.pj(t),!0)}O1(t,s){const i=[];let e=0,n=0,r=t.length,h=s.length;for(;e<r&&n<h;){const r=t[e],h=s[n];r.aj().cX()<h.aj().cX()?(i.push(r),++e):(i.push(h),++n)}for(;e<r;++e)i.push(t[e]);for(;n<h;++n)i.push(s[n]);return i}R1(t){const s=[],i=t.length;for(let e=0;e<i-1;e+=2){const i=t[e],n=t[e+1];s.push(this.O1(i,n))}return i%2==1&&s.push(t[i-1]),s}P1(t){for(;t.length>1;)t=this.R1(t);return t[0]}F1(){return this.I1(),dm.Sh(ym),this.kK._X(this.mU(),ym),ym.length?1===ym.length?ym[0]:this.P1(ym):[]}w1(){return this.R$()&&this.sL()>0&&this.j1()}j1(){if(this.X0()||!this.oU())return!0;for(const t of this.YK)if(t.j1())return!0;return!1}z1(){return this.uU()||!this.D0()||0!==this.cU()||this.EK.B1()}U1(){if(this.z1())return!0;for(const t of this.YK)if(t.U1())return!0;return!1}jL(){return this.oK}V0(t){if(this.UX.x$())return 1;{const s=this.W1();return s/(s-t)}}Y1(t){const s=this.Fc.CU();if(this.UX.x$())return s;{const i=this.W1();return this.Bw()/Math.abs(i-t)*s}}R0(){this.yK=!0,this.wK=!0,this.mK=!0}Q1(t){return this.yK&&(this.V1(t,this.OR,0,0,null),this.yK=!1),this.OR}J0(t){return this.Bw(t)/this.J1()}W1(){return this.o1()?this.WF().e1()[2]:this.J0()}H1(){if(this.o1()){const t=this.WF().e1();return[t[0],t[1],t[2]]}return this.q1()}q1(t=0,s=0,i=0){const e=this.Fc,n=this.WF(),r=e.Z1(),h=e.X1();let o=(this.KB()-r)*this.KX+r,a=(this.s$()-h)*this.tK+h;e.Dk()&&(o=Math.round(o),a=Math.round(a));let l=o+t,u=a+s;const c=n.x$()?this.Bw(i):this.J0(i),[f,d]=this.T$();if(.5!==f||.5!==d){const t=this.Bw(i)/c;let s=(f-.5)*e.H0()/t,n=(d-.5)*e.q0()/t;const r=this.ZB();0!==r&&(Dm.set(s,n),Dm.rotate(r),s=Dm.La(),n=Dm.Ra()),l+=s,u+=n}return[l,u,c]}V1(t,s,i,e,n){const r=this.Fc,h=this.WF();if(this.o1()){Tm.M(Gm,h.e1()),Tm.M(Em,h.K1()),Tm.M(Nm,h.t2());const t=r.Z1(),s=r.X1(),i=Em[0]-Gm[0],e=Em[1]-Gm[1],n=Em[2]-Gm[2];Gm[0]=(Gm[0]-t)*this.KX+t,Gm[1]=(Gm[1]-s)*this.tK+s,Gm[2]*=Math.max(this.KX,this.tK),Em[0]=Gm[0]+i,Em[1]=Gm[1]+e,Em[2]=Gm[2]+n}else{const[t,s,r]=this.q1(i,e,n);Tm.set(Gm,t,s,r),Tm.set(Em,t,s,r-100);const h=this.ZB();0===h?Tm.set(Nm,0,1,0):Tm.set(Nm,Math.sin(h),Math.cos(h),0)}t.eS(s,Gm,Em,Nm,n||r.q0())}s2(){this.gK=!0,this.wK=!0,this.mK=!0}i2(t){return this.gK&&(this.e2(t),this.gK=!1),this.Hx}e2(t){const s=this.Fc.vj(),[i,e]=this.T$();if(this.UX.x$())t.iS(this.Hx,s.n2(),s.h2());else if(.5===i&&.5===e)vm.M(this.Hx,s.o2());else{const n=s.n2(),r=s.h2();t.tS(this.Hx,n/r,i,e)}}mq(t,s=!0,i=0,e=0,n=0){s&&t.WA(this.i2(t));let r=null;0===i&&0===e&&0===n?r=this.Q1(t):(this.V1(t,xm,i,e,n),r=xm),t.qA(r)}a2(t){this.mq(t),t.BS(this.Hb())}l2(t){let s=null;if(t.kT()&&this.Fc.u2()){const i=this.Fc.vj().c2(this);i&&(s=i.I_(),t.tO(s))}return s}f2(t){if(t.sS()&&this.Fc.u2()){const s=2*(this.ek()+1);t.d2(s,s+1)}}Lv(t,s,i){const e=this.Fc.vj(),n=this.z1();let r=null;const h=this.l2(t);if(this.f2(t),n){const s={Wv:this.Fc.Ek(),kx:!0,m2:!!t.sS()&&this.Fc.g2()};"low"===e.M2()&&(s.width=e.n2(),s.height=e.h2()),r=this.Fc.w2(s),this.oK=r,t.YL(r),this.oU()&&t.AL(0,0,0,0)}else this.oK=s,t.YL(s);if(this.oU()||t.Nu(this.ZX),this.UX.S2(t,this.oK,this.YK,n&&this.oU()),this.f2(t),this.mq(t),t.BS(this.Hb()),t.RL(this.t1()),this.J1()>Number.EPSILON){this.I1();const s=this.WK()&&0===this.Hb()&&!this.GK;this.o1()?this.T2(t):s?this.b2(t):this.v2(t,this.K0())}t.BS(0),t.US(0),n&&(t.RL(!1),this.C2(t,r,s,i)),h&&t.iO(h),this.oK=null}v2(t,s){const i=this.mU(),e=this.oK,n=this.WF().x$(),r=this.WF().I2();let h=null;for(let o=0,a=s.length;o<a;++o){const a=s[o];if(a===h)continue;h=a;const l=a.aj();l.R$()&&l.G2(i,r,n)&&this.E2(a,l,t,e)}}T2(t){const s=this.oK,i=this.N2(),e=Am,n=Lm,r=this.K0();for(let h=0,o=r.length;h<o;){const a=r[h],l=a.aj();if(!l.R$()||!l.D2(i)){++h;continue}(!a._2()||l.A2()>0)&&n.push(a);const u=a.aj().XW();e.push(a);let c=h+1;for(;c<o;++c){const t=r[c],s=t.aj();if(s.R$()&&s.D2(i)){if(s.XW()!==u)break;t._2()?(s.A2()>0&&n.push(t),e.push(t)):n.push(t)}}if(1!==e.length||e[0].L2()){this.O2(t,e);for(let i=0,e=n.length;i<e;++i){const e=n[i],r=e.aj();r.R2(!0),this.E2(e,r,t,s),r.R2(!1)}}else{this.E2(a,l,t,s);for(let i=0,e=n.length;i<e;++i){const e=n[i];if(e===a)continue;const r=e.aj();r.lj().E2(e,r,t,s)}}h=c,dm.Sh(e),dm.Sh(n)}}O2(t,s){const i=this.oK;t.qL();for(let i=0,e=s.length;i<e;++i){const e=s[i],n=e.aj();n.P2(!0),this.F2(e,n,t)}t.ZL();for(let e=0,n=s.length;e<n;++e){const n=s[e],r=n.aj();this.E2(n,r,t,i),r.P2(!1)}t.KL()}b2(t){const s=this.kK,i=this.BK,e=this.zK,n=this.mU();let r;i.set(s.EX(n.Xa()),s.NX(n.Ka()),s.EX(n.tl()),s.NX(n.sl())),this.jK&&i.equals(e)?r=this.FK:(r=this.F1(),this.jK=!0,e.M(i)),this.v2(t,r),r!==this.FK&&dm.Ch(this.FK,r)}E2(t,s,i,e){s.B1()?this.j2(t,s,i,e):this.F2(t,s,i)}F2(t,s,i){const e=s.z2();i.xS()!==e&&e.Ab(),t.Lv(i)}j2(t,s,i,e){this.B2(t,s,i,e,null)&&this.mq(i)}B2(t,s,i,e,n){const r=s.kW().ik();return r.QR(i,e,{JR:t,qR:s.cU(),devicePixelRatio:this.Fc.U2(),time:t.W2(),ZR:this.Fc.Y2()*this.J1(),XR:this.ZB(),vP:s.sY(),xP:r.UP()?null:this.Q2(s),rP:n&&n.rP,hP:n&&n.hP,oP:n&&n.oP,aP:n&&n.aP,lP:n&&n.lP,uP:n&&n.uP}),i.BS(this.Hb()),r.XA()}C2(t,s,i,e){const n=this.EK._0(),r=this.Fc;0===n.length?(t.YL(i),t.lS(),e&&0===this.Nb&&this.D0()?t.QL(s):(t.Lb(this.Nb),t.Ob(this.sK),t.VL(s)),t.JL(s),r.AK(s)):this.ik().QR(t,i,{JR:this,qR:this.cU(),devicePixelRatio:r.U2(),ZR:r.Y2()*this.J1(),XR:this.ZB(),vP:this.mU(),xP:null,RO:!0})}Y$(){return this.aK}W$(t){this.aK!==t&&(this.aK=t,this.UX.V2(),this.R0(),this.Fc.mj())}CU(){return this.J1()*this.Fc.CU()}LJ(){return this.J1()*this.Fc.LJ()}J1(){return(this.aK*this.UX.HB()-1)*this.hK+1}B0(){if(!this.mK)return;this.mK=!1;const t=this.Fc.Z1(),s=this.Fc.X1(),i=(this.KB()-t)*this.KX+t,e=(this.s$()-s)*this.tK+s,n=this.J1(),r=this.Fc.H0()/n,h=this.Fc.q0()/n;let o=i-r/2,a=e-h/2;this.Fc.Dk()&&(o=Math.round(o),a=Math.round(a));const l=this.dK;l.set(o,a,o+r,a+h);const u=this.ZB();0!==u&&(mm.M(l),mm.offset(-l.hl(),-l.ol()),gm.ql(mm,u),gm.Xl(mm),mm.offset(l.hl(),l.ol()),l.M(mm));const c=this._b;this.Q0(c,this.j_),this.o1()?this.J2(c,this.pK):this.pK.M(this.j_)}J2(t,s){const i=this.Fc.vj(),e=i.Dz(),n=i.Az(),[r,h]=this.yU(0,0,t),[o,a]=this.yU(e,0,t),[l,u]=this.yU(e,n,t),[c,f]=this.yU(0,n,t);let d=Math.min(r,o,l,c),p=Math.min(h,a,u,f),m=Math.max(r,o,l,c),g=Math.max(h,a,u,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}yU(t,s,i=0){return this.H2(t,s,i,this.LJ())}TU(t,s,i=0){return this.H2(t,s,i,this.CU()*this.kz())}H2(t,s,i,e){const n=this.Fc,r=n.cb(),h=this.J1(),o=n.H0()/h,a=n.q0()/h,l=Im;bm.set(l,0,0,o,a),t/=e,s=l[3]-s/e;const u=this.i2(r),c=this.Q1(r),f=Cm;return dm.RM.FM(t,s,i,c,u,l,f)?[f[0],f[1]]:[NaN,NaN]}q2(t,s){const i=this.aK,e=this.hK,n=this.KX,r=this.tK,h=this.lK;this.aK=1,this.hK=1,this.KX=1,this.tK=1,this.lK=0,this.R0();const o=this.yU(t,s);return this.aK=i,this.hK=e,this.KX=n,this.tK=r,this.lK=h,this.R0(),o}wU(t,s,i=0){return this.Z2(t,s,i,this.LJ())}vU(t,s,i=0){return this.Z2(t,s,i,this.CU()*this.kz())}Z2(t,s,i,e){const n=this.Fc,r=n.cb(),h=this.J1(),o=n.H0()/h,a=n.q0()/h,l=Im;bm.set(l,0,0,o,a);const u=this.i2(r),c=this.Q1(r),f=Cm;return dm.RM.PM(t,s,i,c,u,l,f)?[f[0]*e,(l[3]-f[1])*e]:[NaN,NaN]}X2(t,s){return t*=this.CU()*this.kz(),0!==s&&(t*=this.V0(s)),t}Q2(t){const s=t.sY(),i=t.XW(),e=t.A2(),n=i+e,r=s.Xa(),h=s.Ka(),o=s.tl(),a=s.sl();if(this.o1()){if(this.K2(r,h,i)||this.K2(o,h,i)||this.K2(o,a,i)||this.K2(r,a,i))return null;if(e>0&&(this.K2(r,h,n)||this.K2(o,h,n)||this.K2(o,a,n)||this.K2(r,a,n)))return null}else if(n>=this.J0())return null;let[l,u]=this.vU(r,h,i),[c,f]=this.vU(o,a,i);if(0!==this.ZB()||e>0||this.o1()){const[t,s]=this.vU(o,h,i),[d,p]=this.vU(r,a,i);if(e>0){const[i,e]=this.vU(r,h,n),[m,g]=this.vU(o,h,n),[y,M]=this.vU(o,a,n),[w,S]=this.vU(r,a,n);let T=Math.min(l,c,t,d,i,m,y,w);c=Math.max(l,c,t,d,i,m,y,w),l=T,T=Math.min(u,f,s,p,e,g,M,S),f=Math.max(u,f,s,p,e,g,M,S),u=T}else{let i=Math.min(l,c,t,d);c=Math.max(l,c,t,d),l=i,i=Math.min(u,f,s,p),f=Math.max(u,f,s,p),u=i}}return mm.set(l,u,c,f),mm}N2(){return this.wK&&(this.t3(),this.wK=!1),this.MK}t3(){const t=this.Fc.cb(),s=this.i2(t),i=this.Q1(t);this.MK.QM(i,s)}K2(t,s,i){return this.N2().JM(t,s,i)}s3(){return{d:this.G0(),s:this.Y$(),a:this.H$(),v:this.A$(),i:this.k$(),html:this.z$(),bc:this.ZX.toJSON(),t:this.oU(),sx:this.uK,sy:this.cK,hosp:this.fK,px:this.X$(),py:this.sU(),c:this.Db.toJSON(),sr:this.J$(),fx:this.EK.nv(),cg:this.vK}}i3(t){this.JX=!!t.d,this.aK=t.s,this.lK=t.a,this.HX=!!t.v,this.qX=!t.hasOwnProperty("i")||t.i,this.YX=!!t.html,this.ZX.Ma(t.bc),this.XX=!!t.t,t.hasOwnProperty("sx")&&(this.uK=t.sx),t.hasOwnProperty("sy")&&(this.cK=t.sy),t.hasOwnProperty("hosp")&&(this.fK=!!t.hosp),this.KX=t.px,this.tK=t.py,this.Db.Ma(t.c),this.UK(),this.hK=t.sr,dm.Ch(this.vK,t.cg),dm.Ch(this.bK,this.SK);const s=new Set(this.vK);let i=0;for(let t=0,e=this.bK.length;t<e;++t)s.has(this.bK[t][2])||(this.bK[i]=this.bK[t],++i);dm.wh(this.bK,i),this.EK.rv(t.fx),this.RK=!0}e3(){this.f0(!1),this.pj(),this.R0(),this.s2()}n$(){return this.$K}PB(t,s=!1){if(this.pX.includes(t))s&&this.pX.sort(((t,s)=>t.aj().n3()-s.aj().n3()));else if(t.r3()){const s=[...t.NY()];s.push(t),s.sort(((t,s)=>t.aj().n3()-s.aj().n3()));for(const t of s)if(t.FU())for(const i of t.jU()){if(s.includes(i))continue;const t=[...i.NY()];t.push(i),t.sort(((t,s)=>t.aj().n3()-s.aj().n3())),t&&t.length&&s.splice(s.length,0,...t)}for(const t of s)t.wB().Jz()&&this.r0(t,!0)}else{if(t.wB().Jz()&&this.r0(t,!0),!t.FU())return;for(const s of t.jU()){const t=[...s.NY()];if(t.push(s),t.sort(((t,s)=>t.aj().n3()-s.aj().n3())),t&&t.length)for(const s of t)s.wB().Jz()&&this.r0(s,!0)}}}}}{let Pm=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},km=function(t,s){Zm!==t&&(t.a2(s),Zm=t)};vec3EqualsXYZ=Pm,MaybePrepareLayerDraw=km;const Fm=self.Gs,jm=self.MW,zm=self.assert,Bm=Fm.Yn(Fm.Rect),$m=Fm.Yn(Fm.Rect),Um=Fm.Yn(Fm.Rect),Wm=Fm.Yn(Fm.xo),Ym=self.ls,Qm=Ym.Ms,Vm=[],Jm=[],Hm=[],qm=[];let Zm=null;Fm.h3=class extends Fm.Un{constructor(t,s,i){super(),this.o3=t,this.Fc=t.Pj(),this.Hn=i[0],this.a3=i[1],this.l3=i[2],this.Ny=i[1],this.Dy=i[2],this.u3=!!i[3],this.c3=!!i[4],this.f3=i[5],this.d3=i[6],this.m3=i[7],this.g3=null,this.VX=i[8],this.EM=s,this.uK=0,this.cK=0,this.aK=1,this.lK=0,this.y3=new Set,this.M3=new Set,this.w3=new Set,this.S3=[],this.T3=[],this.b3=new Map,this.v3=new Map,this.x3=[],this.C3=!1,this.I3=Qm.create(),this.G3=Qm.create(),this.E3=Qm.create(),this.N3=[],this.D3=[],this._3=new Map,this.A3=new Map,this.L3=-1;const e=this.Fc.vj();this.EK=Fm.Yn(Fm.NK,this,i[11]),this.KP=Fm.Yn(Fm.RM.UO,e.DK(),{AO:(t,s)=>{const i=s.YP().jL();t.nL(),t.VL(i),t.JL(i),e.AK(i)},OO:t=>this.WB().LK(t)}),this.RK=!0,this.O3=!1,this.oK=null,this.R3={},this.P3=new Map,this.F3=!0,this.j3=new self.UB(this),this.z3=Fm.Yn(Fm.Event.Mf);for(const t of i[9])this.N3.push(Fm.$X.QK(this,null,t));this.B3();for(const t of this.o$())t.VK();for(const t of i[10]){const s=this.Fc.JK(t[1]);if(!s)throw new Error("missing nonworld object class");s.qK()||s.ZK(t),this.x3.push(t),this.HK(s)}}Qn(){for(const t of this.D3)t.Qn();Fm.Sh(this.D3),this.w3.clear(),this.g3=null,this.o3=null,this.Fc=null}Pj(){return this.Fc}Nc(){return this.Hn}I0(){return this.VX}ek(){return this.EM}WB(){return this.EK}ik(){return this.N0(),this.KP}N0(){const t="low"===this.Fc.vj().M2();if(!this.RK&&this.O3===t&&!this.KP.RR())return;const s=this.WB()._0();this.KP.PR(s.map((t=>t.DI())),{PO:s.map((t=>t.ek())),FO:t,$O:!0}),this.RK=!1,this.O3=t}RQ(){this.WB().RQ(),this.RK=!0}U3(){let t=this.D3[0].J1();for(let s=1,i=this.D3.length;s<i;++s){const i=this.D3[s];0===i.X$()&&0===i.sU()||(t=Math.min(t,i.J1()))}return t}W3(){return.5*this.Fc.H0()/this.U3()}Y3(){return.5*this.Fc.q0()/this.U3()}k0(){return this.Q3()?-1/0:this.W3()}F0(){return this.Q3()?1/0:this.$g()-this.W3()}j0(){return this.Q3()?-1/0:this.Y3()}z0(){return this.Q3()?1/0:this.Xg()-this.Y3()}XB(t){const s=this.k0(),i=this.F0();t>i&&(t=i),t<s&&(t=s),this.uK!==t&&(this.uK=t,this.V3(),this.Fc.mj())}KB(){return this.uK}t$(t){const s=this.j0(),i=this.z0();t>i&&(t=i),t<s&&(t=s),this.cK!==t&&(this.cK=t,this.V3(),this.Fc.mj())}s$(){return this.cK}Q3(){return this.u3}V2(){this.XB(this.KB()),this.t$(this.s$());for(const t of this.D3)t.P0()&&(t.XB(t.KB()),t.t$(t.s$()))}w$(t,s){this.f3===t&&this.d3===s||(this.f3=t,this.d3=s,this.J3()&&(this.H3(),this.V3(),this.Fc.mj()))}W0(){return this.x$()?.5:this.f3}Y0(){return this.x$()?.5:this.d3}I2(){const t=this.W0(),s=this.Y0();return t<0||t>1||s<0||s>1}b$(){this.c3&&(this.c3=!1,this.H3(),this.V3(),this.Fc.mj())}v$(){this.c3||(this.c3=!0,this.H3(),this.V3(),this.Fc.mj())}x$(){return this.c3}J3(){return!this.x$()}q3(t){t=!!t,this.C3!==t&&(this.C3=t,this.V3(),this.Fc.mj())}a1(){return this.C3}Z3(t,s,i,e,n,r,h,o,a){Pm(this.I3,t,s,i)&&Pm(this.G3,e,n,r)&&Pm(this.E3,h,o,a)||(Qm.set(this.I3,t,s,i),Qm.set(this.G3,e,n,r),Qm.set(this.E3,h,o,a),this.X3())}X3(){this.V3(),this.Fc.mj()}e1(){return this.I3}K1(){return this.G3}t2(){return this.E3}HB(){return this.aK}JB(t){this.aK!==t&&(this.aK=t,this.V3(),this.V2(),this.Fc.mj())}qB(t){t=Fm.Xn(t),this.lK!==t&&(this.lK=t,this.V3(),this.Fc.mj())}ZB(){return this.lK}$g(){return this.Ny}Hg(t){!isFinite(t)||t<1||(this.Ny=t)}Xg(){return this.Dy}Ug(t){!isFinite(t)||t<1||(this.Dy=t)}K3(){return this.g3}C0(){return this.N3}*o$(){for(const t of this.N3)yield*t._$()}h$(){return this.D3}t4(){return this.D3.length}lj(t){return"number"==typeof t?this.cj(t):this.S0(t.toString())}cj(t){return t=Fm.Zn(Math.floor(t),0,this.D3.length-1),this.D3[t]}S0(t){return this._3.get(t.toLowerCase())||null}s4(t){return!!this.S0(t)}i4(t){return this.A3.get(t)||null}H3(){for(const t of this.D3)t.s2()}V3(){for(const t of this.D3)t.R0()}c$(t,s,i){if(this.s4(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=i>=2?s:s.I$(),n=Fm.Yn(Fm.$X,this,e,{name:t,LX:Math.floor(1e15*Math.random()),OX:!0});this.e4(n,s,i),this.Pj().mj(),this.v0()}d$(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.n4(t),this.e4(t,s,i),this.Pj().mj(),this.v0())}m$(t){if(this.n4(t)){const s=this.Fc.jk();s.kB(!0),t.Qn(),s.kB(!1),this.Pj().mj(),this.v0()}}y$(){const t=new Set;for(const s of this.o$())s.G0()&&!s.E0()&&t.add(s);if(0===t.size)return;const s=this.Fc.jk();s.kB(!0);for(const s of t)this.n4(s),s.Qn();s.kB(!1),this.Pj().mj(),this.v0()}e4(t,s,i){if(i>=2)if(s){if(s===t||s.S1(t))throw new Error(`cannot move layer '${t.Nc()}' to sub-layer of itself`);s.d1(t,2===i),t.c1(s)}else 2===i?this.N3.push(t):this.N3.unshift(t),t.c1(null);else{const e=s.I$();if(e){if(s.S1(t))throw new Error(`cannot move layer '${t.Nc()}' to sub-layer of itself`);e.m1(t,s,0===i),t.c1(e)}else{let e=this.N3.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");0===i&&++e,this.N3.splice(e,0,t),t.c1(null)}}}n4(t){const s=t.I$();if(s)return s.g1(t),!0;if(this.N3.length>1){const s=this.N3.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");return this.N3.splice(s,1),!0}return!1}B3(){this.D3=[...this.o$()],this._3.clear(),this.A3.clear();for(let t=0,s=this.D3.length;t<s;++t){const s=this.D3[t];s.T0(t),this._3.set(s.Nc().toLowerCase(),s),this.A3.set(s.I0(),s)}}r4(){let t=0;for(const s of this.N3){for(const i of s._$())i.b0(t);s.z$()&&t++}}h4(){return this.N3.at(-1).CJ()+1}async v0(){this.B3(),this.r4(),this.L3=this.h4()}o4(){return this.L3}a4(){this.L3=-1}N1(t){const s=[];for(const i of this.N3){const e=i.CJ();if(e===t)s.push(i);else if(e>t)break}return s}b1(){return{scrollX:this.KB(),scrollY:this.s$(),scale:this.HB(),angle:this.ZB(),vpX:this.W0(),vpY:this.Y0()}}v1(t){this.XB(t.scrollX),this.t$(t.scrollY),this.JB(t.scale),this.qB(t.angle),this.w$(t.vpX,t.vpY)}l4(){let t=this.N3.filter((t=>t.w1()))[0];for(;t;){if(!t.oU())return Wm.ko(t.fU()),Wm.Po(1),Wm;if(t.z1())return Wm.No(0,0,0,0),Wm;t=t.N$().filter((t=>t.w1()))[0]}return Wm.No(0,0,0,0),Wm}s0(){return this.F3}u4(){return[...this.y3]}HK(t){if(t.FU())for(const s of t.f4().c4())this.y3.add(s);else this.y3.add(t)}d4(){return[...this.M3]}m4(t,s){if(t===this||!s)return Promise.resolve();t&&(Fm.mo(this.M3,t.M3),t.M3.clear());const i=[];for(const t of this.y3)this.M3.has(t)||(i.push(t.g4(s)),this.M3.add(t));return Promise.all(i)}async y4(t){if(t.M0())throw new Error("cannot load textures for family");const s=this.Fc.cb();if(!s||s.XD()||this.M3.has(t))return;this.M3.add(t);const i=t.g4(s);this.M4(i),await i,t.w4(),this.Fc.mj()}M4(t){this.w3.add(t),t.then((()=>this.w3.delete(t))).catch((()=>this.w3.delete(t)))}S4(){return Promise.all([...this.w3])}T4(t){if(t.M0()||t.LB()>0)throw new Error("cannot unload textures");const s=this.Fc.cb();s&&this.M3.has(t)&&(this.M3.delete(t),t.b4(s))}v4(t,s){if(t!==this&&s)for(const s of this.M3)s.n0()||t.y3.has(s)||(s.b4(),this.M3.delete(s))}x4(){this.M3.clear()}async C4(t){const s=this.Fc,i=this.o3,e=s.jk();this.m3&&(this.g3=e.I4(this.m3),this.g3.G4()),i.E4(this),this.Ny=this.a3,this.Dy=this.l3,this.uK=s.Ck()/2,this.cK=s.Gk()/2,this.V2(),this.H3(),this.V3(),this.r4(),await this.Fc.vj().N4(this.h4(),!0),this.D4(t),this.Fc._4(!0),this.A4(),this.F3||this.L4(),this.O4(this.S3),this.O4(this.T3),this.R4(),i.P4(),s.$B(),this.Fc._4(!1);const n=this.Fc.F4();if(await Promise.all(n),Fm.Sh(n),!s.j4()){for(const t of this.S3)t.z4();for(const t of this.T3)t.B4(this.b3,this.v3);for(const[t,s]of Object.entries(this.R3)){const i=this.Fc.fH(parseInt(t,10));i&&!i.M0()&&i.i0()&&Fm.Sh(s)}for(const t of this.S3)t.U4();for(const t of this.T3)t.U4();for(const t of this.S3)t.OY()||t.W4();for(const t of this.T3)t.OY()||t.W4()}Fm.Sh(this.S3),Fm.Sh(this.T3),this.b3.clear(),this.v3.clear(),await Promise.all([...this.y3].map((t=>t.Y4(this.Fc.cb())))),t&&(s.Mf().dispatchEvent(new Fm.Event("beforefirstlayoutstart")),await s.Q4(new Fm.Event("beforeprojectstart"))),await this.V4(new Fm.Event("beforeanylayoutstart")),s.Mf().dispatchEvent(new Fm.Event("beforelayoutstart")),await this.Q4(new Fm.Event("beforelayoutstart")),s.j4()||await s.Cj(Fm.Nj.Ej.Gj.J4,null,null),s.Mf().dispatchEvent(new Fm.Event("afterlayoutstart")),await this.Q4(new Fm.Event("afterlayoutstart")),await this.V4(new Fm.Event("afteranylayoutstart")),t&&(s.Mf().dispatchEvent(new Fm.Event("afterfirstlayoutstart")),await s.Q4(new Fm.Event("afterprojectstart"))),e.H4(i),await this.S4(),this.F3=!1}D4(t){for(const t of this.Fc.y0())if(!t.M0()&&t.Jz())for(const s of t.DB()){const t=s.aj(),i=t.lj(),e=Fm.Zn(i.ek(),0,this.D3.length-1),n=this.D3[e];t.dj(n,!0),n.h0(s)}if(!t)for(const t of this.D3)t.f0(!1)}A4(){for(const t of this.D3)t.t0(this.S3),t.p0()}L4(){let t=!1;for(const[s,i]of Object.entries(this.R3)){const e=this.Fc.fH(parseInt(s,10));if(e&&!e.M0()&&e.i0())for(const s of i){let i=null;if(e.Jz()&&(i=s.hasOwnProperty("instJson")?this.i4(s.instJson.w.l):this.i4(s.w.l),!i))continue;const n=this.Fc.e0(e,i,!1,0,0,!0);s.hasOwnProperty("instJson")?n.rv(s.instJson):n.rv(s),t=!0,this.T3.push(n),s.hasOwnProperty("instJson")&&(this.b3.set(n,s),this.v3.set(s.index,n))}}for(const t of this.D3)t.f0(!0),t.pj();t&&(this.Fc.$B(),this.Fc.q4())}O4(t){for(const s of t){if(!s.FU())continue;const i=s.aj(),e=s.$U();for(const n of s.GU().f4().Z4()){if(n===s.GU())continue;const r=n.DB();if(r.length>e)s.X4(r[e]);else{let e;e=i?this.Fc.e0(n,i.lj(),!0,i.Wb(),i.Vb(),!0):this.Fc.e0(n,null,!0,0,0,!0),this.Fc.$B(),n.K4(),s.X4(e),t.push(e)}}}}R4(){for(const t of this.x3)this.Fc.JK(t[1]).FU()||this.Fc.e0(t,null,!0)}t5(){const t=[],s=this.x3;let i=0;for(let e=0,n=s.length;e<n;++e){const n=s[e],r=this.Fc.JK(n[1]);r.n0()?r.FU()&&r.f4().s5()||t.push(this.Fc.e0(n,null,!0)):(s[i]=n,++i)}Fm.wh(s,i),this.Fc.$B(),this.O4(t)}g0(t,s,i,e,n,r,h){if(i)return i.g0(t,s,n,r,e,h);{const i=[];for(const o of this.D3)i.push(o.g0(t,s,n,r,e,h));return i.flat()}}async i5(){const t=this.o3;this.Fc.j4()||(await this.V4(new Fm.Event("beforeanylayoutend")),await this.Q4(new Fm.Event("beforelayoutend")),await this.Fc.Cj(Fm.Nj.Ej.Gj.e5,null,null),await this.Q4(new Fm.Event("afterlayoutend")),await this.V4(new Fm.Event("afteranylayoutend"))),t.n5(!0),this.Fc.jk().r5(),this.F3||this.h5();for(const t of this.D3)t.m0();for(const t of this.Fc.y0())if(!(t.n0()||t.Jz()||t.wB().Qz()||t.M0())){for(const s of t.DB())this.Fc.LU(s);this.Fc.$B()}t.n5(!1),t.zF()===this&&t.E4(null)}o5(t,s){const i=t.GU().I0().toString();this.R3.hasOwnProperty(i)||(this.R3[i]=[]);const e=this.R3[i],n={index:s,instJson:t.nv(),sceneGraphJson:{children:[]}};e.push(n),this.P3.set(t,n)}a5(t){const s=this.P3.get(t);for(const i of t.l5()){const t=this.P3.get(i);t&&s.sceneGraphJson.children.push({index:t.index,flags:Fm.c5.u5(i.aj())})}}h5(){this.P3.clear();let t=0;for(const s of this.D3){s.I1();for(const i of s.fj()){const s=i.GU();!s.n0()&&s.i0()&&(this.o5(i,t),t++)}}for(const t of this.D3)for(const s of t.fj()){const t=s.GU();!t.n0()&&t.i0()&&this.a5(s)}this.P3.clear()}f5(){this.R3={},this.F3=!0}jL(){return this.oK}z1(){const t=this.Fc,s=t.cb().kT();return"low"===t.vj().M2()||s&&t.g2()||this.EK.B1()||s&&t.h1()}d5(t){const s=this.Fc.vj();if(this.z1()){t.YL(null),t.AL(0,0,0,0);const i={Wv:this.Fc.Ek(),kx:t.sS()||this.Fc.g2()||this.EK.B1(),m2:!!t.sS()&&this.Fc.g2()};"low"===s.M2()&&(i.width=s.n2(),i.height=s.h2()),this.oK=this.Fc.w2(i)}else this.oK=null}p5(t){this.Fc.m5(t)&&(t.RL(!1),t.YL(null),t.lS(),t.QL(this.oK))}g5(t){this.z1()&&(t.RL(!1),this.y5(t,this.oK))}M5(t){t.YL(this.oK),t.Nu(this.l4()),this.Fc.h1()&&t.OL();const s=this.N1(0);this.S2(t,this.oK,s,!0),t.sS()&&t.d2(0,1),this.g5(t),this.oK=null}w5(t,s){let i=null;this.Fc.m5(t)&&(i=this.oK),t.YL(i),t.AL(0,0,0,0),this.Fc.h1()&&t.OL();const e=this.N1(s);this.S2(t,i,e,!0),this.p5(t),t.DT(),this.Fc.vj().S5(s)}S2(t,s,i,e){const n=i.filter((t=>t.w1()));for(let i=0,r=n.length;i<r;){const h=n[i];if(h.l1()&&!h.U1()){Vm.push(h);for(let t=i+1;t<r;++t){const s=n[t];if(!s.l1()||s.U1())break;Vm.push(n[t])}if(Vm.length>=2||1===Vm.length&&Vm[0].M1()){this.T5(t,s,Vm),i+=Vm.length,Fm.Sh(Vm);continue}Fm.Sh(Vm)}h.Lv(t,s,e&&0===i),++i}}y5(t,s){const i=this.EK._0(),e=this.Fc;0===i.length?(t.YL(null),t.lS(),t.QL(s),t.JL(s),e.AK(s)):(Um.set(0,0,e.H0(),e.q0()),this.ik().QR(t,null,{JR:this,qR:3,devicePixelRatio:this.Fc.U2(),ZR:this.Fc.Y2()*this.HB(),XR:this.ZB(),vP:Um,xP:null,RO:!0}))}T5(t,s,i){i[0].oU()||(Wm.ko(i[0].fU()),Wm.Po(1),t.Nu(Wm)),this.Fc.vj(),t.RL(!0);const e=Jm,n=Hm,r=qm;for(const t of i)t.I1(),t.i1(e);const h=i[0],o=h.l2(t);h.f2(t);for(let i=0,h=e.length;i<h;){const o=e[i],a=o.aj(),l=a.lj();if(!a.R$()||!a.D2(l.N2())){++i;continue}(!o._2()||a.A2()>0)&&r.push(o);const u=o.aj().XW();n.push(o);let c=i+1;for(;c<h;++c){const t=e[c],s=t.aj();if(s.R$()&&s.D2(s.lj().N2())){if(s.XW()!==u)break;t._2()?(s.A2()>0&&r.push(t),n.push(t)):r.push(t)}}if(1!==n.length||n[0].L2()){this.b5(t,s,n);for(let i=0,e=r.length;i<e;++i){const e=r[i],n=e.aj(),h=n.lj();n.R2(!0),km(h,t),h.E2(e,n,t,s),n.R2(!1)}}else{km(l,t),l.E2(o,a,t,s);for(let i=0,e=r.length;i<e;++i){const e=r[i];if(e===o)continue;const n=e.aj(),h=n.lj();km(h,t),h.E2(e,n,t,s)}}i=c,Fm.Sh(n),Fm.Sh(r)}o&&t.iO(o),Fm.Sh(e),Zm=null}b5(t,s,i){t.qL();for(let s=0,e=i.length;s<e;++s){const e=i[s],n=e.aj(),r=n.lj();n.P2(!0),km(r,t),r.F2(e,n,t)}t.ZL();for(let e=0,n=i.length;e<n;++e){const n=i[e],r=n.aj(),h=r.lj();km(h,t),h.E2(n,r,t,s),r.P2(!1)}t.KL()}s3(){const t={sx:this.KB(),sy:this.s$(),s:this.HB(),a:this.ZB(),w:this.$g(),h:this.Xg(),ortho:this.x$(),vpX:this.W0(),vpY:this.Y0(),fv:this.F3,persist:this.R3,fx:this.EK.nv(),layers:{},dynamicLayers:[]};for(const s of this.D3)if(s.G0()){const i=s.I$();t.dynamicLayers.push({sid:s.I0(),name:s.Nc(),parentSid:i?i.I0():null,siblingIndex:s.x0(),data:s.s3()})}else t.layers[s.I0().toString()]=s.s3();return t}i3(t){this.uK=t.sx,this.cK=t.sy,this.aK=t.s,this.lK=t.a,this.Ny=t.w,this.Dy=t.h,this.c3=!!t.ortho,t.hasOwnProperty("vpX")&&(this.f3=t.vpX),t.hasOwnProperty("vpY")&&(this.d3=t.vpY),this.F3=!!t.fv,this.R3=t.persist,this.EK.rv(t.fx),this.RK=!0;for(const[s,i]of Object.entries(t.layers)){const t=parseInt(s,10),e=this.i4(t);e&&e.i3(i)}if(t.hasOwnProperty("dynamicLayers")){this.y$(),this.Fc.$B();const s=new Map,i=t.dynamicLayers;for(let t=i.length-1;t>=0;--t){const e=i[t],n=e.sid,r=e.name,h=e.parentSid,o=e.siblingIndex,a=e.data;if(this.B3(),this.s4(r)||this.i4(n))continue;let l,u;if(null===h)l=null,u=this.N3;else{if(l=this.i4(h),!l)continue;u=l.N$()}const c=Fm.Yn(Fm.$X,this,l,{name:r,LX:n,OX:!0});u.push(c);let f=s.get(u);f||(f=[],s.set(u,f)),f.push({FW:c,v5:o}),c.i3(a)}for(const[t,i]of s){i.sort(((t,s)=>t.v5-s.v5));for(const s of i){const i=s.FW,e=s.v5;let n=t.indexOf(i);t.splice(n,1),t.splice(e,0,i)}}}this.v0(),this.H3(),this.V3()}BF(){return this.j3}Rk(){return this.z3}x5(t){t.layout=this.BF();const s=this.Fc,i=s.yW()&&!s.jk().zB();i&&jm.C5(),this.z3.dispatchEvent(t),i&&jm.I5()}Q4(t){return t.layout=this.BF(),this.z3.If(t)}V4(t){return t.layout=this.BF(),this.Fc.Q4(t)}G5(){this.E5(this.N3)}E5(t,s=0){const i=t.slice(0);i.reverse();for(const t of i)console.log(`${"\t".repeat(s)}- ${t.Nc()}`),this.E5(t.N$(),s+1)}}}{const Xm=self.Gs;Xm.N5=class extends Xm.Un{#s;#i=[];#f=new Map;#a=new Map;#e=null;#t=[];#r=null;#h=0;#d=null;constructor(t){super(),this.#s=t}Qn(){this.#s=null,this.#e=null,this.#r=null,this.#d=null,Xm.Sh(this.#i),this.#f.clear(),this.#a.clear(),Xm.Sh(this.#t)}_C(t){const s=Xm.Yn(Xm.h3,this,this.#i.length,t);this.#i.push(s),this.#f.set(s.Nc().toLowerCase(),s),this.#a.set(s.I0(),s)}Pj(){return this.#s}D5(t){this.#r=t}_5(){if(this.#r)return this.#r;if(this.#i.length)return this.#i[0];throw new Error("no first layout")}A5(t){return this.#f.get(t.toLowerCase())||null}L5(t){return this.#a.get(t)||null}O5(t){return t=Xm.Zn(Math.floor(t),0,this.#i.length-1),this.#i[t]}WF(t){return"number"==typeof t?this.O5(t):this.A5(t.toString())}QF(){return this.#i}E4(t){this.#e=t}zF(){return this.#e}R5(t){if(this.#t.includes(t))throw new Error("layout already running");this.#t.push(t)}P5(t){const s=this.#t.indexOf(t);if(-1===s)throw new Error("layout not running");this.#t.splice(s,1)}*k5(){this.#e&&(yield this.#e),this.#t.length&&(yield*this.#t)}F5(t){return this.#e===t||this.#t.includes(t)}n5(t){if(t)this.#h++;else{if(this.#h<=0)throw new Error("already unset");this.#h--}}BB(){return this.#h>0}HF(t){this.#d=t}P4(){this.#d=null}JF(){return!!this.#d}j5(){return this.#d}z5(){const t=this.zF();t&&t.H3()}B5(){const t=this.zF();t&&t.V3()}}}{const Km=self.Gs,tg=new RegExp("<(.+?)>","g");Km.U5=class extends Km.Un{constructor(t){super(),this.Fc=t,this.W5=Km.Yn(Km.Y5),this.Q5=null,this.V5=[],this.J5=new Map,this.H5=new Map,this.q5=new Map,this.Z5=[],this.X5=[],this.K5=[],this.t6=!1,this.s6=!1,this.i6=!1,this.e6=()=>this.n6(),this.r6=()=>this.h6(),this.o6=()=>this.a6(),this.l6=()=>this.u6(),this.c6=t=>this.f6(t.EQ),this.d6=t=>this.p6(),this.m6=t=>this.g6(),this.y6=t=>this.M6(),this.w6=[],this.S6=0}Qn(){this.T6(),this.e6=null,this.r6=null,this.o6=null,this.l6=null,this.c6=null,this.m6=null;for(const t of this.V5)t.wV(),t.Qn();Km.Sh(this.V5),this.V5=null,this.W5.Qn(),this.W5=null,Km.Sh(this.Z5),this.Z5=null,Km.Sh(this.X5),this.X5=null,Km.Sh(this.K5),this.K5=null,this.J5.clear(),this.J5=null,this.H5.clear(),this.H5=null,this.q5.clear(),this.q5=null,Km.Sh(this.w6),this.w6=null,this.Fc=null}b6(){const t=this.Fc.Mf();t.addEventListener("pretick",this.e6),t.addEventListener("tick2",this.r6),t.addEventListener("beforelayoutchange",this.o6),t.addEventListener("layoutchange",this.l6),t.addEventListener("instancedestroy",this.c6),t.addEventListener("beforeload",this.d6),t.addEventListener("afterload",this.m6),t.addEventListener("afterlayoutstart",this.y6)}T6(){const t=this.Fc.Mf();t.removeEventListener("pretick",this.e6),t.removeEventListener("tick2",this.r6),t.removeEventListener("beforelayoutchange",this.o6),t.removeEventListener("layoutchange",this.l6),t.removeEventListener("instancedestroy",this.c6),t.removeEventListener("beforeload",this.d6),t.removeEventListener("afterload",this.m6),t.removeEventListener("afterlayoutstart",this.y6)}_C(t){this.W5.ju(t);const s=Km.x6.v6(t,this);this.ju(s),this.C6(s),this.q5.set(s.Nc(),0)}I6(t){const s=this.G6(),i=t.WU(),e=s.Qs(i),n=Km.x6.I6(`${i}:${this.q5.get(i)}`,e,this);return this.E6(i),this.ju(n),n}E6(t){this.q5.set(t,this.q5.get(t)+1)}N6(){for(const t of this.V5){if(t.D6())continue;const s=t.WU();this.E6(s)}}_6(){for(const t of this.q5.keys())this.q5.set(t,0)}ju(t){this.V5.push(t),this.J5.set(t.Nc().toLowerCase(),t)}Zf(t){t.A6(),t.D6()||(Km.Gh(this.V5,t),Km.Gh(this.Z5,t),Km.Gh(this.X5,t),Km.Gh(this.K5,t),this.J5.delete(t.Nc().toLowerCase()),this.L6(t),t.yV()||t.Qn())}lW(t){this.Fc.lW(t,this.Q5,null)}Pj(){return this.Fc}G6(){return this.W5}O6(t){this.Q5=t}R6(){return this.Q5}*P6(){for(const t of this.V5)yield t}*k6(){for(const t of this.X5)yield t}F6(t,s){this.H5.has(t)||this.H5.set(t,new Set),this.H5.get(t).add(s)}C6(t){for(const s of t.j6())this.F6(s,t)}L6(t){for(const[s,i]of this.H5.entries())i.has(t)&&(i.delete(t),0===i.size&&this.H5.delete(s))}z6(t){if(this.H5.has(t))return this.H5.get(t)}B6(t,s){if(s)for(const i of this.V5)if(s.every((t=>i.U6(t.EQ,t.trackId)))&&i.Nc().includes(t.Nc()))return i}W6(t){return this.J5.get(t.toLowerCase())||null}Y6(t){for(const s of this.Z5)if(s.Nc()===t)return s;for(const s of this.X5)if(s.Nc()===t)return s;return null}*Q6(t){if(tg.test(t)){let s;tg.lastIndex=0;const i=new Set;do{if(s=tg.exec(t),s){const t=s[1].split(",");for(const s of t)i.add(s)}}while(s);for(const t of i.values()){const s=this.W6(t);s&&(yield s)}i.clear()}else{const s=this.W6(t);s&&(yield s)}}*V6(t){for(const s of this.V5)s.TV(t)&&(yield s)}J6(t){this.Z5.includes(t)||this.Z5.push(t),this.H6()}q6(t){Km.Gh(this.X5,t),this.Z6()}X6(t){this.X5.includes(t)?(t.K6(!0),t.t8(!1),t.s8(!1)):(t.K6(!1),t.t8(!0),t.s8(!1),this.Z5.includes(t)||this.Z5.push(t)),this.H6()}i8(t){t.K6(!1),t.t8(!1),t.e8(),Km.Gh(this.Z5,t),this.Z6()}n8(t){t.K6(!1),t.t8(!1),this.X5.includes(t)&&(t.s8(!0),this.K5.push(t),Km.Gh(this.X5,t)),this.Z5.includes(t)&&t.s8(!0)}r8(t){t.K6(!1),t.t8(!1),t.s8(!1),t.NV(1),Km.Gh(this.X5,t)}h8(t){this.n8(t),t.e8()}n6(){const t=this.Pj();if(t.j4())return;if(!this.t6)return;if(this.s6)return;let s=0;for(t.yW()&&(s=performance.now()),this.i6=!0;this.Z5.length;){const t=this.Z5.pop();t.o8()?(t.a8(),this.K5.push(t)):(t.l8(),this.X5.push(t)),0!==t.u8()&&(this.S6=1)}const i=this.Fc.c8(),e=this.Fc.f8(),n=this.Fc.gF();for(let t=this.X5.length-1;t>=0;t--){const s=this.X5[t];s&&s.d8(i,n,e)}this.i6=!1,t.yW()&&globalThis.MW.p8(performance.now()-s),0!==this.S6&&t.mj()}h6(){const t=this.Pj();if(t.j4())return;if(!this.t6)return;if(this.s6)return;let s,i=0;t.yW()&&(i=performance.now());for(let t=0,i=this.K5.length;t<i;t++){const i=this.K5[t];s||(s=new Set),i.A6(),this.m8(i),s.add(i)}if(s){Km.Dh(this.K5,s),this.S6=0;for(let t=0,s=this.X5.length;t<s;t++)if(0!==this.X5[t].u8()){this.S6=1;break}}this.Z6(),t.yW()&&globalThis.MW.p8(performance.now()-i)}m8(t){t.yV()||t.g8()&&t.y8()&&t.M8()&&t.w8()}H6(){this.t6||(this.t6=!0)}Z6(){this.K5.length||this.X5.length||this.Z5.length||this.i6||(this.t6=!1)}a6(){for(this.s6=!0;this.Z5.length;)this.i8(this.Z5.pop());const t=new Set;for(const s of this.X5)s.a6()&&(s.A6(),t.add(s));Km.Dh(this.X5,t),t.clear();for(const s of this.K5)s.a6()&&(s.A6(),t.add(s));Km.Dh(this.K5,t),this.Z6();for(const t of this.V5)t.S8()}u6(){this.s6=!1}f6(t){const s=t.GU(),i=this.z6(s);if(i)if(this.Fc.j4())this.w6.push(t);else for(const t of i)t.D6()||(t.yV()?this.Zf(t):t.g8()||(this.m8(t),this.Zf(t)))}p6(){for(const t of this.Z5.map((t=>t)))this.m8(t),this.Zf(t);for(const t of this.X5.map((t=>t)))this.m8(t),this.Zf(t)}g6(){for(const t of this.w6)this.f6(t);Km.Sh(this.w6);for(const t of this.V5)t.g6()}M6(){const t=this.Fc.UF().zF();if(t)for(const s of this.V5){const i=s.T8();i&&t.Nc()===i&&this.X6(s)}}s3(){return{timelinesJson:this.b8(),scheduledTimelinesJson:this.v8(),playingTimelinesJson:this.x8(),markedForRemovalTimelinesJson:this.C8(),hasRuntimeListeners:this.t6,changingLayout:this.s6,isTickingTimelines:this.i6}}i3(t){t&&(this._6(),this.I8(t.timelinesJson),this.G8(t.scheduledTimelinesJson),this.E8(t.playingTimelinesJson),this.N8(t.markedForRemovalTimelinesJson),this.t6=!t.hasRuntimeListeners,this.s6=!!t.changingLayout,this.i6=!!t.isTickingTimelines,this.N6(),this.H6(),this.Z6())}b8(){return this.V5.map((t=>t.s3()))}I8(t){for(const s of t){let t=this.W6(s.name);if(t)t.i3(s);else{const i=this.D8(s);if(!i)continue;const e=this.W6(i);t=this.I6(e),t.i3(s)}t._8()||this.Zf(t)}}D8(t){const s=t.name.split(":");return s&&2===s.length?s[0]:null}v8(){return this.A8(this.Z5)}G8(t){this.L8(t,this.Z5)}x8(){return this.A8(this.X5)}E8(t){this.L8(t,this.X5)}C8(){return this.A8(this.K5)}N8(t){this.L8(t,this.K5)}O8(t,s){if(!s)return!1;for(const i of s)if(i===t.Nc())return!0;return!1}A8(t){return t.map((t=>t.Nc()))}L8(t,s){const i=new Set;for(const e of s)this.O8(e,t)||i.add(e);if(Km.Dh(s,i),t){const i=t=>s=>s.Nc()===t;for(const e of t){const t=this.W6(e);t&&(s.find(i(e))||s.push(t))}}}}}{const sg=self.Gs,ig=100,eg=.01,ng=25,rg=20,hg=5,og=[0,0],ag=[0,0],lg=[0,0],ug=[0,0,0,0,0],cg=new Array(4),fg=[{x:0,y:0,t:0,Tt:0},{x:0,y:0,t:0,Tt:0},{x:0,y:0,t:0,Tt:0}],dg={x:0,y:0,t:0,Tt:0};sg.P8=class{constructor(t,s){this.k8=!1,this.F8=t,this.j8=[];let i=null;if(i=s?this.F8.z8(s):sg.zh(this.F8.B8()),!i)return;const e=i.HV("offsetX"),n=i.HV("offsetY");if(!e||!n)return;this.U8=e,this.W8=n;const r=e.Y8(),h=n.Y8();for(let t=1,s=Math.min(r.length,h.length);t<s;++t){const s=r[t],i=(s.Q8(),s.V8()),e=h[t],n=(e.Q8(),e.V8());i&&"cubic-bezier"===i.J8()&&n&&"cubic-bezier"===n.J8()?this.j8.push(sg.Yn(sg.H8,i,n,s,e,this.j8.length)):(i&&"line"===i.J8()&&n&&n.J8(),this.j8.push(sg.Yn(sg.q8,s,e,this.j8.length)))}this.k8=!0}Qn(){for(const t of this.j8)t.Qn();sg.Sh(this.j8),this.j8=null,this.F8=null,this.U8=null,this.W8=null}Z8(){return this.k8}X8(){return this.j8}K8(t){const s="relative"===this.U8.t7()?t.Wb():0,i="relative"===this.W8.t7()?t.Vb():0;for(const t of this.j8)t.K8(s,i)}PM(t,s,i){let e=NaN,n=this.j8.length;for(let i=0;i<n;i++){const n=this.j8[i];if("cubic-bezier"===n.LI()){const i=n.PM(t,s);(isNaN(e)||i[3]<e)&&(e=i[3],lg[0]=i[2],lg[1]=n.ek())}}return lg}s7(t,s,i){const e=i.i7;sg.te(e[0])||(e[0]=0),sg.te(e[1])||(e[1]=1);let n=NaN,r=this.j8.length;for(let i=0;i<r;i++){const r=this.j8[i];if("cubic-bezier"===r.LI()){const i=r.e7(t,s,e);(isNaN(n)||i[3]<n)&&(n=i[3],lg[0]=i[2],lg[1]=r.ek())}}return lg}n7(t,s){return this.j8[s].n7(t)}r7(t,s){return this.j8[s].r7(t)}},sg.H8=class{constructor(t,s,i,e,n){this.EM=n;const r=t.h7("cubic-bezier"),h=i.h7("cubic-bezier"),o=s.h7("cubic-bezier"),a=e.h7("cubic-bezier");this.o7=t.a7(),this.l7=s.a7(),this.u7=t.a7()+r.c7(),this.f7=s.a7()+o.c7(),this.d7=i.a7()+h.p7(),this.m7=e.a7()+a.p7(),this.g7=i.a7(),this.y7=e.a7(),this.M7=0,this.w7=0,this.S7=0,this.T7=0,this.b7=0,this.v7=0,this.x7=0,this.C7=0,this.I7=0,this.G7=0,this.E7=0,this.N7=0,this.D7=0,this._7=0,this.A7=0,this.L7=0,this.O7=0,this.R7=0,this.P7=0,this.k7=0,this.F7=NaN,this.k8=!1,this.j7=100,this.z7=new Array(this.j7+1),this.z7[0]=0,this.B7=0,this.U7=[],this.W7=[];for(let t=0;t<100;t++)this.W7.push({x:0,y:0,t:0,Tt:0});this.Y7()}Qn(){sg.Sh(this.z7),this.z7=null,sg.Sh(this.U7),this.U7=null,sg.Sh(this.W7),this.W7=null}LI(){return"cubic-bezier"}ek(){return this.EM}Q7(){return Math.floor(this.B7/25)}V7(){return 1/this.Q7()}K8(t,s){this.J7=t,this.H7=s,this.z7=new Array(this.j7+1),this.z7[0]=0,this.Y7(),this.M7=this.o7+this.J7,this.w7=this.l7+this.H7,this.S7=this.u7+this.J7,this.T7=this.f7+this.H7,this.b7=this.d7+this.J7,this.v7=this.m7+this.H7,this.x7=this.g7+this.J7,this.C7=this.y7+this.H7,this.I7=3*(this.S7-this.M7),this.G7=3*(this.T7-this.w7),this.E7=3*(this.b7-this.S7),this.N7=3*(this.v7-this.T7),this.D7=3*(this.x7-this.b7),this._7=3*(this.C7-this.v7),this.A7=3*(this.S7-this.M7),this.L7=3*(this.M7+this.b7-2*this.S7),this.O7=this.x7-this.M7+3*(this.S7-this.b7),this.R7=3*(this.T7-this.w7),this.P7=3*(this.w7+this.v7-2*this.T7),this.k7=this.C7-this.w7+3*(this.T7-this.v7)}Map(t){if(!this.k8)return NaN;const s=this.q7(t);return ag[0]=this.Z7(s),ag[1]=this.X7(s),ag}PM(t,s){const i=this.K7(100),e=this.t9(t,s,i),n=this.s9(t,s,i,e);return ug[0]=n.x,ug[1]=n.y,ug[2]=n.t,ug[3]=n.Tt,ug}e7(t,s,i){const e=this.K7(100),n=this.i9(t,s,e,i),r=this.s9(t,s,e,n);return ug[0]=r.x,ug[1]=r.y,ug[2]=r.t,ug[3]=r.Tt,ug}n7(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.I7+e*this.E7+n*this.D7,h=i*this.G7+e*this.N7+n*this._7,o=sg.sr(r,h);return og[0]=r/o,og[1]=h/o,og}r7(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.I7+e*this.E7+n*this.D7,h=i*this.G7+e*this.N7+n*this._7;return Math.atan2(h,r)}q7(t){if(!this.k8)return;let s=t*this.z7[this.j7],i=0,e=this.j7,n=0;for(;i<e;)n=i+((e-i)/2|0),this.z7[n]<s?i=n+1:e=n;this.z7[n]>s&&n--;const r=this.z7[n];return r===s?n/this.j7:(n+(s-r)/(this.z7[n+1]-r))/this.j7}Z7(t){return this.k8?self.$u.rc("cubicbezier")(t,this.o7+this.J7,this.u7+this.J7,this.d7+this.J7,this.g7+this.J7):NaN}X7(t){return this.k8?self.$u.rc("cubicbezier")(t,this.l7+this.H7,this.f7+this.H7,this.m7+this.H7,this.y7+this.H7):NaN}K7(t){if(t=t||100,this.U7.length>=t)return this.U7;this.U7=new Array(t),t++;for(let s=0;s<t-1;s++){const i=s/(t-1),e=i**2,n=i**3,r=this.A7*i,h=this.L7*e,o=this.O7*n,a=this.R7*i,l=this.P7*e,u=this.k7*n,c=this.M7+r+h+o,f=this.w7+a+l+u;this.W7[s].x=c,this.W7[s].y=f,this.W7[s].t=i,this.W7[s].Tt=0,this.U7[s]=this.W7[s]}return this.U7}t9(t,s,i,e=null,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.F7))for(let e=0;e<100;e++){const h=i[e],o=h.x-t,a=h.y-s;h.Tt=o*o+a*a,h.Tt<n&&(n=h.Tt,r=e)}else{for(let e=this.F7;e<this.F7+5&&!(e>=i.length);e++){const h=i[e],o=h.x-t,a=h.y-s;h.Tt=o*o+a*a,h.Tt<n&&(n=h.Tt,r=e)}for(let e=this.F7;e>this.F7-5&&!(e<0);e--){const h=i[e],o=h.x-t,a=h.y-s;h.Tt=o*o+a*a,h.Tt<n&&(n=h.Tt,r=e)}}return this.F7=r,r}i9(t,s,i,e,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.F7))for(let h=0;h<100;h++){const o=i[h],a=o.x-t,l=o.y-s;o.Tt=a*a+l*l,o.t>=e[0]&&o.t<=e[1]&&o.Tt<n&&(n=o.Tt,r=h)}else{for(let h=this.F7;h<this.F7+5&&!(h>=i.length);h++){const o=i[h],a=o.x-t,l=o.y-s;o.Tt=a*a+l*l,o.t>=e[0]&&o.t<=e[1]&&o.Tt<n&&(n=o.Tt,r=h)}for(let h=this.F7;h>this.F7-5&&!(h<0);h--){const o=i[h],a=o.x-t,l=o.y-s;o.Tt=a*a+l*l,o.t>=e[0]&&o.t<=e[1]&&o.Tt<n&&(n=o.Tt,r=h)}}return this.F7=r,r}s9(t,s,i,e){let n=i[e],r=1,h=Number.MAX_SAFE_INTEGER;t:do{const r=i.length;let o=0===e?0:e-1,a=e===r-1?r-1:e+1,l=i[o].t,u=(i[a].t-l)/4;if(u<.001)break;cg[0]=i[o];for(let i=1;i<=2;i++){const r=l+i*u,o=r**2,a=r**3,c=this.A7*r,f=this.L7*o,d=this.O7*a,p=this.R7*r,m=this.P7*o,g=this.k7*a,y=this.M7+c+f+d,M=this.w7+p+m+g,w=y-t,S=M-s,T=w*w+S*S;if(T<h){h=T,e=i,dg.x=y,dg.y=M,dg.t=r,dg.Tt=T,n=dg;break t}const b=fg[i-1];b.x=y,b.y=M,b.t=r,b.Tt=T,cg[i]=b}cg[3]=i[a],i=cg}while(r++<20);return n}Y7(){this.k8=!0;let t=this.Z7(0),s=this.X7(0),i=0;for(let e=1;e<=this.j7;e++){const n=this.Z7(.01*e),r=this.X7(.01*e),h=t-n,o=s-r;i+=sg.sr(h,o),this.z7[e]=i,t=n,s=r}this.B7=i}},sg.q8=class{constructor(t,s,i){this.EM=i,this.e9=t.a7(),this.n9=s.a7(),this.J7=0,this.H7=0}Qn(){}LI(){return"line"}ek(){return this.EM}K8(t,s){this.J7=t,this.H7=s}Wb(){return this.e9+this.J7}Vb(){return this.n9+this.H7}}}{const pg=self.Gs,mg=0,gg=1;pg.x6=class extends pg.Un{constructor(t,s,i){super(),this.Fc=i.Pj(),this.r9=i,this.h9=s,this.Hn=t,this.o9=[],this.a9=0,this.l9=null,this.u9=0,this.c9(),this.f9=null,this.d9=null,this.p9=0,this.m9=0,this.g9=1,this.y9=0,this.M9=-1,this.w9=1,this.S9=!1,this.T9=!1,this.b9=!1,this.v9=!0,this.x9=!1,this.C9=!1,this.I9=-1,this.G9=!1,this.E9=!1,this.N9=!1,this.D9=!1,this._9=NaN,this.A9=[""],this.L9="",this.O9=!1,this.S6=0,this.R9=0,this.P9=null,this.k9=null}static v6(t,s){const i=s.G6(),e=i.F9(),n=i.Qs(t[e]),r=pg.Yn(pg.x6,t[e],n,s);return r.j9(!0),r}static I6(t,s,i){return pg.Yn(pg.x6,t,s,i)}Qn(){if(this.yV())return;const t=this.Fc.Mf();this.r9.i8(this),this.r9.h8(this);for(const t of this.o9)t.Qn();pg.Sh(this.o9),this.o9=null,this.Fc=null,this.r9=null,this.h9=null,this.x9=!0,this.f9=null,this.d9=null,this.z9(t)}z9(t){const s=pg.Yn(pg.Event,"timelinestatereleased");s.B9=this,t.dispatchEvent(s)}LI(){return 0}c9(){for(const t of this.h9.W9().U9())this.a9=this.o9.push(pg.Y9._C(this,t))}Q9(){return this.r9}Pj(){return this.Fc}B8(){return this.o9}V9(t,s,i,e){if(!this.R9)return;let n;for(let r=0;r<this.o9.length;r++){let h=this.o9[r];if(t!==h.UV())continue;const o=h.HV(i);o&&s.constructor===o.J9().constructor&&o.t7()===e.t7()&&(n||(n=[]),n.push(o))}return n}_8(){return!!this.o9.length}z8(t){for(const s of this.o9)if(pg.Xe(s.VV(),t))return s;return null}H9(t){for(const s of this.o9)if(!s.q9()&&pg.Xe(s.Nc(),t))return s;return null}yH(t){this.Hn=t}Nc(){return this.Hn}Z9(){return this.h9}WU(){return this.h9.Nc()}xV(){return this.h9.xV()}vV(t){this.h9.vV(t)}X9(){return this.h9.X9()}K9(t){this.h9.K9(t)}ttt(){return this.h9.ttt()}stt(t){this.h9.stt(t)}t7(){return this.h9.t7()}itt(t){this.h9.t7(t)}$V(t){for(const s of this.B8())s.$V(t)}IV(){return this.h9.IV()}CV(t){return this.h9.CV(t)}EV(){return this.h9.EV()}GV(t){return this.h9.GV(t)}UQ(){return this.h9.UQ()}ett(t){return this.h9.ett(t)}NV(t){return this.g9=t}DV(){return this.g9}T8(){return this.h9.T8()}ntt(){return this.h9.ntt()}htt(){return this.h9.htt()}ott(){return this.y9}att(){return!this.IsPlaying()||this.g9>0}AV(){return this.f9||(this.f9=new Promise((t=>{this.d9=t}))),this.f9}e8(){this.f9&&(this.d9(),this.f9=null,this.d9=null)}ltt(t){this.A9=pg.x6.utt(t),this.O9=!0}_V(){return this.A9}ctt(){return this.O9&&(this.L9=this.A9.join(" ")),this.O9=!1,this.L9}TV(t){if(!this.A9)return!1;if(!this.A9.length)return!1;const s=pg.x6.utt(t);return!!s&&!!s.length&&s.every(pg.x6.ftt,this)}dtt(){pg.Nj.ptt&&this.constructor===pg.x6&&(pg.Nj.ptt.Gj.mtt(this),this.r9.lW(pg.Nj.ptt.Gj.gtt),this.r9.lW(pg.Nj.ptt.Gj.ytt),this.r9.lW(pg.Nj.ptt.Gj.Mtt),this.r9.lW(pg.Nj.ptt.Gj.wtt),pg.Nj.ptt.Gj.Stt())}Ttt(){this.I9=this.Fc.btt()}w8(){this.N9||(this.N9=!0,pg.Nj.ptt&&this.constructor===pg.x6&&(pg.Nj.ptt.Gj.mtt(this),this.r9.lW(pg.Nj.ptt.Gj.vtt),this.r9.lW(pg.Nj.ptt.Gj.xtt),this.r9.lW(pg.Nj.ptt.Gj.Ctt),this.r9.lW(pg.Nj.ptt.Gj.Itt),pg.Nj.ptt.Gj.Stt()))}K6(t){this.S9=t}Gtt(){return this.I9===this.Fc.btt()}IsPlaying(t=!1){return!!this.Gtt()||!(!this.Ett()||t)||this.S9}Ntt(){return this.IsPlaying(!0)}RV(){return this.Dtt()}Dtt(){return!(this.yV()||this.Ett()||this.Ntt()||this.y8())}t8(t){this.T9=t}Ett(){return this.T9}_tt(t){this.v9=t;const s=this.IV(),i=this.EV();if(s||i){if(s&&!i);else if(!s&&i){const t=this.DO();1===this.y9&&(t<=0||t>=this.xV())&&(this.v9=!0)}}else{const t=this.DO();(t<=0||t>=this.xV())&&(this.v9=!0)}}y8(){return this.v9}yV(){return this.x9}s8(t){this.C9=t}o8(){return this.C9}Att(t){this.G9=t}Ltt(){return this.G9}j9(t){this.E9=!!t}D6(){return this.E9}M8(){return this.b9}DO(){return this.p9}bV(t){const s=this.DO();this.Ott(t),this._tt(!1),this.y8()||this.Att(!0),(this.Ntt()||this.Ett()||!this.b9)&&(this.Ntt()||this.Ett()||this.b9?this.Ntt()?this.wV():this.Ett()&&(this.r9.i8(this),this.Rtt()):this.Rtt()),this.Ptt(),this.ktt(this.DO(),!1,!0,!0,s),this.Ftt(),this.S6&&this.Pj().mj(),this.jtt()}Ott(t){pg.te(t)||(t=this.xV()),t<0?this.p9=0:t>=this.xV()?this.p9=this.xV():this.p9=t}ztt(t){pg.te(t)||(t=this.xV()),t<0?this.p9=0:t>=this.xV()?this.p9=this.xV():this.p9=t;for(const t of this.o9)t.Btt()}jtt(){pg.Nj.ptt&&this.constructor===pg.x6&&(pg.Nj.ptt.Gj.mtt(this),this.r9.lW(pg.Nj.ptt.Gj.$tt),this.r9.lW(pg.Nj.ptt.Gj.Utt),this.r9.lW(pg.Nj.ptt.Gj.Wtt),pg.Nj.ptt.Gj.Stt())}Ytt(){if(this.IV())return!0;if(this.EV()&&1===this.y9){if(this.att()){if(this.DO()>=this.xV())return!1}else if(this.DO()<=0)return!1}else if(!this.IV()&&!this.EV())if(this.att()){if(this.DO()>=this.xV())return!1}else if(this.DO()<=0)return!1;return!0}SV(){this.yV()||this.Ytt()&&this.Play(!0)}Play(t=!1){return!this.yV()&&!this.Ett()&&(this.Ntt()&&this.Gtt()?this.Qtt():!this.Ntt()&&!!(this.y8()||t||this.Ltt())&&this.Vtt())}Qtt(){return this.Att(!1),this.r9.q6(this),this.r9.X6(this),this.AV(),!0}Vtt(){return this.Att(!1),this.r9.X6(this),this.AV(),!0}wV(t=!1){this.yV()||(this._tt(t),this.r9.n8(this),this.y8()&&this.e8())}jf(t=!0,s=!1){if(this.yV())return;if(!this.Ntt()&&this.Ett())return this.r9.i8(this);if(this.y8())return;this.wV(!0),this.att()?this.Ott(0):this.Ott(this.xV());const i=this.DO();this.Ptt(),s?this.Jtt(i):this.ktt(i,!1,!1,!0),t&&this.jtt(),this.Ftt(),this.S6&&t&&this.Pj().mj()}Htt(){this.jf(!1,!0)}Jtt(t){this.ktt(t,!1,!1,!0,NaN,!1,!0)}a6(){return!!this.yV()||!(!this.Pj().j4()&&this.qtt())&&(this.r9.r8(this),this.Pj().j4()||this.Htt(),!0)}Rtt(){this.l8(!0)}a8(){this.l8(!1,!0),this.K6(!1),this.t8(!1)}l8(t=!1,s=!1){if(!this.o8()||s)if(t){this.N9=!1,this.b9=!0,this.D9=!0,this.Ptt();for(const t of this.o9)t.l8();this.Ftt()}else if(this.K6(!0),this.t8(!1),this.dtt(),this.y8()){this.I9=-1,0!==this.y9&&(this.g9=Math.abs(this.g9)),this.y9=0,this.M9=-1,this.w9=1,this.v9=!1,this.N9=!1,this.b9=!0,this.D9=!0,this.att()?this.Ott(0):this.Ott(this.xV()),this.Ptt();for(const t of this.o9)t.l8();this.Ftt()}else{-1!==this.M9&&(this.y9=this.M9),this.D9=!0,this.N9=!1,this.Ptt();for(const t of this.o9)t.Ztt();this.Ftt()}}u8(){return this.S6}Ptt(){this.R9=0;for(const t of this.o9)t.S_()&&(this.R9=1)}Ftt(){this.S6=0;for(const t of this.o9)t.Xtt(),0===this.S6&&1===t.u8()&&(this.S6=1),this.l9||1!==t.Ktt()||(this.l9||(this.l9=[]),this.u9=this.l9.push(t))}d8(t,s,i){if(this.htt()){if(0===t&&0===this._9)return;this._9=t,t=i}else{if(0===i&&0===this._9)return;this._9=i,t=i,s=1}const e=this.p9+this.m9,n=e+t*s*this.g9,r=this.h9.tst;n<0?(this.p9=0,this.m9=-n):n>=r?(this.p9=r,this.m9=this.p9-n):(this.p9=n,this.m9=0);let h=!1,o=!1;const a=this.IV(),l=this.EV();let u;a||l?a&&!l?this.g9>0?this.p9>=r&&(this.ztt(0),o=!0):this.p9<=0&&(this.ztt(r),o=!0):!a&&l?this.g9>0?this.p9>=r&&(this.Ott(r),this.NV(-1*this.DV()),o=!0,1===this.y9?this.w9<this.UQ()?(this.w9++,this.y9=0):h=!0:0===this.y9&&(this.y9=1)):this.p9<=0&&(this.Ott(0),this.NV(-1*this.DV()),o=!0,1===this.y9?this.w9<this.UQ()?(this.w9++,this.y9=0):h=!0:0===this.y9&&(this.y9=1)):a&&l&&(this.g9>0?this.p9>=r&&(this.Ott(r),this.NV(-1*this.DV()),o=!0,this.y9++,pg.wrap(this.y9,0,2)):this.p9<=0&&(this.Ott(0),this.NV(-1*this.DV()),o=!0,this.y9++,pg.wrap(this.y9,0,2))):this.g9>0?this.p9>=r&&(this.w9<this.UQ()?(this.w9++,this.ztt(0),o=!0):(this.Ott(r),h=!0)):this.p9<=0&&(this.w9<this.UQ()?(this.w9++,this.ztt(r),o=!0):(this.Ott(0),h=!0));const c=this.a9;if(h){for(u=0;u<c;u++)this.o9[u].sst();return this.wV(!0),void this.Ttt()}const f=this.u9;for(u=0;u<f;u++)this.l9[u].ist();if(1===this.R9)for(u=0;u<c;u++){const t=this.o9[u],s=t.est();this.p9-s<0&&e-s>0?(this.p9=s<0?0:s>=r?r:s,t.wc(s,!0,!1,o,this.D9,!1)):t.wc(this.p9,!0,!1,o,this.D9,!1)}else for(u=0;u<c;u++)this.o9[u].wc(this.p9,!0,!1,o,this.D9,!1);if(!this.IsPlaying()&&this.P9){const t=this.P9.DO()+this.P9.rst().nst().est(),s=this.p9-t;this.p9-=s,0!==this.m9&&(this.m9-=s),this.P9=null}for(u=0;u<f;u++)this.l9[u].hst();this.D9&&(this.D9=!1)}ost(t){this.P9=t}ast(){return this.P9}ktt(t,s=!1,i=!1,e=!1,n=NaN,r=!1,h=!1){for(const t of this.o9)t.ist();for(const r of this.o9){let o=t;if("number"==typeof n&&!isNaN(n)){const t=this.DO()-r.est(),s=n-r.est();t<0&&s>0&&(o=r.est(),this.Ott(o))}r.wc(o,s,i,e,this.D9,h)}for(const t of this.o9)t.hst();this.D9&&r&&(this.D9=!1)}lst(){const t=this.h9.W9().ust(),s=pg.Y9._C(this,t);return this.a9=this.o9.push(s),s}A6(){if(!this.yV())for(const t of this.o9)t.cst()}S8(){for(const t of this.o9)t.S8()}fst(){for(const t of this.o9)t.dst()}pst(t,s,i){if(s){if("number"==typeof i&&i>=0){const t=this.o9[i];if(!t)return;return t.mst(s),void this.r9.F6(s.GU(),this)}for(const i of this.o9)if(i.q9()){if(t){if(i.VV()!==t)continue;i.mst(s),this.r9.F6(s.GU(),this);break}if(!i.gst()){i.mst(s),this.r9.F6(s.GU(),this);break}}}}U6(t,s){for(const i of this.o9)if(i.q9())if(s){if(s===i.VV()&&t===i.UV())return!0}else if(t===i.UV())return!0;return!1}g8(){return this.o9.some((t=>!t.q9()||t.yst()))}qtt(){return this.o9.some((t=>{if(t.q9()){if(!t.yst())return!1;const s=t.GU();return!!s&&s.n0()}return!1}))}HV(t){for(const s of this.B8())for(const i of s.Mst())if(i.wst()===t)return i}Sst(t){for(const s of this.o9)if(t===s.UV())return s;return null}Tst(t){let s=t?t.split(" "):[];const i=new Set(s.map((t=>t.toLowerCase().trim())));s=[...i.values()];for(const t of this.B8())for(const i of t.bst())if(s.every((t=>i.vst(t))))return i}j6(){const t=[];for(const s of this.B8())t.push(s.GU());return t.filter((t=>t))}g6(){for(const t of this.B8())t.g6()}s3(){return{tracksJson:this.xst(),name:this.Hn,playheadTime:this.DO(),playbackRate:this.g9,pingPongState:this.y9,resumePingPongState:this.M9,currentRepeatCount:this.w9,isPlaying:this.S9,isScheduled:this.T9,initialStateSet:this.b9,finishedTriggers:this.N9,complete:this.v9,released:this.x9,markedForRemoval:this.C9,completedTick:this.I9,implicitPause:this.G9,isTemplate:this.E9,tags:this.A9.join(" "),stringTags:this.L9,tagsChanged:this.O9,firstTick:this.D9}}i3(t){t&&(this.Cst(t.tracksJson),this.Hn=t.name,this.p9=t.playheadTime,this.g9=t.playbackRate,this.y9=t.pingPongState,this.M9=t.hasOwnProperty("resumePingPongState")?t.resumePingPongState:-1,this.w9=t.currentRepeatCount,this.S9=!!t.isPlaying,this.T9=!!t.isScheduled,this.b9=!!t.initialStateSet,this.N9=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.v9=!!t.complete,this.x9=!!t.released,this.C9=!!t.markedForRemoval,this.I9=t.completedTick,this.G9=!!t.implicitPause,this.E9=!!t.isTemplate,this.A9=t.tags.split(" "),this.L9=t.stringTags,this.O9=!!t.tagsChanged,this.D9=!!t.firstTick)}xst(){return this.o9.map((t=>t.s3()))}Cst(t){this.fst(),t.forEach(((t,s)=>{this.o9[s].i3(t)})),this.o9.filter((t=>t.yst()))}static ftt(t){const s=this._V();return""===t?1===s.length&&""===s[0]:s.map((t=>t.toLowerCase())).includes(t.toLowerCase())}static utt(t){if(pg.xe(t))return t.slice(0);if(pg.le(t))return t.split(" ");throw new Error("invalid tags")}Ist(){return this.k9||(this.k9=pg.Yn(self.kV,this)),this.k9}}}{const yg=self.Gs,Mg=0,wg=1,Sg=2;yg.Y9=class extends yg.Un{constructor(t,s){super(),this.F8=t,this.Gst=s,this.Est=s.W9(),this.Nst=NaN,this.Dst=NaN,this._st=null,this.Ast=null,this.Lst=!1,this.p_=s.est()>0,this.Ost=!1,this.Rst=!1,this.Pst=NaN,this.kst=null,this.Fst=this.Gst.rst().jst(),this.zst=[],this.Bst(),this.$st=0,this.S6=0,this.Ust=0}static _C(t,s){return yg.Yn(yg.Y9,t,s)}Qn(){this.Fst=null;for(const t of this.zst)t.Qn();yg.Sh(this.zst),this.zst=null,this.F8=null,this._st=null,this.Ast=null,this.Gst=null,this.kst=null}Bst(){for(const t of this.Gst.Yst().Wst())this.zst.push(yg.Qst._C(this,t))}cst(){for(const t of this.zst)t.cst()}S8(){for(const t of this.zst)t.S8();this._st=null,this.Ast=null}Vst(){return this.F8}Pj(){return this.F8.Pj()}bst(){return this.Fst||(this.Fst=this.Gst.rst().jst()),this.Fst}Mst(){return this.zst}HV(t){for(let s=0;s<this.zst.length;s++){const i=this.zst[s];if(i.wst()===t)return i}}Jst(){this._st||this.UV()}Hst(){return!!this._st&&!this._st.AJ()}yst(){if(!this.q9())return!1;const t=this.qst(),s=this.Pj().ej(t);return!!s&&!s.AJ()}GU(){if(!this.q9())return;const t=this.Zst();return-1!==t?this.Pj().JK(t):void 0}Xst(){return this.F8.B8().indexOf(this)}dst(){this._st=null,this.Nst=NaN,this.Ast=null,this.Dst=NaN,this.Lst=!0}gst(){return!!this._st}UV(){if(this.Lst)return;if(this._st&&this.Hst())return this._st;const t=this.qst();return this._st=this.Pj().ej(t),this._st}mst(t){if(this.Lst=!1,this._st!==t){this.S8(),this._st=t,this.Dst=t.GU().ek(),this.Nst=t.zU(),this.Ast=t.aj();for(const s of this.Kst()){const i=s.tit,e=s.sit;switch(i.iit()){case"instance-variable":{e.eit();const i=t.GU(),n=i.nit(s.name),r=i.rit(n),h=i.hit(n);r===s.name&&h===s.type&&e.oit(n);break}case"behavior":{const i=s.CQ,n=this.GU(),r=t.GU(),h=e.GQ(r);if(i&&h){const t=i.Nc();n.ait(t),r.ait(t),e.eit(),e.lit(h.I0())}break}}}}}*Kst(){for(const t of this.zst){const s=t.J9(),i=this.GU(),e={tit:t,sit:s};switch(t.iit()){case"world-instance":e.uit=t.wst();break;case"instance-variable":{const t=s.eit();e.name=i.rit(t),e.type=i.hit(t);break}case"effect":{const t=i.WB(),n=s.cit(t);e.fit=n;break}case"behavior":{const t=s.GQ(i);e.CQ=t;break}case"plugin":e.MB=i.wB()}yield e}}aj(){if(this.Ast&&this.Hst())return this.Ast;const t=this.UV();return t&&(this.Ast=t.aj()),this.Ast}nst(){return this.Gst}qst(){return isNaN(this.Nst)?this.Gst.qst():this.Nst}dit(t){this.Gst.dit(t)}ttt(){return this.Gst.ttt()}stt(t){this.Gst.stt(t)}t7(){return this.Gst.t7()}VV(){return this.Gst.VV()}est(){return this.Gst.est()}pit(){return this.Gst.pit()}mit(t){this.Gst.mit(t)}itt(t){this.Gst.itt(t)}$V(t){for(const s of this.bst())s.$V(t);for(const s of this.Mst())s.$V(t)}git(){return this.Gst.git()}yit(t){this.Gst.yit(t)}Zst(){return isNaN(this.Dst)?this.Gst.Zst():this.Dst}Mit(t){this.Gst.Mit(t)}wit(t){this.Gst.wit(t)}Sit(){const t=this.UV();return t&&t.yQ().Tit()?t.yQ().Sit():this.Gst.Sit()}bit(t){this.Gst.bit(t)}vit(){const t=this.UV();return t&&t.yQ().Tit()?t.yQ().vit():this.Gst.vit()}LI(){return this.Gst.LI()}Nc(){return this.Gst.Nc()}q9(){return 0===this.LI()}xit(){return 1===this.LI()}Cit(){return 2===this.LI()}Iit(){return this.$st}u8(){return this.S6}Ktt(){return this.Ust}S_(){return this.p_}Btt(){for(const t of this.zst)t.Btt()}l8(){if(this.Jst(),!this.Hst()&&this.q9())return;const t=this.Vst().att(),s=t?0:this.pit();for(const t of this.zst)t.l8(s),0===this.$st&&1===t.Iit()&&(this.$st=1),0===this.S6&&1===t.u8()&&(this.S6=1);this.Ust=0,this.zst.some((t=>t.Ktt()))&&(this.Ust=1),this.kst=t?this.Git(s):this.Eit(s),this.Ost=!1,this.Rst=!1,this.wc(s),this.Nit(this.kst)}Ztt(){if(this.Jst(),!this.Hst()&&this.q9())return;const t=this.F8.att(),s=this.F8.DO()-this.est();this.kst=t?this.Git(s):this.Eit(s);for(const t of this.zst)t.Ztt(s)}sst(){if(!this.Vst().y8()&&(this.Jst(),(this.Hst()||!this.q9())&&!this.p_)){const t=this.F8.DO();t>=this.est()+this.pit()?this.wc(this.pit(),!0,!1,!0,!1,!1,!0):t<=0&&this.wc(0,!0,!1,!0,!1,!1,!0)}}Xtt(){for(let t=0,s=this.zst.length;t<s;t++){const s=this.zst[t];s.Xtt(),0===this.$st&&1===s.Iit()&&(this.$st=1),0===this.S6&&1===s.u8()&&(this.S6=1)}}ist(){const t=this.zst.length;for(let s=0;s<t;s++)this.zst[s].ist()}wc(t,s=!1,i=!1,e=!1,n=!1,r=!1,h=!1){this._st||this.UV();const o=this._st&&!this._st.AJ(),a=0===this.Gst.Qc;if((o||!a)&&!(r&&a&&this.GU().n0()||(t-=this.est())<0)){this.Dit(t,s),this._it(t,s,n),!this.Vst().IsPlaying()&&this.Vst().ast()&&(t=this.Vst().ast().DO());for(let s=0,n=this.zst.length;s<n;s++)this.zst[s].wc(t,i,e,h);this.Ait(t,s),0!==this.$st&&(this.Ast||(this.Ast=this._st.aj()),this.Ast&&this.Ast.jW())}}hst(){const t=this.zst.length;for(let s=0;s<t;s++)this.zst[s].hst()}Dit(t,s){if(s&&this.p_&&!this.Ost){if(this.Vst().att()){if(t<0)return}else if(t>this.pit())return;for(const t of this.zst)t.l8();this.Ost=!0}}Ait(t,s){if(s&&this.p_&&!this.Rst)if(this.Vst().att()){if(t>=this.pit()){for(const t of this.zst)t.wc(this.pit(),!1,!0);this.Rst=!0}}else if(t<=0){for(const t of this.zst)t.wc(0,!1,!0);this.Rst=!0}}_it(t,s,i){if(i)return;if(!s)return;if(!yg.Nj.ptt)return;const e=this.Vst();if(e.att()){const s=this.kst.Q8(),i=this.kst.DO(),n=s?s.DO():e.xV();(t<=i||t>=n)&&(this.kst=this.Est.Lit(t,this.Gst),s&&this.Nit(this.kst))}else{if(!this.Est.Oit(t,this.Gst))return;this.kst||(this.kst=this.Est.Oit(t,this.Gst));const s=this.kst.Rit(),i=this.kst.DO(),e=s?s.DO():0;(t>=i||t<=e)&&(this.kst=this.Est.Oit(t,this.Gst),this.kst&&this.Nit(this.kst))}}Git(t){return this.Est.Pit(t,this.Gst)||this.Est.Lit(t,this.Gst)}Eit(t){return this.Est.Pit(t,this.Gst)||this.Est.Oit(t,this.Gst)}Nit(t){if(!yg.Nj.ptt)return;const s=this.Vst(),i=s.Q9();yg.Nj.ptt.Gj.mtt(s),yg.Nj.ptt.Gj.kit(t),i.lW(yg.Nj.ptt.Gj.Fit),i.lW(yg.Nj.ptt.Gj.Nit),s.IsPlaying()||s.ost(t),yg.Nj.ptt.Gj.Stt(s),yg.Nj.ptt.Gj.jit(t)}zit(){return this.Gst.rst().Bit()}$it(){const t=this.Gst.Yst().Uit(),s=yg.Qst._C(this,t);return this.zst.push(s),s}Wit(t){this.Gst.rst().Yit(t)}Qit(t){for(const s of this.zst)s.Qit(t)}Vit(){for(const t of this.zst)t.Vit()}Jit(){if(this.Jst(),this.Hst()||!this.q9())for(const t of this.zst)t.Jit()}Hit(){if(this.Jst(),!this.Hst()&&this.q9())return;let t=!1;for(const s of this.zst){const i=s.Hit();!t&&i&&(t=!0)}if(t){const t=this.zit();t.bV(this.Vst().DO()),t.$V("noease"),t.yit(!0),t.ltt("")}}g6(){isNaN(this.Pst)||this.qit(this.Pst),this.Pst=NaN}s3(){const t=this.UV(),s=t?t.zU():this.qst();return{propertyTracksJson:this.Zit(),lastKeyframeDataItemJson:this.Xit(),initialStateOfNestedSet:this.Ost,endStateOfNestedSet:this.Rst,instanceUid:s,cleared:this.Lst}}i3(t){if(t){this.Kit(t.propertyTracksJson),this.tet(t.lastKeyframeDataItemJson),this.Pst=t.instanceUid,this.Ost=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Ost=t.initialStateOfNestedSet),this.Rst=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.Rst=t.endStateOfNestedSet),this.Lst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const t of this.zst)0===this.$st&&1===t.Iit()&&(this.$st=1),0===this.S6&&1===t.u8()&&(this.S6=1);this.Ust=0,this.zst.some((t=>t.Ktt()))&&(this.Ust=1)}}Xit(){return this.Gst.rst().iet(this.kst)}Zit(){return this.zst.map((t=>t.s3()))}Kit(t){t.forEach(((t,s)=>{this.zst[s].i3(t)}))}qit(t){if(!yg.te(t))return;const s=this.Pj().ej(t);s&&this.Vst().pst(this.Gst.VV(),s,this.Xst())}tet(t){const s=this.Gst.rst();this.kst=s.eet(t)}}}{const Tg=self.Gs;Tg.Qst=class extends Tg.Un{constructor(t,s){super(),this.net=t,this.ret=s,this.het=s.Yst(),this.$st=0,this.S6=0,this.Ust=0,this.oet=this.J9(),this.aet=this.ret.uet().let(),this.cet=null,this.fet=null}static _C(t,s){return Tg.Yn(Tg.Qst,t,s)}Qn(){this.net=null,this.oet&&(this.oet.Qn(),this.oet=null),this.aet=null,this.ret=null,this.het=null}Iit(){return this.$st}u8(){return this.S6}Ktt(){return this.Ust}det(){return!!this.fet}pet(t){this.fet=t}met(){return this.fet}yet(){return this.net}Met(){return this.ret}Yst(){return this.het}Vst(){return this.net.Vst()}Pj(){return this.net.Pj()}UV(){return this.net.UV()}J9(){if(this.oet)return this.oet;let t;switch(this.ret.iit()){case"behavior":t=new Tg.Qst.wet(this);break;case"effect":t=new Tg.Qst.Tet(this),this.S6=1;break;case"instance-variable":t=new Tg.Qst.bet(this);break;case"plugin":t=new Tg.Qst.vet(this),this.S6=1;break;case"world-instance":t=new Tg.Qst.xet(this),this.S6=1,this.$st=1;break;case"value":t=new Tg.Qst.Cet(this);break;case"audio":t=new Tg.Qst.Iet(this)}return this.oet=t,this.oet}iit(){return this.ret.iit()}Get(t){this.ret.Get(t)}Eet(){return this.ret.Net()}Det(t){this.ret._et(t)}JV(){return this.J9().Aet()}wst(){return this.ret.Let()}Oet(t){this.ret.Ret(t)}Pet(){return this.ret.LI()}ket(t){this.ret.Fet(t)}jet(){return this.Yst().zet(this.ret).LI()}Bet(){return this.ret.Bet()}$et(t){this.ret.$et(t)}Uet(){return this.ret.Uet()}Wet(t){this.ret.Wet(t)}git(){return this.ret.git()}yit(t){this.ret.yit(t)}ttt(){return this.ret.ttt()}stt(t){this.ret.stt(t)}t7(){return this.ret.t7()}itt(t){this.ret.itt(t)}$V(t){for(const s of this.Yet())s.$V(t)}Qet(){return this.ret.Qet()}Yet(){return this.aet||(this.aet=this.ret.uet().let()),this.aet}Y8(){return this.ret.uet().Y8()}Vet(t){return this.het.Vet(t,this.ret)}Jet(t){return this.het.Jet(t,this.ret)}Het(t){let s,i=this.het.Vet(t,this.ret);return i?s=this.het.qet(t,this.ret):(i=this.het.Jet(t,this.ret),s=this.het.Zet(t,this.ret)),{start:i,end:s}}*Xet(){for(const t of this.Yet())yield t.a7()}*Ket(){for(const t of this.Yet())yield t.DO()}cst(){this.J9().cst()}S8(){this.J9().S8()}tnt(){return this.J9().tnt()}Btt(){this.J9().Btt()}l8(t){this.J9().l8(),this.cet=this.snt(t),this.Xtt()}Ztt(t){this.J9().Ztt(),this.cet=this.snt(t)}Xtt(){const t=this.yet();if(this.Ust=0,t.q9()){const s=this.Vst(),i=t.UV(),e=this.J9(),n=this.wst();if(e.int()){const t=s.V9(i,e,n,this);t&&t.length&&(this.Ust=1)}else this.Ust=0}}snt(t){const s=this.Vst();return this.het.Vet(t,this.ret)||(s.att()?this.het.Jet(t,this.ret):this.het.Zet(t,this.ret))}ist(){this.oet.ist()}wc(t,s=!1,i=!1,e=!1){let n,r,h=!1;if(s)n=this.het.Jet(t,this.ret);else{if(this.cet){const s=this.Vst(),i=this.cet.Q8(),e=this.cet.DO(),n=i?i.DO():s.xV();(t<=e||t>=n)&&(this.cet=this.het.Jet(t,this.ret),h=!0)}else this.cet=this.het.Jet(t,this.ret),h=!0;n=this.cet}n&&(r=n.Q8()),this.oet.wc(t,n,r,s,i,e,h)}ent(t){if(this.cet){const s=this.Vst(),i=this.cet.Q8(),e=this.cet.DO(),n=i?i.DO():s.xV();(t<=e||t>=n)&&(this.cet=this.het.Jet(t,this.ret))}else this.cet=this.het.Jet(t,this.ret);const s=this.cet,i=s.Q8();return this.oet.ent(t,s,i)}nnt(t,s,i){return this.oet.ent(t,s,i)}hst(){this.oet.hst()}static rnt(t,s){const i=s.Met();return s.het.Jet(t,i)}static hnt(t,s){const i=s.Met();return s.het.Zet(t,i)}ont(){const t=this.ret.uet().ant();return this.cet=null,t}Qit(t){this.cet=null,this.ret.uet().lnt(t)}Vit(){this.J9().Vit()}Jit(){if(this.J9().Jit()){const t=this.het.zet(this.ret),s=this.J9().tnt();t.unt(s)}}Hit(){const t=this.J9().Hit();return t&&this.cnt(),this.J9().fnt(),t}cnt(){const t=this.Vst().DO(),s=this.J9(),i=Tg.Qst.rnt(t,this),e=this.ont();e.Fet(i.LI()),e.bV(t),e.$V(i.dnt()),e.yit(!0),e.pnt(s.mnt()),e.unt(s.tnt())}s3(){return{sourceAdapterJson:this.J9().s3()}}i3(t){t&&this.J9().i3(t.sourceAdapterJson)}}}{const bg=self.Gs,vg=bg.Qst;vg.xet=class{constructor(t){this.gnt=t,this.ynt=null,this.Mnt()}Qn(){this.ynt&&(this.ynt.Qn(),this.ynt=null),this.gnt=null}int(){return this.ynt.int()}HV(){return this.gnt}cst(){this.ynt&&this.ynt.cst()}S8(){this.ynt&&this.ynt.S8()}Mnt(){return this.ynt||(this.ynt=this.wnt()),this.ynt}eit(){}ek(){return this.eit()}Snt(){}Btt(){this.Mnt().Btt()}l8(){this.Mnt().l8()}Ztt(){this.Mnt().Ztt()}ist(){this.ynt.Tnt()}wc(t,s,i,e,n,r,h){let o;switch(this.gnt.jet()){case"numeric":o=vg.bnt.wc(t,s,i,this.gnt);break;case"angle":o=vg.vnt.wc(t,s,i,this.gnt);break;case"boolean":o=vg.xnt.wc(t,s,i,this.gnt);break;case"color":o=vg.Cnt.wc(t,s,i,this.gnt);break;case"text":o=vg.Int.wc(t,s,i,this.gnt)}this.ynt.Gnt(t,o,s,i,e,n,r,h)}ent(t,s,i){switch(this.gnt.jet()){case"numeric":return vg.bnt.wc(t,s,i,this.gnt);case"angle":return vg.vnt.wc(t,s,i,this.gnt);case"boolean":return vg.xnt.wc(t,s,i,this.gnt);case"color":return vg.Cnt.wc(t,s,i,this.gnt);case"text":return vg.Int.wc(t,s,i,this.gnt)}}hst(){this.ynt.Ent()}Vit(){this.Mnt().Nnt()}fnt(){this.Mnt().fnt()}tnt(){return this.Mnt().tnt()}Jit(){return this.Mnt().Jit()}Hit(){return this.Mnt().Hit()}mnt(){const t=this.gnt,s=t.yet().Vst().DO(),i=vg.rnt(s,t),e=i.Q8();switch(t.jet()){case"numeric":return vg.bnt.wc(s,i,e,t);case"angle":return vg.vnt.wc(s,i,e,t);case"boolean":return vg.xnt.wc(s,i,e,t);case"color":return vg.Cnt.wc(s,i,e,t);case"text":return vg.Int.wc(s,i,e,t)}}wnt(){const t=this.gnt;switch(t.Qet()?t.jet():""){case"combo":case"boolean":case"text":case"string":return new vg._nt.Dnt(this);case"numeric":case"number":case"angle":return"combo"===this.gnt.Pet()?new vg._nt.Dnt(this):new vg._nt.Ant(this);case"color":case"offsetColor":return new vg._nt.Lnt(this);default:return new vg._nt.Ant(this)}}s3(){return{propertyAdapterJson:this.Mnt().s3()}}i3(t){t&&this.Mnt().i3(t.propertyAdapterJson)}}}{const xg=self.Gs,Cg=0;class Ig extends xg.Qst.xet{constructor(t){super(t),this.Ont=NaN}eit(){return this.gnt.Met().Net()[0]}ek(){return this.Ont?this.Ont:super.ek()}Snt(){return this.gnt.yet().UV()}oit(t){this.gnt.Met().Net()[0]!==t&&(this.Ont=t)}wc(t,s,i,e,n,r,h){this.Mnt().Rnt(s.Aet())&&super.wc(t,s,i,e,n,r,h)}ent(t,s,i){if(this.Mnt().Rnt(s.Aet()))return super.ent(t,s,i)}s3(){return Object.assign(super.s3(),{index:this.Ont})}i3(t){t&&(super.i3(t),this.Ont=t.index)}}xg.Qst.bet=Ig}{const Gg=self.Gs,Eg=0,Ng=1,Dg=2;class _g extends Gg.Qst.xet{constructor(t){super(t),this.VX=NaN}eit(){return this.gnt.Met().Net()[1]}Snt(){const t=this.gnt.Met(),s=this.gnt.yet(),i=this.VX?this.VX:t.Net()[0],e=s.UV(),n=e.Pnt(i);return e.knt()[n].yQ()}GQ(t){const s=this.gnt.Met().Net()[2];return t.Fnt(s)}lit(t){this.gnt.Met().Net()[0]!==t&&(this.VX=t)}wc(t,s,i,e,n,r,h){const o=this.gnt.yet().UV();this.GQ(o.GU())&&super.wc(t,s,i,e,n,r,h)}ent(t,s,i){const e=this.gnt.yet().UV();if(this.GQ(e.GU()))return super.ent(t,s,i)}s3(){return Object.assign(super.s3(),{sid:this.VX})}i3(t){t&&(super.i3(t),this.VX=t.sid)}}Gg.Qst.wet=_g}{const Ag=self.Gs,Lg=0,Og=1;class Rg extends Ag.Qst.xet{constructor(t){super(t)}eit(){return this.gnt.Met().Net()[1]}Snt(){const t=this.gnt.yet().aj().kW(),s=t.WB(),i=this.cit(s).ek();return t.LQ(i)?t.jnt(i):null}cit(t){const s=this.gnt.Met().Net()[0];return t.znt(s)}wc(t,s,i,e,n,r,h){this.Bnt()&&super.wc(t,s,i,e,n,r,h)}ent(t,s,i){if(this.Bnt())return super.ent(t,s,i)}Bnt(){const t=this.gnt.yet().aj().kW(),s=t.WB(),i=this.cit(s);if(!i)return;const e=i.ek();return t.LQ(e)}}Ag.Qst.Tet=Rg}{const Pg=self.Gs,kg=0;class Fg extends Pg.Qst.xet{constructor(t){super(t)}eit(){return this.gnt.Met().Net()[0]}Snt(){return this.gnt.yet().UV().yQ()}wc(t,s,i,e,n,r,h){const o=this.gnt.yet();o.GU().wB()===o.UV().GU().wB()&&super.wc(t,s,i,e,n,r,h)}ent(t,s,i){const e=this.gnt.yet();if(e.GU().wB()===e.UV().GU().wB())return super.ent(t,s,i)}$nt(){const t=this.gnt.yet().GU().wB();if(Pg.Nj.Unt&&t instanceof Pg.Nj.Unt&&("initial-frame"===this.gnt.wst()||"initial-animation"===this.gnt.wst()))switch(this.gnt.t7()){case"relative":case"absolute":return null}}}Pg.Qst.vet=Fg}{const jg=self.Gs;class zg extends jg.Qst.xet{constructor(t){super(t),this.Wnt=0,this.Ynt=!1}int(){return!1}l8(){const t=this.gnt.Yst();let s=this.gnt.Met();s=t.zet(s),this.Wnt=s.a7()}Ztt(){}Aet(){return this.Ynt||this.gnt.wc(0),this.Wnt}wc(t,s,i,e,n,r,h){this.Wnt=jg.Qst.bnt.wc(t,s,i,this.gnt),this.Ynt=!0}Vit(){}fnt(){}tnt(){return this.Wnt}Jit(){return!1}Hit(){return!1}s3(){return{value:this.Wnt,init:this.Ynt}}i3(t){t&&(this.Wnt=t.value,this.Ynt=!t.hasOwnProperty("init")||t.init)}}jg.Qst.Cet=zg}{const Bg=self.Gs,$g=0,Ug=0,Wg=1,Yg=1,Qg=2,Vg=3;class Jg extends Bg.Qst.xet{constructor(t){super(t),this.Qnt=!1,this.Vnt=null,this.Jnt=null,this.Hnt=null,this.F8=this.gnt.Vst(),this.net=this.gnt.yet(),this.qnt=this.gnt.Eet(),this.Znt=this.qnt[0],this.Xnt=this.qnt[1],this.qnt[3]?this.Knt=this.qnt[3]:this.Knt=Math.random().toString(36).slice(2),this.trt=NaN,this.srt=NaN,this.irt=NaN,this.ert=null,this.nrt()}Qn(){super.Qn(),this.Vnt=null,this.Jnt=null,this.Hnt=null,this.F8=null,this.net=null,this.qnt=null,this.Znt=null,this.ert=null}nrt(){if(!self.Gs.Nj.Audio)return;const t=this.gnt.Pj().rrt(self.Gs.Nj.Audio);t&&(this.Vnt=t.gB().yQ()),this.Jnt=self.Gs.Nj.Audio.hrt,this.Hnt=self.Gs.Nj.Audio.ort}art(){if(this.ert)return;const t=this.gnt.yet().HV("audioSource");t&&(this.ert=t.J9())}lrt(){const t=this.gnt.yet().HV("volume");return t?t.J9().srt:this.srt}cst(){super.cst(),this.Qnt=!1,this.Vnt&&(this.Hnt&&(this.trt=this.Hnt.urt.call(this.Vnt,this.Knt),this.srt=this.Hnt.crt.call(this.Vnt,this.Knt)),this.Jnt&&this.Jnt.wV.call(this.Vnt,this.Knt))}frt(){return this.Knt}drt(){return this.irt}prt(t){this.irt=t}l8(){super.l8(),this.trt=NaN,this.Qnt=!1}Ztt(){super.Ztt();const t=this.gnt.Vst().DO();switch(this.trt=t-this.Xnt,this.gnt.wst()){case"audioSource":break;case"volume":this.srt=this.gnt.ent(t)}this.Qnt=!1}wc(t,s,i,e,n,r,h){if(this.Vnt)switch(this.gnt.wst()){case"audioSource":{if(!this.F8.att())return;if(e)return void(this.Jnt&&this.Jnt.wV.call(this.Vnt,this.Knt));if(t<this.Xnt)return void(this.Qnt=!1);const s=this.Hnt.mrt.call(this.Vnt,this.Knt),i=this.F8.DV();if(i!==s&&this.Jnt.NV.call(this.Vnt,this.Knt,i),this.Qnt)return;if(!this.gnt.Vst().IsPlaying())return;if(this.Qnt=!0,isNaN(this.trt)){const s=self.performance.now(),i=t-this.Xnt;if("suspended"===this.Vnt.grt())return void(this.Qnt=!1);const e=i+(self.performance.now()-s)/1e3;if(this.Jnt){let t=this.drt();isNaN(t)?(this.prt(0),t=0):this.prt(t),this.Jnt.yrt.call(this.Vnt,this.Znt,t,this.Knt,e)}}else{const t=this.trt;this.trt=NaN;const s=this.lrt();if(this.srt=NaN,"suspended"===this.Vnt.grt())return void(this.Qnt=!1);this.Jnt&&(this.prt(s),this.Jnt.yrt.call(this.Vnt,this.Znt,s,this.Knt,t))}break}case"volume":this.art(),super.wc(t,s,i,e,n,r,h)}}ent(t,s,i){if(this.Vnt)switch(this.gnt.wst()){case"audioSource":return;case"volume":return this.art(),super.ent(t,s,i)}}Mrt(t,s){return this.ert?this.ert.drt():0}wrt(t,s,i,e){this.ert&&this.ert.prt(this.Mrt()+s),this.Jnt&&this.ert&&this.Jnt.prt.call(this.Vnt,this.ert.frt(),this.ert.drt())}Srt(t,s,i){this.ert&&this.ert.prt(s),this.Jnt&&this.ert&&this.Jnt.prt.call(this.Vnt,this.ert.frt(),this.ert.drt())}Trt(){return!0}s3(){return{audioPlaybackStarted:this.Qnt,audioTag:this.Knt,pauseTime:this.trt,pauseVolume:this.srt,volume:this.irt}}i3(t){t&&(this.Qnt=t.audioPlaybackStarted,this.Knt=t.audioTag,this.trt=t.pauseTime,this.srt=t.pauseVolume,this.irt=t.volume,this.nrt())}}Bg.Qst.Iet=Jg}{const Hg=self.Gs;Hg.Qst._nt=class{constructor(t){this.oet=t,this.gnt=t.HV(),this.Ast=this.gnt.yet().aj(),this.brt=this.gnt.wst(),this.vrt=!1,this.xrt=null,this.Crt=null}Qn(){this.oet=null,this.gnt=null,this.Ast=null,this.xrt=null,this.Crt=null}int(){return!1}cst(){}S8(){this.Ast=null,this.xrt=null,this.Crt=null}J9(){return this.oet}HV(){return this.gnt}aj(){return this.Ast||(this.Ast=this.gnt.yet().aj()),this.Ast}Irt(t){this.vrt=!!t}Grt(){return this.vrt}Btt(){}l8(){}Ztt(){}Nnt(){this.xrt=this.tnt()}fnt(){this.xrt=null}tnt(){}Jit(){}Hit(){}Rnt(t){return typeof this.Ert()==typeof t}Tnt(){}Gnt(t,s,i,e,n,r,h,o){}Ent(){}Nrt(){return this._rt((()=>{const t=this.gnt.Met();return this.gnt.Yst().zet(t)}),(()=>{const t=this.gnt.Met();return this.gnt.Yst().Art(t)})).Drt()}Lrt(){const t=this.gnt.Vst().DO()-this.gnt.yet().est();return this._rt((()=>{const s=this.gnt.Met();return this.gnt.Yst().Jet(t,s)}),(()=>{const s=this.gnt.Met(),i=this.gnt.Yst();return i.Zet(t,s)||i.Art(s)})).Drt()}_rt(t,s){return this.gnt.Vst().att()?t():s()}Ort(t,s){return"relative"===this.gnt.t7()?t():s()}Rrt(t,s){return this.Grt()?(this.Irt(!1),t()):s()}Prt(t){}krt(){return this.oet.ek()}Frt(){return this.Crt||(this.Crt=this.oet.Snt()),this.Crt}jrt(t,s,i,e,n,r){switch(this.gnt.iit()){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return n();case"audio":return r()}}s3(){return{firstAbsoluteUpdate:this.vrt,saveState:this.xrt}}i3(t){t&&(this.vrt=t.firstAbsoluteUpdate,this.xrt=t.saveState)}zrt(t,s=!1){const i=[];for(const e of t){const t=e.yet().est();for(const n of e.Yet())s&&0===n.DO()?i.push({time:t+n.DO(),value:n.Drt()}):s||i.push({time:t+n.DO(),value:n.Drt()})}return i.sort(((t,s)=>t.time-s.time))}Brt(t,s,i){return this.$rt(s,i)}$rt(t,s){for(let i=s.length-1;i>=0;i--)if(s[i].time<=t)return s[i];return null}}}{const qg=self.Gs,Zg=new Map,Xg=[0,0,0];class Kg extends qg.Qst._nt{constructor(t){super(t)}Btt(){}l8(){}Ztt(){}tnt(){const t=this.gnt.iit(),s=this.Frt(),i=this.krt();switch(t){case"behavior":case"plugin":return this.Urt(s.Wrt(i));case"effect":return this.Urt(s[i]);case"world-instance":return this.Urt(this.Ert())}}Jit(){const t=this.Nrt();return!this.Yrt(t,this.Ert())}Hit(){return!qg.ee(this.xrt)&&!this.Yrt(this.xrt,this.Ert())}Yrt(t,s){return t=this.Qrt(t),s=this.Qrt(s),t.Yo(s)}Nrt(){const t=super.Nrt();return this.Qrt(t)}Lrt(){const t=super.Lrt();return this.Qrt(t)}Prt(t){}Urt(t){return qg.ke(t,qg.xo)?t.toArray().slice(0,3):t.slice(0,3)}Qrt(t){return qg.ke(t,qg.xo)?t:new qg.xo(t[0],t[1],t[2],1)}Rnt(t){return!0}int(){return!0}Tnt(){const t=this.gnt.Vst(),s=this.gnt.UV(),i=this.gnt.J9(),e=t.V9(s,i,this.brt,this.gnt);if(e&&e.length>1){Zg.has(s)||Zg.set(s,new Map);const t=Zg.get(s),i=this.gnt.iit();t.has(i)||t.set(i,new Map);const e=t.get(i);e.has(this.brt)||e.set(this.brt,{Vrt:!1,color:new qg.xo(0,0,0,1)})}}Jrt(t,s,i){const e=Zg.get(t).get(s).get(i);return e.Vrt=!0,e.color}Gnt(t,s,i,e,n,r,h,o){const a=this.gnt.Vst(),l=this.gnt.yet(),u=this.gnt.UV(),c=this.gnt.J9(),f=this.gnt.iit(),d=this.brt,p=a.V9(u,c,d,this.gnt);if(p&&p.length>1){const t=this.zrt(p,!0),i=this.Brt(a,a.DO(),t);if(i){const t=l.est(),e=i.time-t;if(0===e)this.Jrt(u,f,this.brt)._o(s[0],s[1],s[2]);else{if(e<0)return;const t=s[0],i=s[1],n=s[2],r=this.gnt.wc(e,!1,!0),h=qg.xo.ba(t,r[0]),o=qg.xo.ba(i,r[1]),a=qg.xo.ba(n,r[2]);this.Jrt(u,f,this.brt)._o(h,o,a)}}}else this.Hrt(s[0],s[1],s[2])}Ent(){const t=this.gnt.UV();if(!Zg.has(t))return;const s=Zg.get(t),i=this.gnt.iit();if(!s.has(i))return;const e=s.get(i);if(!e.has(this.brt))return;const n=e.get(this.brt),r=n.Vrt,h=n.color;r&&this.Hrt(h.Fo(),h.jo(),h.zo()),0===e.size&&s.delete(i),0===s.size&&Zg.delete(t)}Ert(){const t=this.gnt.iit(),s=this.Frt(),i=this.krt();switch(t){case"behavior":case"plugin":return this.Qrt(s.Wrt(i));case"effect":return s[i].clone();case"world-instance":return this.aj().oY().clone()}}Hrt(t,s,i){const e=this.gnt.iit(),n=this.Frt(),r=this.krt();switch(e){case"behavior":case"plugin":Xg[0]=t,Xg[1]=s,Xg[2]=i,n.qrt(r,Xg);break;case"effect":n[r].Do(t,s,i);break;case"world-instance":this.aj().Zrt(t,s,i)}}s3(){}i3(t){}}qg.Qst._nt.Lnt=Kg}{const ty=self.Gs,sy=ty.Qst;class iy extends ty.Qst._nt{constructor(t){super(t)}Btt(){}l8(){}Ztt(){}tnt(){return this.Ert()}Jit(){return this.Nrt()!==this.tnt()}Hit(){return!ty.ee(this.xrt)&&this.xrt!==this.tnt()}int(){return!1}Gnt(t,s,i,e,n,r,h,o){const a=this.gnt,l=a.yet(),u=a.iit(),c=a.Vst(),f=l.UV(),d=a.J9(),p=this.brt,m=c.V9(f,d,p,a);if(m&&m.length>1){const i=this.zrt(m),e=t+l.est(),n=this.Brt(c,e,i);n&&(s=n.value)}switch(a.jet()){case"numeric":if(!sy.bnt.Xrt(this.krt(),this.Frt(),s,u))return;break;case"angle":if(!sy.vnt.Xrt(this.krt(),this.Frt(),s,u))return;break;case"boolean":if(!sy.xnt.Xrt(this.krt(),this.Frt(),s,u))return;break;case"color":if(!sy.Cnt.Xrt(this.krt(),this.Frt(),s,u))return;break;case"text":if(!sy.Int.Xrt(this.krt(),this.Frt(),s,u))return}this.Hrt(s)}Ert(){const t=this.gnt.iit(),s=this.Frt(),i=this.krt();switch(t){case"behavior":case"plugin":return s.Wrt(i);case"effect":return s[i];case"instance-variable":return s.Krt(i)}}Hrt(t){const s=this.gnt.iit(),i=this.Frt(),e=this.krt();switch(s){case"behavior":case"plugin":i.qrt(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.tht(e,t)}}}ty.Qst._nt.Dnt=iy}{const ey=self.Gs,ny=ey.Qst._nt,ry=new Map,hy=(t,s,i,e,n,r=!1,h=null,o=null)=>{ry.set(t,{sht:s,iht:i,eht:e,round:n,nht:r,init:h,reset:o})};hy("offsetX",((t,s,i,e)=>{"relative"===e.gnt.t7()?t.rht(s,i.Vst().ntt()):t.rht(s)}),((t,s)=>t.Yb(s)),(t=>t.Wb()),!0),hy("offsetY",((t,s,i,e)=>{"relative"===e.gnt.t7()?t.hht(s,i.Vst().ntt()):t.hht(s)}),((t,s)=>t.Jb(s)),(t=>t.Vb()),!0),hy("offsetWidth",((t,s,i,e,n)=>{if(0===s)return;const r="relative"===e.gnt.t7(),h=1===e.oht.LI();if((r||h)&&t.OY()&&t.BY()){if(isNaN(e.aht)){const s=[];let n=t.TY();for(;n;)s.push(n),n=n.TY();s.reverse();const r=(t,s)=>s.Vst().Sst(t.UV()),o=(t,s)=>{const i=r(t,s);if(i)return i.Sit();const e=t.UV().yQ();return e.Tit()?e.Sit():t.uht().lht()},a=(t,s,i,e=0)=>{const n=r(t,s);if(!n)return e;const h=n.HV(i);if(!h)return e;const o=h.Met().uet();if(!o)return e;const a=o.Art();return a?a.Aet():e};let l;if(h)l=s[s.length-1].$g();else{let t=s[0];l=t.uht().lht()*t.uht().cht(),l+=a(t,i,"offsetWidth"),l+=o(t,i)*a(t,i,"offsetScaleX");for(let e=1;e<s.length;e++)t=s[e],l*=t.uht().cht(),l+=a(t,i,"offsetWidth"),l+=o(t,i)*a(t,i,"offsetScaleX")}e.aht=0===l?Number.EPSILON:l}if(n)return;t.Cy(s/e.aht,!0)}else t.Cy(s)}),((t,s)=>t.Hg(s)),(t=>t.$g()),!0),hy("offsetHeight",((t,s,i,e,n)=>{if(0===s)return;const r="relative"===e.gnt.t7(),h=1===e.oht.LI();if((r||h)&&t.OY()&&t.UY()){if(isNaN(e.aht)){const s=[];let n=t.TY();for(;n;)s.push(n),n=n.TY();s.reverse();const r=(t,s)=>s.Vst().Sst(t.UV()),o=(t,s)=>{const i=r(t,s);if(i)return i.vit();const e=t.UV().yQ();return e.Tit()?e.vit():t.uht().fht()},a=(t,s,i,e=0)=>{const n=s.Vst().Sst(t.UV());if(!n)return e;const r=n.HV(i);if(!r)return e;const h=r.Met().uet();if(!h)return e;const o=h.Art();return o?o.Aet():e};let l;if(h)l=s[s.length-1].Xg();else{let t=s[0];l=t.uht().fht()*t.uht().dht(),l+=a(t,i,"offsetHeight"),l+=o(t,i)*a(t,i,"offsetScaleY");for(let e=1;e<s.length;e++)t=s[e],l*=t.uht().dht(),l+=a(t,i),l+=o(t,i)*a(t,i,"offsetScaleY")}e.aht=0===l?Number.EPSILON:l}if(n)return;t.pht(s/e.aht,!0)}else t.pht(s)}),((t,s)=>t.Ug(s)),(t=>t.Xg()),!0),hy("offsetAngle",((t,s,i,e,n)=>{t.mht(s)}),((t,s)=>t.qB(s)),(t=>t.ZB()),!1,!0),hy("offsetOpacity",((t,s,i,e,n)=>{s/=e.ght?e.ght:1;const r=t.sL()+s;if(0===e.yht)r>1?e.yht+=r-1:r<0&&(e.yht+=r),t.Mht(s);else{const i=t.sL()+s;s>0&&e.yht>0?i>1&&(e.yht+=i-1):s>0&&e.yht<0?(e.yht+=s,e.yht>0&&(t.Mht(e.yht),e.yht=0)):s<0&&e.yht>0?(e.yht+=s,e.yht<0&&(t.Mht(e.yht),e.yht=0)):s<0&&e.yht<0&&i<0&&(e.yht+=i)}}),((t,s)=>{t.eL(s)}),(t=>t.sL()),!1,!0,((t,s,i)=>{switch(t.yht=0,t.gnt.t7()){case"relative":{t.gnt.Yst();const s=t.gnt.Met().uet().let();let i=t.aj().sL(),e=i;for(const n of s){const s=n.DO();e=i+t.gnt.ent(s),e=ey.Zn(e,0,1)}t.wht=i-e,t.wht=Math.round(100*(t.wht+Number.EPSILON))/100,e=i;for(let i=s.length-1;i>=0;i--){const n=s[i].DO();e-=t.gnt.ent(n),e=ey.Zn(e,0,1)}t.Sht=e,t.Sht=Math.round(100*(t.Sht+Number.EPSILON))/100;break}}const e="relative"===t.gnt.t7(),n=1===t.oht.LI();if((e||n)&&s.OY()&&s.HY()){const e=[];let n=s.TY();for(;n;)e.push(n),n=n.TY();e.reverse();const r=(t,s,i)=>{const e=s.Vst().Sst(t.UV());if(!e)return 0;const n=e.HV(i);if(!n)return 0;const r=n.Met().uet();if(!r)return 0;const h=r.Art();return h?h.Aet():0};let h=e[0].uht().Tht();h+=r(e[0],i,"offsetOpacity");for(let t=1;t<e.length;t++)h+=r(e[t],i,"offsetOpacity");t.ght=0===h?1:h}}),(t=>{switch(t.gnt.t7()){case"relative":{t.yht=0;const s=t.aj();let i=s.sL();i=Math.round(100*(i+Number.EPSILON))/100,t.gnt.Vst().att()?(s.eL(i+t.wht),t.vG=0):(s.eL(i-t.Sht),t.vG=t.J9().mnt());break}}})),hy("offsetOriginX",((t,s)=>t.bht(s)),((t,s)=>t.YW(s)),(t=>t.WW()),!1),hy("offsetOriginY",((t,s)=>t.vht(s)),((t,s)=>t.JW(s)),(t=>t.VW()),!1),hy("offsetZElevation",((t,s)=>t.xht(s)),((t,s)=>t.qb(s)),(t=>t.Hb()),!0),hy("offsetScaleX",((t,s,i,e)=>{if(0===s)return;const n=t.$g()<0?-1:1;if("relative"===e.gnt.t7()&&t.OY()&&t.BY()){const r=i.Sit()*n*s;isNaN(e.aht)&&ry.get("offsetWidth").sht(t,1,i,e,!0),t.Cy(r/e.aht,!0)}else t.Cy(i.Sit()*n*s)}),((t,s,i)=>{t.Hg(i.Sit()*s)}),((t,s)=>{const i=t.$g()<0?-1:1;if(t.BY()){const e=t.TY(),n=s.Vst().Sst(e.UV());let r=NaN;if(n)r=e.$g()/n.Sit();else{const t=e.UV().yQ();r=t.Tit()?e.$g()/t.Sit():1}return t.$g()*i/(s.Sit()*r)}return t.$g()*i/s.Sit()}),!1),hy("offsetScaleY",((t,s,i,e)=>{if(0===s)return;const n=t.Xg()<0?-1:1;if("relative"===e.gnt.t7()&&t.OY()&&t.UY()){const r=i.vit()*n*s;isNaN(e.aht)&&ry.get("offsetHeight").sht(t,1,i,e,!0),t.pht(r/e.aht,!0)}else t.pht(i.vit()*n*s)}),((t,s,i)=>{t.Ug(i.vit()*s)}),((t,s)=>{const i=t.Xg()<0?-1:1;if(t.UY()){const e=t.TY(),n=s.Vst().Sst(e.UV());let r=NaN;if(n)r=e.Xg()/n.vit();else{const t=e.UV().yQ();r=t.Tit()?e.Xg()/t.vit():1}return t.Xg()*i/(s.vit()*r)}return t.Xg()*i/s.vit()}),!1);class oy extends ey.Qst._nt{constructor(t){super(t),this.vG=0,this.yht=0,this.wht=0,this.Sht=0,this.ght=NaN,this.aht=NaN,this.Cht=void 0,this.Iht=void 0,this.Ght=null,this.Eht=null,this.Nht=null,this.Dht=null,this._ht=null,this.Aht=null,this.Lht=null,this.Oht=null,this.Rht=!1,this.Pht=!1,ey.ke(this.gnt.Vst(),ey.kht)?this.oht=new ey.Qst._nt.Fht(this):this.oht=new ey.Qst._nt.jht(this);const s=this.gnt.wst();switch(this.gnt.iit()){case"world-instance":{const t=ry.get(s);this.Ght=t.eht,this.Eht=t.sht,this.Nht=t.iht,this.Rht=t.round,this.Pht=t.nht,this._ht=t.init,this.Dht=t.reset;break}case"audio":this.Aht=t.Mrt,this.Lht=t.wrt,this.Oht=t.Srt,this.Rht=!!t.Trt(),this.Pht=!1}}Qn(){this.oht=null,this.Ght=null,this.Eht=null,this.Nht=null,this.Dht=null,this._ht=null,this.Aht=null,this.Lht=null,this.Oht=null,super.Qn()}int(){return this.oht.int()}zht(){return this.vG}Bht(t){this.vG=t}Btt(){this.Dht&&this.Dht(this)}l8(){const t=this.oht.l8();if("number"==typeof t&&(this.vG=t),this._ht){const t=this.aj(),s=this.gnt.yet();this._ht(this,t,s)}}Ztt(){const t=this.oht.Ztt();"number"==typeof t&&(this.vG=t)}tnt(){return this.Ert()}Jit(){return this.Nrt()!==this.tnt()}Hit(){return!ey.ee(this.xrt)&&this.xrt!==this.tnt()}Tnt(){this.oht.Tnt()}Gnt(t,s,i,e,n,r,h,o){return this.oht.Gnt(t,s,i,e,n,r,h,o)}Ent(){this.oht.Ent()}Ert(){const t=this.Frt(),s=this.krt(),i=this.aj(),e=this.gnt.yet();switch(this.gnt.iit()){case"behavior":case"plugin":return t.Wrt(s);case"effect":return t[s];case"instance-variable":return t.Krt(s);case"world-instance":return this.Ght(i,e);case"audio":return this.Aht.call(this.J9(),i,e)}}Hrt(t,s,i){const e=this.Frt(),n=this.krt(),r=this.aj(),h=this.gnt.yet();switch(this.gnt.iit()){case"behavior":e.$ht(n,t);break;case"effect":e[n]+=t;break;case"instance-variable":e.Uht(n,t);break;case"plugin":e.$ht(n,t,this.J9().$nt());break;case"world-instance":this.Eht(r,t,h,this);break;case"audio":this.Lht.call(this.J9(),r,t,h,this)}}Wht(t,s,i){let e=this.gnt.ttt();if(e="default"===e?"continuous":e,"discrete"===e&&!s)return;if("discrete"===e&&i){const t=this.gnt.Vst().DO();if(!this.gnt.Vet(t))return}const n=this.Frt(),r=this.krt(),h=this.aj(),o=this.gnt.yet();switch(this.gnt.iit()){case"behavior":n.qrt(r,t);break;case"effect":n[r]=t;break;case"instance-variable":n.tht(r,t);break;case"plugin":n.qrt(r,t,this.J9().$nt());break;case"world-instance":this.Nht(h,t,o);break;case"audio":this.Oht.call(this.J9(),h,t,o)}}Yht(t,s,i,e,n,r,h,o){this.oht.Yht(t,s,i,e,n,r,h,o)}Qht(t,s,i,e,n){"angle"===this.gnt.Pet()&&(t=ey.tr(t));const r=(t.toString().split(".")[1]||"").length,h=this.Ert();let o;switch(o=0===r?this.Rht?Math.round(h):this.Pht?"angle"===this.gnt.Pet()?ey.Kn(Math.round(ey.tr(h))):Number(ey.toFixed(h,2)):h:this.Rht?Number(ey.toFixed(h,r)):(this.Pht,h),this.Hrt(o-h,s,i),this.gnt.wst()){case"offsetWidth":case"offsetScaleX":{const t=this.aj(),s=t.$g(),i=Number(ey.toFixed(s,2));t.Cy(i-s);break}case"offsetHeight":case"offsetScaleY":{const t=this.aj(),s=t.Xg(),i=Number(ey.toFixed(s,2));t.pht(i-s);break}}}s3(){return Object.assign(super.s3(),{v:this.vG,a:this.yht,fod:this.wht,bod:this.Sht,of:this.ght,sf:this.aht,armorf:this.Cht,armandf:this.Iht})}i3(t){t&&(super.i3(t),this.vG=t.v,this.yht=t.a,this.wht=ey.te(t.fod)?t.fod:0,this.Sht=ey.te(t.bod)?t.bod:0,this.ght=ey.te(t.of)?t.of:NaN,this.aht=ey.te(t.sf)?t.sf:NaN,this.Cht=ey.te(t.armorf)?t.armorf:void 0,this.Iht=ey.te(t.armandf)?t.armandf:void 0)}}ey.Qst._nt.Ant=oy}{const ay=self.Gs;class ly{constructor(t){this.Vht=!1,this.Wnt=0,this.Jht=!1,this.Hht=!1,this.zst=t;for(let t=0,s=this.zst.length;t<s;t++)this.zst[t].pet(this)}Mst(){return this.zst}qht(){this.Vht=!0}Zht(){return this.Vht}pnt(t){this.Wnt=t}Aet(){return this.Wnt}Xht(t){this.Jht=t}Kht(){return this.Jht}sst(t){this.Hht=t}tot(){return this.Hht}jf(){this.Vht=!1,this.Wnt=0,this.Jht=!1,this.Hht=!1}}class uy{constructor(t){this.sot=t}Qn(){this.sot=null}LI(){return 0}l8(){const t=this.sot;return this.sot.HV(),t.Ort((()=>t._rt((()=>0),(()=>t.J9().mnt()))),(()=>{}))}Ztt(){}int(){switch(this.sot,this.sot.HV().t7()){case"relative":return!1;case"absolute":return!0}}Tnt(){this.sot;const t=this.sot.HV(),s=t.wst();switch(t.t7()){case"relative":break;case"absolute":if(t.det())t.met().jf();else{const i=t.Vst(),e=t.UV(),n=t.J9(),r=i.V9(e,n,s,t);r&&r.length>1&&new ly(r)}}}Gnt(t,s,i,e,n,r,h,o){const a=this.sot,l=this.sot.HV();switch(l.t7()){case"relative":{const h=a.zht();a.Hrt(s-h,i,e),r&&this.Yht(t,i,e,n,h,s),a.Bht(s);break}case"absolute":{const t=l.Vst(),i=l.yet();if(l.UV(),l.J9(),l.det()){const e=l.met(),n=e.Mst(),r=a.zrt(n,!0),u=a.Brt(t,t.DO(),r);if(u){const t=i.est(),n=u.time-t;if(0===n)e.sst(h),e.Xht(o),e.qht(),e.pnt(e.Aet()+s);else{if(n<0)return;const t=l.ent(n);e.sst(h),e.Xht(o),e.qht(),e.pnt(e.Aet()+(s-t))}}}else a.Wht(s,o,h);break}}}Ent(){const t=this.sot,s=this.sot.HV();switch(s.t7()){case"relative":break;case"absolute":if(s.det()){const i=s.met();i.Zht()&&t.Wht(i.Aet(),i.Kht(),i.tot())}}}Yht(t,s,i,e,n,r){const h=this.sot;e||(s&&t===s.DO()?h.Qht(s.a7(),s,i):i&&t===i.DO()?h.Qht(i.a7(),s,i):r-n==0&&h.Qht(s.a7(),s,i))}}ay.Qst._nt.jht=uy}{const cy=self.Gs;class fy{constructor(t){this.sot=t}Qn(){this.sot=null}LI(){return 1}l8(){const t=this.sot;return t.Irt(!0),this.Prt(t.Nrt())}Ztt(){const t=this.sot;if(t.Nrt()!==t.Lrt())return t.Irt(!0),this.Prt(t.Lrt())}int(){return!1}Tnt(){}Gnt(t,s,i,e,n,r,h,o){const a=this.sot,l=a.zht();switch(a.HV().t7()){case"relative":a.Hrt(s-l,i,e),r&&this.Yht(t,i,e,n,l,s,!1,h);break;case"absolute":a.Grt()?(a.Irt(!1),a.Hrt(l,i,e)):0===t&&0===a.HV().Vst().xV()?a.Wht(s,!0,!1):(a.Hrt(s-l,i,e),r&&this.Yht(t,i,e,n,l,s,this.iot(),h))}a.Bht(s)}Ent(){}Prt(t){return t-this.sot.tnt()}iot(){const t=this.sot,s=t.aj().UV(),i=t.HV().Pj().Q9();let e=0;for(const t of i.k6())0===t.LI()?t.U6(s)&&e++:1===t.LI()&&t.UV()===s&&e++;return e<=1}Yht(t,s,i,e,n,r,h,o){const a=this.sot;e?s&&t===s.DO()?a.Qht(s.a7(),s,i,h,o):i&&t===i.DO()?a.Qht(i.a7(),s,i,h,o):i||a.Qht(s.a7(),s,i,h,o):s&&t===s.DO()?a.Qht(s.a7(),s,i,h,o):i&&t===i.DO()?a.Qht(i.a7(),s,i,h,o):r-n==0&&a.Qht(s.a7(),s,i,h,o)}}cy.Qst._nt.Fht=fy}{const dy=self.Gs,py=self.$u;dy.Qst.bnt=class{constructor(){}static Xrt(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Wrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Krt(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Met();return t=e.Yst().Art(t),t.a7()}let n=e.ttt();if("default"===n&&(n="continuous"),"combo"===e.Pet()&&(n="discrete"),"discrete"===n)return s.a7();if("continuous"===n||"step"===n){const r=e.Vst().X9();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.a7(),o=i.a7(),a=s.h7("cubic-bezier"),l=i.h7("cubic-bezier"),u=a&&a.eot()&&l&&l.not();if(!u&&h===o)return h;const c=s.DO(),f=i.DO();"step"===n&&0!==r&&(t=dy.Zn(t,c,f));const d=dy.normalize(t,c,f),p=s.dnt();let m;if(u){const t=f-c;m=py.rc(p)(t*d,0,1,t),m=py.rc("cubicbezier")(m,h,h+a.c7(),o+l.p7(),o)}else m=py.rc(p)((f-c)*d,h,o-h,f-c);return"integer"===e.Pet()?Math.floor(m):m}}}}{const my=self.Gs;my.Qst.vnt=class{constructor(){}static Xrt(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Wrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Krt(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Met();return t=e.Yst().Art(t),t.a7()}let n=e.ttt();if("default"===n&&(n="continuous"),"combo"===e.Pet()&&(n="discrete"),"discrete"===n)return s.a7();if("continuous"===n||"step"===n){const r=e.Vst().X9();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.DO(),o=i.DO(),a=s.a7(),l=i.a7();"step"===n&&0!==r&&(t=my.Zn(t,h,o));const u=s.h7("angle");if(!u){if(a===l)return a;const i=my.normalize(t,h,o),e=self.$u.rc(s.dnt());return my.ur(a,l,e(i,0,1,1))}{const i=u.rot();if(a===l&&0===i)return a;const e=my.normalize(t,h,o),n=self.$u.rc(s.dnt())(e,0,1,1);switch(u.hot()){case"closest":return my.ur(a,l,n,i);case"clockwise":return my.cr(a,l,n,i);case"anti-clockwise":return my.dr(a,l,n,i)}}}}}}{const gy=self.Gs;gy.Qst.xnt=class{constructor(){}static Xrt(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Wrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Krt(t)}return!!n!=!!i}static wc(t,s,i,e){if(!i){let t=e.Met();return t=e.Yst().Art(t),t.a7()?1:0}return s.a7()?1:0}}}{const yy=self.Gs,My=[0,0,0],wy=[0,0,0],Sy=[0,0,0];yy.Qst.Cnt=class{constructor(){}static Xrt(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Wrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Krt(t)}return Array.isArray(i)?(My[0]=i[0],My[1]=i[1],My[2]=i[2]):(Sy.ha(i),My[0]=Math.floor(255*Sy.Fo()),My[1]=Math.floor(255*Sy.jo()),My[2]=Math.floor(255*Sy.zo())),Array.isArray(n)?(wy[0]=n[0],wy[1]=n[1],wy[2]=n[2]):(Sy.ha(n),wy[0]=Math.floor(255*Sy.Fo()),wy[1]=Math.floor(255*Sy.jo()),wy[2]=Math.floor(255*Sy.zo())),My[0]!==wy[0]||My[1]!==wy[1]||My[2]!==wy[2]}static wc(t,s,i,e){if(!i){let t=e.Met();t=e.Yst().Art(t);const s=t.a7();return My[0]=s[0],My[1]=s[1],My[2]=s[2],My}let n=e.ttt();if("default"===n&&(n="continuous"),"discrete"===n){const t=s.a7();return My[0]=t[0],My[1]=t[1],My[2]=t[2],My}if("continuous"===n||"step"===n){const r=e.Vst().X9();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.DO(),o=i.DO(),a=s.a7(),l=i.a7();"step"===n&&0!==r&&(t=yy.Zn(t,h,o));const u=yy.normalize(t,h,o),c=s.dnt(),f=a[0],d=a[1],p=a[2],m=l[0],g=l[1],y=l[2],M=self.$u.rc(c),w=o-h,S=w*u;return My[0]=f===m?f:M(S,f,m-f,w),My[1]=d===g?d:M(S,d,g-d,w),My[2]=p===y?p:M(S,p,y-p,w),My}}}}{const Ty=self.Gs;Ty.Qst.Int=class{constructor(){}static Xrt(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Wrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Krt(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Met();return t=e.Yst().Art(t),t.a7()}return s.a7()}}}{const by=self.Gs;by.Y5=class{constructor(){this.oot=new Map}Qn(){for(const t of this.oot.values())t.Qn();this.oot.clear(),this.oot=null}ju(t){const s=new by.aot(t),i=s.Nc();this.oot.set(i,s)}Qs(t){return this.oot.get(t)}F9(){return 0}static lot(t,s,i,e){if(s)for(const n of s)by.Y5.uot("create",n,t,i,e)}static cot(t,s,i,e){if(s)for(const n of s)by.Y5.uot("create-including-disabled",n,t,i,e)}static fot(t,s,i,e){t.length?s.forEach(((s,i)=>{t[i].i3(s)})):s.forEach((s=>{by.Y5.uot("load",s,t,i,e)}))}static uot(t,s,i,e,n){let r;if("function"==typeof e)switch(t){case"load":r=new e(null,n);break;case"create":case"create-including-disabled":r=new e(s,n)}else if("object"==typeof e){const i=s[e.dot],h=e.map.get(i);switch(t){case"load":r=new h(null,n);break;case"create":case"create-including-disabled":r=new h(s,n)}}switch(t){case"load":r.i3(s),i.push(r);break;case"create":if("function"==typeof r.git&&!r.git())return r.Qn();i.push(r);break;case"create-including-disabled":i.push(r)}}}}{const vy=self.Gs,xy=0,Cy=1,Iy=2,Gy=3,Ey=4,Ny=5,Dy=6,_y=7,Ay=8,Ly=9,Oy=10,Ry=11;vy.aot=class{constructor(t){this.Hn="",this.tst=NaN,this.pot=0,this.mot="default",this.got="default",this.yot=!1,this.Mot=!1,this.wot=1,this.Est=null,this.Sot="",this.Tot=!1,this.bot=!0,t&&(this.Hn=t[0],this.tst=t[1],this.pot=t[2],this.mot=t[3],this.got=t[4],this.yot=!!t[6],this.Mot=!!t[7],this.wot=t[8],this.Sot=t[9],this.Tot=!!t[10],this.bot=!!t[11],this.Est=new vy.vot(t[5],this))}Qn(){this.Est.Qn(),this.Est=null}W9(){return this.Est||(this.Est=new vy.vot(null,this)),this.Est}Nc(){return this.Hn}yH(t){this.Hn=t}xV(){return this.tst}vV(t){this.tst=t}X9(){return this.pot}K9(t){this.pot=t}ttt(){return this.mot}stt(t){this.mot=t}t7(){return this.got}itt(t){this.got=t}IV(){return this.yot}CV(t){this.yot=t}EV(){return this.Mot}GV(t){this.Mot=t}UQ(){return this.wot}ett(t){this.wot=t}T8(){return this.Sot}ntt(){return this.Tot}htt(){return this.bot}s3(){return{trackDataJson:this.Est.s3(),name:this.Hn,totalTime:this.tst,step:this.pot,interpolationMode:this.mot,resultMode:this.got,loop:this.yot,pingPong:this.Mot,repeatCount:this.wot,startOnLayout:this.Sot,transformWithSceneGraph:!!this.Tot,useSystemTimescale:this.bot}}i3(t){t&&(this.W9().i3(t.trackDataJson),this.Hn=t.name,this.tst=t.totalTime,this.pot=t.step,this.mot=t.interpolationMode,this.got=t.resultMode,this.yot=t.loop,this.Mot=t.pingPong,this.wot=t.repeatCount,this.Sot=t.startOnLayout,this.Tot=!!t.transformWithSceneGraph,this.bot=!!t.useSystemTimescale)}}}{const Py=self.Gs,ky=0,Fy=1,jy=2,zy=1,By=2,$y=3,Uy=4,Wy=5,Yy=6,Qy=7,Vy=0,Jy=1,Hy=8,qy=0,Zy=1,Xy=9,Ky=10;class tM{constructor(t,s){this.Est=s,this.xot=null,this.Cot=null,this.Nst=NaN,this.Dst=NaN,this.mot="default",this.got="default",this.fu=!1,this.Iot=null,this.het=null,this.zc="",this.Got=null,this.Eot=0,this.Not=this.Est.Z9().xV(),this.Qc=0,this.Hn="",t&&(t[0]&&(this.xot=t[0],this.Nst=t[0][2],this.Dst=t[0][1]),this.mot=t[1],this.got=t[2],this.fu=!!t[3],t[6]&&(this.zc=t[6]),t[7]&&(this.Got=t[7],this.Eot=t[7][0],this.Not=t[7][1]),t[8]&&(this.Cot=t[8]),t[8]&&(this.Cot=t[8]),t[9]&&(this.Qc=t[9]),t[10]&&(this.Hn=t[10]),this.Iot=new Py.Dot(t[4],this),this.het=new Py._ot(t[5],this))}Qn(){this.xot=null,this.Est=null,this.Iot&&(this.Iot.Qn(),this.Iot=null),this.het&&(this.het.Qn(),this.het=null),this.Got=null}W9(){return this.Est}rst(){return this.Iot||(this.Iot=new Py.Dot(null,this)),this.Iot}Yst(){return this.het||(this.het=new Py._ot(null,this)),this.het}Aot(){return this.xot}Zst(){return this.Dst}Mit(t){this.Dst=t}qst(){return this.Nst}dit(t){this.Nst=t}ttt(){return this.mot}stt(t){this.mot=t}t7(){return this.got}itt(t){this.got=t}git(){return this.fu}yit(t){this.fu=!!t}VV(){return this.zc}est(){return this.Eot}pit(){return this.Not}mit(t){this.Not=t}Sit(){return this.Cot[0]}wit(t){this.Cot||(this.Cot=[]),this.Cot[0]=t}vit(){return this.Cot||(this.Cot=[]),this.Cot[1]}bit(t){this.Cot||(this.Cot=[]),this.Cot[1]=t}LI(){return this.Qc}Nc(){return this.Hn}s3(){return{keyframeDataJson:this.Iot.s3(),propertyTrackDataJson:this.het.s3(),instanceData:this.xot,additionalInstanceData:this.Cot,instanceUid:this.Nst,objectClassIndex:this.Dst,interpolationMode:this.mot,resultMode:this.got,enabled:this.fu,id:this.zc,nestedData:this.Got,type:this.Qc,name:this.Hn}}i3(t){t&&(this.xot=t.instanceData,this.Nst=t.instanceUid,this.Dst=t.objectClassIndex,this.mot=t.interpolationMode,this.got=t.resultMode,this.fu=t.enabled,this.zc=t.id,this.Qc=t.type?t.type:0,this.Hn=t.name?t.name:"",this.Not=this.Est.Z9().xV(),t.nestedData&&(this.Got=t.nestedData,this.Eot=this.Got[0],this.Not=this.Got[1]),t.additionalInstanceData&&(this.Cot=t.additionalInstanceData),this.rst().i3(t.keyframeDataJson),this.Yst().i3(t.propertyTrackDataJson))}}Py.vot=class{constructor(t,s){this.h9=s,this.Lot=[],Py.Y5.lot(this.Lot,t,tM,this)}Qn(){this.h9=null;for(const t of this.Lot)t.Qn();Py.Sh(this.Lot),this.Lot=null}Z9(){return this.h9}ust(){const t=new tM(null,this);return this.Lot.push(t),t}Oot(t){return t.rst().jst()[0]}Rot(t){return t.rst().jst().at(-1)}Pit(t,s){const i=s.rst().jst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()===t)return e}}Pot(t,s){const i=s.rst().jst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()>t)return e}}Oit(t,s){const i=s.rst().jst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()>=t)return e}}Lit(t,s){const i=s.rst().jst();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.DO()<=t)return e}}*U9(){for(const t of this.Lot)yield t}s3(){return{trackDataItemsJson:this.Lot.map((t=>t.s3()))}}i3(t){t&&Py.Y5.fot(this.Lot,t.trackDataItemsJson,tM,this)}}}{const sM=self.Gs,iM=0,eM=0,nM=1,rM=2,hM=3,oM=4,aM=5,lM=6,uM=7,cM=8,fM=9;class dM{constructor(t,s){this.het=s,this.kot="",this.Fot=null,this.brt=null,this.Qc=null,this.jot=NaN,this.zot=NaN,this.mot="default",this.got="default",this.fu=!1,this.Bot=null,this.$ot=!0,t&&(this.kot=t[0][0],this.Fot=t[0].slice(1),this.brt=t[1],this.Qc=t[2],this.jot=t[3],this.zot=t[4],this.mot=t[5],this.got=t[6],this.fu=!!t[7],this.Bot=new sM.Uot(t[8],this),this.$ot=t[9])}Qn(){this.Bot.Qn(),this.Bot=null,this.het=null,this.Fot=null}Yst(){return this.het}uet(){return this.Bot||(this.Bot=new sM.Uot(null,this)),this.Bot}iit(){return this.kot}Get(t){this.kot=t}Net(){return this.Fot}_et(t){this.Fot=t}Let(){return this.brt}Ret(t){this.brt=t}LI(){return this.Qc}Fet(t){this.Qc=t}Bet(){return this.jot}$et(t){this.jot=t}Uet(){return this.zot}Wet(t){this.zot=t}ttt(){return this.mot}stt(t){this.mot=t}t7(){return this.got}itt(t){this.got=t}git(){return this.fu}yit(t){this.fu=!!t}Qet(){return!!this.$ot}s3(){return{propertyKeyframeDataJson:this.Bot.s3(),sourceAdapterId:this.kot,sourceAdapterArguments:this.Fot,property:this.brt,type:this.Qc,min:this.jot,max:this.zot,interpolationMode:this.mot,resultMode:this.got,enabled:this.fu,canHavePropertyKeyframes:this.$ot}}i3(t){t&&(this.kot=t.sourceAdapterId,this.Fot=t.sourceAdapterArguments,this.brt=t.property,this.Qc=t.type,this.jot=t.min,this.zot=t.max,this.mot=t.interpolationMode,this.got=t.resultMode,this.fu=t.enabled,this.$ot=t.canHavePropertyKeyframes,this.uet().i3(t.propertyKeyframeDataJson))}}sM._ot=class{constructor(t,s){this.Gst=s,this.Wot=[],sM.Y5.lot(this.Wot,t,dM,this)}Qn(){this.Gst=null;for(const t of this.Wot)t.Qn();sM.Sh(this.Wot),this.Wot=null}nst(){return this.Gst}Uit(){const t=new dM(null,this);return this.Wot.push(t),t}zet(t){return t.uet().let()[0]}Art(t){return t.uet().let().at(-1)}Vet(t,s){const i=s.uet().let(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()===t)return e}}qet(t,s){const i=s.uet().let(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()>t)return e}}Zet(t,s){const i=s.uet().let(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.DO()>=t)return e}}Jet(t,s){const i=s.uet().let();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.DO()<=t)return e}}*Wst(){for(const t of this.Wot)yield t}s3(){return{propertyTrackDataItemsJson:this.Wot.map((t=>t.s3()))}}i3(t){t&&sM.Y5.fot(this.Wot,t.propertyTrackDataItemsJson,dM,this)}}}{const pM=self.Gs,mM=0,gM=1,yM=2,MM=3;class wM{constructor(t,s){if(this.Iot=s,this.IR=-1,this.Yot="noease",this.Qot=!1,this.A9=null,this.Vot=null,!t)return;this.IR=t[0],this.Yot=t[1],this.Qot=!!t[2];const i=t[3];this.A9=i?i.split(" "):[],this.Vot=new Set(this.A9.map((t=>t.toLowerCase()))),this.Jot=null,this.Hot=null}Qn(){this.Iot=null,pM.Sh(this.A9),this.A9=null,this.Vot.clear(),this.Vot=null,this.Jot=null}rst(){return this.Iot}Q8(){return this.Jot}qot(t){this.Jot=t}Rit(){return this.Hot}Zot(t){this.Hot=t}DO(){return this.IR}bV(t){this.IR=t,this.Iot.Xot()}dnt(){return this.Yot}$V(t){this.Yot=t}git(){return this.Qot}yit(t){this.Qot=!!t}_V(){return this.A9}ltt(t){this.A9=t?t.split(" "):[],this.Vot=new Set(this.A9.map((t=>t.toLowerCase())))}Kot(){return this.Vot}vst(t){return this.Vot.has(t.toLowerCase())}s3(){return{time:this.IR,ease:this.Yot,enable:this.Qot,tags:this.A9}}i3(t){t&&(this.IR=t.time,this.Yot=t.ease,this.Qot=t.enable,this.A9=t.tags,this.Vot=new Set(this.A9.map((t=>t.toLowerCase()))))}}pM.Dot=class{constructor(t,s){this.Gst=s,this.Fst=[],pM.Y5.lot(this.Fst,t,wM,this),this.Xot()}Qn(){this.Gst=null;for(const t of this.Fst)t.Qn();pM.Sh(this.Fst),this.Fst=null}Xot(){this.Fst.sort(((t,s)=>t.DO()-s.DO()));for(let t=0;t<this.Fst.length;t++){const s=this.Fst[t];s.qot(this.Fst[t+1]),s.Zot(this.Fst[t-1])}}nst(){return this.Gst}tat(){return this.Fst.length}jst(){return this.Fst}Bit(){const t=new wM(null,this);return this.Fst.push(t),this.Xot(),t}Yit(t){for(const s of this.Fst){if(!t(s))continue;const i=this.Fst.indexOf(s);-1!==i&&(s.Qn(),this.Fst.splice(i,1))}this.sat(),this.Xot()}sat(){this.Fst.sort(((t,s)=>t.DO()-s.DO()))}iet(t){return this.Fst.indexOf(t)}eet(t){return this.Fst[t]}*iat(){for(const t of this.Fst)yield t}*eat(){for(let t=this.Fst.length-1;t>=0;t--)yield this.Fst[t]}s3(){return{keyframeDataItemsJson:this.Fst.map((t=>t.s3()))}}i3(t){t&&(pM.Y5.fot(this.Fst,t.keyframeDataItemsJson,wM,this),this.Xot())}}}{const SM=self.Gs,TM=0,bM=0,vM=1,xM=2,CM=1,IM=2,GM=3,EM=4,NM=5;class DM{constructor(t,s){this.Bot=s,this.Wnt=null,this.nat=null,this.Qc="",this.IR=NaN,this.Yot="noease",this.Qot=!1,this.rat=null,this.hat=void 0,this.oat="line",t&&(this.Wnt=t[0][0],this.nat=t[0][1],this.Qc=t[0][2],this.IR=t[1],this.Yot=t[2],this.Qot=!!t[3],this.oat=t[5],this.rat=null,t[4]&&(this.rat=new SM.aat(t[4],this)),this.Jot=null,this.lat=null)}Qn(){this.Bot=null,this.rat&&(this.rat.Qn(),this.rat=null),this.Jot=null,this.lat=null}uat(){return this.rat}qot(t){this.Jot=t}Q8(){return this.Jot}cat(t){this.lat=t}V8(){return this.lat}Aet(){return this.Wnt}pnt(t){"color"===this.Qc&&SM.te(t)?(this.Wnt[0]=SM.Dr(t),this.Wnt[1]=SM._r(t),this.Wnt[2]=SM.Ar(t)):this.Wnt=t}Drt(){return this.nat}unt(t){"color"===this.Qc&&SM.te(t)?(this.nat[0]=SM.Dr(t),this.nat[1]=SM._r(t),this.nat[2]=SM.Ar(t)):this.nat=t}a7(){const t=this.Bot.Met().t7();return"relative"===t?this.Aet():"absolute"===t?this.Drt():void 0}LI(){return this.Qc}Fet(t){this.Qc=t}DO(){return this.IR}bV(t){this.IR=t,this.Bot.fat()}dnt(){return this.Yot}$V(t){this.Yot=t}git(){return this.Qot}yit(t){this.Qot=!!t}J8(){return this.oat}h7(t){if(!this.rat)return;if(this.hat||null===this.hat)return this.hat;const s=this.rat.dat();if(!s)return this.hat=null,this.hat;const i=s.length;for(let e=0;e<i;e++){const i=s[e];if(i.VV()===t)return this.hat=i,this.hat}return this.hat=null,this.hat}s3(){const t=this.rat;return{addonDataJson:t?t.s3():t,value:this.Wnt,aValue:this.nat,type:this.Qc,time:this.IR,ease:this.Yot,enable:this.Qot}}i3(t){t&&(t.addonDataJson&&this.rat.pat(t.addonDataJson),this.Wnt=t.value,this.nat=t.aValue,this.Qc=t.type,this.IR=t.time,this.Yot=t.ease,this.Qot=t.enable)}}SM.Uot=class{constructor(t,s){this.ret=s,this.aet=[],this.mat=[],SM.Y5.lot(this.aet,t,DM,this),SM.Y5.cot(this.mat,t,DM,this),this.fat()}Qn(){this.ret=null;for(const t of this.aet)t.Qn();SM.Sh(this.aet),this.aet=null;for(const t of this.mat)t.Qn();SM.Sh(this.mat),this.mat=null}fat(){let t=this.aet;t.sort(((t,s)=>t.DO()-s.DO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.qot(t[s+1]),s-1>=0&&i.cat(t[s-1])}t=this.mat,t.sort(((t,s)=>t.DO()-s.DO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.qot(t[s+1]),s-1>=0&&i.cat(t[s-1])}}ant(){const t=new DM(null,this);return this.aet.push(t),this.fat(),t}lnt(t){for(const s of this.aet){if(!t(s))continue;const i=this.aet.indexOf(s);-1!==i&&(s.Qn(),this.aet.splice(i,1))}this.gat(),this.fat()}gat(){this.aet.sort(((t,s)=>t.DO()-s.DO()))}Met(){return this.ret}yat(){return this.aet.length}Art(){return this.aet[this.aet.length-1]}let(){return this.aet}Y8(){return this.mat}*Mat(){for(const t of this.aet)yield t}*wat(){for(let t=this.aet.length-1;t>=0;t--)yield this.aet[t]}s3(){const t=this.aet,s=this.mat;return{propertyKeyframeDataItemsJson:t.map((t=>t.s3())),propertyKeyframeDataItemsIncludingDisabledJson:s.map((t=>t.s3()))}}i3(t){t&&(SM.Y5.fot(this.aet,t.propertyKeyframeDataItemsJson,DM,this),SM.Y5.fot(this.mat,t.propertyKeyframeDataItemsIncludingDisabledJson,DM,this),this.fat())}}}{const _M=self.Gs,AM=0,LM=1;class OM{constructor(t,s){this.rat=s,this.zc=t[0],this.Sat=t[1]}Qn(){this.rat=null,this.Sat=null}uat(){return this.rat}VV(){return this.zc}s3(){return{id:this.zc,data:this.Sat}}i3(t){t&&(this.zc=t.id,this.Sat=t.data)}}const RM=0,PM=1,kM=2,FM=3;class jM extends OM{constructor(t,s){super(t,s),this.Tat=this.Sat[0],this.bat=!!this.Sat[1],this.vat=this.Sat[2],this.xat=!!this.Sat[3]}Qn(){super.Qn()}c7(){return this.Tat}eot(){return this.bat}p7(){return this.vat}not(){return this.xat}s3(){return Object.assign(super.s3(),{startAnchor:this.Tat,startEnable:!!this.bat,endAnchor:this.vat,endEnable:!!this.xat})}i3(t){t&&(super.i3(t),this.Tat=t.startAnchor,this.bat=!!t.startEnable,this.vat=t.endAnchor,this.xat=!!t.endEnable)}}const zM=0,BM=1;class $M extends OM{constructor(t,s){super(t,s),this.Cat=this.Sat[0],this.Iat=this.Sat[1]}Qn(){super.Qn()}hot(){return this.Cat}rot(){return this.Iat}s3(){return Object.assign(super.s3(),{direction:this.Cat,revolutions:this.Iat})}i3(t){t&&(super.i3(t),this.Cat=t.direction,this.Iat=t.revolutions)}}_M.aat=class{constructor(t,s){this.Gat=s,this.Eat=[],_M.Y5.lot(this.Eat,t,{dot:0,map:new Map([["cubic-bezier",jM],["angle",$M]])},this)}Qn(){this.Gat=null;for(const t of this.Eat)t.Qn();_M.Sh(this.Eat),this.Eat=null}Nat(){return this.Gat}dat(){return this.Eat}*Dat(){for(const t of this.Eat)yield t}s3(){return{addonDataItemsJson:this.Eat.map((t=>t.s3()))}}i3(t){t&&_M.Y5.fot(this.Eat,t.addonDataItemsJson,{dot:"id",map:new Map([["cubic-bezier",jM],["angle",$M]])},this)}}}{const UM=self.Gs,WM="start-value",YM="current-state",QM=0,VM=1;let JM=0;UM.kht=class extends UM.x6{constructor(t,s){super("tween-"+JM++,t,s),this.zc="",this._at=!1,this.Aat="start-value",this._st=null,this.Lat=null,this.Oat=null,this.net=null,this.Rat=null}z9(t){const s=UM.Yn(UM.Event,"tweenstatereleased");s.Pat=this,t.dispatchEvent(s)}LI(){return 1}c9(){for(const t of this.h9.W9().U9())this.o9.push(UM.kat._C(this,t));this.net=this.o9[0]}lst(){const t=this.h9.W9().ust(),s=UM.kat._C(this,t);return this.o9.push(s),this.Fat(),s}Fat(){this.net=this.o9[0]}HV(t){return this.net.Mst()[0]}ket(t){this.jat=t}UV(){const t=this.B8();if(!t||!t.length)return;const s=t[0];if(this.net=s,!s)return;const i=s.UV();return s.Hst()?i:void 0}zat(t){this.Oat||(this.Oat=[]),this.Oat.push(t)}Bat(t){this.Lat||(this.Lat=[]),this.Lat.push(t)}$at(t){if(!this.Oat)return;const s=this.Oat.indexOf(t);-1!==s&&this.Oat.splice(s,1)}Uat(t){if(!this.Lat)return;const s=this.Lat.indexOf(t);-1!==s&&this.Lat.splice(s,1)}Wat(t,s){for(const i of this.o9)for(const e of i.zst){if(e.wst()!==s)continue;const i=e.Yst(),n=e.Met(),r=i.zet(n);r.pnt(t),r.unt(t)}}Yat(t){for(const s of this.o9)for(const i of s.zst)if(i.wst()===t)return i}Qat(t){for(const s of t){const t=this.Yat(s);this.Wat(t.tnt(),s)}if(this.att()){const t=this.xV()-this.DO();this.vV(t);for(const s of this.o9)s.mit(t);this.Ott(0)}else{const t=this.DO();this.vV(t);for(const s of this.o9)s.mit(t);this.Ott(t)}this.Rtt()}Vat(t,s){const i=this.Yat(s),e=i.Yst(),n=i.Met(),r=e.Art(n);r.bV(this.xV()),r.pnt(t),r.unt(t)}Jat(t){this.zc=t}VV(){return this.zc}Hat(t){this.Aat=t}qat(){return this.Aat}QV(t){this._at=t}YV(){return this._at}dtt(){if(this.Oat)for(const t of this.Oat)t(this);if(!this.y8())for(const t of this.o9)t.Hit()}Ttt(){this.I9=this.Fc.btt()}w8(){if(!this.N9&&(this.N9=!0,this.Lat))for(const t of this.Lat)t(this)}bV(t){this.Zat(),super.bV(t)}ztt(t){UM.te(t)||(t=this.xV()),t<0?this.p9=0:t>=this.xV()?this.p9=this.xV():this.p9=t,this.net.Btt()}l8(t){if(!this.M8()&&"current-state"===this.qat())for(const t of this.o9)t.Jit();super.l8(t)}wV(t=!1){if(super.wV(t),!this.y8())for(const t of this.o9)t.Vit()}jf(t=!0,s=!1){this.Zat(),super.jf(t,s)}Zat(){for(const t of this.o9){const s=t=>{const s=t.DO(),i=this.xV();return 0!==s&&s!==i};t.Wit(s),t.Qit(s)}}a6(){if(this.yV())return!0;const t=this.UV();return!(t&&t.GU().n0()||(this.r9.r8(this),this.Htt(),0))}d8(t,s,i){if(this._st||(this._st=this.UV()),!this._st||this._st.AJ())return this.wV(!0),void this.Ttt();const e=this._st.gF();if(-1!==e&&(t=i*e),0===t&&0===this._9)return;this._9=t;const n=this.p9+this.m9+t*this.g9,r=this.h9.tst;n<0?(this.p9=0,this.m9=-n):n>=r?(this.p9=r,this.m9=this.p9-n):(this.p9=n,this.m9=0);let h=!1,o=!1;const a=this.IV(),l=this.EV();if(a||l?a&&!l?this.g9>0?this.p9>=r&&(this.ztt(0),this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),o=!0):this.p9<=0&&(this.ztt(r),this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),o=!0):!a&&l?this.g9>0?this.p9>=r&&(this.Ott(r),this.NV(-1*this.DV()),o=!0,1===this.y9?this.w9<this.UQ()?(this.w9++,this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt),this.IsPlaying()?this.y9=0:this.M9=0):(this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt),h=!0):0===this.y9&&(this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt),this.IsPlaying()?this.y9=1:this.M9=1)):this.p9<=0&&(this.Ott(0),this.NV(-1*this.DV()),o=!0,1===this.y9?this.w9<this.UQ()?(this.w9++,this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt),this.IsPlaying()?this.y9=0:this.M9=0):(h=!0,this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt)):0===this.y9&&(this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt),this.IsPlaying()?this.y9=1:this.M9=1)):a&&l&&(this.g9>0?this.p9>=r&&(this.Ott(r),this.NV(-1*this.DV()),o=!0,0===this.y9&&(this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt)),1===this.y9&&(this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt)),this.IsPlaying()?(this.y9++,this.y9=UM.wrap(this.y9,0,2)):(this.M9=this.y9+1,this.M9=UM.wrap(this.M9,0,2))):this.p9<=0&&(this.Ott(0),this.NV(-1*this.DV()),o=!0,0===this.y9&&(this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt)),1===this.y9&&(this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),this.Xat(UM.slt.tlt.Gj.elt),this.Xat(UM.slt.tlt.Gj.nlt)),this.IsPlaying()?(this.y9++,this.y9=UM.wrap(this.y9,0,2)):(this.M9=this.y9+1,this.M9=UM.wrap(this.M9,0,2)))):this.g9>0?this.p9>=r&&(this.w9<this.UQ()?(this.w9++,this.ztt(0),this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),o=!0):(this.Ott(r),h=!0)):this.p9<=0&&(this.w9<this.UQ()?(this.w9++,this.ztt(r),this.Xat(UM.slt.tlt.Gj.Kat),this.Xat(UM.slt.tlt.Gj.ilt),o=!0):(this.Ott(0),h=!0)),this.IsPlaying()){if(h)return this.net.sst(),this.wV(!0),void this.Ttt();this.net.wc(this.p9,!0,!1,o,this.D9,!1),this.D9&&(this.D9=!1)}}Xat(t){const s=this.UV(),i=s.rlt(UM.slt.tlt);i.hlt(this),this.Fc.lW(t,s,i.GQ()),i.olt()}s3(){const t=super.s3(),s=this.Z9();return Object.assign(t,{tweenDataItemJson:s.s3(),id:this.zc,destroyInstanceOnComplete:this._at,initialValueMode:this.Aat})}i3(t){t&&(this.Z9().i3(t.tweenDataItemJson),super.i3(t),this.zc=t.id,this._at=t.destroyInstanceOnComplete,this.Aat=t.initialValueMode,this.Fat())}static IsPlaying(t){return t.IsPlaying()}static RV(t){return t.RV()}static llt(t){return!!t.EV()&&0===t.ott()}static ult(t){return!!t.EV()&&1===t.ott()}static clt(t){const s=t.runtime.Q9(),i=new UM.aot;if(t.json){i.i3(t.json.tweenDataItemJson);const e=new UM.kht(i,s);return e.i3(t.json),e}{const e=new UM.kht(i,s);UM.xe(t.flt)||(t.flt=[t.flt]),e.Jat(t.id),e.ltt(t.tags),e.Hat(t.dlt),e.QV(t.plt),e.CV(t.loop),e.GV(t.mlt),e.vV(t.time),e.K9(0),e.stt("default"),e.itt(t.flt[0].glt),e.ett(t.$Q);const n=e.lst();n.dit(t.EQ.zU()),n.stt("default"),n.itt(t.flt[0].glt),n.yit(!0),n.Mit(t.EQ.GU().ek());const r=t.EQ.yQ(),h=r.Tit()?r.Sit():t.EQ.aj().$g(),o=r.Tit()?r.vit():t.EQ.aj().Xg();n.wit(h),n.bit(o);const a=n.zit();a.bV(0),a.$V("noease"),a.yit(!0),a.ltt("");const l=n.zit();l.bV(t.time),l.$V("noease"),l.yit(!0),l.ltt("");for(const s of t.flt){const i=n.$it();i.Get(s.ylt),i.Det(s.Mlt),i.Oet(s.uit),i.ket(s.type),i.$et(NaN),i.Wet(NaN),i.stt("default"),i.itt(s.glt),i.yit(!0);const e=i.ont();e.Fet(s.valueType),e.bV(0),e.$V(s.wlt),e.yit(!0),e.pnt(s.Slt),e.unt(s.Slt);const r=i.ont();r.Fet(s.valueType),r.bV(t.time),r.$V(s.wlt),r.yit(!0),r.pnt(s.Tlt),r.unt(s.Tlt),i.J9()}return e}}static dit(t,s){if(!isNaN(s))for(const i of t.B8())i.dit(s)}blt(t,s){return this.Rat||(this.Rat=UM.Yn(self.FV,this,t,s)),this.Rat}}}{const HM=self.Gs;HM.kat=class extends HM.Y9{constructor(t,s){super(t,s),this.vlt=null,this.xlt=null}static _C(t,s){return HM.Yn(HM.kat,t,s)}Clt(){1===this.zst.length?this.vlt=this.zst[0]:(this.vlt=this.zst[0],this.xlt=this.zst[1])}Bst(){for(const t of this.Gst.Yst().Wst())this.zst.push(HM.Ilt._C(this,t));this.Clt()}$it(){const t=this.Gst.Yst().Uit(),s=HM.Ilt._C(this,t);return this.zst.push(s),this.Clt(),s}l8(){if(this.Jst(),!this.Hst()&&this.q9())return;const t=this.Vst().att()?0:this.pit();for(const s of this.zst)s.l8(t),0===this.$st&&1===s.Iit()&&(this.$st=1),0===this.S6&&1===s.u8()&&(this.S6=1);this.Ust=0,this.zst.some((t=>t.Ktt()))&&(this.Ust=1),this.kst=this.Git(t),this.Ost=!1,this.Rst=!1,this.wc(t)}ist(){}wc(t,s=!1,i=!1,e=!1,n=!1,r=!1,h=!1){if(this._st||this.UV(),this._st)return!this._st.AJ()&&(!r||!this.GU().n0())&&(this.xlt?(this.vlt.wc(t,i,e,h),this.xlt.wc(t,i,e,h)):this.vlt.wc(t,i,e,h),void(0!==this.vlt.Iit()&&(this.Ast||(this.Ast=this._st.aj()),this.Ast&&this.Ast.jW())))}hst(){}i3(t){super.i3(t),this.Clt()}}}{const qM=self.Gs;qM.Ilt=class extends qM.Qst{constructor(t,s){super(t,s),this.Glt=!1}static _C(t,s){return qM.Yn(qM.Ilt,t,s)}wc(t,s=!1,i=!1,e=!1){let n,r;if(this.Glt)n=this.aet[0],r=this.aet[1];else if(s)n=this.het.Jet(t,this.ret),r=n.Q8();else{if(this.cet){const s=this.Vst(),i=this.cet.Q8(),e=this.cet.DO(),n=i?i.DO():s.xV();(t<=e||t>=n)&&(this.cet=this.het.Jet(t,this.ret))}else this.cet=this.het.Jet(t,this.ret);n=this.cet,r=n.Q8()}this.oet.wc(t,n,r,s,i,e)}ont(){const t=this.ret.uet().ant();return this.cet=null,this.Glt=this.Yet().length<=2,t}Qit(t){this.cet=null,this.ret.uet().lnt(t),this.Glt=this.Yet().length<=2}s3(){return{sourceAdapterJson:this.J9().s3(),basic:this.Glt}}i3(t){t&&(this.J9().i3(t.sourceAdapterJson),this.Glt=t.basic)}}}{const ZM=self.Gs,XM=self.$u,KM=0,tw=1,sw=2;ZM.Sc=class extends ZM.Un{constructor(t,s=!0){super(),this.Hn=t[0],this.Elt=t[2],this.Nlt=[];for(const s of t[1]){const t=ZM.Dlt._C(this,s);this.Nlt.push(t)}for(let t=0;t<this.Nlt.length;t++){const s=this.Nlt[t],i=this.Nlt[t+1],e=this.Nlt[t-1];s.qot(i),s.cat(e)}this._lt=new Map,this.Alt=new Map,this.Llt(),s&&XM.bc(this.Hn,((t,s,i,e)=>this.wc(t,s,i,e)),null,{transition:this})}static _C(t){return ZM.Yn(ZM.Sc,t)}Qn(){for(const t of this.Nlt)t.Qn();ZM.Sh(this.Nlt),this.Nlt=null,this._lt.clear(),this._lt=null,this.Alt.clear(),this.Alt=null}Tc(t){this.Elt=!!t}Olt(t){const s=this.Alt.get(t);if(s)return s;for(const s of this.Nlt)if(s.Rlt()===t)return this.Alt.set(t,s),s}Plt(t){for(let s=this.Nlt.length-1;s>=0;s--){const i=this.Nlt[s],e=i.Rlt();if(e<=t){let s=i;if(e<t)return s;if(e===t){for(;s;){const t=s.V8();if(!t)break;if(t.Rlt()!==s.Rlt())break;s=t}return s}}}}wc(t,s,i,e){let n=t/e;if(this.Elt){const n=this.Olt(0),r=this.Olt(1),h=s+(s+i)*n.klt(),o=(s+i)*r.klt()-h;return 0===e?h+o:XM.xc(t,h,o,e)}0===e&&(n=1);let r=this.Plt(n),h=r.Q8();if(!h){const t=r.V8(),s=r;r=t,h=s}const o=h.Rlt()-r.Rlt(),a=ZM.qn(n,r.Rlt(),h.Rlt(),0,o);if(r.Flt()||0===o){const t=s+(s+i)*r.klt(),e=(s+i)*h.klt()-t;return 0===o?1===a?t+e:t:XM.xc(a,t,e,o)}const l=r.Rlt(),u=r.klt(),c=r.Rlt()+r.jlt(),f=r.klt()+r.zlt(),d=h.Rlt()+h.Blt(),p=h.klt()+h.$lt(),m=h.Rlt(),g=h.klt();let y=XM.rc("spline")(a,l,u,c,f,d,p,m,g,this._lt.get(r));return y+=r.klt(),(1-y)*s+y*(s+i)}Llt(){this._lt.clear();for(let t=0;t<this.Nlt.length-1;t++){const s=this.Nlt[t];if(!s.eot())continue;const i=s,e=this.Nlt[t+1];if(!e.not())continue;const n=i.Rlt(),r=i.Rlt()+i.jlt(),h=e.Rlt()+e.Blt(),o=e.Rlt();this._lt.set(i,XM.Cc(n,r,h,o))}}}}{const iw=self.Gs,ew=0,nw=1,rw=2,hw=3,ow=4,aw=5,lw=6,uw=7,cw=8;iw.Dlt=class extends iw.Un{constructor(t,s){super(),this.Ult=t,this.Wlt=s[0],this.Ylt=s[1],this.Qlt=s[2],this.Vlt=s[3],this.Jlt=s[4],this.Hlt=s[5],this.bat=s[6],this.xat=s[7],this.qlt=s[8],this.Jot=null,this.lat=null}Qn(){this.Ult=null}static _C(t,s){return iw.Yn(iw.Dlt,t,s)}qot(t){this.Jot=t}Q8(){return this.Jot}cat(t){this.lat=t}V8(){return this.lat}Rlt(){return this.Wlt}klt(){return this.Ylt}jlt(){return this.Qlt}zlt(){return this.Vlt}Blt(){return this.Jlt}$lt(){return this.Hlt}eot(){return this.bat}not(){return this.xat}Flt(){return"linear"===this.qlt}Zlt(){return"cubic"===this.qlt}}}{const fw=self.Gs;fw.Xlt=class extends fw.Un{constructor(t){super(),this.Fc=t,this.Klt=[]}Qn(){for(const t of this.Klt)t.Qn();fw.Sh(this.Klt),this.Klt=null}_C(t){this.Klt.push(fw.Sc._C(t))}}}{const dw=self.Gs;dw.tut=class extends dw.Un{constructor(t){super(),this.Fc=t,this.sut=null,this.iut=null,this.c6=t=>this.f6(t.EQ)}Qn(){if(this.T6(),this.sut){for(const t of this.sut.values())t.clear();this.sut.clear()}this.sut=null,this.Fc=null}_C(t){if(this.sut||(this.sut=new Map),!t)return;const s=t[0][16][0],i=t[1];this.sut.has(i)||this.sut.set(i,new Map),this.sut.get(i).set(s,t)}b6(){const t=this.Fc.Mf();t&&t.addEventListener("instancedestroy",this.c6)}T6(){const t=this.Fc.Mf();t&&t.removeEventListener("instancedestroy",this.c6)}eut(){return!!this.sut&&0!==this.sut.size}nut(t,s){let i=0;if(i=t instanceof dw.rut?t.ek():t,!this.sut.has(i))return;const e=this.sut.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}hut(t,s){this.iut||(this.iut=new WeakMap),this.iut.has(t)||this.iut.set(t,s)}out(t){if(!this.iut)return"";return this.iut.get(t)||""}f6(t){this.iut&&this.iut.has(t)&&this.iut.delete(t)}}}{const pw=self.Gs;pw.aut=class{constructor(t){this.Fc=t,this.lut=new pw.uut}Qn(){this.lut.Qn(),this.lut=null,this.Fc=null}Pj(){return this.Fc}_C(t){this.lut.ju(t)}cut(t){return this.lut.Qs(t)}fut(){return this.lut.fut()}}}{const mw=self.Gs;mw.dut=class{constructor(t,s,i,e,n,r,h){this.Fc=n.Pj(),this.mut=n,this.gut=t,this.yut=i,this.Mut=e,this.NM=s,this.Q5=r,this.wut=h??r.UV().zU(),this.Sut(),this.Tut=this.vut?.but()??-1,this.xut=[],this.Cut=null,this.Iut=NaN,this.Gut=null,this.Eut=null,this.Nut=null,this.Dut="",this._ut=null,this.Aut="",this.Lut="",this.Out=0,this.Rut=!1,this.x9=!1}Qn(){this.x9||(mw.Sh(this.xut),this.xut=null,this.Fc=null,this.mut=null,this.Mut=null,this.Q5=null,this.Cut=null,this.Iut=NaN,this.Gut&&this.Gut.clear(),this.Gut=null,this.Eut=null,this.Nut=null,this.Dut="",this._ut=null,this.Aut="",this.Lut="",this.x9=!0)}Vn(){return this.x9}Put(){return this.mut}Pj(){return this.Fc}Nc(){return this.gut}kut(){return this.Mut}gV(){return this.NM}R6(){return this.Q5||(this.Q5=this.Fc.ej(this.wut).yQ()),this.Q5}Fut(){return this.jut(this.Tut)}zut(){const t=this.Fut();return t?t.gV():""}But(){const t=this.Fut();return t?t._V():[]}$ut(t){const s=this.But();if(!s)return!1;if(!s.length)return!1;const i=mw.dut.utt(t);return!(!i||!i.length)&&i.every(mw.dut.ftt,s)}Uut(t,s){const i=this.But();if(!i)return!1;if(!i.length)return!1;const e=mw.dut.utt(t);return!(!e||!e.length)&&e.every((t=>mw.dut.Wut.call(i,t,s)))}static ftt(t){const s=this;return""===t?1===s.length&&""===s[0]:s.map((t=>t.trim().toLowerCase())).includes(t.trim().toLowerCase())}static utt(t){return t.trim().split(" ")}static Wut(t,s){const i=this;return""===t?1===i.length&&""===i[0]:i.some((i=>mw.compare(i.trim(),s,t.trim())))}Yut(t){const s=this.Fut();if(s){if(mw.te(t)){const i=s.Qut(),e=i?i[t]:void 0;if(mw.te(e))return this.jut(e)}if("string"==typeof t)for(const i of s.Qut()){const s=this.jut(i);if(s.TV(t))return this.jut(s.but())}}}Vut(t){const s=this.Yut(t);return s?s.gV():""}Jut(t){const s=this.Yut(t);return s?s._V():""}Hut(t){const s=this.Fut();if(!s)return-1;const i=s.Qut();if(!i)return-1;const e=this.Yut(t);return e?i.indexOf(e.but()):-1}qut(){const t=this.Fut();if(!t)return 0;const s=t.Qut();return s?s.length:0}jut(t){return this.Mut.jut(t)}jf(){this.Xut().Zut(!0)}Zut(t){if(this.Kut()){for(const[t,s]of this.Kut().entries())s.Zut(!1);this.Kut().clear()}if(this.Gut=null,this.Cut=null,this.tct=null,this.Eut=null,this.Dut="",this._ut=null,this.Aut="",this.Lut="",this.xut=[],t){this.mut.sct(this);const t=this.vut.but();t!==this.Tut&&this.ict(t)}else this.Tut=this.vut.but()}ect(){const t=this.Mut.jut(this.Tut);return t?t.rct().nct():0}hct(t){return!(t<0)&&t===this.oct()}oct(){const t=this.Mut.jut(this.Tut);if(!t)return-1;let s=t.rct().act();return s?t.rct().lct().indexOf(s):-1}uct(t){const s=this.cct(t);return s?s.Nc():""}fct(t){let s;return mw.te(t)&&(s=this.cct(t)),"string"==typeof t&&(s=this.dct(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Aet():""}pct(t,s){if(t.git())return t.but();{const i=t.rct().act();if(!i)return s.but();const e=i.mct();if(!mw.te(e))return s.but();const n=this.jut(e);return n?this.pct(n,s):s.but()}}gct(t,s){if(t.git()){if("reference"===t.LI()){const s=t.yct(),i=t.Mct(),e=this.mut.cut(s);if(!e)return[-1,null];const n=e.wct(i);return n?this.gct(n,e):this.gct(e.Sct(),e)}return[t.but(),s]}{const i=t.rct().act();if(!i)return[-1,null];const e=i.mct();if(!mw.te(e))return[-1,null];const n=s.jut(e);return n?this.gct(n,s):[-1,null]}}Tct(t,s){let i=this.jut(t);if(i){if(!i.git()){const s=this.jut(this.Tut);t=this.pct(i,s)}if(mw.te(t)&&t!==this.Tut)if(i=this.jut(t),"reference"===i.LI()){const e=i.yct(),n=i.Mct(),r=this.mut.cut(e);let h=r.wct(n);if(h){const i=this.gct(h,r);if(-1===i[0])return;s(this.Tut,t,i[1],i[0])}else s(this.Tut,t)}else s(this.Tut,t)}}bct(t){let s;if(mw.te(t)&&(s=this.cct(t)),"string"==typeof t&&(s=this.dct(t)),!s)return;let i=s.mct();mw.te(i)&&this.Tct(i,((t,s,i,e)=>{this.xut.push(t),this.ict(s,i,e)}))}vct(){const t=this.xct();if(!t)return;const s=t.mct();mw.te(s)&&this.Tct(s,((t,s,i,e)=>{this.xut.push(t),this.ict(s,i,e)}))}Cct(t){const s=this.Mut.wct(t);if(!s)return;const i=s.but();mw.te(i)&&this.Tct(i,((t,s,i,e)=>{this.xut.push(t),this.ict(s,i,e)}))}Ict(){const t=this.xut.pop();mw.te(t)?this.ict(t):this.Gct()&&(this.mut.sct(this.Gct(),!0,!1,!1),this.Gct().ict(this.Ect()),this.Xut().Nct(this.Gct()))}Dct(t){if(!this.Fut())return;const s=this.Yut(t);if(s){if(!s.git())return;const t=s.but();if(!mw.te(t))return;this.xut.push(this.Tut),this.ict(s.but())}}_ct(t){if(mw.te(t))return!!this.Mut.jut(this.Tut).rct().lct()[t];if("string"==typeof t){const s=this.Mut.jut(this.Tut).rct().lct();for(let i=0;i<s.length;i++)if(s[i].Nc()===t)return!0;return!1}return!1}Act(){this.Rut=!0}Lct(){return this.Out>0}Oct(){this.Out++}Rct(){this.Out--,0===this.Out&&this.Rut&&this.mut.Pct(this)}ict(t,s,i){const e=this.Tut,n=this.R6().UV();this.Oct(),this.mut.kct(this),this.Fc.lW(mw.Nj.jct.Gj.Fct,n),this.Fc.lW(mw.Nj.jct.Gj.zct,n),this.Fc.lW(mw.Nj.jct.Gj.Bct,n),this.Fc.lW(mw.Nj.jct.Gj.$ct,n),this.Tut=t;let r=this.jut(this.Tut);if("dictionary"===r.LI()&&(this.Fc.lW(mw.Nj.jct.Gj.Uct,n),this.Fc.lW(mw.Nj.jct.Gj.Wct,n),this.Fc.lW(mw.Nj.jct.Gj.Yct,n),this.Fc.lW(mw.Nj.jct.Gj.Qct,n)),this.mut.Vct(),this.Rct(),!this.Vn()&&(r=this.jut(this.Tut),"reference"===r.LI())){const t=s?s.Nc():r.yct();if(this.Jct(r)){this.xut.pop();const t=this.Hct(r);this.mut.sct(t,!0,!0,!1),t.qct(this,e),this.Xut().Nct(t)}else{const s="number"==typeof i?i:r.Mct();if(t){this.xut.pop();let i=r.Zct();if(i){let t=this.mut.Xct(i);for(;t;)i=mw.Im(i),t=this.mut.Xct(i)}else{i=`${t}-ref`;let s=this.mut.Xct(i);for(;s;)i=mw.Im(i),s=this.mut.Xct(i)}const n=this.mut.Kct(t,s,i,this.Q5,!0);n.qct(this,e),this.tft(r,n);const h=this.Xut();n.sft(h),h.Nct(n)}}}}xct(){const t=this.Mut.jut(this.Tut);return t?t.rct().act():null}cct(t){const s=this.Mut.jut(this.Tut);if(!s)return null;const i=s.rct().lct();if(!i)return null;return i[t]||null}dct(t){const s=this.Mut.jut(this.Tut);if(!s)return null;return s.rct().ift(t)||null}Sut(t){if("number"==typeof t){let s=this.jut(t);s||(s=this.Mut.Sct()),this.vut=s}else if("number"==typeof this.yut){let t=this.jut(this.yut);t||(t=this.Mut.Sct()),this.vut=t}else{let t=this.Mut.wct(this.yut);t||(t=this.Mut.Sct()),this.vut=t}}s3(){return this.Rut?null:{flowchartName:this.gut,flowchartTag:this.NM,startNodeTag:this.yut,currentNodeId:this.Tut,previousNodeIds:this.xut,pluginUID:this.Q5.UV().zU(),reference:{previousFlowchartTag:this.Gct()?this.Gct().gV():"",previousStartNodeId:mw.te(this.Ect())?this.Ect():NaN,referencesJson:this.eft(),currentReferenceFlowchartTag:this.nft()?this.nft().gV():"",rootFlowchartTag:this.Xut()?this.Xut().gV():""}}}eft(){if(!this.rft())return null;const t=[];for(const[s,i]of this.Kut().entries())t.push({flowchartElementId:s.but(),flowchartStateTag:i.gV()});return t.length?t:null}i3(t){if(t){if(this.gut=t.flowchartName,this.NM=t.flowchartTag,this.yut=t.startNodeTag,this.Tut=t.currentNodeId,this.xut=t.previousNodeIds,this.wut=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.Dut=s.previousFlowchartTag,this.Iut=s.previousStartNodeId,this._ut=s.referencesJson,this.Aut=s.currentReferenceFlowchartTag,this.Lut=s.rootFlowchartTag}this.Sut()}}Gct(){return"string"==typeof this.Dut&&this.Dut&&(this.Cut=this.mut.Xct(this.Dut),this.Dut=""),this.Cut}Ect(){return this.Iut}qct(t,s){this.Cut=t,this.Iut=s}nft(){return"string"==typeof this.Aut&&this.Aut&&(this.Eut=this.mut.Xct(this.Aut),this.Aut=""),this.Eut}Nct(t){this.Eut=t,this.Eut===this&&(this.Eut=null)}Xut(){return"string"==typeof this.Lut&&this.Lut&&(this.Nut=this.mut.Xct(this.Lut),this.Lut=""),this.Nut?this.Nut:this}sft(t){this.Nut=t}rft(){return this.hft(),!!this.Gut}Jct(t){return this.hft(),this.Gut&&this.Gut.has(t)}hft(){if(this._ut){this.Gut&&this.Gut.clear(),this.Gut||(this.Gut=new Map);for(const t of this._ut){const s=this.mut.Xct(t.flowchartStateTag),i=s.jut(t.flowchartElementId);this.Gut.set(i,s)}this._ut=null}}Kut(){return this.hft(),this.Gut}Hct(t){return this.hft(),this.Gut.get(t)}tft(t,s){this.Gut||(this.Gut=new Map),this.Gut.set(t,s)}}}{const gw=self.Gs;gw.oft=class{constructor(t){this.Fc=t,this.aft=new Map,this.lft=null,this.uft=[],this.cft=()=>this.g6(),this.fft=null}Qn(){gw.Sh(this.uft),this.uft=null,this.aft.clear(),this.aft=null,this.lft=null,this.Fc=null,this.fft=null}Pj(){return this.Fc}cut(t){return this.Fc.Put().cut(t)}Kct(t,s,i,e,n,r){const h=this.Fc.Put().cut(t);if(!h)return void console.warn(`[Flowcharts] no flowchart found with name '${t}'`);if(this.aft.has(i)){const t=this.aft.get(i);return void(t&&this.Pct(t))}const o=new gw.dut(t,i,s,h,this,e,r);return this.aft.set(i,o),n&&this.sct(o,!0),o}Pct(t){if(t.Act(),t.Lct())return;const s=t.gV();this.aft.delete(s),t.Qn(),this.lft===t&&(this.lft=null)}dft(t){t.jf()}Xct(t){return this.aft.get(t)}kct(t){this.uft.push(t)}Vct(){this.uft.pop()}sct(t,s=!1,i=!1,e=!0){if(e){const s=t.nft();t=s||t}t!==this.lft&&(this.pft(),this.mft(t,s,i))}gft(t){return"string"==typeof t?this.Xct(t):this.uft.length?this.uft[this.uft.length-1]:this.lft}pft(){if(!this.lft)return;if(this.lft.Vn())return;const t=this.lft.R6().UV();this.lft.Oct(),this.kct(this.lft),this.Fc.lW(gw.Nj.jct.Gj.yft,t),this.Vct(),this.lft.Rct()}mft(t,s=!1,i=!1){if(this.lft=t,!this.lft)return;if(this.lft.Vn())return;const e=this.lft.R6().UV();this.lft.Oct(),this.kct(this.lft),this.Fc.lW(gw.Nj.jct.Gj.Mft,e),!0!==i&&"number"!=typeof i||this.lft.Sut(i),s&&(this.Fc.lW(gw.Nj.jct.Gj.Uct,e),this.Fc.lW(gw.Nj.jct.Gj.Wct,e),this.Fc.lW(gw.Nj.jct.Gj.Yct,e),this.Fc.lW(gw.Nj.jct.Gj.Qct,e)),this.Vct(),this.lft.Rct()}s3(){return{flowchartJsonObjects:[...this.aft.values()].map((t=>t.s3())),currentFlowchartTag:this.lft?this.lft.gV():null}}i3(t){if(!t)return;this.fft=t;const s=new Map;for(const t of this.fft.flowchartJsonObjects){const i=t.flowchartTag;if(this.aft.has(i)){const e=this.aft.get(i);e.i3(t),s.set(i,e)}else{const i=this.Kct(t.flowchartName,t.startNodeTag,t.flowchartTag,null,!1,t.pluginUID);i.i3(t),s.set(t.flowchartTag,i)}}for(const[t,i]of this.aft.entries())s.has(t)||i.Qn();this.aft.clear(),this.aft=s,this.Fc.j4()?this.Fc.Mf().addEventListener("afterload",this.cft):this.g6()}g6(){this.Fc.Mf().removeEventListener("afterload",this.cft);const t=this.aft.get(this.fft.currentFlowchartTag);t&&this.sct(t,!0),this.fft=null}}}{const yw=self.Gs;yw.uut=class{constructor(){this.wft=new Map}Qn(){for(const t of this.wft.values())t.Qn();this.wft.clear(),this.wft=null}ju(t){const s=new yw.Sft(t),i=s.Nc();this.wft.set(i,s)}Qs(t){return this.wft.get(t)}fut(){return!!this.wft.size}static Tft(t,s,i,e){if(s)for(const n of s){const s=new i(n,e);t.push(s)}}}}{const Mw=self.Gs,ww=0,Sw=1;Mw.Sft=class{constructor(t){this.Hn=t[0],this.bft=new Mw.vft(t[1],this)}Qn(){this.bft.Qn(),this.bft=null}xft(){return this.bft}jut(t){return this.bft.jut(t)}wct(t){return this.bft.wct(t)}Sct(){return this.bft.Sct()}Nc(){return this.Hn}}}{const Tw=self.Gs,bw=0,vw=1,xw=2,Cw=3,Iw=4,Gw=5,Ew=6,Nw=7,Dw=8,_w=8,Aw=9,Lw=10,Ow=11;class Rw{constructor(t,s){this.bft=s,this.Qc=t[7],this.Cft=t[0],this.NM=t[1],this.NM?this.A9=this.NM.trim().split(" ").map((t=>t.trim())):this.A9=[],this.Ift=t[2],this.Gft=null,this.Eft=null,this.Qot=!1,"dictionary"===this.Qc&&(this.Gft=t[3],this.Eft=t[4],this.Qot=t[8]),this.Nft=t[6],this.Dft=null,this._ft=null,this.Aft=null,"reference"===this.Qc&&(this.Dft=t[8],this._ft=t[9],this.Aft=t[10],this.Qot=t[11]),this.Lft=new Tw.Oft(t[5],this)}Qn(){this.bft=null}xft(){return this.bft}rct(){return this.Lft}but(){return this.Cft}gV(){return this.NM}_V(){return this.A9}TV(t){if(!this.A9)return!1;if(!this.A9.length)return!1;const s=Tw.dut.utt(t);return!(!s||!s.length)&&s.every(Tw.dut.ftt,this.A9)}Rft(){return this.Nft}Pft(t){this.Nft=!!t}kft(){if("dictionary"===this.Qc)return!0;if("reference"===this.Qc)return!1;throw new Error(`unexpected flowchart node type: ${this.Qc}`)}Qut(){return this.Ift}Fft(){return this.Gft}jft(){return this.Eft}LI(){return this.Qc}git(){return this.Qot}yct(){return this.Dft}Mct(){return this._ft}Zct(){return this.Aft}}Tw.vft=class{constructor(t,s){this.Mut=s,this.zft=[],this.Bft=new Map,this.$ft=new Map,this.Uft=null,Tw.uut.Tft(this.zft,t,Rw,this);for(const t of this.zft){const s=t.but(),i=t.gV(),e=t._V(),n=t.Rft();if(this.Bft.set(s,t),i)for(const s of e)this.$ft.has(s)||this.$ft.set(s,new Set),this.$ft.get(s).add(t);n&&(this.Uft=t);const r=t.rct();for(const t of r.Wft()){const s=t.but();this.Bft.set(s,t)}}this.Uft||this.Yft()}Qn(){this.Mut=null;for(const t of this.zft)t.Qn();Tw.Sh(this.zft),this.zft=null}kut(){return this.Mut}jut(t){return this.Bft.get(t)}wct(t){if(!t||!t.length)return null;const s=[];for(const i of t.trim().split(" ")){let t=this.$ft.get(i.trim())??new Set;if(0===t.size)return null;s.push(t)}return[...s.reduce(((t,s)=>s.size<t.size?s:t))].filter((t=>s.every((s=>s.has(t)))))[0]}Sct(){return this.Uft}*Qft(){for(const t of this.zft)yield t}Yft(){let t=0;for(const s of this.Qft())s.Rft()&&t++;if(0===t){for(const t of this.Qft())if(t.kft()&&!t.Rft())return void t.Pft(!0)}else{if(1===t)return;if(t>1){let t=!0;for(const s of this.Qft())s.kft()&&(s.Rft()&&t?t=!1:s.Rft()&&!t&&s.Pft(!1))}}for(const t of this.Qft())if(t.kft()&&t.Rft())return void(this.Uft=t)}}}{const Pw=self.Gs,kw=0,Fw=1,jw=2,zw=3,Bw=4,$w=5;class Uw{constructor(t,s){this.Lft=s,this.Cft=t[0],this.Hn=t[1],this.Wnt=t[2],this.Vft=t[3],this.Qot=t[4],this.Jft=t[5]}Qn(){this.Lft=null}rct(){return this.Lft}but(){return this.Cft}Nc(){return this.Hn}Aet(){return this.Wnt}mct(){return this.Vft}git(){return this.Qot}Hft(){return this.Jft}}Pw.Oft=class{constructor(t,s){this.qft=s,this.Zft=[],this.Xft=new Map,Pw.uut.Tft(this.Zft,t,Uw,this),this.Kft=this.Zft.filter((t=>t.git()));for(const t of this.Kft)this.Xft.set(t.Nc(),t)}Qn(){this.qft=null;for(const t of this.Zft)t.Qn();Pw.Sh(this.Zft),this.Zft=null,Pw.Sh(this.Kft),this.Kft=null}tdt(){return this.qft}nct(){return this.Kft.length}lct(){return this.Kft}ift(t){return this.Xft.get(t)}act(){for(const t of this.Kft)if(t.Hft())return t}*Wft(){for(const t of this.Kft)yield t}}}{const Ww=self.Gs;Ww.sdt=class extends Ww.Un{constructor(t){super(),this.idt=t,this.edt=[],this.edt.push(Ww.Yn(Ww.ndt,this)),this.EM=0,this.rdt=this.edt[0]}Qn(){for(const t of this.edt)t.Qn();Ww.Sh(this.edt),this.rdt=null,this.idt=null}GU(){return this.idt}_B(){return this.rdt}hdt(){return this.edt[this.EM-1]}Nu(){this._B().Nu()}odt(){const t=this.edt,s=++this.EM;if(s===t.length){const s=Ww.Yn(Ww.ndt,this);t.push(s),this.rdt=s}else{const i=t[s];i.jf(),this.rdt=i}}adt(){const t=this.edt,s=++this.EM;s===t.length&&t.push(Ww.Yn(Ww.ndt,this));const i=t[s];i.rd(t[s-1]),this.rdt=i}IH(){this.rdt=this.edt[--this.EM]}ldt(t){const s=this.edt;for(let i=0,e=s.length;i<e;++i)s[i].ldt(t)}}}{const Yw=self.Gs;Yw.ndt=class extends Yw.Un{constructor(t){super(),this.edt=t,this.idt=this.edt.GU(),this.udt=this.idt.Pj().Xk(),this.cdt=!0,this.pX=[],this.fdt=[]}Qn(){this.ddt(),this.edt=null,this.idt=null,this.udt=null}ddt(){Yw.Sh(this.pX),Yw.Sh(this.fdt)}GU(){return this.idt}pdt(){return this.cdt}mdt(){return this.cdt?!!this.idt.LB():!!this.pX.length}DB(){return this.cdt?this.idt.DB():this.pX}gdt(){return!!this.fdt.length}ydt(){return this.fdt}Mdt(){const t=this.DB();return t.length?t:this.fdt}jf(){this.cdt=!0,Yw.Sh(this.fdt)}Nu(){this.cdt=!0}rd(t){t.pdt()?this.jf():(this.cdt=!1,Yw.Ch(this.pX,t.pX),Yw.Sh(this.fdt))}wdt(t){this.pX.push(t)}Sdt(t){this.fdt.push(t)}Tdt(t){this.cdt=!!t}bdt(){return this.pX}vdt(){return this.fdt}xdt(t){this.cdt=!1,Yw.Sh(this.pX),this.pX.push(t)}Cdt(t){this.cdt=!1,Yw.Ch(this.pX,t)}Idt(t){this.cdt=!1,Yw.Sh(this.pX);for(const s of t)this.pX.push(s)}Gdt(t,s){for(const i of s)t.has(i)||this.fdt.push(i)}Edt(t){for(const s of t)this.pX.push(s);Yw.Dh(this.fdt,t)}Ndt(){Yw.Sh(this.fdt)}Ddt(t){if(t)if(this.udt.pH().Yk()._dt()){this.pdt()&&(Yw.Sh(this.pX),Yw.Ch(this.fdt,t.GU().DB()),this.cdt=!1);const s=this.fdt.indexOf(t);-1!==s&&(this.pX.push(this.fdt[s]),this.fdt.splice(s,1))}else this.xdt(t)}ldt(t){Yw.Dh(this.pX,t),Yw.Dh(this.fdt,t)}}}{const Qw=self.Gs;Qw.Adt=class extends Qw.Un{constructor(t){super(),this.Ldt=t,this.Fc=this.Ldt.Pj(),this.edt=[],this.edt.push(Qw.Yn(Qw.Odt,this,null)),this.EM=0,this.Rdt=[]}Qn(){for(const t of this.edt)t.Qn();Qw.Sh(this.edt),Qw.Sh(this.Rdt),this.Ldt=null,this.Fc=null}jk(){return this.Ldt}Pj(){return this.Fc}pH(){return this.edt[this.EM]}Pdt(){return this.edt}kdt(){return this.EM}mH(t){const s=this.edt,i=++this.EM;if(i===s.length){const i=Qw.Yn(Qw.Odt,this,t);return s.push(i),i}{const e=s[i];return e.jf(t),e}}IH(){--this.EM}Fdt(t){this.Rdt.push(t)}jdt(){this.Rdt.pop()}Zk(){const t=this.Rdt;return 0===t.length?null:t.at(-1)}}}{const Vw=self.Gs;Vw.Odt=class extends Vw.Un{constructor(t,s){super(),this.edt=t,this.Fc=this.edt.Pj(),this.zdt=s,this.Bdt=0,this.$dt=0,this.Udt=!1,this.Wdt=!1,this.Ydt=null,this.Qdt=0,this.Vdt=0,this.Jdt=null}Qn(){this.jf(null),this.edt=null,this.Fc=null}jf(t){this.zdt=t,this.Bdt=0,this.$dt=0,this.Udt=!1,this.Wdt=!1,this.Jdt=null}Hdt(t,s){this.zdt=t,this.Bdt=0,this.$dt=s}qdt(){this.Bdt=0,this.$dt=0}Yk(){return this.zdt}Zdt(t){this.zdt=t}Xdt(){return this.Bdt}Kdt(t){this.Bdt=t}tpt(){return this.$dt}spt(t){this.$dt=t}ipt(t){this.Udt=!!t}ept(){return this.Udt}npt(t){this.Wdt=!!t}rpt(){return this.Wdt}hpt(t){this.Ydt=t}opt(){return this.Ydt}apt(t,s){this.Qdt=t,this.Vdt=s}Kk(){return this.Qdt}tF(t){this.Vdt=t}lpt(){return this.Vdt}upt(){const t=this.zdt;return!!t.cpt()||this.Bdt<t.fpt()-1&&!!t.dH().length}dpt(t){this.Jdt=t}ppt(){return this.Jdt}}}{const Jw=self.Gs;Jw.mpt=class extends Jw.Un{constructor(t){super(),this.Ldt=t,this.Fc=this.Ldt.Pj(),this.edt=[],this.EM=-1,this.rdt=null,this.gpt=[]}Qn(){Jw.Sh(this.edt),this.Ldt=null,this.Fc=null}ypt(t){this.gpt=t;const s=this.gpt.slice(0);this.edt.push(s),this.EM=0,this.rdt=s}jk(){return this.Ldt}Pj(){return this.Fc}Mpt(){return this.rdt}mH(){const t=++this.EM,s=this.edt;t===s.length?s.push(this.gpt.slice(0)):Jw.Ch(s[t],this.gpt),this.rdt=s[t]}IH(){this.rdt=this.edt[--this.EM]}}}{const Hw=self.Gs;Hw.wpt=class extends Hw.Un{constructor(t){super(),this.Ldt=t,this.Fc=this.Ldt.Pj(),this.edt=[],this.EM=-1}Qn(){Hw.Sh(this.edt),this.Ldt=null,this.Fc=null}jk(){return this.Ldt}Pj(){return this.Fc}Spt(){return this.EM>=0}Mpt(){return this.edt[this.EM]}mH(){if(++this.EM,this.EM===this.edt.length){const t=Hw.Yn(Hw.Tpt,this);return this.edt.push(t),t}{const t=this.edt[this.EM];return t.jf(),t}}IH(){--this.EM}bpt(t){const s=this.edt;for(let i=this.EM;i>=0;--i){const e=s[i];if(e.Nc()===t)return e}return null}vpt(){return this.edt.slice(0,this.EM+1)}}}{const qw=self.Gs;qw.Tpt=class extends qw.Un{constructor(t){super(),this.xpt=t,this.Hn="",this.EM=0,this.Cpt=!1,this.Ipt=NaN}jf(){this.Hn="",this.EM=0,this.Cpt=!1,this.Ipt=NaN}yH(t){this.Hn=t}Nc(){return this.Hn}vH(t){this.EM=t}ek(){return this.EM}wV(){this.Cpt=!0}CH(){return this.Cpt}Gpt(t){this.Ipt=t}Ept(){return this.Ipt}}}{const Zw=self.Gs;Zw.Npt=class extends Zw.Un{constructor(){super(),this.edt=[],this.EM=-1}Qn(){Zw.Sh(this.edt)}Mpt(){return this.edt[this.EM]}mH(){if(++this.EM,this.EM===this.edt.length){const t=[];return this.edt.push(t),t}return this.edt[this.EM]}IH(){--this.EM}}}{let Xw=function(t,s){return t.ek()-s.ek()},Kw=function(t,s){for(let i=0,e=t.length;i<e;++i)if(t[i]!==s[i])return!1;return!0};SortSolArray=Xw,IsSolArrayIdentical=Kw;const tS=self.Gs,sS=self.assert;tS.Dpt=class extends tS.Un{constructor(t){super(),this.Fc=t,this._pt=[],this.Apt=new Map,this.Lpt=[],this.Opt=new Map,this.Rpt=new Map,this.Ppt=new Map,this.kpt=new Map,this.Fpt=new Map,this.jpt=new Map,this.zpt=0,this.Bpt=[],this.$pt=[],this.Upt=[],this.Wpt=new Map,this.Ypt=new Map,this.udt=tS.Yn(tS.Adt,this),this.Qpt=tS.Yn(tS.mpt,this),this.xpt=tS.Yn(tS.wpt,this),this.Vpt=[],this.Jpt=[],this.Hpt=[],this.qpt=0,this.Zpt=0,this.Xpt=0,this.Kpt=[],this.tmt=[],this.smt=[],this.imt=new Map,this.emt=new Map,self.c3_callFunction=(t,s)=>this.nmt(t,s)}Qn(){this.r5(),this.udt.Qn(),this.udt=null,this.Qpt.Qn(),this.Qpt=null,tS.Sh(this.Jpt),tS.Sh(this.Hpt),this.Fc=null,tS.Sh(this._pt),this.Apt.clear()}_C(t){const s=tS.Yn(tS.rmt,this,t);this._pt.push(s),this.Apt.set(s.Nc().toLowerCase(),s)}hmt(t){this.Vpt.push(t)}omt(){for(const t of this.Ypt.values())t.amt();for(const t of this.Wpt.values())t.omt();for(const t of this.Ypt.values())t.omt();for(const t of this._pt)t.omt();for(const t of this._pt)t.G4();for(const t of this.Vpt)t.omt(!1);tS.Sh(this.Vpt),this.Qpt.ypt(this.Upt)}Pj(){return this.Fc}I4(t){return this.Apt.get(t.toLowerCase())||null}lmt(t){this.Lpt.push(t),this.Opt.set(t.umt(),t)}cmt(t){this.Rpt.set(t.I0(),t)}fmt(t){this.Ppt.set(t.I0(),t)}dmt(t){this.kpt.set(t.I0(),t)}pmt(t){switch(t.mmt()){case 0:this.Wpt.set(t.gmt().toLowerCase(),t);break;case 1:this.Ypt.set(t.gmt().toLowerCase(),t)}}ymt(t){this.jpt.set(t.I0(),t),t.n0()?this.Bpt.push(t):this.$pt.push(t)}Mmt(t){t.length>=2&&t.sort(Xw);let s=this.Fpt.get(t.length);s||(s=[],this.Fpt.set(t.length,s));for(let i=0,e=s.length;i<e;++i){const e=s[i];if(Kw(t,e))return e}return s.push(t),t}wmt(t){return this.Upt.push(t.Smt()),this.zpt++}Xk(){return this.udt}Tmt(){return this.Xk().pH()}Yk(){return this.Tmt().Yk()}bmt(){const t=this.Tmt();return t.Yk().vmt(t.Xdt())}xmt(){const t=this.Tmt();return t.Yk().Cmt(t.tpt())}Imt(){return this.Qpt}gH(){return this.xpt}Gmt(t){const s=[];for(t=t.Emt();t;)tS.Ln(s,t.Nmt()),t=t.Emt();return s}Dmt(t){const s={};for(const i of this.Gmt(t))s[i._mt()]=i.Amt();return Object.create(Object.prototype,s)}Lmt(t){return this.jpt.get(t)||null}Omt(t){return this.Rpt.get(t)||null}Rmt(t){return this.Ppt.get(t)||null}Pmt(t){return this.kpt.get(t)||null}zk(t){return this.Wpt.get(t.toLowerCase())||null}kmt(t,s){let i=this.Ypt.get((t.Nc()+"."+s).toLowerCase());if(i)return i;if(!t.M0())for(const e of t.Fmt())if(i=this.Ypt.get((e.Nc()+"."+s).toLowerCase()),i)return i;return null}jmt(){return this.Bpt}zmt(){return this.$pt}Bmt(t){for(const t of this.Bpt)t.$mt();if(t)for(const t of this.$pt)t.Ox()&&t.$mt()}Umt(t){return this.Opt.get(t.toLowerCase())||null}Wmt(t){const s=this.Rpt.get(t);return s&&s.Ymt()?s:null}Qmt(){return this.Lpt}Vmt(){for(const t of this.Lpt)t.Jmt()}Hmt(){for(const t of this._pt)t.qmt()}Zmt(t){this.Hmt(),this.qpt++;for(const s of t.k5()){const t=s.K3();t&&(this.Fc.Xmt(s),t.KE(),this.Fc.Kmt())}this.qpt--}async tgt(t){this.Hmt(),this.qpt++;for(const s of this.sgt(t))await this.Fc.igt(s);this.qpt--}*sgt(t){for(const s of t.k5()){const t=s.K3();t&&(this.Fc.Xmt(s),yield*t.egt(),this.Fc.Kmt())}}ngt(t,s,i,e){let n=!1;if(!t.zF())return this.rgt(s,i,e);this.Zpt++;for(const r of t.k5()){const t=r.K3();if(!t)continue;this.Fc.Xmt(r);for(const r of t.hgt()){const t=r.ngt(s,i,e);n=n||t}const h=t.ngt(s,i,e);n=n||h,this.Fc.Kmt()}return this.Zpt--,n}*ogt(t,s,i,e){let n=!1;if(!t.zF())return this.rgt(s,i,e);this.Zpt++;for(const r of t.k5()){const t=r.K3();if(!t)continue;this.Fc.Xmt(r);for(const r of t.hgt()){const t=yield*r.ogt(s,i,e);n=n||t}const h=yield*t.ogt(s,i,e);n=n||h,this.Fc.Kmt()}return this.Zpt--,n}rgt(t,s,i){return this.Jpt.push([t,s,i]),!1}agt(t,s,i){let e=null;const n=new Promise((t=>e=t));return this.Hpt.push([t,s,i,e]),n}*lgt(){if(this.Fc.ugt())throw new Error("should not be in breakpoint");const t=this.Fc.UF();for(;this.Hpt.length;){const[s,i,e,n]=this.Hpt.shift();n(yield*this.ogt(t,s,i,e))}}async cgt(){for(const t of this.lgt())await this.Fc.igt(t)}fgt(t,s,i,e){let n=!1;const r=t.zF(),h=r.K3();if(!h)return;this.Zpt++,this.Fc.Xmt(r);const o=h.hgt();for(let t=0,r=o.length;t<r;++t){const r=o[t].fgt(s,i,e);n=n||r}const a=h.fgt(s,i,e);return n=n||a,this.Fc.Kmt(),this.Zpt--,n}*dgt(t,s,i,e){let n=!1;const r=t.zF(),h=r.K3();if(!h)return;this.Zpt++,this.Fc.Xmt(r);const o=h.hgt();for(let t=0,r=o.length;t<r;++t){const r=yield*o[t].dgt(s,i,e);n=n||r}const a=yield*h.dgt(s,i,e);return n=n||a,this.Fc.Kmt(),this.Zpt--,n}pgt(){return this.Zpt}mgt(){return this.pgt()>0}ggt(){return++this.Zpt}ygt(){--this.Zpt}Mgt(){return this.qpt>0}zB(){return this.Mgt()||this.mgt()}H4(t){for(const[s,i,e]of this.Jpt)this.ngt(t,s,i,e);tS.Sh(this.Jpt)}kB(t){t?this.Xpt++:this.Xpt--}OU(){return this.Xpt>0}wgt(t){for(let s=0,i=t.length;s<i;++s)t[s].Sgt().Nu()}Tgt(t){for(let s=0,i=t.length;s<i;++s)t[s].Sgt().odt()}SH(t){for(let s=0,i=t.length;s<i;++s)t[s].Sgt().adt()}bH(t){for(let s=0,i=t.length;s<i;++s)t[s].Sgt().IH()}Qk(t){const s=new Set,i=this.udt.Pdt(),e=this.udt.kdt();for(let n=0;n<=e;++n){const e=i[n].ppt();if(e)for(const i of e)t&&t.has(i)||s.add(i)}return s}bgt(t){const s=new Set([...t]),i=this.Qk(s);if(i.size>0){for(const t of i)t.Sgt().odt();return[...i]}return null}vgt(){const t=tS.Yn(tS.xgt,this);return this.Kpt.push(t),t}Cgt(){return this.Kpt}Igt(){if(!this.Kpt.length)return;const t=this.Tmt();let s=!1;this.qpt++;for(let i=0,e=this.Kpt.length;i<e;++i){const e=this.Kpt[i];e.Ggt()&&e.Egt(t),e.Ngt()&&(s=!0)}s&&(this.Dgt(),t.jf(null)),this.qpt--}async _gt(){if(!this.Kpt.length)return;const t=this.Tmt();let s=!1;this.qpt++;for(let i=0,e=this.Kpt.length;i<e;++i){const e=this.Kpt[i];e.Ggt()&&await e.Agt(t),e.Ngt()&&(s=!0)}s&&(this.Dgt(),t.jf(null)),this.qpt--}Dgt(){const t=tS.Nh(this.Kpt,(t=>t.Ngt()));for(const s of t)s.Qn()}r5(){for(const t of this.Kpt)t.Qn();tS.Sh(this.Kpt)}Lgt(t){for(const s of this.Kpt)s.ldt(t);for(const s of t){const t=this.emt.get(s);if(this.emt.delete(s),t)for(const{resolve:s}of t.Ogt.values())s(!0)}}Rgt(t){this.tmt.push({promise:t,Pgt:this.pgt()})}kgt(){tS.Sh(this.tmt)}Fgt(){const t=this.pgt();this.tmt=this.tmt.filter((s=>s.Pgt<=t))}jgt(){const t=Promise.all(this.tmt.map((t=>t.promise)));return this.tmt=[],t}sF(t){const s=t.toLowerCase();this.smt.push(s),this.Fc.lW(tS.Nj.Ej.Gj.zgt,null),this.smt.pop();for(const t of this.Fc.jk().Cgt())t.Bgt()&&t.$gt()===s&&t.Ugt();const i=this.imt.get(s);i&&(i.resolve(),this.imt.delete(s))}eF(t){const s=t.toLowerCase(),i=this.imt.get(s);if(i)return i.promise;{let t=null;const i=new Promise((s=>t=s));return this.imt.set(s,{promise:i,resolve:t}),i}}Wgt(){if(0===this.smt.length)throw new Error("not in a signal");return this.smt.at(-1)}Ygt(t){let s=this.emt.get(t);return s||(s={Qgt:[],Ogt:new Map},this.emt.set(t,s)),s}KU(t,s){const i=this.Ygt(t),e=s.toLowerCase();i.Qgt.push(e),this.Fc.lW(t.wB().Jgt().Gj.Vgt,t),i.Qgt.pop();for(const s of this.Fc.jk().Cgt())s.Hgt()&&s.$gt()===e&&s.qgt(t);const n=i.Ogt.get(e);n&&(n.resolve(!1),i.Ogt.delete(e)),0===i.Qgt.length&&0===i.Ogt.size&&this.emt.delete(t)}tW(t,s){const i=this.Ygt(t),e=s.toLowerCase(),n=i.Ogt.get(e);if(n)return n.promise;{let t=null;const s=new Promise((s=>t=s));return i.Ogt.set(e,{promise:s,resolve:t}),s}}Zgt(t){const s=this.Ygt(t);if(!s||0===s.Qgt.length)throw new Error("not in a signal");return s.Qgt.at(-1)}s3(){return{groups:this.Xgt(),cnds:this.Kgt(),acts:this.tyt(),vars:this.syt(),waits:this.iyt()}}i3(t){this.eyt(t.groups),this.nyt(t.cnds),this.ryt(t.acts),this.hyt(t.vars),this.oyt(t.waits)}Xgt(){const t={};for(const s of this.Qmt())t[s.I0().toString()]=s.ayt();return t}eyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.Wmt(t);e&&e.lyt(i)}}Kgt(){const t={};for(const[s,i]of this.Ppt){const e=i.s3();e&&(t[s.toString()]=e)}return t}nyt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.Ppt)i.i3(s.get(t)||null)}tyt(){const t={};for(const[s,i]of this.kpt){const e=i.s3();e&&(t[s.toString()]=e)}return t}ryt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.kpt)i.i3(s.get(t)||null)}syt(){const t={};for(const[s,i]of this.jpt)i.uyt()||!i.n0()&&!i.Ox()||(t[s.toString()]=i.Aet());return t}hyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.Lmt(t);e&&e.pnt(i)}}iyt(){return this.Kpt.filter((t=>!t.cyt())).map((t=>t.s3()))}oyt(t){this.r5();for(const s of t){const t=tS.xgt.fyt(this,s);t&&this.Kpt.push(t)}}dyt(){return[...this.Fc.UF().k5()].map((t=>t.K3())).filter((t=>t)).map((t=>t.pyt()))}myt(t){for(;t;){const s=t.Emt();if(s instanceof tS.gyt)return s;t=s}return null}nmt(t,s){Array.isArray(s)||(s=[]);const i=this.zk(t.toLowerCase());if(!i)return null;if(!i.Iu())return i.Bk();const e=i.yyt();if(s.length<e.length){s=s.slice(0);do{s.push(e[s.length].Smt())}while(s.length<e.length)}const n=i.Uk();return n.Vk(n.Wk(),!1,i.Hk(),i.Bk(),...s)}}}{const iS=self.Gs;iS.rmt=class extends iS.Un{constructor(t,s){super(),this.Ldt=t,this.Fc=t.Pj(),this.Hn=s[0],this.Myt=[],this.wyt=new Map,this.Syt=new Map,this.Tyt=new Map,this.byt=!1,this.vyt=[],this.xyt=[],this.Cyt=new Set;for(const t of s[1])this.Iyt(t,null,this.Myt);this.Gyt=this.Fc.yW()?{type:"sheet",name:this.Hn,Eyt:0,children:[]}:null}Qn(){this.Ldt=null,this.Fc=null}Iyt(t,s,i){switch(t[0]){case 0:case 3:this.Nyt(t,s,i);break;case 1:this.Dyt(t,s,i);break;case 2:this._yt(t,s,i);break;case 4:this.Ayt(t,s);break;case 5:this.Lyt(t,s,i);break;case 6:this.Oyt(t,s);break;default:throw new Error("invalid event type")}}Nyt(t,s,i){const e=iS.Ryt._C(this,s,t);if(e._dt()){i.push(e);const t=e.Pyt();for(let s=0,i=t.length;s<i;++s)t[s].kyt()&&this.Fyt(e,s)}else e.kyt()?this.Fyt(e,0):i.push(e)}Ayt(t,s){const i=iS.gyt.jyt(this,s,t);this.Ldt.pmt(i)}Oyt(t,s){const i=iS.gyt.zyt(this,s,t);this.Ldt.pmt(i)}Dyt(t,s,i){const e=iS.Byt._C(this,s,t);i.push(e)}_yt(t,s,i){const e=iS.$yt._C(this,s,t);i.push(e)}Lyt(t,s,i){const e=iS.Uyt._C(this,s,t);i.push(e)}Fyt(t,s){t._dt()||this.Ldt.hmt(t);const i=t.vmt(s),e=i.Wyt(),n=i.GU();if(i.Yyt()){let r=this.Syt.get(n);r||(r=new Map,this.Syt.set(n,r));const h=i.Qyt().toLowerCase();let o=r.get(e);o||(o=new Map,r.set(e,o));let a=o.get(h);a||(a=[],o.set(h,a)),a.push([t,s])}else{let r=this.wyt.get(n);r||(r={Vyt:new Map,Jyt:new Map},this.wyt.set(n,r));const h=i.GQ();let o;h?(o=r.Jyt.get(h),o||(o=new Map,r.Jyt.set(h,o))):o=r.Vyt;let a=o.get(e);a||(a=[],o.set(e,a)),a.push([t,s])}}omt(){const t=this.Myt;for(let s=0,i=t.length;s<i;++s){const e=s<i-1&&t[s+1]instanceof iS.Ryt&&t[s+1].Hyt();t[s].omt(e)}}qyt(t){this.vyt.push(t)}G4(){iS.Sh(this.xyt),this.Zyt(this),this.Cyt.clear()}Zyt(t){const s=t.xyt,i=t.Cyt;for(const e of this.vyt){const n=e.Xyt();e.Kyt()&&t!==n&&!i.has(n)&&(i.add(n),n.Zyt(t),s.push(n))}}hgt(){return this.xyt}jk(){return this.Ldt}Pj(){return this.Fc}Nc(){return this.Hn}tMt(t,s){this.Tyt.set(s,t)}sMt(t){return this.Tyt.get(t)||null}qmt(){this.byt=!1}KE(){if(this.byt)return;const t=this.Fc,s=t.iMt(),i=s?performance.now():0;this.byt=!0;const e=this.jk(),n=e.Tmt();for(const s of this.Myt)s.KE(n),e.wgt(s.dH()),e.kgt(),t.$B();n.jf(null),s&&(this.Gyt.Eyt+=performance.now()-i)}*egt(){if(this.byt)return;this.byt=!0;const t=this.Fc,s=this.jk(),i=s.Tmt();for(const e of this.Myt)yield*e.egt(i),s.wgt(e.dH()),s.kgt(),t.$B();i.jf(null)}ngt(t,s,i){if(!s)return this.eMt(t,s,null,null);{const e=s.GU();let n=!1,r=this.eMt(t,s,e,i);n=n||r;for(const h of e.Fmt())r=this.eMt(t,s,h,i),n=n||r}}eMt(t,s,i,e){const n=this.wyt.get(i);if(!n)return!1;const r=e?n.Jyt.get(e):n.Vyt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[t,i]of h){const e=this.nMt(s,t,i);o=o||e}return o}*ogt(t,s,i){if(!s)return yield*this.rMt(t,s,null,null);{const e=s.GU();let n=!1,r=yield*this.rMt(t,s,e,i);n=n||r;for(const h of e.Fmt())r=yield*this.rMt(t,s,h,i),n=n||r}}*rMt(t,s,i,e){const n=this.wyt.get(i);if(!n)return!1;const r=e?n.Jyt.get(e):n.Vyt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[t,i]of h){let e;e=t.hMt()?this.nMt(s,t,i):yield*this.oMt(s,t,i),o=o||e}return o}fgt(t,s,i){const e=s.GU(),n=this.Syt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const s=h[t],i=this.nMt(null,s[0],s[1]);o=o||i}return o}*dgt(t,s,i){const e=s.GU(),n=this.Syt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const s=h[t],i=s[0],e=s[1];let n;n=i.hMt()?this.nMt(null,i,e):yield*this.oMt(null,i,e),o=o||n}return o}nMt(t,s,i){const e=this.Fc,n=this.Ldt,r=n.Yk(),h=n.Xk(),o=n.pgt();let a=!1;r&&n.Tgt(r.Wk()),n.Tgt(s.Wk());const l=o>1;l&&n.Imt().mH();const u=h.mH(s);t&&(s.Pyt()[i].GU()._B().xdt(t),t.FU()&&t.aMt());let c=!0;if(s.TY()){const t=s.lMt();for(let s=0,i=t.length;s<i;++s)if(!t[s].uMt(u)){c=!1;break}}return c&&(s._dt()?s.cMt(u,i):s.KE(u),a=u.ept()),h.IH(),l&&n.Imt().IH(),n.bH(s.Wk()),r&&n.bH(r.Wk()),r||1!==o||(n.kgt(),n.OU()||e.$B()),a}*oMt(t,s,i){const e=this.Fc,n=this.Ldt,r=n.Yk(),h=n.Xk(),o=n.pgt();let a=!1;r&&n.Tgt(r.Wk()),n.Tgt(s.Wk());const l=o>1;l&&n.Imt().mH();const u=h.mH(s);t&&(s.Pyt()[i].GU()._B().xdt(t),t.FU()&&t.aMt());let c=!0;if(s.TY()){const t=s.lMt();for(let s=0,i=t.length;s<i;++s)if(!(yield*t[s].fMt(u))){c=!1;break}}return c&&(s._dt()?yield*s.dMt(u,i):yield*s.egt(u),a=u.ept()),h.IH(),l&&n.Imt().IH(),n.bH(s.Wk()),r&&n.bH(r.Wk()),r||1!==o||(n.kgt(),n.OU()||e.$B()),a}pyt(){return this.Gyt}}}{let eS=function(t,s){return!0};NoActions=eS;const nS=self.Gs,rS=[];function*hS(t,s){return!0}nS.Ryt=class extends nS.Un{constructor(t,s,i){super(),this.g3=t,this.Fc=t.Pj(),this.pMt=s,this.mMt=null,this.udt=this.Fc.jk().Xk(),this.gMt=[],this.yMt=[],this.MMt=!1,this.wMt=!1,this.SMt=!1,this.TMt=!1,this.bMt=!!i[2],this.vMt=!1,this.xMt=null,this.CMt=[],this.Jnt=[],this.IMt=[],this.GMt=eS,this.EMt=hS,this.NMt=!1,this.DMt=!1,this._Mt="",this.AMt=!1,this.LMt=null,this.Gyt=null,this.VX=i[4],this.OMt=i[5],this.g3.tMt(this,this.OMt),this.RMt=this.Fc.yW()?{PMt:i[3][0],kMt:i[3][1],FMt:!1,jMt:!1,zMt:!1,BMt:!1}:null,this.jk().cmt(this),3===i[0]&&this.$Mt(i[1]);let e=0;for(const t of i[6]){const s=nS.UMt._C(this,t,e++);this.CMt.push(s),this.WMt(s.GU())}e=0;for(const t of i[7]){const s=nS.YMt._C(this,t,e++);this.Jnt.push(s)}if(9===i.length){const t=i[8];for(const s of t)this.g3.Iyt(s,this,this.IMt)}this.CMt.length&&(this.vMt=null===this.CMt[0].GU()&&this.CMt[0].Wyt()===nS.Nj.Ej.Gj.QMt),0===this.CMt.length&&(this.CMt=rS),0===this.Jnt.length&&(this.Jnt=rS),0===this.IMt.length&&(this.IMt=rS)}static _C(t,s,i){return nS.Yn(nS.Ryt,t,s,i)}$Mt(t){this.NMt=!0,this.DMt=!!t[0],this.AMt=this.DMt,this._Mt=t[1].toLowerCase(),this.LMt=[],this.jk().lmt(this),this.Fc.yW()&&(this.Gyt={type:"group",name:t[1],Eyt:0,children:[]})}VMt(t){this.LMt.push(t)}JMt(t,s){for(const i of t.f4().Z4())s.includes(i)||s.push(i)}HMt(t,s){if(t)if(s.includes(t)||s.push(t),t.M0())for(const i of t.qMt())i.FU()&&this.JMt(i,s);else t.FU()&&this.JMt(t,s)}WMt(t){this.HMt(t,this.gMt)}ZMt(t){this.HMt(t,this.yMt)}XMt(){this.gMt=this.Fc.y0()}omt(t){this.TMt=!!t,this.KMt(),this.twt();for(const t of this.CMt)t.omt();if(this.Jnt.length>0){let t=!1;for(const s of this.Jnt)s.omt(),s.swt()&&(t=!0);t?(this.GMt=this.iwt,this.EMt=this.ewt):(this.GMt=this.nwt,this.EMt=this.rwt)}const s=this.IMt;for(let t=0,i=s.length;t<i;++t){const e=t<i-1&&s[t+1]instanceof nS.Ryt&&s[t+1].Hyt();s[t].omt(e)}this.RMt&&this.hwt(),this.Gyt&&this.owt().pyt().children.push(this.Gyt)}pyt(){return this.Gyt}owt(){let t=this.TY();for(;t;){if(t.Ymt())return t;t=t.TY()}return this.g3}hwt(){const t=this.RMt;t.FMt=this.CMt.every((t=>t.hMt())),t.jMt=this.Jnt.every((t=>t.hMt())),t.zMt=this.IMt.every((t=>t.hMt())),t.BMt=t.FMt&&t.jMt&&t.zMt}awt(){let t=this;do{t.hwt(),t=t.TY()}while(t)}KMt(){if(!this.Ymt())return;let t=this.TY();for(this.SMt=!0;t;){if(!t.Ymt()){this.SMt=!1;break}t=t.TY()}}lwt(){const t=this.Fc.y0();if(this.gMt===t)this.yMt=t;else{this.yMt=nS.Lh(this.gMt);let t=this.TY();for(;t;){for(const s of t.gMt)this.ZMt(s);t=t.TY()}const s=this.jk();this.gMt=s.Mmt(this.gMt),this.yMt=s.Mmt(this.yMt)}}twt(){if(!this.uwt())return;this.xMt=[];let t=this.TY();for(;t;)this.xMt.push(t),t=t.TY();this.xMt.reverse()}cwt(){this.wMt=!0,this.pMt&&this.pMt.cwt()}cpt(){return this.wMt}dH(){return this.gMt}Wk(){return this.MMt||(this.MMt=!0,this.lwt()),this.yMt}fwt(t){return this.gMt.includes(t)}lMt(){return this.xMt}K3(){return this.g3}jk(){return this.g3.jk()}Pj(){return this.Fc}TY(){return this.pMt}dwt(t){this.mMt=t}Emt(){return this.mMt||this.pMt}pwt(){return this.OMt}mwt(){return this.RMt&&this.RMt.kMt}gwt(){return this.mwt()&&this.RMt.PMt}ywt(t){this.RMt.PMt=!!t,this.awt()}Ymt(){return this.NMt}Mwt(){return this.SMt}Hyt(){return this.vMt}wwt(){return this.TMt}umt(){return this._Mt}ayt(){return this.AMt}Jmt(){this.lyt(this.DMt)}lyt(t){if(t=!!t,!this.NMt)throw new Error("not a group");if(this.AMt!==t){this.AMt=t;for(const t of this.LMt)t.Swt();if(this.LMt.length){const t=this.Fc.hj().K3();t&&t.G4()}}}I0(){return this.VX}_dt(){return this.bMt}kyt(){return this.CMt.length&&this.CMt[0].kyt()}Twt(){return this.mMt&&this.mMt instanceof nS.gyt}uwt(){return this.Twt()||this.CMt.some((t=>t.kyt()))}Pyt(){return this.CMt}fpt(){return this.CMt.length}vmt(t){if((t=Math.floor(t))<0||t>=this.CMt.length)throw new RangeError("invalid condition index");return this.CMt[t]}bwt(t){return this.vmt(t)}vwt(t){let s=t.ek();if(0===s)return!0;--s;const i=t.xwt()?t.Cwt():t.GU();for(;s>=0;--s){const t=this.CMt[s];if(i===t.GU()||t.xwt()&&t.Cwt()===i)return!1}return!0}Iwt(){return this.Jnt}Gwt(){return this.Jnt.length}Cmt(t){if((t=Math.floor(t))<0||t>=this.Jnt.length)throw new RangeError("invalid action index");return this.Jnt[t]}Ewt(t){t=Math.floor(t);const s=this.Jnt.find((s=>s.Nwt()===t));if(!s)throw new RangeError("invalid action debug index");return s}Dwt(t){return(t=Math.floor(t))>=0&&t<this.Jnt.length}_wt(){return this.IMt}Nmt(){return this.IMt.filter((t=>t instanceof nS.Byt))}uMt(t){t.Zdt(this);const s=this.CMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(t.Kdt(e),n.BQ())throw new Error("trigger cannot be used as sub-event to a loop");if(n.KE())i=!0;else if(!this.bMt)return!1}return!this.bMt||i}cMt(t,s){t.Zdt(this),t.Kdt(s),this.CMt[s].KE()&&(this.GMt(t,0)&&this.Awt(t),t.ipt(!0))}*fMt(t){t.Zdt(this);const s=this.CMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(t.Kdt(e),n.BQ())throw new Error("trigger cannot be used as sub-event to a loop");let r;if(r=n.hMt()?n.KE():yield*n.egt(),r)i=!0;else if(!this.bMt)return!1}return!this.bMt||i}*dMt(t,s){t.Zdt(this),t.Kdt(s);const i=this.CMt[s];let e;if(e=i.hMt()?i.KE():yield*i.egt(),e){let s;s=this.Lwt()?this.GMt(t,0):yield*this.EMt(t,0),s&&(this.Owt()?this.Awt():yield*this.Rwt()),t.ipt(!0)}}KE(t){t.Zdt(this),this.vMt||t.npt(!1),this.bMt?this.Pwt(t):this.kwt(t)}*egt(t){(this.gwt()||this.Fc.Fwt())&&(yield this),t.Zdt(this),this.vMt||t.npt(!1),this.bMt?yield*this.jwt(t):yield*this.zwt(t)}Pwt(t){const s=this.CMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(n.kyt())continue;t.Kdt(e);const r=n.KE();i=i||r}t.ipt(i),i&&(this.GMt(t,0)&&this.Awt(t),this.TMt&&t.npt(!0))}*jwt(t){const s=this.CMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(n.kyt())continue;let r;t.Kdt(e),r=n.hMt()?n.KE():yield*n.egt(),i=i||r}if(t.ipt(i),i){let s;s=this.Lwt()?this.GMt(t,0):yield*this.EMt(t,0),s&&(this.Owt()?this.Awt():yield*this.Rwt()),this.TMt&&t.npt(!0)}}kwt(t){const s=this.CMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];if(t.Kdt(i),!e.KE())return void t.ipt(!1)}t.ipt(!0),this.GMt(t,0)&&this.Awt(t),t.ept()&&this.TMt&&t.npt(!0)}*zwt(t){const s=this.CMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];let n;if(t.Kdt(i),n=e.hMt()?e.KE():yield*e.egt(),!n)return void t.ipt(!1)}let i;t.ipt(!0),i=this.Lwt()?this.GMt(t,0):yield*this.EMt(t,0),i&&(this.Owt()?this.Awt():yield*this.Rwt()),t.ept()&&this.TMt&&t.npt(!0)}nwt(t,s){const i=this.Jnt;for(let e=s,n=i.length;e<n;++e){const s=i[e];t.spt(e),s.KE()}return!0}*rwt(t,s){const i=this.Jnt;for(let e=s,n=i.length;e<n;++e){const s=i[e];t.spt(e),s.hMt()?s.KE():yield*s.egt()}return!0}iwt(t,s){const i=this.jk(),e=this.Jnt;for(let n=s,r=e.length;n<r;++n){const s=e[n];t.spt(n);const r=s.KE();if(s.Bwt()&&!0===r)return!1;s.$wt()&&r instanceof Promise&&i.Rgt(r)}return!0}*ewt(t,s){const i=this.jk(),e=this.Jnt;for(let n=s,r=e.length;n<r;++n){const s=e[n];let r;if(t.spt(n),r=s.hMt()?s.KE():yield*s.egt(),s.Bwt()&&!0===r)return!1;s.$wt()&&r instanceof Promise&&i.Rgt(r)}return!0}Uwt(t){this.GMt(t,t.tpt())&&this.Awt()}*Wwt(t){(yield*this.EMt(t,t.tpt()))&&(yield*this.Rwt())}Awt(){if(!this.IMt.length)return;const t=this.Ymt()&&this.Fc.iMt(),s=t?performance.now():0,i=this.udt,e=i.mH(this);this.wMt?this.Ywt(e):this.Qwt(e),i.IH(),t&&(this.Gyt.Eyt+=performance.now()-s)}Ywt(t){const s=this.NMt,i=this.SMt,e=this.jk(),n=this.IMt;for(let r=0,h=n.length,o=h-1;r<h;++r){const h=n[r],a=h.dH(),l=!i||!s&&r<o;l&&e.SH(a),h.KE(t),l?e.bH(a):e.wgt(a)}}Qwt(t){const s=this.IMt;for(let i=0,e=s.length;i<e;++i)s[i].KE(t)}*Rwt(){if(!this.IMt.length)return;const t=this.udt,s=t.mH(this);this.wMt?yield*this.Vwt(s):yield*this.Jwt(s),t.IH()}*Vwt(t){const s=this.NMt,i=this.SMt,e=this.jk(),n=this.IMt;for(let r=0,h=n.length,o=h-1;r<h;++r){const h=n[r],a=h.dH(),l=!i||!s&&r<o;l&&e.SH(a),yield*h.egt(t),l?e.bH(a):e.wgt(a)}}*Jwt(t){const s=this.IMt;for(let i=0,e=s.length;i<e;++i)yield*s[i].egt(t)}TH(t,s){s.qdt();const i=this.CMt;if(!this._dt())for(let e=t.Xdt()+1,n=i.length;e<n;++e){const t=i[e];if(s.Kdt(e),!t.KE())return!1}return this.GMt(s,0)&&this.Awt(s),!0}*Hwt(t,s){s.qdt();const i=this.CMt;if(!this._dt())for(let e=t.Xdt()+1,n=i.length;e<n;++e){const t=i[e];let n;if(s.Kdt(e),n=t.hMt()?t.KE():yield*t.egt(),!n)return!1}let e;return e=this.Lwt()?this.GMt(s,0):yield*this.EMt(s,0),e&&(this.Owt()?this.Awt():yield*this.Rwt()),!0}hMt(){return!this.gwt()&&!this.Fc.Fwt()&&this.RMt.BMt}Lwt(){return!this.Fc.Fwt()&&this.RMt.jMt}Owt(){return!this.Fc.Fwt()&&this.RMt.zMt}qwt(t){if(this.TY()){const s=this.lMt();for(let i=0,e=s.length;i<e;++i)if(!s[i].uMt(t))return!1}return!0}*Zwt(t){if(this.TY()){const s=this.lMt();for(let i=0,e=s.length;i<e;++i)if(!(yield*s[i].fMt(t)))return!1}return!0}Xwt(t,s,i){if(s.length>0)if(i){const i=s.map((t=>t.Qs(0)));t.Imt().mH(),this.mMt.Kwt(i)}else this.mMt.tSt(s);else i&&t.Imt().mH()}sSt(t,s,i,e){let n,r;const h=t.length>0;let o=null;const a=this.Fc,l=this.udt,u=a.jk(),c=this.mMt,f=c.$wt(),d=u.ggt()>1;if(this.Xwt(u,s,d),h&&(i?u.SH(t):u.Tgt(t)),null!==e){if(e.iSt){const t=i?e.iSt._B():e.iSt.Sgt().hdt(),s=e.eSt._B();s.Cdt(t.DB()),s.Ndt(),i||e.eSt.nSt()}else if(e.rSt){const t=e.rSt._B();t.Cdt(e.hSt),t.Ndt()}e.oSt&&(o=u.bgt(t))}const p=l.mH(this);return i&&p.dpt(t),this.qwt(p)&&(p.Zdt(this),f&&([r,n]=c.aSt()),this.kwt(p),f&&c.lSt(r)),l.IH(),d&&u.Imt().IH(),null!==o&&u.bH(o),h&&u.bH(t),u.ygt(),f||u.Fgt(),n}*uSt(t,s,i,e){let n,r;(this.gwt()||this.Fc.Fwt())&&(yield this);const h=t.length>0;let o=null;const a=this.Fc,l=this.udt,u=a.jk(),c=this.mMt,f=c.$wt(),d=u.ggt()>1;if(this.Xwt(u,s,d),h&&(i?u.SH(t):u.Tgt(t)),null!==e){if(e.iSt){const t=i?e.iSt._B():e.iSt.Sgt().hdt(),s=e.eSt._B();s.Cdt(t.DB()),s.Ndt(),i||e.eSt.nSt()}else if(e.rSt){const t=e.rSt._B();t.Cdt(e.hSt),t.Ndt()}e.oSt&&(o=u.bgt(t))}const p=l.mH(this);return i&&p.dpt(t),(yield*this.Zwt(p))&&(p.Zdt(this),f&&([r,n]=c.aSt()),yield*this.zwt(p),f&&c.lSt(r)),l.IH(),d&&u.Imt().IH(),null!==o&&u.bH(o),h&&u.bH(t),u.ygt(),f||u.Fgt(),n}cSt(t,s){const i=this.Wk(),e=i.length>0,n=this.Fc,r=this.udt,h=n.jk(),o=h.ggt()>1;o&&h.Imt().mH(),this.mMt.Kwt(t),e&&(s?h.SH(i):h.Tgt(i));const a=r.mH(this);this.qwt(a)&&(a.Zdt(this),this.kwt(a)),r.IH(),o&&h.Imt().IH(),e&&h.bH(i),h.ygt(),h.Fgt()}*fSt(t,s){(this.gwt()||this.Fc.Fwt())&&(yield this);const i=this.Wk(),e=i.length>0,n=this.Fc,r=this.udt,h=n.jk(),o=h.ggt()>1;o&&h.Imt().mH(),this.mMt.Kwt(t),e&&(s?h.SH(i):h.Tgt(i));const a=r.mH(this);(yield*this.Zwt(a))&&(a.Zdt(this),yield*this.zwt(a)),r.IH(),o&&h.Imt().IH(),e&&h.bH(i),h.ygt(),h.Fgt()}Vk(t,s,i,e,...n){let r,h;const o=t.length>0,a=this.Fc,l=this.udt,u=a.jk(),c=this.mMt,f=c.$wt(),d=u.ggt()>1;d&&u.Imt().mH(),n.length>0&&this.mMt.Kwt(n),o&&(s?u.SH(t):u.Tgt(t));const p=l.mH(this);return p.apt(i,e),l.Fdt(p),a.MH(!1),this.qwt(p)&&(p.Zdt(this),f&&([h,r]=c.aSt()),this.kwt(p),f&&c.lSt(h)),a.MH(!0),l.IH(),l.jdt(),d&&u.Imt().IH(),o&&u.bH(t),u.ygt(),f||u.Fgt(),r||p.lpt()}}}{const oS=self.Gs,aS=[];let lS=!1;oS.Uyt=class extends oS.Un{constructor(t,s,i){super();const e=t.Pj(),n=t.jk();this.g3=t,this.Ldt=n,this.Fc=t.Pj(),this.pMt=s;const r=e.dSt(i[1]);this.pSt=r,this.OMt=i[2],this.g3.tMt(this,this.OMt),this.RMt=e.yW()?{PMt:i[3][0],kMt:i[3][1]}:null}static _C(t,s,i){return oS.Yn(oS.Uyt,t,s,i)}omt(){const t=this.pSt,s=this.Fc.jk().Dmt(this);this.pSt=t.bind(null,this.Fc.Uz(),s)}TY(){return this.pMt}Emt(){return this.pMt}K3(){return this.g3}pwt(){return this.OMt}mwt(){return this.RMt&&this.RMt.kMt}gwt(){return this.mwt()&&this.RMt.PMt}ywt(t){this.RMt.PMt=!!t}Hyt(){return!1}dH(){return aS}Wk(){return this.pMt?this.pMt.Wk():aS}KE(t){t.Zdt(this),this.Ldt.Rgt(this.mSt())}async mSt(){try{await this.pSt()}catch(t){console.error(`Unhandled exception running script %c${this.K3().Nc()}, event ${this.pwt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.MW&&self.MW.gSt(this),lS||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),lS=!0)}}*egt(t){t.Zdt(this),(this.gwt()||this.Fc.Fwt())&&(yield this),this.KE(t)}hMt(){return!this.gwt()&&!this.Fc.Fwt()}static ySt(){return lS}static MSt(){lS=!0}}}{const uS=self.Gs,cS=self.assert;uS.gyt=class extends uS.Un{constructor(t,s,i){super(),this.g3=t,this.Fc=t.Pj(),this.pMt=s,this.wSt=0,this.SSt="",this.TSt=0,this.bSt=[],this.vSt=!0,this.xSt="",this.idt=null,this.CSt=!1,this.ISt=[],this.GSt=!1,this.ESt=!1,this.NSt=0,this.DSt=-1,this._St=new Map,this.ASt=uS.Ryt._C(t,s,i),this.ASt.dwt(this)}LSt(t){this.wSt=0,this.SSt=t[0],this.TSt=t[1],this.bSt=t[2].map((t=>uS.Byt._C(this.g3,this,t))),this.vSt=t[3],this.ESt=t[4],this.GSt=t[5]}OSt(t){this.wSt=1,this.xSt=t[1],this.idt=this.Fc.JK(t[2]),this.ASt.WMt(this.idt),this.SSt=this.idt.Nc()+"."+this.xSt,this.TSt=t[3],this.bSt=t[4].map((t=>uS.Byt._C(this.g3,this,t))),this.vSt=t[5],this.ESt=t[6],this.GSt=t[7],this.idt.RSt(this)}static jyt(t,s,i){const e=uS.Yn(uS.gyt,t,s,i),n=i[1];return e.LSt(n),e}static zyt(t,s,i){const e=uS.Yn(uS.gyt,t,s,i),n=i[1];return e.OSt(n),e}amt(){if(this.idt&&this.idt.M0())for(const t of this.idt.qMt())if(t.PSt(this.xSt)){this.CSt=!0;break}}omt(){for(const t of this.bSt)t.omt();this.ASt.omt(!1)}mmt(){return this.wSt}Nmt(){return this.bSt}yyt(){return this.bSt}$k(){return this.bSt.length}kSt(t){this.ISt.push(t)}FSt(){return this.ISt}tSt(t){const s=this.bSt;for(let i=0,e=s.length;i<e;++i)s[i].pnt(t[i].Qs(0))}Kwt(t){const s=this.bSt;for(let i=0,e=s.length;i<e;++i)s[i].pnt(t[i])}jSt(){return this.bSt.map((t=>t.Aet()))}TY(){return this.pMt}Emt(){return this.pMt}gmt(){return this.SSt}zSt(){return this.xSt}BSt(){return this.CSt}Hk(){return this.TSt}GU(){return this.idt}Iu(){return this.vSt}Bk(){switch(this.TSt){case 0:return null;case 2:return"";default:return 0}}Uk(){return this.ASt}Jk(){return this.GSt}$wt(){return this.ESt}aSt(){const t=this.NSt++;let s;this.DSt=t;const i=new Promise((t=>s=t));return this._St.set(t,{resolve:s,$St:0}),[t,i]}lSt(t){const s=this._St.get(t);0===s.$St&&(s.resolve(),this._St.delete(t)),this.DSt=-1}USt(){return this._St.get(this.DSt).$St++,this.DSt}WSt(t){this.DSt=t,this._St.get(t).$St--}YSt(t,s){const i=new Map,e=[];for(const t of this.idt._B().DB()){const s=t.GU();if(s.PSt(this.xSt)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&this.ASt.sSt(t,s,this.GSt,{rSt:this.idt,hSt:e}),i.size>0)for(const[e,n]of i){const i=e.QSt(this.xSt).Uk(),r=[...new Set([...t,...i.dH()])];i.sSt(r,s,this.GSt,{rSt:e,hSt:n})}}*VSt(t,s){const i=new Map,e=[];for(const t of this.idt._B().DB()){const s=t.GU();if(s.PSt(this.xSt)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&(yield*this.ASt.uSt(t,s,this.GSt,{rSt:this.idt,hSt:e})),i.size>0)for(const[e,n]of i){const i=e.QSt(this.xSt).Uk(),r=[...new Set([...t,...i.dH()])];yield*i.uSt(r,s,this.GSt,{rSt:e,hSt:n})}}}}{const fS=self.Gs,dS=[];fS.Byt=class extends fS.Un{constructor(t,s,i){super();const e=t.jk();this.g3=t,this.Ldt=e,this.Fc=t.Pj(),this.pMt=s,this.Qpt=e.Imt(),this.Hn=i[1],this.Qc=i[2],this.JSt=i[3],this.Kv=!!i[4],this.HSt=!!i[5],this.qSt=s instanceof fS.gyt,this.VX=i[6],this.ZSt=this.Fc._mt(i[8]),this.XSt=t=>this.pnt(t),this.KSt=()=>this.Aet(),this.tTt=!this.pMt||this.Kv||this.HSt,this.Wnt=this.JSt,this.sTt=-1,this.iTt()&&(this.Wnt=this.Wnt?1:0),!this.eTt()||this.Ox()||this.uyt()||(this.sTt=e.wmt(this)),e.ymt(this)}static _C(t,s,i){return fS.Yn(fS.Byt,t,s,i)}omt(){if(this.eTt()&&!this.Ox()&&!this.uyt()&&!this.nTt()){const t=this.Ldt.myt(this);t&&t.kSt(this)}}Nc(){return this.Hn}_mt(){return this.ZSt}TY(){return this.pMt}Emt(){return this.TY()}n0(){return!this.TY()}eTt(){return!this.n0()}nTt(){return this.qSt}Ox(){return this.Kv}uyt(){return this.HSt}Ki(){return 0===this.Qc}le(){return 1===this.Qc}iTt(){return 2===this.Qc}Hyt(){return!1}I0(){return this.VX}Smt(){return this.JSt}dH(){return dS}KE(t){!this.eTt()||this.Ox()||this.uyt()||this.pnt(this.Smt())}hMt(){return!0}*egt(t){this.KE(t)}pnt(t){this.Ki()?"number"!=typeof t&&(t=parseFloat(t)):this.le()?"string"!=typeof t&&(t=t.toString()):this.iTt()&&(t=t?1:0),this.tTt?this.Wnt=t:this.Qpt.Mpt()[this.sTt]=t}Aet(){return this.tTt?this.Wnt:this.Qpt.Mpt()[this.sTt]}rTt(){let t=this.Aet();return this.iTt()&&(t=!!t),t}$mt(){this.Wnt=this.JSt}Amt(){return{configurable:!1,enumerable:!0,get:this.KSt,set:this.XSt}}}}{const pS=self.Gs,mS=self.assert,gS=[];pS.$yt=class extends pS.Un{constructor(t,s,i){super();const e=t.jk();this.g3=t,this.Ldt=e,this.Fc=t.Pj(),this.pMt=s,this.hTt=null,this.oTt=i[1],this.Ff=!0}static _C(t,s,i){return pS.Yn(pS.$yt,t,s,i)}omt(){this.hTt=this.Ldt.I4(this.oTt),this.g3.qyt(this);let t=this.TY();for(;t;)t instanceof pS.Ryt&&t.Ymt()&&t.VMt(this),t=t.TY();this.Swt(),this.Fc.yW()&&this.g3.pyt().children.push(this.hTt.pyt())}TY(){return this.pMt}dH(){return gS}Xyt(){return this.hTt}KE(t){const s=!!this.TY(),i=this.Fc.y0();s&&this.Ldt.Tgt(i),this.hTt.KE(),s&&this.Ldt.bH(i)}*egt(t){const s=!!this.TY(),i=this.Fc.y0();s&&this.Ldt.Tgt(i),yield*this.hTt.egt(),s&&this.Ldt.bH(i)}hMt(){return!1}Kyt(){return this.Ff}Swt(){let t=this.TY();for(;t;){if(t instanceof pS.Ryt&&t.Ymt()&&!t.ayt())return void(this.Ff=!1);t=t.TY()}this.Ff=!0}}}{let yS=function(t,s){return t>=s?t%s:t<0?(t<=-s&&(t%=s),t<0&&(t+=s),t):t};WrapIndex=yS;const MS=self.Gs,wS=self.assert;MS.aTt=class extends MS.Un{constructor(t){super(),this.fv=t,this.Fc=t.Pj()}omt(){}static lTt(t,s){const i=s[0],e=[xS,bS,vS,CS,SS,TS];return MS.Yn(e[i],t,s)}};class SS extends MS.aTt{constructor(t,s){super(t),this.uTt=this.Fc.LZ(),this.pSt=this.Fc.dSt(s[1]),this.pSt!==MS.Nj.Ej.ort.random&&this.pSt!==MS.Nj.Ej.ort.cTt||this.fv.fTt()}dTt(){return this.uTt.pTt(this.pSt,this.uTt)}}class TS extends MS.aTt{constructor(t,s){super(t),this.mTt=null,this.SSt=s[1],this.fv.fTt()}omt(){const t=this.Fc.jk();this.mTt=t.zk(this.SSt),this.SSt=null;const s=this.fv.Uk(),i=this.mTt.Uk();this.gTt=[...new Set([...s.Wk(),...i.Wk()])],this.gTt=t.Mmt(this.gTt)}dTt(){const t=this.mTt;if(t.Iu()){const s=t.Uk();return MS.Ryt.prototype.Vk.bind(s,this.gTt,t.Jk(),t.Hk(),t.Bk())}{const s=t.Bk();return()=>s}}}class bS extends MS.aTt{constructor(t,s){super(t),this.idt=this.Fc.JK(s[1]),this.pSt=this.Fc.dSt(s[2]),this.yTt=!!s[3],this.udt=this.Fc.jk().Xk(),this.fv.MTt(this.idt)}dTt(){return this.idt.wB().pTt(this.pSt,this.idt.gB().yQ())}wTt(...t){const s=this.idt,i=s._B().Mdt(),e=i.length;if(0===e)return this.yTt?"":0;const n=yS(this.fv.STt(),e);return this.udt.pH().hpt(s),this.pSt.apply(i[n].yQ(),t)}TTt(t,...s){const i=this.idt,e=i.DB(),n=e.length;if(0===n||"number"!=typeof t)return this.yTt?"":0;const r=yS(t,n);return this.udt.pH().hpt(i),this.pSt.apply(e[r].yQ(),s)}}class vS extends MS.aTt{constructor(t,s){super(t),this.idt=this.Fc.JK(s[1]),this.bTt=s[3],this.yTt=!!s[2],this.fv.MTt(this.idt)}vTt(){const t=this.idt._B().Mdt(),s=t.length;return 0===s?this.yTt?"":0:t[yS(this.fv.STt(),s)].xTt(this.bTt)}CTt(){const t=this.idt,s=t._B().Mdt(),i=s.length;if(0===i)return this.yTt?"":0;const e=s[yS(this.fv.STt(),i)],n=e.GU().ITt(t.GTt());return e.xTt(this.bTt+n)}ETt(t){const s=this.idt,i=s.DB(),e=i.length;if(0===e||"number"!=typeof t)return this.yTt?"":0;const n=i[yS(t,e)];let r=0;return s.M0()&&(r=n.GU().ITt(s.GTt())),n.xTt(this.bTt+r)}}class xS extends MS.aTt{constructor(t,s){super(t),this.idt=this.Fc.JK(s[1]),this.NTt=this.idt.Fnt(s[2]),this.DTt=this.idt.ait(s[2]),this.pSt=this.Fc.dSt(s[3]),this.yTt=!!s[4],this.udt=this.Fc.jk().Xk(),this.fv.MTt(this.idt)}_Tt(...t){const s=this.idt,i=s._B().Mdt(),e=i.length;if(0===e)return this.yTt?"":0;const n=yS(this.fv.STt(),e);this.udt.pH().hpt(s);const r=i[n];let h=0;return s.M0()&&(h=r.GU().ATt(s.GTt())),this.pSt.apply(r.knt()[this.DTt+h].yQ(),t)}LTt(t,...s){const i=this.idt,e=i.DB(),n=e.length;if(0===n||"number"!=typeof t)return this.yTt?"":0;const r=yS(t,n);this.udt.pH().hpt(i);const h=e[r];let o=0;return i.M0()&&(o=h.GU().ATt(i.GTt())),this.pSt.apply(h.knt()[this.DTt+o].yQ(),s)}}class CS extends MS.aTt{constructor(t,s){super(t),this.OTt=null,this.RTt=s[1]}omt(){this.OTt=this.Fc.jk().Lmt(this.RTt)}PTt(){return this.OTt}}}{let IS=function(t){const s=self.kTt[t];if(!s)throw new Error("invalid expression number");return s};GetExpressionFunc=IS;const GS=self.Gs,ES=self.assert;GS.FTt=class extends GS.Un{constructor(t,s,i){super(),this.fv=t,this.EM=i,this.Qc=s,this.Qs=null,this.jTt=!1,this.HSt=!1}static _C(t,s,i){const e=s[0],n=[NS,DS,kS,AS,OS,_S,RS,NS,AS,AS,FS,jS,kS,BS,DS,PS,LS,zS,$S,US,WS,YS];return GS.Yn(n[e],t,e,i,s)}omt(){}fTt(){this.jTt=!0}MTt(t){this.jTt||t&&(t.wB().Qz()||(this.jTt=!0))}zTt(){return this.jTt}ek(){return this.EM}Pj(){return this.fv.Pj()}Uk(){return this.fv.Uk()}uyt(){return this.HSt}BTt(){return 4===this.Qc}};class NS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.$Tt=0;const n=e[1];this.UTt=n[0],this.WTt=[],this.YTt=null;for(let t=1,s=n.length;t<s;++t)this.WTt.push(GS.aTt.lTt(this,n[t]));this.WTt.length?this.Qs=this.QTt:(this.Qs=IS(this.UTt),this.HSt=!0)}VTt(t){if(t<0||t>=this.WTt.length)throw new RangeError("invalid numbered node");return this.WTt[t]}omt(){for(const t of this.WTt)t.omt();const t=IS(this.UTt);this.WTt.length?this.YTt=t(this):this.YTt=t}STt(){return this.$Tt}QTt(t){return this.$Tt=t,this.YTt()}}class DS extends NS{constructor(t,s,i,e){super(t,s,i,e),this.Qs=this.JTt,14===s&&(this.Uk().XMt(),this.fv instanceof GS.YMt&&this.Uk().cwt())}JTt(t){this.$Tt=t;const s=this.YTt();return"string"==typeof s?s:""}HTt(){return IS(this.UTt)()}}class _S extends NS{constructor(t,s,i,e){super(t,s,i,e),t.qTt()>=2?this.Qs=this.n$:this.Qs=this.lj,this.HSt=!1}lj(t){this.$Tt=t;const s=this.YTt();return this.Pj().hj().lj(s)}n$(t){const s=this.lj(t);return s?s.n$():null}}class AS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.ZTt=e[1],this.Qs=this.XTt,this.HSt=!0}XTt(){return this.ZTt}}class LS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.KTt=e[1],this.Qs=this.tbt,this.HSt=!0}tbt(){return this.KTt}}class OS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.idt=this.Pj().JK(e[1]),t.qTt()>=2?this.Qs=this.dB:this.Qs=this.GU;const n=this.Uk();n.WMt(this.idt),this.fv instanceof GS.YMt?n.cwt():n.TY()&&n.TY().cwt(),this.HSt=!0}GU(){return this.idt}dB(){return this.idt?this.idt.dB():null}}class RS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.UX=this.Pj().UF().A5(e[1]),t.qTt()>=2?this.Qs=this.BF:this.Qs=this.WF,this.HSt=!0}WF(){return this.UX}BF(){return this.UX?this.UX.BF():null}}class PS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.F8=this.Pj().Q9().W6(e[1]),t.qTt()>=2?this.Qs=this.Ist:this.Qs=this.Vst,this.HSt=!0}Vst(){return this.F8}Ist(){return this.F8?this.F8.Ist():null}}class kS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.sbt=e[1],this.Qs=this.ibt,this.HSt=!0}ibt(){return this.sbt}}class FS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.ebt=e[1];const n=this.fv.GU();this.fv instanceof GS.UMt&&this.fv.Ox()?(this.Qs=this.nbt,this.HSt=!0):n&&n.M0()?(this.Qs=this.rbt,this.fTt()):(this.Qs=this.nbt,this.HSt=!0)}nbt(){return this.ebt}rbt(t){t=t||0;const s=this.fv.GU(),i=s._B(),e=i.DB();let n=null;if(e.length)n=e[t%e.length].GU();else if(i.gdt()){const s=i.ydt();n=s[t%s.length].GU()}else{if(!(s.LB()>0))return 0;{const i=s.DB();n=i[t%i.length].GU()}}return this.ebt+n.ITt(s.GTt())}}class jS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.RTt=e[1],this.OTt=null,t.qTt()>=2?this.Qs=this.hbt:this.Qs=this.obt,this.HSt=!0}omt(){this.OTt=this.Pj().jk().Lmt(this.RTt)}obt(){return this.OTt}hbt(){return null}}class zS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.abt=e[1],this.mTt=null,t.qTt()>=2?this.Qs=this.lbt:this.Qs=this.ubt,this.HSt=!0}omt(){this.mTt=this.Pj().jk().zk(this.abt),this.abt=null}ubt(){return this.mTt}lbt(){return null}}class BS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.cbt=[],this.fbt=[],this.HSt=!0;for(let t=1,s=e.length;t<s;++t){const s=GS.FTt._C(this.fv,e[t],0);this.cbt.push(s),this.fbt.push(0),s.uyt()||(this.HSt=!1)}this.Qs=this.dbt}omt(){for(const t of this.cbt)t.omt()}dbt(){const t=this.cbt,s=this.fbt;for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(0);return s}}class $S extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.pbt=e[1],this.Qs=this.dnt,this.HSt=!0}dnt(){return this.pbt}}class US extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.mbt=e[1],this.Qs=this.gbt,this.HSt=!0}gbt(){return this.mbt}}class WS extends NS{constructor(t,s,i,e){super(t,s,i,e),this.Qs=this.WU,this.HSt=!1}WU(){return this.YTt()}}class YS extends GS.FTt{constructor(t,s,i,e){super(t,s,i),this.Mut=this.Pj().Put().cut(e[1]),this.Qs=this.ybt,this.HSt=!0}ybt(){return this.Mut.Nc()}}}{let QS=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(0)};EvalParams=QS;const VS=self.Gs,JS=self.assert,HS=[],qS=function(){};VS.UMt=class extends VS.Un{constructor(t,s,i){if(super(),this.ASt=t,this.Fc=t.Pj(),this.EM=i,this.pSt=this.Fc.dSt(s[1]),this.Mbt=s[3]>0,this.wbt=2===s[3],this.Sbt=!!s[4],this.Tbt=!!s[5],this.Kv=!!s[6],this.VX=s[7],this.bbt=this.ASt._dt(),this.idt=null,this.NTt=null,this.DTt=-1,this.uTt=null,this.KE=qS,this.egt=qS,this.Bs=[],this.vbt=[],this.xbt=!1,this.Cbt=null,this.Ibt=null,this.RMt=this.Fc.yW()?{PMt:s[8][0],Gbt:s[8][1]}:null,-1===s[0]?this.uTt=this.Fc.LZ():(this.idt=this.Fc.JK(s[0]),s[2]&&(this.NTt=this.idt.Fnt(s[2]),this.DTt=this.idt.ait(s[2])),this.ASt.TY()&&this.ASt.TY().cwt()),10===s.length){let t=s[9];for(let s of t)this.Bs.push(VS.FTt._C(this,s,this.Bs.length)),this.vbt.push(0)}0===this.Bs.length&&(this.Bs=HS,this.vbt=HS),this.ASt.jk().fmt(this)}static _C(t,s,i){return VS.Yn(VS.UMt,t,s,i)}omt(){for(const t of this.Bs)t.omt(),t.zTt()&&(this.xbt=!0);this.wbt?(this.KE=this.Ebt,this.egt=this.Nbt):this.uTt?(this.Dbt(),this.egt=this._bt):this.idt.wB().Qz()?(this.Abt(),this.egt=this.Lbt):this.Kv?(this.KE=this.Obt,this.egt=this.Rbt):(this.KE=this.Pbt,this.egt=this.kbt)}Dbt(){const t=this.uTt,s=this.uTt;this.Fbt(t,s,this.jbt)}Abt(){const t=this.idt.wB(),s=this.idt.gB().yQ();this.Fbt(t,s,this.zbt)}Fbt(t,s,i){const e=this.pSt,n=this.Tbt,r=this.Bs;if(0===r.length){const i=t.pTt(e,s);this.KE=n?function(){return VS.xor(i(),n)}:i}else if(1===r.length){const i=r[0];if(!n&&i.uyt())this.KE=t.Bbt(e,s,i.Qs(0));else{const r=t.pTt(e,s);this.KE=function(){return VS.xor(r(i.Qs(0)),n)}}}else if(2===r.length){const i=r[0],h=r[1];if(!n&&i.uyt()&&h.uyt())this.KE=t.$bt(e,s,i.Qs(0),h.Qs(0));else{const r=t.pTt(e,s);this.KE=function(){return VS.xor(r(i.Qs(0),h.Qs(0)),n)}}}else if(3===r.length){const i=r[0],h=r[1],o=r[2];if(!n&&i.uyt()&&h.uyt()&&o.uyt())this.KE=t.Ubt(e,s,i.Qs(0),h.Qs(0),o.Qs(0));else{const r=t.pTt(e,s);this.KE=function(){return VS.xor(r(i.Qs(0),h.Qs(0),o.Qs(0)),n)}}}else this.KE=i}I0(){return this.VX}Wyt(){return this.pSt}GU(){return this.idt}GQ(){return this.NTt}Wbt(){return this.NTt?this.NTt.xQ():this.idt?this.idt.wB():null}qTt(){const t=this.Wbt();return t?t.Ybt():1}Uk(){return this.ASt}Pj(){return this.Fc}ek(){return this.EM}Nwt(){return this.ek()}kyt(){return this.Mbt}Yyt(){return this.wbt}Qbt(){return this.Tbt}BQ(){return this.Sbt}Ox(){return this.Kv}Vbt(){return this.RMt.PMt}Jbt(){return!!this.uTt}xwt(){return this.Jbt()||this.idt.wB().Qz()}Cwt(){for(const t of this.Bs)if(t.BTt())return t.GU();return null}Hbt(t){this.RMt.PMt=!!t,this.ASt.awt()}qbt(){return this.RMt.Gbt}hMt(){return!this.Vbt()&&!this.Fc.Fwt()&&!this.qbt()}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}Xbt(){return this.Ibt||(this.Ibt=new Map),this.Ibt}jbt(){const t=this.vbt;return QS(this.Bs,t),VS.xor(this.pSt.apply(this.uTt,t),this.Tbt)}*_bt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;QS(this.Bs,t);let s=this.pSt.apply(this.uTt,t);return VS.bo(s)&&(s=yield*s),VS.xor(s,this.Tbt)}return this.KE()}zbt(){const t=this.vbt;QS(this.Bs,t);const s=this.idt.gB().yQ();return VS.xor(this.pSt.apply(s,t),this.Tbt)}*Lbt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;QS(this.Bs,t);const s=this.idt.gB().yQ();let i=this.pSt.apply(s,t);return VS.bo(i)&&(i=yield*i),VS.xor(i,this.Tbt)}return this.KE()}Ebt(){return!0}*Nbt(){return(this.Vbt()||this.Fc.Fwt())&&(yield this),!0}Kbt(){return this.NTt?this.NTt.xQ().Ybt()>=2?this.NTt.IQ():this.NTt:this.idt.wB().Ybt()>=2?this.idt.dB():this.idt}Obt(){const t=this.vbt;QS(this.Bs,t);const s=this.pSt.apply(this.Kbt(),t);return this.idt.nSt(),s}*Rbt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;QS(this.Bs,t);let s=this.pSt.apply(this.Kbt(),t);return VS.bo(s)&&(s=yield*s),this.idt.nSt(),s}return this.KE()}Pbt(){const t=this.Bs,s=this.vbt,i=this.idt._B();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.zTt()||(s[i]=e.Qs(0))}return i.pdt()?this.tvt(i):this.svt(i)}*kbt(){return(this.Vbt()||this.Fc.Fwt())&&(yield this),this.Pbt()}ivt(t){const s=this.Bs,i=this.vbt;for(let e=0,n=s.length;e<n;++e){const n=s[e];n.zTt()&&(i[e]=n.Qs(t))}}tvt(t){const s=this.idt,i=s.M0(),e=s.GTt(),n=this.DTt,r=n>=0,h=s.DB(),o=this.xbt,a=this.vbt,l=this.pSt,u=this.Tbt,c=this.bbt&&!this.Mbt;t.ddt();for(let s=0,f=h.length;s<f;++s){const f=h[s];let d;if(o&&this.ivt(s),r){const t=i?f.GU().ATt(e):0;d=l.apply(f.knt()[n+t].yQ(),a)}else d=l.apply(f.yQ(),a);VS.xor(d,u)?t.wdt(f):c&&t.Sdt(f)}return s.evt(!0),t.Tdt(!1),s.nSt(),t.mdt()}svt(t){const s=this.idt,i=s.M0(),e=s.GTt(),n=s.FU(),r=this.DTt,h=r>=0,o=this.xbt,a=this.vbt,l=this.pSt,u=this.Tbt,c=this.bbt&&!this.Mbt,f=t.bdt(),d=t.vdt(),p=c&&!this.ASt.vwt(this),m=p?d:f;let g=0,y=!1;for(let t=0,s=m.length;t<s;++t){const s=m[t];let M;if(o&&this.ivt(t),h){const t=i?s.GU().ATt(e):0;M=l.apply(s.knt()[r+t].yQ(),a)}else M=l.apply(s.yQ(),a);VS.xor(M,u)?(y=!0,p?(f.push(s),n&&s.nvt()):(m[g]=s,n&&s.rvt(g),++g)):p?(m[g]=s,n&&s.hvt(g),++g):c&&(d.push(s),n&&s.ovt())}VS.wh(m,g),n&&s.avt(p,g);const M=y;return p&&!y&&(y=this.lvt(f)),s.evt(M||c),c?y:t.mdt()}lvt(t){const s=this.idt,i=s.M0(),e=s.GTt(),n=this.xbt,r=this.DTt,h=r>=0,o=this.vbt,a=this.pSt,l=this.Tbt;for(let s=0,u=t.length;s<u;++s){const u=t[s];let c;if(n&&this.ivt(s),h){const t=i?u.GU().ATt(e):0;c=a.apply(u.knt()[r+t].yQ(),o)}else c=a.apply(u.yQ(),o);if(VS.xor(c,l))return!0}return!1}uvt(t,s){return this.Bs[t].Qs(s)}Qyt(){const t=this.Bs;if(!t.length)throw new Error("no parameters");return t[0].HTt()}s3(){if(!this.Cbt||!this.Cbt.size)return null;const t={};for(const[s,i]of this.Cbt.entries()){let e=i;"collmemory"===s&&(e=[...i.entries()].map((t=>[t[0].zU(),t[1].zU(),t[2]]))),t[s]=e}return{ex:t}}i3(t){if(this.Cbt&&(this.Cbt.clear(),this.Cbt=null),!t)return;const s=this.Fc,i=t.ex;if(i){const t=this.Zbt();t.clear();for(const[e,n]of Object.entries(i)){let i=n;"collmemory"===e&&(i=VS.Yn(VS.Gu,n.map((t=>[s.ej(t[0]),s.ej(t[1]),t[2]])).filter((t=>t[0]&&t[1])))),t.set(e,i)}}}}}{let ZS=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(0)};EvalParams=ZS;const XS=self.Gs,KS=self.assert,tT=[],sT=function(){},iT=function*(){},eT=1,nT=2,rT=4,hT=8,oT=16;XS.YMt=class extends XS.Un{constructor(t,s,i){super(),this.ASt=t;const e=t.Pj();this.Fc=e,this.EM=i,this.VX=s.length>=4?s[3]:-1,this.cvt=s.length>=5?255&s[4]:0,this.fvt=s.length>=5?s[4]>>8:0,this.pSt=null,this.idt=null,this.NTt=null,this.DTt=-1,this.uTt=null,this.dvt="",this.pvt=null,this.mvt=null,this.KE=sT,this.egt=sT,this.Bs=[],this.vbt=[],this.xbt=!1,this.Cbt=null,this.Ibt=null;const n=-3===s[0],r=n?s[2]:s[5];if(this.RMt=e.yW()||n?{PMt:r[0],Gbt:r[1],index:r[2]}:null,-1===s[0])this.uTt=e.LZ(),this.pSt=e.dSt(s[1]);else if(-2===s[0])this.dvt=s[1];else if(n){const t=e.dSt(s[1]);this.pSt=t,this.KE=this.gvt,this.egt=this.yvt,this.fvt|=8}else this.idt=e.JK(s[0]),4&this.fvt?(this.dvt=s[1],this.pvt=e.JK(s[2])):(s[2]&&(this.NTt=this.idt.Fnt(s[2]),this.DTt=this.idt.ait(s[2])),this.pSt=e.dSt(s[1]));if(7===s.length){const t=s[6];for(const s of t)this.Bs.push(XS.FTt._C(this,s,this.Bs.length)),this.vbt.push(0)}0===this.Bs.length&&(this.Bs=tT,this.vbt=tT),this.Mvt()&&(this.ASt.XMt(),this.ASt.cwt()),this.ASt.jk().dmt(this)}static _C(t,s,i){return XS.Yn(XS.YMt,t,s,i)}omt(){for(const t of this.Bs)t.omt(),t.zTt()&&(this.xbt=!0);if(this.uTt)this.Dbt(),this.egt=this._bt;else if(this.dvt)4&this.fvt?this.wvt():this.Svt(),this.dvt="",this.pvt=null;else if(this.KE===this.gvt){const t=this.pSt,s=this.Fc.jk().Dmt(this.ASt);this.pSt=t.bind(null,this.Fc.Uz(),s)}else this.NTt?this.$wt()?(this.KE=this.Tvt,this.egt=this.bvt):(this.KE=this.vvt,this.egt=this.xvt):this.idt.wB().Qz()?(this.Abt(),this.egt=this.Lbt):this.Ox()?(this.KE=this.Cvt,this.egt=this.Ivt):this.$wt()?(this.KE=this.Gvt,this.egt=this.Evt):this.Nvt()?(this.KE=this.Dvt,this.egt=this._vt):this.Bs.length?this.Bs.every((t=>t.zTt()))?(this.KE=this.Avt,this.egt=this.Lvt):this.xbt?(this.KE=this.Ovt,this.egt=this.Rvt):this.Bs.every((t=>t.uyt()))?(ZS(this.Bs,this.vbt),this.KE=this.Pvt,this.egt=this.kvt):(this.KE=this.Fvt,this.egt=this.jvt):(this.KE=this.Pvt,this.egt=this.kvt)}Dbt(){const t=this.uTt,s=this.uTt;this.Fbt(t,s,this.jbt)}Abt(){const t=this.idt.wB(),s=this.idt.gB().yQ();this.Fbt(t,s,this.zbt)}Svt(){const t=this.ASt.jk(),s=t.zk(this.dvt);if(s.Iu()){const i=!!(2&this.fvt);this.mvt=s.Uk();let e=[...new Set([...this.ASt.Wk(),...this.mvt.Wk()])];e=t.Mmt(e);const n=!s.Jk()&&this.zvt()?{oSt:!0}:null;if(this.KE=XS.Ryt.prototype.sSt.bind(this.mvt,e,this.Bs,i,n),this.Fc.yW()){const t=this;this.egt=function*(){return(t.Vbt()||t.Fc.Fwt())&&(yield t),yield*t.mvt.uSt(e,t.Bs,i,n)}}else this.egt=iT}else this.KE=sT,this.egt=iT}wvt(){const t=this.ASt.jk(),s=t.kmt(this.pvt,this.dvt);if(s.Iu()){const i=!!(2&this.fvt);this.mvt=s.Uk();let e=[...new Set([...this.ASt.Wk(),...this.mvt.Wk(),this.idt,s.GU()])];e=t.Mmt(e);const n=!this.idt.M0()&&!s.GU().M0(),r=!this.idt.M0()&&s.GU().M0(),h=this.idt.M0();let o=null;if(!s.Jk()&&this.zvt()&&(o=o||{},o.oSt=!0),!r&&i||(o=o||{},o.iSt=this.idt,o.eSt=s.GU()),n||r||h&&!s.BSt()?this.KE=XS.Ryt.prototype.sSt.bind(this.mvt,e,this.Bs,i,o):h&&(this.KE=XS.gyt.prototype.YSt.bind(s,e,this.Bs)),this.Fc.yW()){const t=this;n||r||h&&!s.BSt()?this.egt=function*(){return(t.Vbt()||t.Fc.Fwt())&&(yield t),yield*t.mvt.uSt(e,t.Bs,i,o)}:h&&(this.egt=function*(){return(t.Vbt()||t.Fc.Fwt())&&(yield t),yield*s.VSt(e,t.Bs)})}else this.egt=iT}else this.KE=sT,this.egt=iT}Fbt(t,s,i){const e=this.pSt,n=this.Bs;if(0===n.length)this.KE=t.pTt(e,s);else if(1===n.length){const i=n[0];if(i.uyt())this.KE=t.Bbt(e,s,i.Qs(0));else{const n=t.pTt(e,s);this.KE=function(){return n(i.Qs(0))}}}else if(2===n.length){const i=n[0],r=n[1];if(i.uyt()&&r.uyt())this.KE=t.$bt(e,s,i.Qs(0),r.Qs(0));else{const n=t.pTt(e,s);this.KE=function(){return n(i.Qs(0),r.Qs(0))}}}else if(3===n.length){const i=n[0],r=n[1],h=n[2];if(i.uyt()&&r.uyt()&&h.uyt())this.KE=t.Ubt(e,s,i.Qs(0),r.Qs(0),h.Qs(0));else{const n=t.pTt(e,s);this.KE=function(){return n(i.Qs(0),r.Qs(0),h.Qs(0))}}}else this.KE=i}I0(){return this.VX}$wt(){return!!(8&this.fvt)}Bwt(){return!!(16&this.fvt)}Nvt(){return 1===this.cvt}Ox(){return 2===this.cvt}Mvt(){return!!(1&this.fvt)}swt(){return this.$wt()||this.Bwt()}GU(){return this.idt}Wbt(){return this.NTt?this.NTt.xQ():this.idt?this.idt.wB():null}qTt(){const t=this.Wbt();return t?t.Ybt():1}Uk(){return this.ASt}zvt(){let t=this.ASt;do{if(t instanceof XS.gyt&&t.Jk())return!0;t=t.Emt()}while(t);return!1}Pj(){return this.Fc}ek(){return this.EM}Nwt(){return this.RMt.index}Vbt(){return this.RMt.PMt}Hbt(t){this.RMt.PMt=!!t,this.ASt.awt()}qbt(){return this.RMt.Gbt}hMt(){return!this.Vbt()&&!this.Fc.Fwt()&&!this.qbt()}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}Xbt(){return this.Ibt||(this.Ibt=new Map),this.Ibt}jbt(){const t=this.vbt;return ZS(this.Bs,t),this.pSt.apply(this.uTt,t)}*_bt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;return ZS(this.Bs,t),yield*this.pSt.apply(this.uTt,t)}return this.KE()}zbt(){const t=this.vbt;return ZS(this.Bs,t),this.pSt.apply(this.idt.gB().yQ(),t)}*Lbt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;return ZS(this.Bs,t),yield*this.pSt.apply(this.idt.gB().yQ(),t)}return this.KE()}Pvt(){const t=this.vbt,s=this.idt._B().DB();for(let i=0,e=s.length;i<e;++i)this.pSt.apply(s[i].yQ(),t)}*kvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt,s=this.idt._B().DB();for(let i=0,e=s.length;i<e;++i)yield*this.pSt.apply(s[i].yQ(),t)}else this.Pvt()}Fvt(){const t=this.vbt;ZS(this.Bs,t);const s=this.idt._B().DB();for(let i=0,e=s.length;i<e;++i)this.pSt.apply(s[i].yQ(),t)}*jvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;ZS(this.Bs,t);const s=this.idt._B().DB();for(let i=0,e=s.length;i<e;++i)yield*this.pSt.apply(s[i].yQ(),t)}else this.Fvt()}Avt(){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB();for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(n);i.apply(r.yQ(),s)}}*Lvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB();for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(n);yield*i.apply(r.yQ(),s)}}else this.Avt()}Ovt(){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.zTt()||(s[i]=e.Qs(0))}for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.zTt()&&(s[i]=e.Qs(n))}i.apply(r.yQ(),s)}}*Rvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.zTt()||(s[i]=e.Qs(0))}for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.zTt()&&(s[i]=e.Qs(n))}yield*i.apply(r.yQ(),s)}}else this.Ovt()}Dvt(){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt,n=e.Bvt(),r=e._B().DB();n.$vt(i);for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let i=0,n=t.length;i<n;++i)s[i]=t[i].Qs(e);i.apply(n.yQ(),s)}n.Uvt(i)}*_vt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt,n=e.Bvt(),r=e._B().DB();n.$vt(i);for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let i=0,n=t.length;i<n;++i)s[i]=t[i].Qs(e);yield*i.apply(n.yQ(),s)}n.Uvt(i)}else this.Dvt()}Wvt(){return this.NTt?this.NTt.xQ().Ybt()>=2?this.NTt.IQ():this.NTt:this.idt.wB().Ybt()>=2?this.idt.dB():this.idt}Cvt(){const t=this.vbt;return ZS(this.Bs,t),this.pSt.apply(this.Wvt(),t)}*Ivt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.vbt;ZS(this.Bs,t);let s=this.pSt.apply(this.Wvt(),t);return XS.bo(s)&&(s=yield*s),s}return this.Cvt()}vvt(){const t=this.idt,s=t.M0(),i=t.GTt(),e=this.Bs,n=this.xbt,r=this.vbt,h=this.pSt,o=this.DTt,a=t._B().DB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.zTt()||(r[t]=s.Qs(0))}for(let t=0,l=a.length;t<l;++t){const l=a[t];if(n)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.zTt()&&(r[s]=i.Qs(t))}const u=s?l.GU().ATt(i):0;h.apply(l.knt()[o+u].yQ(),r)}}*xvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.idt,s=t.M0(),i=t.GTt(),e=this.Bs,n=this.xbt,r=this.vbt,h=this.pSt,o=this.DTt,a=t._B().DB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.zTt()||(r[t]=s.Qs(0))}for(let t=0,l=a.length;t<l;++t){const l=a[t];if(n)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.zTt()&&(r[s]=i.Qs(t))}const u=s?l.GU().ATt(i):0;yield*h.apply(l.knt()[o+u].yQ(),r)}}else this.vvt()}Gvt(){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB(),n=[];for(let r=0,h=e.length;r<h;++r){const h=e[r];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(r);n.push(i.apply(h.yQ(),s))}return Promise.all(n)}*Evt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.Bs,s=this.vbt,i=this.pSt,e=this.idt._B().DB(),n=[];for(let r=0,h=e.length;r<h;++r){const h=e[r];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Qs(r);n.push(yield*i.apply(h.yQ(),s))}return Promise.all(n)}return this.Gvt()}Tvt(){const t=this.idt,s=t.M0(),i=t.GTt(),e=this.Bs,n=this.vbt,r=this.pSt,h=this.DTt,o=t._B().DB(),a=[];for(let t=0,l=o.length;t<l;++t){const l=o[t];for(let s=0,i=e.length;s<i;++s)n[s]=e[s].Qs(t);const u=s?l.GU().ATt(i):0;a.push(r.apply(l.knt()[h+u].yQ(),n))}return Promise.all(a)}*bvt(){if((this.Vbt()||this.Fc.Fwt())&&(yield this),this.qbt()){const t=this.idt,s=t.M0(),i=t.GTt(),e=this.Bs,n=this.vbt,r=this.pSt,h=this.DTt,o=t._B().DB(),a=[];for(let t=0,l=o.length;t<l;++t){const l=o[t];for(let s=0,i=e.length;s<i;++s)n[s]=e[s].Qs(t);const u=s?l.GU().ATt(i):0;a.push(yield*r.apply(l.knt()[h+u].yQ(),n))}return Promise.all(a)}return this.Tvt()}async gvt(){try{await this.pSt()}catch(t){console.error(`Unhandled exception running script %c${this.ASt.K3().Nc()}, event ${this.ASt.pwt()}, action ${this.Nwt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.MW&&self.MW.gSt(this),XS.Uyt.ySt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),XS.Uyt.MSt())}}*yvt(){return(this.Vbt()||this.Fc.Fwt())&&(yield this),this.gvt()}s3(){return this.Cbt&&this.Cbt.size?{ex:XS.wo(this.Cbt)}:null}i3(t){if(this.Cbt&&(this.Cbt.clear(),this.Cbt=null),!t)return;const s=t.ex;s&&(this.Cbt=XS.So(s))}}}{let aT=function(t){return t instanceof NT?ET.u$(t):t.UV()},lT=function(t){return aT(t).aj()},uT=function(t){return ET.u$(t)},cT=function(t){return uT(t).aj()},fT=function(t){return t instanceof DT?ET.u$(t):t},dT=function(t){return t instanceof _T?ET.u$(t):t},pT=function(t,s,i,e){s.zU()<i.zU()?t.Set(s,i,e):t.Set(i,s,e)},mT=function(t,s,i){s.zU()<i.zU()?t._u(s,i):t._u(i,s)},gT=function(t,s){t.Au(s)},yT=function(t,s,i){return s.zU()<i.zU()?t.Qs(s,i):t.Qs(i,s)},MT=function(t,s,i,e){if(!s)return!1;const n=0!==i||0!==e,r=t.aj(),h=ET.fk(),o=ET.bmt(),a=o.Uk()._dt(),l=o.GU(),u=o.Qbt(),c=s._B(),f=l!==s;let d;PT=s,RT=f&&!u,kT=!1;let p=0,m=0,g=!1;c.pdt()?(AT.M(r.sY()),AT.offset(i,e),h.Yvt(r.lj(),s,AT,OT),d=OT):a?ET.Qvt()&&!c.vdt().length&&c.bdt().length?d=c.bdt():(d=c.vdt(),kT=!0):d=c.bdt(),n&&(p=r.Wb(),m=r.Vb(),r.$W(i,e),r.jW());for(const s of d)if(h.ez(t,s)){if(g=!0,u)break;f&&FT.add(s)}return n&&(r.zW(p,m),r.jW()),vT.Sh(OT),g},wT=function(t){const s=ET.Yk()._dt(),i=PT._B(),e=i.bdt(),n=i.vdt();i.pdt()?(i.Idt(FT),s&&(vT.Sh(n),i.Gdt(FT,PT.DB()))):s?kT?i.Edt(FT):(i.Gdt(FT,e),i.Idt(FT)):i.Idt(FT),PT.nSt()},ST=function(t,s){RT&&(s&&wT(t),FT.clear(),PT=null,RT=!1)},TT=function(t,s){const i=ET.ej(s);if(!i)return!1;const e=t._B();if(!e.pdt()&&!e.bdt().includes(i))return!1;if(t.M0()){if(i.GU().Vvt(t))return e.Ddt(i),t.nSt(),!0}else if(i.GU()===t)return e.Ddt(i),t.nSt(),!0;return!1},bT=function(t,s){const i=t._B();if(i.pdt()){i.Tdt(!1),i.ddt();const e=t.DB();for(let t=0,n=e.length;t<n;++t){const n=e[t];n.zU()===s?i.Sdt(n):i.wdt(n)}return t.nSt(),!!i.bdt().length}{const e=i.bdt();let n=0;for(let t=0,r=e.length;t<r;++t){const r=e[t];e[n]=r,r.zU()===s?i.Sdt(r):++n}return vT.wh(e,n),t.nSt(),!!e.length}};GetInst=aT,GetWorldInfo=lT,GetInst_SDKv2=uT,GetWorldInfo_SDKv2=cT,GetObjectClass=fT,GetLayer=dT,CollMemory_Add=pT,CollMemory_Remove=mT,CollMemory_RemoveInstance=gT,CollMemory_Get=yT,DoOverlapCondition=MT,FinishCollisionConditionPicking=wT,FinishCollisionCondition=ST,PickByUID_Normal=TT,PickByUID_Inverted=bT;const vT=self.Gs,xT=new vT.xo,CT={},IT={},GT={};let ET=null;vT.Jvt=function(t){ET=t};const NT=self.IU,DT=self.yB,_T=self.l$;IT.Hvt=function(t,s){return vT.compare(this.aj().Wb(),t,s)},GT.Hvt=function(t,s){return vT.compare(this.x,t,s)},IT.qvt=function(t,s){return vT.compare(this.aj().Vb(),t,s)},GT.qvt=function(t,s){return vT.compare(this.y,t,s)},IT.Zvt=function(){return this.aj().rY()},GT.Zvt=function(){return this.nY()},CT.Xvt=function(){const t=lT(this),s=t.WF(),i=t.sY();return i.tl()<0||i.sl()<0||i.Xa()>s.$g()||i.Ka()>s.Xg()},CT.Kvt=function(t,s,i){const e=fT(this)._B(),n=e.DB();if(!n.length)return!1;let r=n[0],h=r.aj(),o=r,a=vT.nr(h.Wb(),h.Vb(),s,i);for(let e=1,l=n.length;e<l;++e){r=n[e],h=r.aj();const l=vT.nr(h.Wb(),h.Vb(),s,i);(0===t&&l<a||1===t&&l>a)&&(a=l,o=r)}return e.Ddt(o),!0},IT.Yb=function(t){const s=this.aj();s.Wb()!==t&&(s.Yb(t),s.jW())},GT.Yb=function(t){this.x=+t},IT.Jb=function(t){const s=this.aj();s.Vb()!==t&&(s.Jb(t),s.jW())},GT.Jb=function(t){this.y=+t},IT.txt=function(t,s){const i=this.aj();i.sxt(t,s)||(i.zW(t,s),i.jW())},GT.txt=function(t,s){this.setPosition(t,s)},CT.ixt=function(t,s){if(!(t=fT(t)))return;const i=aT(this),e=t.EB(i);if(!e)return;const[n,r]=e.nxt(s),h=i.aj();h.Wb()===n&&h.Vb()===r||(h.zW(n,r),h.jW())},CT.rxt=function(t){if(0===t)return;const s=lT(this);s.$W(s.hxt()*t,s.oxt()*t),s.jW()},IT.axt=function(t,s){if(0===s)return;const i=this.aj();t=vT.Kn(t),i.$W(Math.cos(t)*s,Math.sin(t)*s),i.jW()},GT.axt=function(t,s){0!==s&&(t=vT.Kn(t),this.offsetPosition(Math.cos(t)*s,Math.sin(t)*s))},IT.Wb=function(){return this.aj().Wb()},GT.Wb=function(){return this.x},IT.Vb=function(){return this.aj().Vb()},GT.Vb=function(){return this.y},CT.aF=function(){return ET.aF(aT(this))},IT.lxt=function(t,s){return vT.compare(this.aj().$g(),t,s)},GT.lxt=function(t,s){return vT.compare(this.width,t,s)},IT.uxt=function(t,s){return vT.compare(this.aj().Xg(),t,s)},GT.uxt=function(t,s){return vT.compare(this.height,t,s)},IT.Hg=function(t){const s=this.aj();s.$g()!==t&&(s.Hg(t),s.jW())},GT.Hg=function(t){this.width=t},IT.Ug=function(t){const s=this.aj();s.Xg()!==t&&(s.Ug(t),s.jW())},GT.Ug=function(t){this.height=t},IT.vD=function(t,s){const i=lT(this);i.$g()===t&&i.Xg()===s||(i.vD(t,s),i.jW())},GT.vD=function(t,s){this.VB(t,s)},IT.$g=function(){return this.aj().$g()},GT.$g=function(){return this.width},IT.Xg=function(){return this.aj().Xg()},GT.Xg=function(){return this.height},CT.cxt=function(){return lT(this).sY().Xa()},CT.fxt=function(){return lT(this).sY().Ka()},CT.dxt=function(){return lT(this).sY().tl()},CT.pxt=function(){return lT(this).sY().sl()},CT.mxt=function(){const t=lT(this).sY();return(t.Xa()+t.tl())/2},CT.gxt=function(){const t=lT(this).sY();return(t.Ka()+t.sl())/2},CT.yxt=function(t,s){return vT.hr(lT(this).ZB(),vT.Kn(s))<=vT.Kn(t)},CT.Mxt=function(t){return vT.lr(lT(this).ZB(),vT.Kn(t))},CT.wxt=function(t,s){const i=vT.Kn(t),e=vT.Kn(s),n=lT(this).ZB();return vT.lr(e,i)?vT.lr(n,i)&&!vT.lr(n,e):!(!vT.lr(n,i)&&vT.lr(n,e))},IT.qB=function(t){const s=this.aj(),i=vT.Xn(vT.Kn(t));isNaN(i)||s.ZB()===i||(s.qB(i),s.jW())},GT.qB=function(t){this.KW=t},CT.Sxt=function(t){if(isNaN(t)||0===t)return;const s=lT(this);s.qB(s.ZB()+vT.Kn(t)),s.jW()},CT.Txt=function(t){if(isNaN(t)||0===t)return;const s=lT(this);s.qB(s.ZB()-vT.Kn(t)),s.jW()},CT.bxt=function(t,s){const i=lT(this),e=i.ZB(),n=vT.ar(e,vT.Kn(s),vT.Kn(t));isNaN(n)||e===n||(i.qB(n),i.jW())},CT.vxt=function(t,s,i){const e=lT(this),n=e.ZB(),r=s-e.Wb(),h=i-e.Vb(),o=Math.atan2(h,r),a=vT.ar(n,o,vT.Kn(t));isNaN(a)||n===a||(e.qB(a),e.jW())},CT.xxt=function(t,s){const i=lT(this),e=i.ZB(),n=t-i.Wb(),r=s-i.Vb(),h=Math.atan2(r,n);isNaN(h)||e===h||(i.qB(h),i.jW())},IT.ZB=function(){return vT.tr(this.aj().ZB())},GT.ZB=function(){return this.KW},CT.Cxt=function(t,s){return vT.compare(vT.Cr(100*lT(this).sL(),6),t,s)},IT.R$=function(){return this.aj().R$()},GT.R$=function(){return this.isVisible},CT.L$=function(t){const s=lT(this);t=2===t?!s.R$():0!==t,s.R$()!==t&&(s.L$(t),ET.mj())},CT.eL=function(t){const s=vT.Zn(t/100,0,1),i=lT(this);if(i.HY()){if(i.uht().Ixt()===s)return}else if(i.sL()===s)return;i.eL(s),ET.mj()},CT.Gxt=function(t){xT.Ko(t);const s=lT(this);s.oY().Yo(xT)||(s.aY(xT),ET.mj())},CT.rL=function(){const t=lT(this).oY();return vT.Er(t.Fo(),t.jo(),t.zo(),t.Bo())},CT.sL=function(){return vT.Cr(100*lT(this).sL(),6)},CT.Ext=function(t){return!!(t=dT(t))&&lT(this).lj()===t},CT.Nxt=function(t){const s=fT(this)._B(),i=s.DB();if(!i.length)return!1;let e=i[0];for(let s=1,n=i.length;s<n;++s){const n=i[s],r=n.aj(),h=e.aj(),o=r.lj().ek(),a=h.lj().ek();0===t?(o>a||o===a&&r.uj()>h.uj())&&(e=n):(o<a||o===a&&r.uj()<h.uj())&&(e=n)}return s.Ddt(e),!0},IT.Dxt=function(t,s,i){const e=this.aj(),n=0===t?e.Hb():e.XW();return vT.compare(n,s,i)},GT.Dxt=function(t,s,i){const e=0===t?this.iU:this.ZW;return vT.compare(e,s,i)},IT._xt=function(){this.aj().uY()},GT._xt=function(){this.lY()},IT.Axt=function(){this.aj().fY()},GT.Axt=function(){this.cY()},CT.Lxt=function(t){(t=dT(t))&&lT(this).pY(t)},CT.Oxt=function(t,s){const i=0===t;if(!(s=fT(s)))return;const e=aT(this),n=s.Rxt(e);n&&e.aj().gY(n,i)},IT.qb=function(t){const s=this.aj();s.Hb()!==t&&(s.qb(t),ET.mj())},GT.qb=function(t){this.iU=t},CT.Pxt=function(){return lT(this).lj().ek()},CT.kxt=function(){return lT(this).lj().Nc()},IT.Fxt=function(){return this.aj().uj()},GT.Fxt=function(){return this.zIndex},IT.jxt=function(){return this.aj().Hb()},GT.jxt=function(){return this.iU},IT.zxt=function(){return this.aj().XW()},GT.zxt=function(){return this.ZW},CT.Bxt=function(t){const s=aT(this),i=s.GU().WB().znt(t);if(!i)return;const e=i.ek();return s.aj().kW().LQ(e)},CT.$xt=function(t,s){const i=aT(this),e=i.GU().WB().znt(s);if(!e)return;const n=e.ek(),r=1===t,h=i.aj().kW();h.LQ(n)!==r&&(h.OQ(n,r),h.RQ(),ET.mj())},CT.Uxt=function(t,s,i){const e=aT(this),n=e.GU().WB().znt(t);if(!n)return;s=Math.floor(s);const r=n.DI().AI(s);if(!r)return;"color"===r?(xT.Ko(i),i=xT):"percent"===r&&(i/=100);const h=n.ek(),o=e.aj().kW();o.kQ(h,s,i)&&o.LQ(h)&&ET.mj()};const AT=vT.Yn(vT.Rect),LT=[],OT=[];let RT=!1,PT=null,kT=!1;const FT=new Set;function*jT(t){if(!t)return!1;const s=this.Pj(),i=s.fk(),e=s.jk(),n=e.Xk(),r=e.bmt(),h=r.GU(),o=r.Zbt(),a=r.Xbt(),l=n.pH(),u=s.btt(),c=u-1,f=l.Yk(),d=n.mH(f);let p=o.get("collmemory");p||(p=vT.Yn(vT.Gu),o.set("collmemory",p)),a.get("collisionCreatedDestroyCallback")||(a.set("collisionCreatedDestroyCallback",!0),s.Mf().addEventListener("instancedestroy",(t=>gT(p,t.EQ))));const m=h._B(),g=t._B(),y=m.DB();let M=null;for(let s=0;s<y.length;++s){const n=y[s];g.pdt()?(i.Yvt(n.aj().lj(),t,n.aj().sY(),LT),M=LT,i.Wxt(n,t,M)):M=g.DB();for(let s=0;s<M.length;++s){const r=M[s];if(i.ez(n,r)||i.Yxt(n,r)){const s=yT(p,n,r);let i=!1,o=-2;"number"==typeof s&&(i=!0,o=s);const a=!i||o<c;if(pT(p,n,r,u),a){const s=f.dH();e.SH(s);const i=h._B(),o=t._B();if(i.Tdt(!1),o.Tdt(!1),h===t){const t=i.bdt();vT.Sh(t),t.push(n),t.push(r),h.nSt()}else{const s=i.bdt(),e=o.bdt();vT.Sh(s),vT.Sh(e),s.push(n),e.push(r),h.nSt(),t.nSt()}yield*f.Hwt(l,d),e.bH(s)}}else mT(p,n,r)}vT.Sh(LT)}return n.IH(),!1}CT.Qxt=function(t){const s=fT(this);t=fT(t);const i=s.Pj();if(i.Vxt())return jT.call(s,t);if(!t)return!1;const e=i.fk(),n=i.jk(),r=n.Xk(),h=n.bmt(),o=h.GU(),a=h.Zbt(),l=h.Xbt(),u=r.pH(),c=i.btt(),f=c-1,d=u.Yk(),p=r.mH(d);let m=a.get("collmemory");m||(m=vT.Yn(vT.Gu),a.set("collmemory",m)),l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),i.Mf().addEventListener("instancedestroy",(t=>gT(m,t.EQ))));const g=o._B(),y=t._B(),M=g.DB();let w=null;for(let s=0;s<M.length;++s){const i=M[s];y.pdt()?(e.Yvt(i.aj().lj(),t,i.aj().sY(),LT),w=LT,e.Wxt(i,t,w)):w=y.DB();for(let s=0;s<w.length;++s){const r=w[s];if(e.ez(i,r)||e.Yxt(i,r)){const s=yT(m,i,r);let e=!1,h=-2;"number"==typeof s&&(e=!0,h=s);const a=!e||h<f;if(pT(m,i,r,c),a){const s=d.dH();n.SH(s);const e=o._B(),h=t._B();if(e.Tdt(!1),h.Tdt(!1),o===t){const t=e.bdt();vT.Sh(t),t.push(i),t.push(r),o.nSt()}else{const s=e.bdt(),n=h.bdt();vT.Sh(s),vT.Sh(n),s.push(i),n.push(r),o.nSt(),t.nSt()}d.TH(u,p),n.bH(s)}}else mT(m,i,r)}vT.Sh(LT)}return r.IH(),!1},CT.Jxt=function(t){return t=fT(t),MT(aT(this),t,0,0)},CT.Hxt=function(t,s,i){return t=fT(t),MT(aT(this),t,s,i)},CT.qxt=function(){return!0},CT.OY=function(){return lT(this).OY()},CT.r3=function(){return lT(this).r3()},CT.Zxt=function(t,s){const i=fT(this);t=fT(t);const e=i.Pj(),n=this._B().DB();if(0===n.length)return!1;const r=t._B();let h=r.DB();if(r.pdt()){const s=[...e.Xxt(t)];s.length>0&&(h=h.concat(s))}if(0===h.length)return!1;const o=r.pdt()?null:new Set(h),a=new Set;for(let i=0,e=n.length;i<e;++i){const e=n[i];if(1===s)for(const s of e.xY())s.Kxt(t)&&(null===o||o.has(s))&&a.add(s);else{let i;if(0===s){if(i=e.TY(),null===i)continue}else i=e.vY();i.Kxt(t)&&(null===o||o.has(i))&&a.add(i)}}return 0!==a.size&&(r.Idt(a),t.nSt(),!0)},CT.tCt=function(t,s){const i=fT(this);t=fT(t);const e=i.Pj(),n=i._B().DB();if(0===n.length)return!1;const r=t._B();let h=r.DB();if(r.pdt()){const s=[...e.Xxt(t)];s.length>0&&(h=h.concat(s))}if(0===h.length)return!1;const o=r.pdt()?null:new Set(h),a=new Set;for(let i=0,e=n.length;i<e;++i){const e=n[i];2!==s||e.r3()||!e.Kxt(t)||null!==o&&!o.has(e)||a.add(e);for(const i of 0===s?e.children():e.NY())2===s&&i.r3()||i.Kxt(t)&&(null===o||o.has(i))&&a.add(i)}return 0!==a.size&&(r.Idt(a),t.nSt(),!0)},CT.sCt=function(t,s,i){const e=fT(this);t=fT(t);const n=e.Pj(),r=e._B().DB();if(0===r.length)return!1;const h=t._B();let o=h.DB();if(h.pdt()){const s=[...n.Xxt(t)];s.length>0&&(o=o.concat(s))}if(0===o.length)return!1;const a=h.pdt()?null:new Set(o),l=[];for(let e=0,n=r.length;e<n;++e){const n=r[e];if(0===s){const s=n.EY(i);null!==s&&s.Kxt(t)&&(null===a||a.has(s))&&l.push(s)}else if(1===s)for(const s of n.children())if(s.Kxt(t)){if(0===i){(null===a||a.has(s))&&l.push(s);break}--i}}return 0!==l.length&&(h.Cdt(l),t.nSt(),!0)},CT.iCt=function(t,s,i){const e=aT(this);switch(t){case 0:default:return vT.compare(e.IY(),s,i);case 1:return vT.compare(e.eCt(),s,i)}},CT._Y=function(t,s,i,e,n,r,h,o,a,l){t=fT(t);const u=aT(this),c=ET.xmt().GU();for(const f of t.nCt(u,c)){if(!f.wB().rB())return;u._Y(f,{PY:s,FY:i,zY:e,$Y:n,WY:r,JY:h,QY:o,qY:a,XY:l})}},CT.AY=function(t){t=fT(t);const s=aT(this),i=ET.xmt().GU();for(const e of t.nCt(s,i))s.AY(e)},CT.rCt=function(){const t=aT(this);t.OY()&&t.TY().AY(t)},CT.hCt=function(){const t=aT(this).TY();return t?t.zU():-1},CT.oCt=function(){return aT(this).IY()},CT.aCt=function(){return aT(this).eCt()},CT.lCt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=lT(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.eQ(),i.jW()):i.sQ(t,s)},CT.rQ=function(t,s,i,e,n,r,h,o){const a=lT(this);a.rQ(t,s,{mode:0===i?"absolute":"relative",x:e,y:n,iU:r,lQ:h,uQ:o})&&a.jW()},CT.uCt=function(){const t=lT(this);return t.oQ()?t.aQ().Sv():0},CT.cCt=function(){const t=lT(this);return t.oQ()?t.aQ().Tv():0},CT.fCt=function(t){const s=lT(this);t=2===t?!s.R$():0!==t,s.R$()!==t&&s.L$(t)},CT.TQ=function(t,s){this instanceof self.IU?this.kJ(t,s):this.TQ(t,s)},CT.dCt=function(t,s){this instanceof self.IU?this.jJ(t,""+s):this.dCt(t,""+s)},CT.pCt=function(t){this instanceof self.IU?this.zJ(t):this.pCt(t)},CT.mCt=function(){this instanceof self.IU?this.OJ():this.MQ()},CT.gCt=function(){this instanceof self.IU?this.RJ():this.wQ()},CT.yCt=function(){return this instanceof self.IU?this.PJ():this.yCt()},CT.MCt=function(t){this instanceof self.IU?this.wCt(0!==t):this.SCt(0!==t)},CT.TCt=function(){return this instanceof self.IU?this.vSt():this.bCt()},IT.vCt=function(t,s,i){return vT.compare(this.UV().Krt(t),s,i)},GT.vCt=function(t,s,i){return vT.compare(uT(this).Krt(t),s,i)},IT.xCt=function(t){return!!this.UV().Krt(t)},GT.xCt=function(t){return!!uT(this).Krt(t)},CT.CCt=function(t,s){const i=fT(this),e=i._B(),n=e.DB();if(!n.length)return!1;const r=i.M0();let h=null,o=0;for(let e=0,a=n.length;e<a;++e){const a=n[e],l=r?a.GU().ITt(i.GTt()):0,u=a.Krt(l+s);(null===h||0===t&&u<o||1===t&&u>o)&&(o=u,h=a)}return e.Ddt(h),!0},CT.ICt=function(t){const s=fT(this);return s.Pj().bmt().Qbt()?bT(s,t):TT(s,t)},CT.TV=function(t){const s=new Set(vT.Ph(t)),i=aT(this).HU();return s.isSubsetOf(i)},CT.GCt=function(){return aT(this).ECt()},CT.NCt=function(){return aT(this).HU().size},CT.DCt=function(t){return aT(this)._Ct(t)},CT.ACt=function(t,s){const i=vT.Ph(s);if(0===i.length)return;const e=aT(this),n=new Set(e.HU());if(0===t)for(const t of i)n.add(t);else if(1===t)for(const t of i)n.delete(t);e.ZU(n)},CT.LCt=function(){ET.LU(aT(this))},CT.OCt=function(){return!0},CT.RCt=function(){return!0},IT.PCt=function(t,s){this.UV().tht(t,s)},GT.PCt=function(t,s){uT(this).tht(t,s)},IT.kCt=function(t,s){const i=this.UV(),e=i.Krt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.tht(t,e+s)},GT.kCt=function(t,s){const i=uT(this),e=i.Krt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.tht(t,e+s)},IT.FCt=function(t,s){const i=this.UV(),e=i.Krt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.tht(t,e-s))},GT.FCt=function(t,s){const i=uT(this),e=i.Krt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.tht(t,e-s))},IT.jCt=function(t,s){this.UV().tht(t,s?1:0)},GT.jCt=function(t,s){uT(this).tht(t,s?1:0)},IT.zCt=function(t){const s=this.UV();s.tht(t,0===s.Krt(t)?1:0)},GT.zCt=function(t){const s=uT(this);s.tht(t,0===s.Krt(t)?1:0)},CT.BCt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=aT(this),e="state";ET.$Ct(),i.p6(e),i.rv(s,e),ET.UCt(e,{WCt:!0})},CT.YCt=function(){return JSON.stringify(aT(this).nv("state"))},CT.QCt=function(){return aT(this).GU().Nc()},CT.VCt=function(){const t=ET.Tmt().opt();let s=t.LB();for(const i of ET.Xxt(t))++s;return s},CT.JCt=function(){return ET.Tmt().opt()._B().DB().length},IT.$U=function(){return this.UV().$U()},GT.$U=function(){return uT(this).$U()},IT.zU=function(){return this.UV().zU()},GT.zU=function(){return uT(this).zU()},CT.Vgt=function(t){const s=aT(this);return t.toLowerCase()===ET.jk().Zgt(s)},CT.KU=function(t){const s=aT(this);ET.jk().KU(s,t)},CT.HCt=function(t){const s=fT(this);return ET.jk().vgt().qCt(s._B().DB(),t),!0},CT.ZCt=function(){return aT(this).WU()},vT.XCt=function(t,s,i){const e=t[1],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],l=t[8],u=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.Gj,M=s.hrt,w=s.ort,S=Object.assign({},CT,i>=2?GT:IT);n&&(y.Hvt=S.Hvt,y.qvt=S.qvt,y.Zvt=S.Zvt,y.Xvt=S.Xvt,y.Kvt=S.Kvt,M.Yb=S.Yb,M.Jb=S.Jb,M.txt=S.txt,M.ixt=S.ixt,M.rxt=S.rxt,M.axt=S.axt,w.KCt=S.Wb,w.tIt=S.Vb,w.oF=S.aF),r&&(y.lxt=S.lxt,y.uxt=S.uxt,M.Hg=S.Hg,M.Ug=S.Ug,M.vD=S.vD,w.sIt=S.$g,w.iIt=S.Xg,w.eIt=S.cxt,w.nIt=S.fxt,w.rIt=S.dxt,w.hIt=S.pxt,w.oIt=S.mxt,w.aIt=S.gxt),h&&(y.lIt=S.yxt,y.uIt=S.Mxt,y.wxt=S.wxt,M.qB=S.qB,M.Sxt=S.Sxt,M.Txt=S.Txt,M.bxt=S.bxt,M.vxt=S.vxt,M.xxt=S.xxt,w.cIt=S.ZB),o&&(y.R$=S.R$,y.Cxt=S.Cxt,M.L$=S.L$,M.eL=S.eL,M.Gxt=S.Gxt,w.Opacity=S.sL,w.ColorValue=S.rL),a&&(y.Ext=S.Ext,y.Nxt=S.Nxt,y.Dxt=S.Dxt,M._xt=S._xt,M.Axt=S.Axt,M.Lxt=S.Lxt,M.Oxt=S.Oxt,M.qb=S.qb,w.Pxt=S.Pxt,w.kxt=S.kxt,w.Fxt=S.Fxt,w.jxt=S.jxt,w.zxt=S.zxt),l&&(y.Bxt=S.Bxt,M.$xt=S.$xt,M.Uxt=S.Uxt),d&&(y.qxt=S.qxt,y.OY=S.OY,y.r3=S.r3,y.Zxt=S.Zxt,y.tCt=S.tCt,y.sCt=S.sCt,y.iCt=S.iCt,M._Y=S._Y,M.AY=S.AY,M.rCt=S.rCt,w.hCt=S.hCt,w.oCt=S.oCt,w.aCt=S.aCt),p&&(M.lCt=S.lCt,M.rQ=S.rQ,w.uCt=S.uCt,w.cCt=S.cCt),u&&(y.R$=S.R$,M.L$=S.fCt,M.fIt=S.TQ,M.dIt=S.dCt,M.pIt=S.pCt),c&&(y.mIt=S.yCt,M.gIt=S.mCt,M.yIt=S.gCt),f&&(y.Iu=S.TCt,M.MIt=S.MCt),m&&(y.Qxt=S.Qxt,y.Jxt=S.Jxt,y.Hxt=S.Hxt,s.wIt=ST),e||(y.vCt=S.vCt,y.xCt=S.xCt,y.CCt=S.CCt,y.ICt=S.ICt,y.TV=S.TV,M.PCt=S.PCt,M.kCt=S.kCt,M.FCt=S.FCt,M.jCt=S.jCt,M.zCt=S.zCt,M.ACt=S.ACt,y.OCt=S.OCt,y.RCt=S.RCt,M.LCt=S.LCt,M.BCt||(M.BCt=S.BCt),w.YCt||(w.YCt=S.YCt),w.VCt=S.VCt,w.JCt=S.JCt,w.SIt=S.$U,w.TIt=S.zU,w.QCt=S.QCt,w.GCt=S.GCt,w.NCt=S.NCt,w.DCt=S.DCt,y.Vgt=S.Vgt,M.KU=S.KU,M.HCt=S.HCt),g&&(w.ZCt=S.ZCt)}}{const zT=self.Gs;zT.xgt=class extends zT.Un{constructor(t){super(),this.Ldt=t,this.Qc="",this.IR=-1,this.bIt="",this.vIt=!1,this.xIt=null,this.$dt=0,this.gMt=[],this.Jdt=null,this.CIt=new Map,this.IIt=null,this.GIt=null,this.EIt=-1,this.bSt=null,this.NIt=null,this.DIt=!1}Qn(){this.Qc="",this.IR=-1,this.bIt="",this.xIt=null,this.GIt=null,this.bSt=null,this.NIt=null,this.EIt=-1,zT.Sh(this.gMt),this.Jdt&&(this.Jdt.clear(),this.Jdt=null);for(const t of this.CIt.values())t.Qn();this.CIt.clear(),this.IIt=null}Ub(){const t=this.Ldt,s=t.Pj().y0(),i=t.Tmt();this.xIt=i.Yk(),this.$dt=i.tpt()+1;const e=t.myt(this.xIt);e&&(this.GIt=e,this.bSt=e.jSt(),this.NIt=e.FSt().map((t=>t.Aet())),e.$wt()&&(this.EIt=e.USt()));for(const t of s){const s=t._B();s.pdt()&&!this.xIt.fwt(t)||(this.gMt.push(t),this.CIt.set(t,zT.Yn(zT._It,s)))}const n=t.Qk();this.Jdt=n.size>0?n:null}AIt(t){this.Qc="timer",this.Ub(),this.IR=this.Ldt.Pj().fF()+t}LIt(t){this.Qc="walltimer",this.Ub(),this.IR=this.Ldt.Pj().pF()+t}OIt(t){this.Qc="signal",this.Ub(),this.bIt=t.toLowerCase()}qCt(t,s){this.Qc="instance-signals",this.Ub(),this.bIt=s.toLowerCase(),this.IIt=new Set(t)}RIt(t){this.Qc="promise",this.Ub(),t.then((()=>this.Ugt())).catch((t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.Ugt()}))}PIt(){return"timer"===this.Qc}kIt(){return"walltimer"===this.Qc}Bgt(){return"signal"===this.Qc}Hgt(){return"instance-signals"===this.Qc}cyt(){return"promise"===this.Qc}$gt(){return this.bIt}FIt(){return this.vIt}Ugt(){this.vIt=!0}qgt(t){this.IIt.delete(t),0===this.IIt.size&&this.Ugt()}Ggt(){return this.PIt()?this.IR<=this.Ldt.Pj().fF():this.kIt()?this.IR<=this.Ldt.Pj().pF():this.FIt()}jIt(t){t.Hdt(this.xIt,this.$dt);for(const[t,s]of this.CIt.entries()){const i=t._B();s.Hdt(i)}this.Jdt&&t.dpt([...this.Jdt]);const s=this.GIt;s&&(s.Kwt(this.bSt),s.FSt().map(((t,s)=>t.pnt(this.NIt[s]))),s.$wt()&&s.WSt(this.EIt))}Egt(t){this.jIt(t),this.xIt.Uwt(t),this.GIt&&this.GIt.$wt()&&this.GIt.lSt(this.EIt),this.Ldt.wgt(this.gMt),this.DIt=!0}async Agt(t){this.jIt(t);for(const s of this.xIt.Wwt(t))await this.Ldt.Pj().igt(s);this.GIt&&this.GIt.$wt()&&this.GIt.lSt(this.EIt),this.Ldt.wgt(this.gMt),this.DIt=!0}Ngt(){return this.DIt}ldt(t){for(const s of this.CIt.values())s.ldt(t);if("instance-signals"===this.Qc){for(const s of t)this.IIt.delete(s);0===this.IIt.size&&this.Ugt()}}s3(){const t={},s={wt:this.Qc,t:this.IR,st:this.bIt,s:this.vIt,ev:this.xIt.I0(),sm:this.gMt.map((t=>t.I0())),dsm:this.Jdt?[...this.Jdt].map((t=>t.I0())):null,sols:t};this.xIt.Dwt(this.$dt)&&(s.act=this.xIt.Cmt(this.$dt).I0());for(const[s,i]of this.CIt)t[s.I0().toString()]=i.s3();return"instance-signals"===this.Qc&&(s.pi=[...this.IIt].map((t=>t.zU()))),s}static fyt(t,s){const i=t.Pj(),e=t.Omt(s.ev);if(!e)return null;let n=0;if(s.hasOwnProperty("act")){const i=t.Pmt(s.act);if(!i)return null;n=i.ek()}const r=zT.Yn(zT.xgt,t);r.IR=s.t,s.hasOwnProperty("wt")?r.Qc=s.wt:r.Qc=-1===r.IR?"signal":"timer",r.bIt=s.st,r.vIt=s.s,r.xIt=e,r.$dt=n;for(const t of s.sm){const s=i.fH(t);s&&r.gMt.push(s)}if(Array.isArray(s.dsm))for(const t of s.dsm){const s=i.fH(t);s&&(r.Jdt||(r.Jdt=new Set),r.Jdt.add(s))}for(const[e,n]of Object.entries(s.sols)){const s=parseInt(e,10),h=i.fH(s);if(!h)continue;const o=zT.Yn(zT._It,null);o.i3(t,n),r.CIt.set(h,o)}if("instance-signals"===r.Qc){r.IIt=new Set;for(const t of s.pi){const s=i.ej(t);s&&r.IIt.add(s)}}return r}}}{const BT=self.Gs;BT._It=class extends BT.Un{constructor(t){super(),this.idt=null,this.zIt=!0,this.pX=[],t&&(this.idt=t.GU(),this.zIt=t.pdt(),BT.Ch(this.pX,t.bdt()))}Qn(){this.idt=null,BT.Sh(this.pX)}Hdt(t){t.Tdt(this.zIt),BT.Ch(t.bdt(),this.pX)}ldt(t){BT.Dh(this.pX,t)}s3(){return{sa:this.zIt,insts:this.pX.map((t=>t.zU()))}}i3(t,s){const i=t.Pj();this.zIt=!!s.sa,BT.Sh(this.pX);for(const t of s.insts){const s=i.ej(t);s&&this.pX.push(s)}}}}{let $T=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};GetNextParamMap=$T;const UT=self.Gs;UT.BIt=class extends UT.Un{constructor(t){super(),this.Fc=t.runtime,this.zc=t.id,this.Hn=t.name??"",this.$It=!!t.Yz,this.UIt=!!t.WIt,this.YIt=!!t.Xz,this.QIt=!!t.VIt,this.JIt=!!t.tB,this.HIt=!!t.qIt,this.ZIt=!!t.hB,this.XIt=!!t.qz,this.KIt=!!t.iB,this.tGt=t.sGt,this.iGt=null,this.eGt=new Map,this.nGt=new Map,this.rGt=new Map,this.hGt=new Map,this.oGt=t.aGt,this.lGt=null}Qn(){this.Fc=null}Pj(){return this.Fc}Wz(){return this.zc}Nc(){return this.Hn}uGt(){}Jgt(){return this.Ybt()>=2?this.lGt.constructor:this.constructor}Ybt(){return this.tGt}cGt(t=!1){let s=this.oGt;return t&&"function"!=typeof s&&this.Ybt()>=2&&(s=globalThis.qV),s}Qz(){return this.$It}Jz(){return this.UIt}Zz(){return this.XIt}eB(){return this.KIt}Kz(){return this.YIt}yb(){return this.QIt}sB(){return this.JIt}rB(){return this.HIt}oB(){return this.ZIt}pTt(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.eGt.get(t);return i||(i=t.bind(s),this.eGt.set(t,i),i)}Bbt(t,s,i){if(!s)throw new Error("missing 'this' binding");const e=$T(this.nGt,t);let n=e.get(i);return n||(n=t.bind(s,i),e.set(i,n),n)}$bt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");const n=$T(this.rGt,t),r=$T(n,i);let h=r.get(e);return h||(h=t.bind(s,i,e),r.set(e,h),h)}Ubt(t,s,i,e,n){if(!s)throw new Error("missing 'this' binding");const r=$T(this.hGt,t),h=$T(r,i),o=$T(h,e);let a=o.get(n);return a||(a=t.bind(s,i,e,n),o.set(n,a),a)}fGt(t){if(!this.Qz())throw new Error("must be single-global plugin");this.iGt=t}pB(){if(!this.Qz())throw new Error("must be single-global plugin");return this.iGt}gB(){if(!this.Qz())throw new Error("must be single-global plugin");return this.iGt.gB()}dGt(){const t=this.Ybt();UT.$z.pGt(this,t);const s=this.cGt(!0);if(s){if(this.lGt=new s,!(this.lGt instanceof self.zz))throw new TypeError("plugin class must derive from IPlugin")}else this.lGt=new self.zz;UT.$z.mGt(t)}cB(){return this.lGt}}}{const WT=self.Gs;WT.gGt=class extends WT.BIt{constructor(t,s){super(t),this.yGt=s,this.MGt=0,this.wGt=new Map,this.SGt("elem-focused",(t=>t.TGt())),this.SGt("elem-blurred",(t=>{t&&t.bGt()}))}Qn(){super.Qn()}vGt(t){const s=this.MGt++;return this.wGt.set(s,t),s}xGt(t){this.wGt.delete(t)}SGt(t,s){this.Fc.fW(this.yGt,t,(t=>{const i=this.wGt.get(t.elementId);s(i,t)}))}}}{const YT=self.Gs;YT.CGt=class extends YT.Un{constructor(t){super(),this.idt=t,this.Fc=t.Pj(),this.IGt=t.wB()}Qn(){this.idt=null,this.Fc=null,this.IGt=null}GU(){return this.idt}Pj(){return this.Fc}wB(){return this.IGt}iV(){return this.idt.iV()}uGt(){}evt(t){}$vt(t){}Uvt(t){}g4(t){}b4(){}w4(){}Y4(t){}GGt(){}cGt(){return null}EGt(t,s,i){const e=YT.Yn(YT.Event,t,s);e.NGt=this,i&&Object.assign(e,i),this.GU().x5(e)}}}{const QT=self.Gs;QT.DGt=class extends QT.Un{constructor(t,s){super(),this.di=t,this.yGt=s,this._Gt=null,this.Fc=t.Pj(),this.idt=this.di.GU(),this.AGt=this.idt.Bvt(),this.e6=null,this.r6=null,this.TW=!1,this.vW=!1,this.qf=null,this.JN=!1}Qn(){this.JN=!0,this.LGt(),this.OGt(),this.e6=null,this.r6=null,this.qf&&(this.qf.Qn(),this.qf=null),this.di=null,this.Fc=null,this.idt=null,this.AGt=null}Vn(){return this.JN}UV(){return this.di}Pj(){return this.Fc}GU(){return this.idt}wB(){return this.AGt.wB()}Bvt(){return this.AGt}RGt(){return this.di.nj()}lW(t){return this.Fc.lW(t,this.di,null)}PGt(t){return this.Fc.PGt(t,this.di,null)}Cj(t){return this.Fc.Cj(t,this.di,null)}kGt(t,s){return this.Fc.kGt(t,this.di,s)}FGt(t,s){return this.Fc.FGt(t,this.di,s)}jGt(t){return this.Fc.jGt(t)}zGt(t,s){this.Fc.fW(this.yGt,t,s)}BGt(t){for(const[s,i]of t)this.zGt(s,i)}$Gt(t,s){this.Fc.Bc(this.yGt,t,s)}UGt(t,s){return this.Fc.yj(this.yGt,t,s)}WGt(t,s){if(!this.Fc.vk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.yGt,handler:t,data:s,responseId:null});this.$Gt(t,s)}YGt(t){if(!t)throw new Error("cannot set empty component id");this._Gt=t}QGt(){if(!this._Gt)throw new Error("wrapper extension component id not set");return this.Fc.NW(this._Gt)}_W(t,s){if(!this._Gt)throw new Error("wrapper extension component id not set");this.Fc._W(this._Gt,t,s)}VGt(t){for(const[s,i]of t)this._W(s,i)}iH(t,s){if(!this._Gt)throw new Error("wrapper extension component id not set");this.Fc.iH(this._Gt,t,s)}eH(t,s){if(!this._Gt)throw new Error("wrapper extension component id not set");return this.Fc.eH(this._Gt,t,s)}d8(){}JGt(){}HGt(){if(!this.TW){if(!this.e6)if(this.Fc.yW()){const t=globalThis.MW,s=this.wB();this.e6=()=>{const i=performance.now();this.d8(),t.SW(s,performance.now()-i)}}else this.e6=()=>this.d8();this.Fc.Mf().addEventListener("tick",this.e6),this.TW=!0}}LGt(){this.TW&&(this.Fc.Mf().removeEventListener("tick",this.e6),this.TW=!1)}qGt(){return this.TW}ZGt(){if(!this.vW){if(!this.r6)if(this.Fc.yW()){const t=globalThis.MW,s=this.wB();this.r6=()=>{const i=performance.now();this.JGt(),t.SW(s,performance.now()-i)}}else this.r6=()=>this.JGt();this.Fc.Mf().addEventListener("tick2",this.r6),this.vW=!0}}OGt(){this.vW&&(this.Fc.Mf().removeEventListener("tick2",this.r6),this.vW=!1)}XGt(){return this.vW}KGt(){return[]}nv(){return null}rv(t){}Wrt(t){}qrt(t,s){}$ht(t,s,i){if(0===s)return;const e=this.Wrt(t);if("number"!=typeof e)throw new Error("expected number");this.qrt(t,e+s,i)}tEt(t,s,i,e){}sEt(t,...s){t.call(this,...s)}iEt(t,...s){return t.call(this,...s)}cGt(){return null}EGt(t,s,i){if(!this.di.eEt())return;const e=this.RGt(),n=QT.Yn(QT.Event,t,s);n.EQ=e,i&&Object.assign(n,i),e.dispatchEvent(n)}yb(){return!1}}}{const VT=self.Gs;VT.nEt=class extends VT.DGt{constructor(t,s){super(t,s),this.Ast=t.aj(),this.rEt=null,this.hEt=null}Qn(){if(this.rEt){const t=this.Fc.Mf();t.removeEventListener("renderercontextlost",this.rEt),t.removeEventListener("renderercontextrestored",this.hEt),this.rEt=null,this.hEt=null}this.Ast=null,super.Qn()}oEt(){this.aEt()}lEt(){}uEt(){}aEt(){if(this.rEt)return;this.rEt=()=>this.hX(),this.hEt=()=>this.cEt();const t=this.Fc.Mf();t.addEventListener("renderercontextlost",this.rEt),t.addEventListener("renderercontextrestored",this.hEt)}hX(){this.lEt()}cEt(){this.uEt()}aj(){return this.Ast}Tit(){return!1}Sit(){if(!this.Tit())throw new Error("original size not known");const t=this.fEt();if(t)return t.$g()}vit(){if(!this.Tit())throw new Error("original size not known");const t=this.fEt();if(t)return t.Xg()}fEt(){return null}dEt(){const t=this.fEt();if(t){const s=t.cC();if(s)return[s.$g(),s.Xg()]}return[100,100]}pEt(){const t=this.fEt();return t?t.t_():null}mEt(){const t=this.fEt();return t?t.gEt():null}yEt(){const t=this.fEt();return!!t&&t.MEt()}nxt(t){const s=this.di.aj();return[s.Wb(),s.Vb(),s.XW()]}GGt(t,s,i){}wEt(t,s){}_2(){return!0}}}{const JT=self.Gs,HT=JT.Yn(JT.Rect);JT.SEt=class extends JT.nEt{constructor(t,s){super(t,s),this.TEt=this.wB().vGt(this),this.bEt=!0,this.vEt=!1,this.xEt=!1,this.CEt=-.2,this.IEt=JT.Yn(JT.Rect,0,0,-1,-1);const i=this.Fc.vj();this.GEt=i.MJ(),this.EEt=i.wJ(),this.NEt=-1,this.DEt=-1,this._Et=!1,this.HGt()}Qn(){this.wB().xGt(this.TEt),this.AEt("destroy"),this.TEt=-1,super.Qn()}gQ(){if(this.Fc.vk())throw new Error("not valid in worker mode");return this.LEt("get-element")}AEt(t,s){s||(s={}),s.elementId=this.TEt,this.$Gt(t,s)}LEt(t,s){return s||(s={}),s.elementId=this.TEt,this.WGt(t,s)}OEt(t,s){return s||(s={}),s.elementId=this.TEt,this.UGt(t,s)}REt(t){t||(t={});const s=this.aj();t.elementId=this.TEt,t.isVisible=s.R$(),t.htmlIndex=s.lj().CJ(),t.htmlZIndex=s.IJ(),Object.assign(t,this.PEt()),this.bEt=!!t.isVisible,this.WGt("create",t),this.kEt(!0)}fCt(t){t=!!t,this.bEt!==t&&(this.bEt=t,this.AEt("set-visible",{isVisible:t}))}d8(){this.kEt(!1)}FEt(){const t=this.Fc.vj()._J();return"Android"===JT.Xs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}kEt(t){if(this.UV().AJ())return;const s=this.aj(),i=s.lj(),e=s.sY();let[n,r]=i.wU(e.Xa(),e.Ka()),[h,o]=i.wU(e.tl(),e.sl());const a=this.Fc.vj(),l=a.Dz(),u=a.Az();if(!s.R$()||!i.R$())return void this.fCt(!1);if(!this.FEt()&&(h<=0||o<=0||n>=l||r>=u))return void this.fCt(!1);HT.set(n,r,h,o);const c=a.MJ(),f=a.wJ(),d=i.CJ(),p=s.IJ();if(!t&&HT.equals(this.IEt)&&this.GEt===c&&this.EEt===f&&this.NEt===d&&this.DEt===p)return void this.fCt(!0);this.IEt.M(HT),this.GEt=c,this.EEt=f,this.NEt=d,this.DEt=p,this.fCt(!0);let m=null;this.xEt&&(m=i.LJ()+this.CEt),this.AEt("update-position",{left:Math.round(this.IEt.Xa()),top:Math.round(this.IEt.Ka()),width:Math.round(this.IEt.width()),height:Math.round(this.IEt.height()),htmlIndex:d,htmlZIndex:p,fontSize:m})}MQ(){this.LEt("focus",{focus:!0})}wQ(){this.LEt("focus",{focus:!1})}TGt(){this.vEt=!0}bGt(){this.vEt=!1}yCt(){return this.vEt}TQ(t,s){this.AEt("set-css-style",{prop:JT.To(t),val:s})}dCt(t,s){this.AEt("set-attribute",{name:t,val:s})}pCt(t){this.AEt("remove-attribute",{name:t})}jEt(){this._Et||(this._Et=!0,Promise.resolve().then((()=>{this._Et=!1,this.AEt("update-state",this.PEt())})))}PEt(){}zEt(){return this.TEt}}}{const qT=self.Gs,ZT=self._Q;qT.BEt=class extends qT.Un{constructor(t){super(),this.Fc=t.runtime,this.zc=t.id,this.Hn=t.name??"",this.$Et=qT.Yn(qT.Ru),this.UEt=qT.Yn(qT.Ru),this.tGt=t.sGt,this.oGt=t.aGt,this.WEt=null}Qn(){this.UEt.Qn(),this.$Et.Qn(),this.Fc=null}Pj(){return this.Fc}Wz(){return this.zc}Nc(){return this.Hn}uGt(){}Ybt(){return this.tGt}cGt(t=!1){let s=this.oGt;return t&&"function"!=typeof s&&this.Ybt()>=2&&(s=globalThis.UJ),s}YEt(t){this.$Et.ju(t)}j6(){return this.$Et.zu()}r0(t){this.UEt.ju(t)}a0(t){this.UEt._u(t)}DB(){return this.UEt.zu()}dGt(){const t=this.Ybt();qT.$z.pGt(this,t);const s=this.cGt(!0);if(s){if(this.WEt=new s,!(this.WEt instanceof ZT))throw new TypeError("behavior class must derive from IBehavior")}else this.WEt=new ZT;qT.$z.mGt(t)}vQ(){return this.WEt}}}{const XT=self.Gs;XT.QEt=class extends XT.Un{constructor(t){super(),this.Fc=t.Pj(),this.NTt=t,this.idt=t.GU(),this.VEt=t.xQ(),this.VEt.YEt(this.idt)}Qn(){this.Fc=null,this.NTt=null,this.idt=null,this.VEt=null}uGt(){}GQ(){return this.NTt}GU(){return this.idt}Pj(){return this.Fc}xQ(){return this.VEt}}}{const KT=self.Gs;KT.JEt=class extends KT.Un{constructor(t,s){super(),this.HEt=t,this.yGt=s,this.di=t.NQ(),this.Fc=t.Pj(),this.NTt=t.GQ(),this.AGt=this.NTt.Bvt(),this.TW=!1,this.vW=!1,this.tH=!1,this.qf=null}Qn(){this.LGt(),this.OGt(),this.qEt(),this.qf&&(this.qf.Qn(),this.qf=null),this.HEt=null,this.di=null,this.Fc=null,this.NTt=null,this.AGt=null}xQ(){return this.NTt.xQ()}ZEt(){return this.HEt}NQ(){return this.di}GU(){return this.di.GU()}aj(){return this.di.aj()}Pj(){return this.Fc}GQ(){return this.NTt}Bvt(){return this.AGt}RGt(){return this.HEt.RGt()}lW(t){return this.Fc.lW(t,this.di,this.NTt)}PGt(t){return this.Fc.PGt(t,this.di,this.NTt)}Cj(t){return this.Fc.Cj(t,this.di,this.NTt)}XEt(){}d8(){}JGt(){}KEt(){}HGt(){this.TW||(this.Fc.JJ(this),this.TW=!0)}LGt(){this.TW&&(this.Fc.HJ(this),this.TW=!1)}qGt(){return this.TW}ZGt(){this.vW||(this.Fc.qJ(this),this.vW=!0)}OGt(){this.vW&&(this.Fc.ZJ(this),this.vW=!1)}XGt(){return this.vW}tNt(){this.tH||(this.Fc.XJ(this),this.tH=!0)}qEt(){this.tH&&(this.Fc.KJ(this),this.tH=!1)}sNt(){return this.tH}KGt(){return[]}zGt(t,s){this.Fc.fW(this.yGt,t,s)}iNt(t,s){}nv(){return null}rv(t){}Wrt(t){}qrt(t,s){}$ht(t,s){if(0===s)return;const i=this.Wrt(t);if("number"!=typeof i)throw new Error("expected number");this.qrt(t,i+s)}tEt(t,s,i,e){}sEt(t,...s){t.call(this,...s)}iEt(t,...s){return t.call(this,...s)}cGt(){return null}EGt(t,s,i){if(!this.HEt.eEt())return;const e=this.RGt(),n=KT.Yn(KT.Event,t,s);n.eNt=e,n.EQ=e.EQ,i&&Object.assign(n,i),e.dispatchEvent(n)}}}{let tb=function(t){if(t!==ib)throw new Error("invalid internal API token")};ValidateInternalAPIToken=tb;const sb=self.Gs;sb.Nj={},sb.slt={};const ib=sb.Es();let eb=[],nb=[],rb=[],hb=null,ob=null,ab=null,lb=null;const ub=new Map,cb=new Map;sb.$z=class extends sb.Un{constructor(t,s){super(),this.Fc=t,this.nNt=[],this.uTt=null,this.rNt=[],this.hNt=new Map,this.oNt=null,this.aNt=null,this.lNt=new Set(s)}uNt(t){const s=t[19],i=this.Fc.dSt(t[0]);if(!i)throw new Error("missing plugin");sb.XCt(t,i,s);const e=s>=2?sb.BIt:i,n=sb.Yn(e,{runtime:this.Fc,Yz:t[1],WIt:t[2],Xz:t[5],tB:t[8],VIt:t[9],qIt:t[13],hB:t[14],qz:t[17],iB:t[18],sGt:s,id:t[20],name:t[21],aGt:s>=2?i:null});n.uGt(),this.nNt.push(n),ub.set(i,n)}cNt(){this.uTt=sb.Yn(sb.Nj.Ej,{runtime:this.Fc,Yz:!0}),this.uTt.uGt()}fNt(t){const s=t[1],i=t[2],e=t[3],n=this.Fc.dSt(t[0]);if(!n)throw new Error("missing behavior");this.hNt.set(n,(()=>{const t=s>=2?sb.BEt:n,r=sb.Yn(t,{runtime:this.Fc,id:i,name:e,sGt:s,aGt:s>=2?n:null});r.uGt(),this.rNt.push(r),cb.set(n,r),!this.oNt&&sb.slt.dNt&&r instanceof sb.slt.dNt?this.oNt=r:!this.aNt&&sb.slt.pNt&&r instanceof sb.slt.pNt&&(this.aNt=r),r.dGt()}))}mNt(t){const s=this.hNt.get(t);s&&(s(),this.hNt.delete(t))}static pGt(t,s=1){if(sb.$z.pGt!==hb)throw new Error("invalid method");1===s&&eb.push(t),nb.push(t)}static mGt(t=1){if(sb.$z.mGt!==ob)throw new Error("invalid method");1===t&&eb.pop(),nb.pop()}static _U(){if(sb.$z._U!==ab)throw new Error("invalid method");if(0===eb.length)throw new Error("no init object set");return eb.at(-1)}static Bz(t){if(sb.$z.Bz!==lb)throw new Error("invalid method");if(tb(t),0===nb.length)throw new Error("no init object set");return nb.at(-1)}static gNt(t){rb.push(t)}static yNt(){rb.pop()}static oW(){if(0===rb.length)throw new Error("no init properties set");return rb.at(-1)}MNt(){for(const t of this.nNt)t.dGt()}static uB(t){return ub.get(t)||null}static AQ(t){return cb.get(t)||null}LZ(){return this.uTt}wNt(){return this.oNt}SNt(){return this.aNt}NW(t){return this.lNt.has(t)}},hb=sb.$z.pGt,ob=sb.$z.mGt,ab=sb.$z._U,lb=sb.$z.Bz}{const fb=self.Gs,db=new Set;fb.TNt=class extends fb.Un{constructor(){super(),this.bNt=0,this.HZ="",this.qZ=0,this.vNt=0,this.xNt=0,this.Ny=0,this.Dy=0,this.CNt=!1,this.INt=!1,this.GNt=null,this.ENt="",this.$N=fb.Yn(fb.Rect),this.NNt=fb.Yn(fb.El),this.DNt="",this._Nt=new self.Oj(this),db.add(this)}Qn(){this.YN(),this.GNt&&0===this.GNt.lX()&&this.GNt.Qn(),this.GNt=null,db.delete(this),this.ANt()}static hX(){for(const t of db)t.ENt="",t.$N.set(0,0,0,0),t.NNt.Hl(t.$N)}LNt(t){this.HZ=t[0],this.qZ=t[1],this.vNt=t[2],this.xNt=t[3],this.Ny=t[4],this.Dy=t[5],this.CNt=t[6],this.INt=!0}ONt(t,s){if(this.GNt)throw new Error("already loaded asset");this.HZ=s;const i={};return fb.Zh(s)&&(i.vZ="remote"),this.Rj(t,i),this.GNt.IZ()}RNt(t,s){if(this.GNt)throw new Error("already loaded asset");this.HZ="",this.qZ=s.size,this.GNt=fb.Yn(fb.xZ,t.lk(),{blob:s,size:this.qZ,vZ:"local"})}PNt(t){if(t===this)throw new Error("cannot replace with self");this.bNt++,this.YN(),this.HZ=t.HZ,this.qZ=t.qZ,this.vNt=t.vNt,this.xNt=t.xNt,this.Ny=t.Ny,this.Dy=t.Dy,this.CNt=t.CNt,this.INt=t.INt,this.GNt=t.GNt,this.ENt=t.ENt,this.$N=t.$N,this.NNt=t.NNt,this.ANt()}CZ(){return this.HZ}Lu(){return this.qZ}kNt(){return this.vNt}FNt(){return this.xNt}MEt(){return this.CNt}$g(){return this.Ny}Xg(){return this.Dy}jNt(){return this.GNt.$g()}zNt(){return this.GNt.Xg()}Rj(t,s){if(this.GNt)throw new Error("already got asset");s=Object.assign({},s,{url:this.CZ(),size:this.Lu()}),this.GNt=t.bZ(s)}tX(){return this.GNt&&this.GNt.tX()}async nq(t,s){if(!this.GNt)throw new Error("no asset");if(this.ENt)throw new Error("already loaded texture");const i=this.bNt;this.ENt="loading";const e=await this.GNt.nq(t,s);if(this.bNt!==i)return null;if(!e)return this.ENt="",null;this.ENt="loaded",this.INt||(this.Ny=e.$g(),this.Dy=e.Xg(),this.INt=!0);const n=this.CNt?this.Dy:this.Ny,r=this.CNt?this.Ny:this.Dy;return this.$N.set(this.vNt,this.xNt,this.vNt+n,this.xNt+r),this.$N.wt(e.$g(),e.Xg()),this.NNt.Hl(this.$N),this.CNt&&this.NNt.su(),e}YN(){this.ENt&&(this.GNt&&this.GNt.YN(),this.ENt="",this.$N.set(0,0,0,0),this.NNt.Hl(this.$N))}cC(){return this.GNt&&"loaded"===this.ENt?this.GNt.cC():null}t_(){return this.$N}gEt(){return this.NNt}oJ(){return this._Nt}BNt(){return this.GNt}async $Nt(t){t||(t=await this.GNt.uX());const s=fb.co(this.Ny,this.Dy),i=s.getContext("2d");return this.CNt?(i.rotate(Math.PI/-2),i.translate(-this.Dy,0),i.drawImage(t,this.vNt,this.xNt,this.Dy,this.Ny,0,0,this.Dy,this.Ny)):i.drawImage(t,this.vNt,this.xNt,this.Ny,this.Dy,0,0,this.Ny,this.Dy),s}async UNt(t){if(this.DNt)return this.DNt;const s=await this.$Nt(t),i=await fb.fo(s);return this.DNt=URL.createObjectURL(i),this.DNt}ANt(){this.DNt&&(URL.revokeObjectURL(this.DNt),this.DNt="")}}}{const pb=self.Gs;pb.WNt=class extends pb.Un{constructor(t){super(),this.Hn=t[0],this.YNt=t[1],this.Sbt=!!t[2],this.wot=t[3],this.QNt=t[4],this.VNt=!!t[5],this.VX=t[6],this.JNt=t[7].map((t=>pb.Yn(pb.HNt,t))),this.qNt=new self.FQ(this)}static ZNt(t,s){const i=pb.Yn(pb.WNt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.JNt.push(pb.HNt.ZNt(t)),i}Qn(){for(const t of this.JNt)t.Qn();pb.Sh(this.JNt)}XNt(t){for(const s of this.JNt)s.iV().Rj(t)}KNt(t,s){return Promise.all(this.JNt.map((i=>i.iV().nq(t,s))))}tDt(){for(const t of this.JNt)t.iV().YN()}Nc(){return this.Hn}I0(){return this.VX}JQ(){return this.JNt.length}qQ(){return this.JNt}sDt(t){if((t=Math.floor(t))<0||t>=this.JNt.length)throw new RangeError("invalid frame");return this.JNt[t]}iDt(t,s){(s=Math.floor(s))<0?this.JNt.unshift(t):s>=this.JNt.length?this.JNt.push(t):this.JNt.splice(s,0,t)}eDt(t){if((t=Math.floor(t))<0||t>=this.JNt.length)throw new RangeError("invalid frame");this.JNt[t].Qn(),this.JNt.splice(t,1)}nDt(t){for(let s=0,i=this.JNt.length;s<i;++s)if(pb.Xe(this.JNt[s].gV(),t))return s;return-1}rDt(t){if("string"==typeof t){const s=this.nDt(t);if(-1===s)throw new Error(`cannot find animation frame with tag ${t}`);return s}return t}jQ(){return this.YNt}BQ(){return this.Sbt}UQ(){return this.wot}YQ(){return this.QNt}VQ(){return this.VNt}hDt(){return this.qNt}}}{const mb=self.Gs,gb=(()=>{const t=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),s=new Uint8Array(t.length);for(let i=0,e=t.length;i<e;++i)s[i]=t.charCodeAt(i);return new Blob([s],{type:"image/png"})})();mb.HNt=class extends mb.Un{constructor(t){super(),this.oDt=mb.Yn(mb.TNt),this.oDt.LNt(t),this.aDt=t[7],this.lDt=mb.Yn(mb.Ea,t[8],t[9]),this.uDt=t[10].map((t=>mb.Yn(mb.cDt,this,t))),this.fDt=new Map;for(const t of this.uDt)this.fDt.set(t.Nc().toLowerCase(),t);this.dDt=null;const s=t[11];s.length>=6&&(this.dDt=mb.Yn(mb.au,s)),this.NM=t[12]?t[12]:"",this.pDt=new self.sV(this)}static ZNt(t){const s=mb.Yn(mb.HNt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.oDt.RNt(t,gb),s}Qn(){this.dDt&&(this.dDt.Qn(),this.dDt=null),this.oDt.Qn(),this.oDt=null}iV(){return this.oDt}eV(){return this.aDt}WW(){return this.lDt.La()}VW(){return this.lDt.Ra()}fV(){return this.dDt}uV(t){return this.fDt.get(t.toLowerCase())||null}lV(t){return(t=Math.floor(t))<0||t>=this.uDt.length?null:this.uDt[t]}rV(){return this.uDt.length}gV(){return this.NM}ZQ(){return this.pDt}}}{const yb=self.Gs;yb.cDt=class extends yb.Un{constructor(t,s){super(),this.mDt=t,this.Hn=s[0],this.gDt=yb.Yn(yb.Ea,s[1],s[2])}Qn(){}Nc(){return this.Hn}Wb(){return this.gDt.La()}Vb(){return this.gDt.Ra()}yDt(){return this.gDt}}}{const Mb=self.Gs,wb=self.MW,Sb=self.yB,Tb=self.assert;Mb.rut=class extends Mb.Un{constructor(t,s,i){super();const e=t.dSt(i[1]);this.Fc=t,this.IGt=Mb.$z.uB(e),this.AGt=null,this.MDt=e.Instance,this.EM=s,this.VX=i[11],this.Hn=i[0],this.ZSt=this.Fc._mt(i[14]),this.wDt=!!i[9],this.SDt=!!i[2],this.TDt=!!i[10],this.bDt=i[3].map((s=>({LX:s[0],type:s[1],name:s[2],vDt:t._mt(s[3])}))),this.xDt=i[4],this.CDt=i[5],this.UIt=this.IGt.Jz(),this.IDt=Mb.Yn(Mb.Event.Mf),this.EK=null;const[n,r]=t.fk().uz();if(this.GDt=Mb.Yn(Mb.EDt,n,r),this.NDt=!0,this.DDt=null,this._Dt=null,this.ADt=-1,this.LDt=null,this.ODt=null,this.RDt=null,this.PDt=null,this.kDt=null,this.FDt=!1,this.jDt=null,this.zDt=i[8].map((t=>Mb.BDt._C(this,t))),this.$Dt=[],this.UDt=new Map,this.WDt=new Map,this.YDt=new Set,this.QDt=new Map,this.VDt=Mb.Yn(Mb.sdt,this),this.JDt=null,this.HDt=0,this.qDt=!1,this.jDt=null,this.oDt=null,this.ZDt=null,this.XDt=null,this.KDt=null,this.t_t=0,this.Cbt=new Map,this.Ibt=new Map,this.pX=[],this.s_t=new Map,this.i_t=!0,this.IGt.sB()&&(this.EK=Mb.Yn(Mb.NK,this,i[12])),i[6]&&(this.oDt=Mb.Yn(Mb.TNt),this.oDt.LNt(i[6])),i[7]){this.ZDt=i[7].map((t=>Mb.Yn(Mb.WNt,t))),this.XDt=new Map,this.KDt=new Map;for(const t of this.ZDt)this.XDt.set(t.Nc().toLowerCase(),t),this.KDt.set(t.I0(),t)}this.SDt?(this.DDt=[],this._Dt=new Set,this.ADt=this.Fc.e_t()):(this.LDt=[],this.ODt=new Set,this.RDt=[],this.PDt=[],this.kDt=[]);const h=this.IGt.Ybt();if(h<2&&(this.AGt=Mb.Yn(e.n_t,this,i[15]),!(this.AGt instanceof Mb.CGt)))throw new Error("v1 sdk type must derive from SDKTypeBase");let o;if(this.r_t=null,this.h_t=null,this.z3=Mb.Yn(Mb.Event.Mf),Mb.$z.pGt(this,h),h>=2?(o=e.n_t,o||(o=globalThis.nJ)):o=this.AGt.cGt(),o){if(this.r_t=new o(h<2?this:null),h<2&&!(this.r_t instanceof Sb))throw new TypeError("script interface class must derive from IObjectClass");if(h>=2&&!(this.r_t instanceof globalThis.nJ))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.r_t=new Sb;if(Mb.$z.mGt(h),i[13]){const t=i[13];if(t){const s=t[0],i=t[1],e=t[2];this.AGt.GGt(s,i,e)}}this.Fc.o_t()&&!this.SDt&&!this.TDt&&this.UIt||this.uGt(),this.IGt.Qz()&&(this.IGt.fGt(this),this.a_t(i)),this.l_t=null}static _C(t,s,i){return Mb.Yn(Mb.rut,t,s,i)}Qn(){if(this.IDt.Qn(),this.IDt=null,this.oDt&&(this.oDt.Qn(),this.oDt=null),this.ZDt){for(const t of this.ZDt)t.Qn();Mb.Sh(this.ZDt),this.XDt.clear(),this.KDt.clear()}this.l_t=null,this.VDt.Qn(),this.VDt=null,this.Cbt.clear(),this.Ibt.clear(),this.jDt=null,this.Fc=null}u_t(t){for(let s=1,i=t.length;s<i;++s){const i=this.Fc.JK(t[s]);this.DDt.push(i),this._Dt.add(i),i.LDt.push(this),i.ODt.add(this)}}c_t(t){this.FDt=!0,this.jDt=t}FU(){return this.FDt}f4(){return this.jDt}f_t(){let t=0;if(!this.SDt)for(const s of this.LDt)for(const i of s.d_t()){const s=i.Nc().toLowerCase();this.UDt.set(s,i),this.WDt.set(s,t),this.$Dt.push(i),++t}for(const s of this.d_t()){const i=s.Nc().toLowerCase();this.UDt.set(i,s),this.WDt.set(i,t),this.$Dt.push(s),++t}for(const t of this.$Dt)this.YDt.add(t.xQ().constructor);if(!this.SDt&&this.LDt.length){const t=this.Fc.p_t();Mb.bh(this.RDt,t,0),Mb.bh(this.PDt,t,0),Mb.bh(this.kDt,t,0);const s=[];let i=0,e=0,n=0;for(const t of this.LDt){const r=t.GTt();this.RDt[r]=i,i+=t.m_t(),this.PDt[r]=e,e+=t.g_t(),this.kDt[r]=n,n+=t.y_t();const h=t.WB();if(h&&this.EK)for(const t of h.YB())s.push(t.M_t(this.EK))}this.EK&&this.EK.w_t(s)}}a_t(t){const s=this.Fc.S_t(),i=Mb.Yn(Mb.Instance,{runtime:this.Fc,objectType:this,uid:s});i.T_t(t[16],[]),this.Fc.b_t(s,i),this.pX.push(i)}Bvt(){return this.AGt}v_t(){return this.TDt}Mf(){return this.IDt}uGt(){this.SDt||(this.AGt?this.AGt.uGt():this.r_t.rJ())}x_t(){return this.t_t>0}async g4(t){this.SDt||(this.t_t++,1===this.t_t&&(this.AGt?await this.AGt.g4(t):await this.r_t.aJ(this.Fc.vj().C_t())))}b4(){if(!this.SDt){if(this.t_t--,this.t_t<0)throw new Error("released textures too many times");0===this.t_t&&(this.AGt?this.AGt.b4():this.r_t.lJ(this.Fc.vj().C_t()))}}w4(){if(this.SDt)throw new Error("not applicable to family");this.AGt?this.AGt.w4():this.r_t.uJ()}async Y4(t){this.SDt||(this.AGt?await this.AGt.Y4(t):await this.r_t.cJ(this.Fc.vj().C_t()))}Pj(){return this.Fc}wB(){return this.IGt}I_t(){return this.MDt}Nc(){return this.Hn}_mt(){return this.ZSt}ek(){return this.EM}I0(){return this.VX}M0(){return this.SDt}n0(){return this.wDt}Jz(){return this.UIt}GTt(){return this.ADt}d_t(){return this.zDt}g_t(){return this.xDt}G_t(t){return t&&this.YDt.has(t)}m_t(){return this.bDt.length}E_t(){return this.bDt.map((t=>t.LX))}N_t(t){return this.bDt.findIndex((s=>s.LX===t))}nit(t){return this.bDt.findIndex((s=>s.name===t))}D_t(){return this.bDt.map((t=>t.name))}__t(){return this.bDt.map((t=>t.vDt))}hit(t){if((t=Math.floor(t))<0||t>=this.bDt.length)throw new RangeError("invalid instance variable index");return this.bDt[t].type}rit(t){if((t=Math.floor(t))<0||t>=this.bDt.length)throw new RangeError("invalid instance variable index");return this.bDt[t].name}y_t(){return this.CDt}A_t(){return this.$Dt}Fnt(t){return this.UDt.get(t.toLowerCase())||null}ait(t){const s=this.WDt.get(t.toLowerCase());return void 0===s?-1:s}WB(){return this.EK}sB(){return this.IGt.sB()}L_t(){return this.EK&&this.EK.O_t()}Sgt(){return this.VDt}_B(){return this.VDt._B()}iV(){return this.oDt}ZK(t){this.JDt=t}qK(){return this.JDt}XK(t){this.HDt=t}R_t(){return this.HDt}P_t(){return this.ZDt}k_t(){return this.ZDt.length}Fmt(){return this.LDt}Vvt(t){return this.ODt.has(t)}qMt(){return this.DDt}w0(t){return this._Dt.has(t)}ATt(t){return this.PDt[t]}ITt(t){return this.RDt[t]}RSt(t){this.QDt.set(t.zSt().toLowerCase(),t)}PSt(t){return!!this.QSt(t)}QSt(t){const s=this.QDt.get(t.toLowerCase());return s&&s.Iu()?s:null}F_t(){return this.ZDt}j_t(t){if(!this.ZDt)throw new Error("no animations");return this.XDt.get(t.toLowerCase())||null}z_t(t){if(!this.ZDt)throw new Error("no animations");return this.KDt.get(t)||null}B_t(t){if(this.j_t(t))throw new Error(`animation name '${t}' already exists`);const s=Mb.WNt.ZNt(this.Pj(),t);return this.ZDt.push(s),this.XDt.set(s.Nc().toLowerCase(),s),this.KDt.set(s.I0(),s),s}$_t(t){const s=this.j_t(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.ZDt.length)throw new Error("cannot remove last animation");const i=this.ZDt.indexOf(s);this.ZDt.splice(i,1),this.XDt.delete(s.Nc().toLowerCase()),this.KDt.delete(s.I0()),s.Qn()}U_t(){if(!this.ZDt)throw new Error("no animations");return this.ZDt[0]}W_t(){return this.U_t().sDt(0)}Y_t(){if(this.ZDt){const t=this.W_t().iV();return[t.$g(),t.Xg()]}return this.oDt?[this.oDt.$g(),this.oDt.Xg()]:[100,100]}gB(){if(!this.IGt.Qz())throw new Error("not a single-global plugin");return this.pX[0]}DB(){return this.pX}*TB(){yield*this.pX}*NB(){yield*this.pX,yield*this.Fc.Xxt(this)}LB(){return this.pX.length}r0(t){this.pX.push(t)}Q_t(){this.i_t=!0}K4(){if(!this.i_t||this.SDt)return;const t=this.pX;let s=0;for(let i=t.length;s<i;++s)t[s].V_t(s);const i=this.Fc.J_t();for(const t of i)t.GU()===this&&t.V_t(s++);this.i_t=!1}H_t(t){const s=this.pX;if(t<s.length)return s[t];t-=s.length;const i=this.Fc.J_t();for(const s of i)if(s.GU()===this){if(0===t)return s;--t}return null}Rxt(t){if(t&&t.FU()&&t.GU()!==this)for(const s of t.jU())if(s.GU()===this)return s;const s=this._B().DB();return s.length?s[0]:null}EB(t){const s=this._B().DB();return s.length>0?s[t.$U()%s.length]:null}*nCt(t,s){const i=this._B().DB(),e=i.length,n=s._B(),r=s._B().DB(),h=r.length;let o=t.$U();!s.M0()&&n.pdt()||(o=r.indexOf(t));const a=Math.ceil(e/h),l=e%h;let u=0,c=0;0===l||o<l?(u=o*a,c=a):(u=l*a+(o-l)*(a-1),c=a-1);for(let t=u,s=u+c;t<s;++t)yield i[t]}evt(t){this.AGt?.evt(t)}nSt(){if(!this.FDt||this.SDt)return;this.K4();const t=this._B(),s=t.bdt(),i=t.pdt(),e=this.Fc.Tmt(),n=e&&e.Yk()&&e.Yk()._dt();for(const e of this.jDt.Z4()){if(e===this)continue;e.K4();const r=e._B();if(r.Tdt(i),!i){const i=r.bdt();Mb.Sh(i);for(const t of s)i.push(e.H_t(t.$U()));if(n){const s=t.vdt(),i=r.vdt();Mb.Sh(i);for(const t of s)i.push(e.H_t(t.$U()))}}}}avt(t,s){for(const i of this.f4().Z4()){const e=i._B();t?Mb.wh(e.vdt(),s):Mb.wh(e.bdt(),s)}}q_t(){return this.GDt}Z_t(t){this.NDt=!!t}X_t(){if(this.NDt&&this.UIt){for(const t of this.pX)t.aj().K_t();for(const t of this.Fc.J_t())t.GU()===this&&t.aj().K_t();this.NDt=!1}}tAt(t,s,i){if(s){const i=this.s_t.get(s);i&&(i.delete(t),0===i.size&&this.s_t.delete(s))}if(i){let s=this.s_t.get(i);s||(s=new Set,this.s_t.set(i,s)),s.add(t)}}sAt(){if(this.M0()){const t=new Set;for(const s of this.DDt)for(const i of s.sAt())t.add(i);return t.values()}return this.s_t.keys()}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}Xbt(){return this.Ibt||(this.Ibt=new Map),this.Ibt}iAt(){return this.G_t(Mb.slt.dNt)}eAt(){return this.G_t(Mb.slt.pNt)}nAt(){return this.G_t(Mb.slt.rAt)}i0(){return this.G_t(Mb.slt.hAt)}s3(){const t={instances:this.pX.map((t=>t.nv()))};return this.Cbt&&this.Cbt.size&&(t.ex=Mb.wo(this.Cbt)),t}i3(t,s){this.Cbt&&(this.Cbt.clear(),this.Cbt=null);const i=t.ex;i&&(this.Cbt=Mb.So(i));const e=this.pX,n=t.instances;for(let t=0,s=Math.min(e.length,n.length);t<s;++t)e[t].rv(n[t]);for(let t=n.length,s=e.length;t<s;++t)this.Fc.LU(e[t]);for(let t=e.length,i=n.length;t<i;++t){const i=n[t];let e=null;if(this.Jz()&&(e=this.Fc.zF().i4(i.w.l),!e))continue;const r=this.Fc.e0(this.JDt||this,e,!1,0,0,!0);r.rv(i),s&&s.add(r)}this.l_t=n,this.Q_t()}oAt(){return this.l_t}aAt(){this.l_t=null}lAt(){for(let t=0,s=this.pX;t<s;++t)this.pX[t].lAt()}dB(){return this.r_t}Rk(){return this.z3}uAt(){return this.h_t}OB(t){this.h_t=t}x5(t){const s=this.Fc,i=s.yW()&&!s.jk().zB();i&&wb.C5(),this.z3.dispatchEvent(t),i&&wb.I5()}}}{const bb=self.Gs;bb.cAt=class extends bb.Un{constructor(t,s){super(),this.Fc=t,this.fAt=s;for(const t of this.fAt)t.c_t(this)}Qn(){this.Fc=null}Pj(){return this.Fc}c4(){return this.fAt}Z4(){return this.fAt}s5(){return this.fAt.some((t=>t.Jz()))}}}{const vb=self.Gs,xb=self.MW,Cb=self.IU,Ib=vb.$z,Gb=[];let Eb=0;const Nb=new WeakMap,Db=new WeakMap,_b=1,Ab=2,Lb=4,Ob=8,Rb=16,Pb=32,kb=64;vb.Instance=class extends vb.Un{constructor(t){if(vb.$z!==Ib)throw new Error("invalid addon manager");super(),this.Fc=t.runtime,this.dAt=t.objectType,this.Ast=null,this.pAt=null,this.mAt=null,this.gAt=0,this.yAt=t.uid,this.MAt=Eb++,this.fvt=0,this.wAt=null;const s=vb.Ph(t.tags);s.length>0&&(this.wAt=new Set(s)),this.SAt=Gb,this.TAt=Gb;const i=this.dAt.A_t();i.length>0&&(this.TAt=i.map(((t,s)=>vb.Yn(vb.bAt,{runtime:this.Fc,CQ:t,EQ:this,index:s})))),this.vAt=this.dAt.FU()?[]:null,this.xAt=-1,this.IDt=null;const e=this.wB();if(e.yb()&&(this.fvt|=4),e.Jz())if(this.Ast=vb.Yn(vb.CAt,this,t.FW),t.IAt)this.Ast.GAt(t.IAt);else{this.Ast.EAt();const[t,s]=this.dAt.Y_t();this.Ast.vD(t,s),this.GU().L_t()&&this.Ast.kW().NAt()}t.DAt?this._At(t.DAt):this.AAt()}Qn(){if(this.mAt&&(this.mAt.AU(),this.mAt=null),this.TAt.length>0){for(const t of this.TAt)t.Qn();vb.Sh(this.TAt)}this.pAt&&(this.pAt.Qn(),this.pAt=null);const t=Nb.get(this);t&&(t.clear(),Nb.delete(this));const s=Db.get(this);s&&(s.clear(),Db.delete(this)),this.vAt&&vb.Sh(this.vAt),this.IDt&&(this.IDt.Qn(),this.IDt=null),this.wAt&&this.wAt.clear(),this.wAt=null,this.Fc=null,this.dAt=null,this.SAt.length>0&&vb.Sh(this.SAt),this.Ast&&(this.Ast.Qn(),this.Ast=null)}_At(t){t.length>0&&(this.SAt=[],vb.Ch(this.SAt,t))}AAt(){const t=this.dAt.m_t();if(0===t)return;this.SAt=[];const s=[0,0,""];for(let i=0;i<t;++i)this.SAt.push(s[this.dAt.hit(i)])}T_t(t,s){if(this.pAt)throw new Error("already got sdk instance");for(let t=0,i=this.TAt.length;t<i;++t)this.TAt[t].T_t(s?s[t]:null);if(this.wB().Ybt()<2){if(this.pAt=vb.Yn(this.dAt.I_t(),this,t),!(this.pAt instanceof vb.DGt))throw new Error("sdk type must derive from SDKInstanceBase");!this.wB().Jz()&&this.dAt.uAt()&&this.nj()}else{const s=this.wB().cGt();this.LAt(s.Instance,t)}}yQ(){return this.pAt??this.mAt}aj(){return this.Ast}Pj(){return this.Fc}gF(){return this.xAt}YU(){const t=this.xAt;return-1===t?this.Pj().gF():t}yF(t){((t=+t)<0||!isFinite(t))&&(t=0),this.xAt=t,this.GU().L_t()&&this.Fc.OAt(this,!0)}VU(){this.xAt=-1,this.GU().L_t()&&this.Fc.OAt(this,!1)}W2(){return this.Fc.RAt(this)}Mf(){return this.IDt||(this.IDt=vb.Yn(vb.Event.Mf)),this.IDt}Lv(t){this.pAt?this.pAt.Lv(t):this.mAt.gJ(this.Fc.vj().C_t())}uGt(t){this.pAt.uGt(t)}PAt(){this.fvt|=2}kAt(){return!!(2&this.fvt)}FAt(){this.fvt|=1}AJ(){return!!(1&this.fvt)}yb(){return!!(4&this.fvt)||this.pAt.yb()}jAt(){this.fvt|=32}L2(){return!!(32&this.fvt)}zAt(){return!!(8&this.fvt)}BAt(t){t?this.fvt|=8:this.fvt&=-9}$At(){return!!(16&this.fvt)}UAt(t){t?this.fvt|=16:this.fvt&=-17}WAt(){return!!(64&this.fvt)}YAt(t){t?this.fvt|=64:this.fvt&=-65}QAt(t,s){t<<=16,s?this.fvt|=t:this.fvt&=~t}VAt(t){return!!(this.fvt&t<<16)}fEt(){return this.pAt.fEt()}dEt(){return this.pAt.dEt()}pEt(){return this.pAt.pEt()}mEt(){return this.pAt.mEt()}yEt(){return this.pAt.yEt()}nxt(t){return this.pAt.nxt(t)}GU(){return this.dAt}_2(){return this.pAt._2()}Kxt(t){return t.M0()?t.w0(this.GU()):this.GU()===t}JAt(t,s,i){const e=(s,i)=>{const e=i||s.GU(),n=t.get(e);n?n.add(s):t.set(e,new Set([s]))};if(e(this,s),this.FU())for(const t of this.jU())e(t);if(i)for(const t of this.NY())e(t)}HAt(){if(!this.wB().rB())throw new Error("object does not support scene graph")}OY(){return null!==this.TY()}TY(){const t=this.aj();if(!t)return null;const s=t.TY();return s?s.UV():null}vY(){const t=this.aj();if(!t)return null;const s=t.vY();return s?s.UV():null}*xY(){const t=this.aj();if(t)for(const s of t.xY())yield s.UV()}qAt(t){if(!t)return!1;for(const s of this.children())if(s===t)return!0;return!1}r3(){const t=this.aj();return!!t&&t.r3()}ZAt(t){const s=this.aj();if(!s)return[];const i=t.Nc();return s.l5().map((t=>t.UV())).filter((t=>t.GU().Nc()===i))}l5(){const t=this.aj();return t?t.l5().map((t=>t.UV())):[]}*children(){const t=this.aj();if(t)for(const s of t.children())yield s.UV()}*NY(){const t=this.aj();if(t)for(const s of t.NY())yield s.UV()}IY(){const t=this.aj();return t?t.IY():0}XAt(){return[...this.xY()].length}eCt(){const t=this.aj();return t?t.eCt():0}EY(t){const s=this.aj();if(!s)return null;const i=s.EY(t);return i?i.UV():null}KAt(){const t=this.aj();if(!t)return NaN;const s=t.TY();return s?s.tLt(t):NaN}sLt(t){for(const s of this.aj().l5())if(s.UV().zU()===t)return!0;return!1}_Y(t,s){this.HAt(),t.HAt(),this.aj()._Y(t.aj(),s||{})}AY(t){const s=this.aj();s&&s.AY(t.aj())}KY(){const t=this.aj();return!!t&&t.KY()}z4(){const t=this.aj();if(!t)return;const s=t.iLt();if(s)for(const t of s){const s=this.Fc.ej(t[2]);if(s){const i=t[3];this._Y(s,{PY:!!(1&i),FY:!!(i>>1&1),zY:!!(i>>2&1),$Y:!!(i>>3&1),WY:!!(i>>4&1),XY:!!(i>>5&1),QY:!!(i>>6&1),JY:!!(i>>7&1),qY:!!(i>>8&1)})}}}B4(t,s){const i=t.get(this);if(i)for(const t of i.sceneGraphJson.children){const i=s.get(t.index);if(!i)continue;const e=t.flags;this._Y(i,{PY:!!(1&e),FY:!!(e>>1&1),zY:!!(e>>2&1),$Y:!!(e>>3&1),WY:!!(e>>4&1),XY:!!(e>>5&1),QY:!!(e>>6&1),JY:!!(e>>7&1),qY:!!(e>>8&1)})}}WU(){const t=this.Fc.eLt();return t?t.out(this):""}FU(){return null!==this.vAt}nLt(){vb.Sh(this.vAt)}X4(t){this.vAt.push(t)}PU(){return this.vAt}rLt(t){return!!this.hLt(t)}hLt(t){const s=this.jU();if(null===s||0===s.length)return!1;for(const i of s)if(i.GU()===t)return i;return null}jU(){return this.vAt}aMt(){for(const t of this.jU())t.GU()._B().xdt(t)}nvt(){for(const t of this.jU())t.GU()._B().wdt(t)}rvt(t){for(const s of this.jU())s.GU()._B().bdt()[t]=s}ovt(){for(const t of this.jU())t.GU()._B().Sdt(t)}hvt(t){for(const s of this.jU())s.GU()._B().vdt()[t]=s}wB(){return this.dAt.wB()}V_t(t){this.gAt=t}$U(){return this.dAt.K4(),this.gAt}zU(){return this.yAt}oLt(){return this.MAt}aLt(t){t?this.ZU(new Set(t)):this.wAt=null}ZU(t){if(0===t.size)this.wAt=null;else{this.wAt?this.wAt.clear():this.wAt=new Set;for(const s of t)this.wAt.add(s)}}HU(){return this.wAt??new Set}ECt(){return Array.from(this.HU()).join(" ")}_Ct(t){t=Math.floor(t);for(const s of this.HU()){if(0===t)return s;--t}return""}knt(){return this.TAt}lLt(t){if(!t)return null;for(const s of this.TAt)if(s.xQ()instanceof t)return s;return null}rlt(t){if(!t)return null;const s=this.lLt(t);return s?s.yQ():null}Pnt(t){const s=this.TAt;for(let i=0,e=s.length;i<e;++i)if(s[i].GQ().I0()===t)return i;return-1}uLt(){return this.SAt}D_t(){return this.dAt.D_t()}cLt(){return this.SAt.length}Krt(t){t|=0;const s=this.SAt;if(t<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}xTt(t){return this.SAt[t]}fLt(t){const s=this.SAt[t];return 0===this.dAt.hit(t)?!!s:s}tht(t,s){t|=0;const i=this.SAt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");switch(this.dAt.hit(t)){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Uht(t,s){if(0===s)return;t|=0;const i=this.SAt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}Zbt(){let t=Nb.get(this);return t||(t=new Map,Nb.set(this,t),t)}Xbt(){let t=Db.get(this);return t||(t=new Map,Db.set(this,t),t)}dLt(t){const s=this.GU();if(s.Rk().vf(t))return!0;for(const i of s.Fmt())if(i.Rk().vf(t))return!0;return!!this.Fc.Rk().vf(t)}jB(){const t=new Set;t.add(this);const s=this.aj();if(s&&s.r3())for(const s of this.NY())if(t.add(s),s.FU())for(const i of s.jU())t.add(i);if(this.FU())for(const s of this.jU())t.add(s);for(const s of t.values())s.U4();this.W4()}pLt(){this.dAt.uAt()&&this.nj();for(const t of this.TAt)t.XEt()}mLt(){this.pLt()}U4(){if(this.pLt(),this.dLt("instancecreate")){const t=this.GU(),s=new vb.Event("instancecreate");s.EQ=this.nj(),t.x5(s);for(const i of t.Fmt())i.x5(s);this.Fc.x5(s)}this.Fc.lW(this.wB().Jgt().Gj.OCt,this,null)}W4(){if(this.wB().rB()){if(this.x5(new vb.Event("hierarchyready")),this.dLt("hierarchyready")){const t=this.GU(),s=new vb.Event("hierarchyready");s.EQ=this.nj(),t.x5(s);for(const i of t.Fmt())i.x5(s);this.Fc.x5(s)}this.Fc.lW(this.wB().Jgt().Gj.qxt,this,null)}}gLt(){this.Fc.lW(this.wB().Jgt().Gj.RCt,this,null)}yLt(t){if(this.mAt){const s=new vb.Event("destroy");s.MLt=t,this.x5(s)}if(!this.dLt("instancedestroy"))return;const s=this.GU(),i=new vb.Event("instancedestroy");i.EQ=this.nj(),i.MLt=t,s.x5(i);for(const t of s.Fmt())t.x5(i);this.Fc.x5(i)}wLt(){return this.pAt?this.pAt.KGt():this.mAt.xW()}nv(t="full",s=null){const i={};"full"===t?i.uid=this.zU():i.c3=!0;const e=this.HU();if(e.size>0&&(i.tags=Array.from(e)),"visual-state"!==t){const s=Nb.get(this);if(s&&s.size&&(i.ex=vb.wo(s)),-1!==this.gF()&&(i.mts=this.gF()),this.dAt.m_t()>0){const t={},s=this.dAt.E_t();for(let i=0,e=this.SAt.length;i<e;++i)t[s[i].toString()]=this.SAt[i];i.ivs=t}if(this.TAt.length){const s={};for(const i of this.TAt){const e=i.nv(t);e&&(s[i.GQ().I0().toString()]=e)}i.behs=s}}this.Ast&&(i.w=this.Ast.s3(t,s));const n=this.pAt?this.pAt.nv():this.mAt.IW();return n&&(i.data=n),i}p6(t="full",s=null){this.Ast&&this.Ast.p6(t)}g6(t,s="full",i=null){this.Ast&&this.Ast.g6(t,s,i)}SLt(t,s="full",i=null){this.Ast&&this.Ast.SLt(t,s,i)}lAt(){this.wB().Jz()&&this.Ast.lAt()}rv(t,s="full",i=null){if("full"===s)this.yAt=t.uid;else if(!t.c3)return;if(this.aLt(t.tags),"visual-state"!==s){let s=Nb.get(this);s&&(s.clear(),Nb.delete(this));const i=t.ex;i&&(s=vb.So(i),Nb.set(this,s)),this.xAt=t.hasOwnProperty("mts")?t.mts:-1;const e=t.ivs;if(e)for(const[t,s]of Object.entries(e)){const i=parseInt(t,10),e=this.dAt.N_t(i);if(e<0||e>=this.SAt.length)continue;let n=s;null===n&&(n=NaN),this.SAt[e]=n}}if(this.wB().Jz()){const e=t.w;if(e){const t=e.l;if(this.Ast.lj().I0()!==t){const i=this.Ast.lj(),e=i.WF().i4(t);e?(this.Ast.dj(e),i.a0(this,!0),e.r0(this,!0),e.pj(this),this.Ast.jW()):"full"===s&&this.Fc.LU(this)}this.Ast.i3(e,s,i)}}if("visual-state"!==s){const i=t.behs;if(i)for(const[t,e]of Object.entries(i)){const i=parseInt(t,10),n=this.Pnt(i);n<0||n>=this.TAt.length||this.TAt[n].rv(e,s)}}const e=t.data;e&&(this.pAt?this.pAt.rv(e,s):this.mAt.GW(e))}nj(){return this.mAt||this.LAt()}eEt(){return!!this.mAt}LAt(t,s){const i=this.Ast?t?self.fJ:self.fQ:t?self.sW:self.IU,e=t||this.pAt.cGt(),n=this.dAt.uAt(),r=n||e||i,h=this.wB().Ybt();if(vb.$z.pGt(this,h),vb.$z.gNt(s),this.mAt=new r,vb.$z.yNt(),vb.$z.mGt(h),e&&!(this.mAt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(n){const t=e||i;if(!(this.mAt instanceof t))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.mAt}EU(t){if(0===this.SAt.length)return;const s={},i=this.dAt.__t();for(let t=0,e=i.length;t<e;++t)s[i[t]]={configurable:!1,enumerable:!0,get:vb.Instance.prototype.fLt.bind(this,t),set:vb.Instance.prototype.tht.bind(this,t)};const e=Object.create(Object.prototype,s);t.TLt={value:e,writable:!1}}NU(t){const s=this.TAt;if(0===s.length)return;const i={};for(const t of s)i[t.GQ()._mt()]={value:t.RGt(),writable:!1};const e=Object.create(Object.prototype,i);t.Jyt={value:e,writable:!1}}x5(t){if(!this.eEt())return;const s=this.nj();t.EQ=s;const i=this.Fc,e=i.yW()&&!i.jk().zB();e&&xb.C5(),s.dispatchEvent(t),e&&xb.I5()}}}{const Fb=self.Gs;Fb.c5=class extends Fb.Un{constructor(t){super(),this.fv=t,this.pMt=null,this.bLt=[],this.vLt=t.$g(),this.xLt=t.Xg(),this.CLt=1,this.ILt=1,this.GLt=0,this.ELt=1,this.NLt=t.sL(),this.DLt=null,this._Lt=null,this.ALt=NaN,this.LLt=!1,this.a3=NaN,this.l3=NaN,this.OLt=s=>{if(s.EQ!==this.pMt.UV())return;t.Pj().Mf().removeEventListener("instancecreate",this.OLt);const i=this.pMt.UV().yQ();this.LLt=!!i.Tit(),this.a3=this.LLt?i.Sit():NaN,this.l3=this.LLt?i.vit():NaN}}Qn(){this.pMt=null,this.DLt=null,this._Lt=null,this.ALt=NaN,this.LLt=!1,this.a3=NaN,this.l3=NaN,Fb.Sh(this.bLt)}RLt(t){if(this.ELt=this.fv.sL(),this.NLt=this.ELt,this.pMt=t,this.GLt=t?t.ZB():0,this.pMt){const t=this.fv.Pj();if(this.pMt.UV().wB().Ybt()<2){const s=this.pMt.UV().yQ();s?(this.LLt=!!s.Tit(),this.a3=this.LLt?s.Sit():NaN,this.l3=this.LLt?s.vit():NaN):this.pMt.UV().AJ()||t.Mf().addEventListener("instancecreate",this.OLt)}else this.LLt=!1,this.a3=NaN,this.l3=NaN}else this.LLt=!1,this.a3=NaN,this.l3=NaN}TY(){return this.pMt}r3(){return this.bLt.length>0}l5(){return this.bLt}PLt(){this.r3()&&1!==this.bLt.length&&(this._Lt?this.bLt.sort(((t,s)=>{const i=this._Lt.get(t.UV()),e=this._Lt.get(s.UV());return Fb.te(i)&&Fb.te(e)?i-e:0})):this.bLt.sort(((t,s)=>{const i=t.uht().kLt(),e=s.uht().kLt();return Fb.te(i)&&Fb.te(e)?i-e:0})))}kLt(){return this.ALt}cht(){return this.CLt}FLt(t){this.CLt=t}dht(){return this.ILt}jLt(t){this.ILt=t}Tht(){return this.NLt}Ixt(){return this.ELt}zLt(t){this.ELt=t}lht(){return 0===this.vLt?Number.EPSILON:this.vLt}fht(){return 0===this.xLt?Number.EPSILON:this.xLt}BLt(){if(this.fv.BY()){const t=this.pMt;let s=t.$g(),i=t.uht().lht();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.LLt?1+s/this.a3:s/i}return 1}$Lt(){if(this.fv.UY()){const t=this.pMt;let s=t.Xg(),i=t.uht().fht();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.LLt?1+s/this.l3:s/i}return 1}ULt(){return 0}WLt(){return{sw:this.vLt,sh:this.xLt,sx:this.CLt,sy:this.ILt,psa:this.GLt,oo:this.ELt,so:this.NLt,pi:this.fv.UV().KAt()}}s3(t,s=null){const i=this.WLt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this.YLt(t),c:this.QLt(t)})}VLt(t){let s="";return t.kY()&&(s+="x"),t.jY()&&(s+="y"),t.BY()&&(s+="w"),t.UY()&&(s+="h"),t.YY()&&(s+="a"),t.VY()&&(s+="z"),t.KY()&&(s+="d"),t.HY()&&(s+="o"),t.ZY()&&(s+="v"),s}YLt(t){return this.pMt?!this.pMt.UV()||this.pMt.UV().AJ()?null:this.JLt(this.pMt,this.fv,t):null}QLt(t){return this.bLt.map((s=>this.JLt(s,s,t))).filter((t=>t))}JLt(t,s,i){const e=t.UV();if(e&&e.AJ())return null;const n={};return n.uid=e.zU(),n.f=this.VLt(s),n.offsets=s.HLt(),n.data=Fb.c5.qLt(e),n.oci=e.GU().ek(),"state"===i?(n.inst=e.nv("full",{selfOnly:!0}),n.instIndex=NaN):(n.instIndex=e.GU().DB().indexOf(e),n.inst=null),n}i3(t){this.vLt=t.sw,this.xLt=t.sh,this.CLt=t.sx,this.ILt=t.sy,this.GLt=t.psa,this.ELt=t.oo,this.NLt=t.so,this.ALt=Fb.te(t.pi)?t.pi:NaN}ZLt(t,s,i,e){if(!t&&!s)if(e?.WCt){if(this.DLt)for(const t of this.DLt)t.AJ()||t.OY()||t.Pj().LU(t)}else if(this.DLt)for(const t of this.DLt)if(i.c&&i.c.length){if(!i.c.some((s=>s.uid===t.zU())))continue;t.AJ()||t.OY()||t.Pj().LU(t)}this.DLt=t,this._Lt=s}g6(t,s){const i=this.fv,e=i.Pj(),n=new Set;if(t.p&&!this.pMt){const r=t.p.uid,h=e.ej(r);if(h){const r=h.aj();h.qAt(i.UV())?this.pMt=r:(h.sLt(i.UV().zU())?(e.LU(i.UV()),e.XLt(i.UV().zU())):h._Y(i.UV(),this.KLt(t.p.f)),n.has(i)||(i.tOt(t.p.offsets),this.sOt(h,t.p,s),this.iOt(i.UV(),i.UV().zU(),i.Pj(),s)),n.add(i),h.aj().uht().PLt())}else if(Fb.te(t.p.oci)){const n=e.JK(t.p.oci),r=(e.LZ(),e.RB(n,i.lj(),0,0,!0));if(r){const n=this.eOt(t.p,e);n&&r.rv(n),r.aj().lj().PB(r),r._Y(i.UV(),this.KLt(t.p.f)),this.iOt(r,r.zU(),e,s),r.aj().uht().PLt()}}}const r=[];for(const s of t.c){const t=s.uid,i=e.ej(t);i&&r.push(i)}let h=0;for(const o of t.c){const a=o.uid,l=e.ej(a);if(l){if(this.DLt){if(this.DLt.includes(l)){const e=l;if(e.GU()!==l.GU()){h++;continue}if(e.AJ()){h++;continue}const o=t.c[h];if(!s?.WCt&&this.nOt(e,r,i)){if(i.UV().EY(h)){const r=e.GU().ek(),a=o.oci,l=i.UV().EY(h).GU().ek();if(r!==a||a!==l){this.rOt(t.c,i,n,s);break}this.hOt(h,o,i,n,s)}else this.hOt(h,o,i,n,s);h++;continue}if(e.OY()&&e.TY()!==i.UV()){const t=this.oOt(o,s);this.aOt(t,o,n,s),h++;continue}this.aOt(e.aj(),o,n,s,!0),h++;continue}if(this.DLt[h]){const e=this.DLt[h];if(e.GU()!==l.GU()){h++;continue}if(e.AJ()){h++;continue}const o=t.c[h];if(!s?.WCt&&this.nOt(e,r,i)){if(i.UV().EY(h)){const r=e.GU().ek(),a=o.oci,l=i.UV().EY(h).GU().ek();if(r!==a||a!==l){this.rOt(t.c,i,n,s);break}this.hOt(h,o,i,n,s)}else this.hOt(h,o,i,n,s);h++;continue}if(e.OY()&&e.TY()!==i.UV()){const t=this.oOt(o,s);this.aOt(t,o,n,s),h++;continue}this.aOt(e.aj(),o,n,s,!0),h++;continue}}const e=l.GU();if(this.lOt(r,e)===i.UV().ZAt(e).length){const t=i.UV().EY(h);if(t){const i=t.aj();i&&(n.has(i)||(i.tOt(o.offsets),this.sOt(t,o,s)),n.add(i))}h++;continue}if(l.OY()&&l.TY()!==i.UV()){const t=this.oOt(o,s);this.aOt(t,o,n,s),h++;continue}this.aOt(l.aj(),o,n,s)}else if(this.DLt&&this.DLt[h]){const a=this.DLt[h],l=e.JK(this.uOt(o));if(a.GU()!==l){h++;continue}if(a.AJ()){h++;continue}const u=t.c[h];if(!s?.WCt&&this.nOt(a,r,i)){if(i.UV().EY(h)){const e=a.GU().ek(),r=u.oci,o=i.UV().EY(h).GU().ek();if(e!==r||r!==o){this.rOt(t.c,i,n,s);break}this.hOt(h,u,i,n,s)}else this.hOt(h,u,i,n,s);h++;continue}if(a.OY()&&a.TY()!==i.UV()){const t=this.oOt(u,s);this.aOt(t,u,n,s),h++;continue}this.aOt(a.aj(),u,n,s)}else{const t=this.oOt(o,s);this.aOt(t,o,n,s)}h++}}rOt(t,s,i,e){const n=s.Pj();for(const t of s.UV().children())t&&!t.AJ()&&(n.LU(t),n.XLt(t.zU()));this.DLt&&(this.DLt=[]),this._Lt&&(this._Lt=new WeakMap);for(const s of t){const t=this.oOt(s,e);this.aOt(t,s,i,e),this.DLt.push(t.UV()),this._Lt.set(t.UV(),this.DLt.length-1)}s.uht().PLt()}nOt(t,s,i){const e=t.GU();return this.lOt(s,e)===i.UV().ZAt(e).length}hOt(t,s,i,e,n){const r=i.UV().EY(t);if(!r)return;const h=r.aj();h&&(e.has(h)||(h.tOt(s.offsets),this.sOt(r,s,n)),e.add(h))}KLt(t){const s={};return s.PY=t.includes("x"),s.FY=t.includes("y"),s.zY=t.includes("w"),s.$Y=t.includes("h"),s.WY=t.includes("a"),s.QY=t.includes("z"),s.XY=t.includes("d"),s.JY=t.includes("o"),s.qY=t.includes("v"),s}uOt(t){return Fb.te(t.oci)?t.oci:t[1]}oOt(t,s){if(!Fb.te(t.oci))return;const i=this.fv,e=i.Pj();let n;if(t.data)n=e.e0(t.data,i.lj(),!1,0,0,!1,!0);else{const s=e.JK(t.oci);n=e.RB(s,i.lj(),0,0,!0)}if(!n)return;const r=this.eOt(t,e);r&&n.rv(r);const h=n.aj();return h.lj().PB(n,!0),h}iOt(t,s,i,e){if(i.ej(s)){if(!e?.WCt){const e=i.ej(s);e!==t&&i.LU(e)}i.XLt(s)}i.b_t(s,t)}aOt(t,s,i,e,n=!0){const r=this.fv,h=r._Y(t,this.KLt(s.f));h&&n?(i.has(t)||(t.tOt(s.offsets),this.sOt(t.UV(),s,e)),i.add(t)):h&&this.iOt(t.UV(),s.uid,r.Pj(),e),this.PLt()}sOt(t,s,i){let e=this.eOt(s,this.fv.Pj());if(!e)return;const n=t.Pj();e=JSON.parse(JSON.stringify(e));const r=e.w?.zi;e.w=null,t.rv(e),Fb.te(r)&&t.aj().d0(r),this.iOt(t,e.uid,n,i)}lOt(t,s){return t.filter((t=>t.GU().Nc()===s.Nc())).length}eOt(t,s){if(Fb.te(t.instIndex)){const i=s.JK(t.oci).oAt();return i?i[t.instIndex]:null}return Fb.le(t.inst)?JSON.parse(t.inst):t.inst?t.inst:void 0}static qLt(t){let s=t.aj().lj().KK(t.zU());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const s of[...t.l5()]){const t=s.aj();i.push([t.WF().I0(),t.lj().ek(),s.zU(),Fb.c5.u5(t),s.GU().FU()?1:0,t.uj(),Fb.c5.qLt(s)])}return Fb.xe(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=Fb.c5.cOt(),s[0][14][1]=i,s[0][14][2]=t.aj().uj()),s}static u5(t){let s=0;return s|=Number(t.ZY())<<8,s|=Number(t.HY())<<7,s|=Number(t.VY())<<6,s|=Number(t.KY())<<5,s|=Number(t.YY())<<4,s|=Number(t.UY())<<3,s|=Number(t.BY())<<2,s|=Number(t.jY())<<1,s|=0|Number(t.kY()),s}static cOt(t){let s=0;return s|=256,s|=128,s|=64,s|=32,s|=16,s|=8,s|=4,s|=2,s|=1,511}}}{const jb=self.Gs,zb=self.ls,Bb=zb.Ms,$b=zb.ws,Ub=jb.Yn(jb.Rect),Wb=jb.Yn(jb.El),Yb=jb.Yn(jb.Event,"bboxchange",!1),Qb=jb.Yn(jb.xo,0,0,0,0),Vb=jb.Yn(jb.au),Jb=jb.Yn(jb.xo,1,1,1,1),Hb=jb.Yn(jb.Rect,0,0,-1,-1),qb=jb.Yn(jb.Rect,0,0,-1,-1),Zb=new Set(["absolute","relative"]),Xb=[];let Kb=!0;const tv=1,sv=2,iv=4,ev=8,nv=16,rv=32,hv=64,ov=128,av=256,lv=512,uv=1024,cv=2048,fv=4096,dv=8192,pv=16384,mv=32768,gv=1<<22,yv=1<<23,Mv=12647936,wv=65536,Sv=1<<17,Tv=1<<18,bv=1<<19,vv=1<<20,xv=1<<21,Cv=26,Iv=31<<26,Gv=new WeakMap,Ev=new WeakMap;jb.CAt=class extends jb.Un{constructor(t,s){super(),this.di=t,this.idt=t.GU(),this.Fc=t.Pj(),this.fOt=s,this.idt.tAt(this,null,s),this.dOt=-1,this.pOt=-1,this.fvt=196635,this.idt.wB().Kz()&&(this.fvt|=128),this.Na=NaN,this.Da=NaN,this._b=NaN,this.mOt=NaN,this.gOt=NaN,this.Qx=NaN,this.Eo=NaN,this.yOt=NaN,this.MOt=NaN,this.wOt=NaN,this.SOt=NaN,this.TOt=jb.Yn(jb.Rect),this.bOt=jb.Yn(jb.El),this.vOt=qb,this.xOt=Hb,this.COt=null,this.IOt=null,this.GOt=null,this.Db=Jb,this.EOt=Jb,this.NOt=null,this.DOt=null,this.di.GU().L_t()&&(this.DOt=jb.Yn(jb._Ot,this.di,this)),this.AOt=null,this.DLt=null,this._Lt=null,this.LOt=-1,this.OOt=null}FAt(){this.fvt|=256}Qn(){if(this.idt.tAt(this,this.fOt,null),this.NOt&&(this.Fc.cb().NS(this.NOt),this.NOt=null),this.COt=null,this.IOt&&(this.IOt.ROt.Qn(),this.IOt=null),this.GOt&&(this.GOt.clear(),this.GOt=null),this.eQ(),this.DOt&&this.DOt.Qn(),this.OY()&&this.TY().AY(this),this.r3()){const t=[...this.l5()];for(const s of t)this.AY(s)}this.POt(),this.kOt(),Gv.delete(this),Ev.delete(this),this.di=null,this.idt=null,this.Fc=null,this.fOt=null}GAt(t){if(Kb=!1,this.zW(t[0],t[1]),this.qb(t[2]),this.vD(t[3],t[4]),this.Qx=0,this.Kz()?this.qB(t[6]):this.Eo=0,Qb.Ma(t[7]),this.FOt(Qb),this.YW(t[8]),this.JW(t[9]),this.Lb(t[10]),this.DOt&&this.DOt.jOt(t[12]),t[14]&&Gv.set(this,{zOt:t[14][1],BOt:t[14][2]}),t[15]){const s=t[15];this.sQ(s[0],s[1]);const i=this.aQ(),e=s[2];for(let t=0,s=e.length;t<s;++t){const s=e[t];for(let e=0,n=s.length;e<n;++e){const n=s[e],r=i._v(e,t);r.Yb(n[0]),r.Jb(n[1]),r.qb(n[2]),r.Xb(n[3]),r.tv(n[4])}}}if(t[16]){const s=t[16][0],i=t[16][1],e=!!i,n=!e,r=this.Fc.eLt();e&&r&&r.hut(this.UV(),i),n&&r&&r.hut(this.UV(),s)}Kb=!0,this.$Ot()}EAt(){this.Na=0,this.Da=0,this._b=0,this.mOt=0,this.gOt=0,this.Qx=0,this.Eo=0,this.yOt=0,this.MOt=1,this.wOt=0,this.SOt=0,this.$Ot()}Pj(){return this.Fc}GU(){return this.idt}UV(){return this.di}UOt(){return this.YY()?this.WOt(this.TY().YOt()-this.AOt.ULt()):0}Yb(t){if(t=+t,this.kY()){const s=this.AOt,i=t-this.Wb(),e=-this.UOt();0===e?this.Na+=i/s.BLt():(this.Na+=Math.cos(e)*i/s.BLt(),this.jY()&&(this.Da+=Math.sin(e)*i/s.$Lt()))}else this.Na=t}rht(t,s=!1){t=+t,s?this.Na+=t:this.kY()?this.Yb(this.Wb()+t):this.Na+=t}Wb(){if(this.kY()){let t=this.Na;const s=this.AOt,i=this.TY(),e=this.UOt();return 0===e?t*=s.BLt():(t=t*s.BLt()*Math.cos(e),this.jY()&&(t-=this.Da*s.$Lt()*Math.sin(e))),i.Wb()+t}return this.Na}Jb(t){if(t=+t,this.jY()){const s=this.AOt,i=t-this.Vb(),e=-this.UOt();0===e?this.Da+=i/s.$Lt():(this.kY()&&(this.Na-=Math.sin(e)*i/s.BLt()),this.Da+=Math.cos(e)*i/s.$Lt())}else this.Da=t}hht(t,s=!1){t=+t,s?this.Da+=t:this.jY()?this.Jb(this.Vb()+t):this.Da+=t}Vb(){if(this.jY()){let t=this.Da;const s=this.AOt,i=this.TY(),e=this.UOt();return 0===e?t*=s.$Lt():(t=t*s.$Lt()*Math.cos(e),this.kY()&&(t+=this.Na*s.BLt()*Math.sin(e))),i.Vb()+t}return this.Da}zW(t,s){if(t=+t,s=+s,this.QOt()){const i=this.kY(),e=this.jY(),n=this.AOt,r=t-this.Wb(),h=s-this.Vb(),o=-this.UOt();if(0===o)i?this.Na+=r/n.BLt():this.Na=t,e?this.Da+=h/n.$Lt():this.Da=s;else{const a=Math.sin(o),l=Math.cos(o);i?this.Na+=e?(l*r-a*h)/n.BLt():l*r/n.BLt():this.Na=t,e?this.Da+=i?(a*r+l*h)/n.$Lt():l*h/n.$Lt():this.Da=s}}else this.Na=t,this.Da=s}VOt(){return[this.Wb(),this.Vb()]}$W(t,s){t=+t,s=+s,this.QOt()?this.zW(this.Wb()+t,this.Vb()+s):(this.Na+=t,this.Da+=s)}sxt(t,s){return this.Wb()===t&&this.Vb()===s}qb(t){if(t=+t,this.VY()&&(t-=this.TY().Hb()),this._b===t)return;this._b=t,this.JOt();const s=this.lj();0!==this._b&&s.c0(),s.pj(this)}JOt(){if(this.$Ot(),this.r3()){const t=this.l5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.VY()&&i.JOt()}}}xht(t){this.qb(this.Hb()+t)}Hb(){return this.VY()?this.TY().Hb()+this._b:this._b}XW(){return this.lj().Hb()+this.Hb()}Tit(){return this.UV().wB().Ybt()<2&&this.UV().yQ().Tit()}Hg(t){if(t=+t,this.BY()){const s=this.$g();0===s?this.mOt=Number.EPSILON:this.mOt*=t/s}else this.mOt=t;this.HOt()}Cy(t,s){t=+t,s?this.mOt+=t:this.BY()?this.Hg(this.$g()+t):this.mOt+=t,this.HOt()}$g(){if(this.BY()){const t=this.TY(),s=t.$g();return t.uht().lht()===Number.EPSILON?(this.uht().lht()+s)*this.mOt:s*this.mOt}return this.mOt}Ug(t){if(t=+t,this.UY()){const s=this.Xg();0===s?this.gOt=Number.EPSILON:this.gOt*=t/s}else this.gOt=t;this.HOt()}pht(t,s){t=+t,s?this.gOt+=t:this.UY()?this.Ug(this.Xg()+t):this.gOt+=t,this.HOt()}Xg(){if(this.UY()){const t=this.TY(),s=t.Xg();return t.uht().fht()===Number.EPSILON?(this.uht().fht()+s)*this.gOt:s*this.gOt}return this.gOt}vD(t,s){if(t=+t,s=+s,this.BY()){const s=this.$g();0===s?this.mOt=Number.EPSILON:this.mOt*=t/s}else this.mOt=t;if(this.UY()){const t=this.Xg();0===t?this.gOt=Number.EPSILON:this.gOt*=s/t}else this.gOt=s;this.HOt()}Lu(){return[this.$g(),this.Xg()]}A2(){return this.Qx}qOt(t){if(t<0)throw new RangeError("invalid depth");this.Qx=t}ZOt(){if(this.OY()){const t=this.AOt;return Math.min(t.BLt(),t.$Lt())}return 1}Kz(){return!!(128&this.fvt)}qB(t){t=+t,this.Kz()&&(this.YY()&&(t-=this.TY().ZB()),t=jb.Xn(t),this.Eo!==t&&(this.Eo=t,this.HOt()))}mht(t){0!=(t=+t)&&this.Kz()&&(this.Eo=jb.Xn(this.Eo+t),this.HOt())}HOt(){if(this.fvt|=262144,this.r3()){const t=this.l5();for(let s=0,i=t.length;s<i;s++)t[s].HOt()}}ZB(){return this.YY()&&this.Kz()?this.WOt(jb.Xn(this.TY().YOt()+this.Eo)):this.Eo}YOt(){return this.YY()&&this.Kz()?jb.Xn(this.TY().YOt()+this.Eo):this.Eo}WOt(t){return this.BY()&&this.vY().$g()<0&&(t=jb.Xn(jb.pr(t,this.vY().ZB()+Math.PI))),this.UY()&&this.vY().Xg()<0&&(t=jb.pr(t,this.vY().ZB())),t}XOt(){const t=this.TY();return!!(this.BY()&&t.$g()<0)||!!(this.UY()&&t.Xg()<0)}KOt(){const t=this.TY();return!!(this.BY()&&t.$g()<0&&this.UY()&&t.Xg()<0)}tRt(){const t=this.fvt;if(!(262144&t))return;const s=this.ZB();this.yOt=Math.sin(s),this.MOt=Math.cos(s),this.fvt=-262145&t}oxt(){return this.tRt(),this.yOt}hxt(){return this.tRt(),this.MOt}YW(t){this.wOt=+t}bht(t){this.wOt+=+t}WW(){return this.wOt}JW(t){this.SOt=+t}vht(t){this.SOt+=+t}VW(){return this.SOt}FOt(t){this.Db.equals(t)||(this.Db===Jb?(this.Db=jb.Yn(jb.xo,t),this.EOt=jb.Yn(jb.xo,t),this.EOt.Zo()):t.Vo(1,1,1,1)?(this.Db=Jb,this.EOt=Jb):(this.Db.set(t),this.EOt.set(t),this.EOt.Zo()),this.$Ot())}eL(t){if(t=jb.Zn(+t,0,1),this.HY()){if(this.uht().Ixt()===t)return;this.uht().zLt(t),t=this.sL()}else if(this.Db.a===t)return;this.sRt(t)}iRt(){if(!this.r3())return;const t=this.l5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.sRt(i.sL())}}sRt(t){Qb.ko(this.Db),Qb.a=t,this.FOt(Qb),this.iRt()}Mht(t){this.HY()?this.eL(this.uht().Ixt()+t):this.eL(this.sL()+t)}sL(){return this.HY()?this.TY().sL()*this.uht().Ixt():this.Db.a}aY(t){this.Db.Yo(t)||(Qb.ko(t),Qb.a=this.sL(),this.FOt(Qb))}Zrt(t,s,i){Qb.Do(t,s,i),this.aY(Qb)}eRt(t,s,i){0===t&&0===s&&0===i||(Qb.ko(this.Db),Qb.r+=t,Qb.g+=s,Qb.b+=i,this.aY(Qb))}oY(){return this.Db}_K(){return this.EOt}KY(){return!!(512&this.fvt)}nRt(t){this.rRt(512,t)}kY(){return!!(1024&this.fvt)}hRt(t){this.rRt(1024,t)}jY(){return!!(2048&this.fvt)}QOt(){return!!(3072&this.fvt)}oRt(t){this.rRt(2048,t)}BY(){return!!(4096&this.fvt)}aRt(t){this.rRt(4096,t)}UY(){return!!(8192&this.fvt)}lRt(t){this.rRt(8192,t)}YY(){return!!(16384&this.fvt)}uRt(t){this.rRt(16384,t)}VY(){return!!(32768&this.fvt)}cRt(t){this.rRt(32768,t)}HY(){return!!(4194304&this.fvt)}fRt(t){this.rRt(4194304,t)}ZY(){return!!(8388608&this.fvt)}dRt(t){this.rRt(8388608,t)}pRt(){this.fvt&=-12647937}_Y(t,s){if(t===this)return!1;if(t.OY())return!1;if(this.mRt(t))return!1;if(this.gRt(t))return!1;const i=t.Wb(),e=t.Vb(),n=t.$g(),r=t.Xg(),h=t.ZB(),o=t.Hb(),a=t.sL();t.yRt(this),t.hRt(s.PY),t.oRt(s.FY),t.aRt(s.zY),t.lRt(s.$Y),t.uRt(s.WY),t.cRt(s.QY),t.fRt(s.JY),t.dRt(s.qY),t.nRt(s.XY);const l=i-this.Wb(),u=e-this.Vb(),c=-this.ZB(),f=Math.cos(c),d=Math.sin(c);if(s.PY&&(s.WY?t.Na=l*f-u*d:t.Na=l,s.zY)){const s=this.$g()/this.AOt.lht();0!==s&&(t.Na/=s)}if(s.FY&&(s.WY?t.Da=l*d+u*f:t.Da=u,s.$Y)){const s=this.Xg()/this.AOt.fht();0!==s&&(t.Da/=s)}if(s.zY){const s=this.$g();0===s||s===Number.EPSILON?(t.mOt=1,t.AOt.FLt(1)):(t.mOt=n/this.$g(),t.AOt.FLt(t.mOt))}if(s.$Y){const s=this.Xg();0===s||s===Number.EPSILON?(t.gOt=1,t.AOt.jLt(1)):(t.gOt=r/this.Xg(),t.AOt.jLt(t.gOt))}return s.WY&&(t.Eo=h-this.ZB()),s.QY&&(t._b=o-this.Hb()),s.JY&&t.AOt.zLt(a),s.qY&&t.L$(this.R$()),this.MRt(t),this.jW(),this.iRt(),!0}AY(t){if(t.TY()!==this)return;const s=t.Wb(),i=t.Vb(),e=t.$g(),n=t.Xg(),r=t.ZB(),h=t.Hb(),o=t.sL();t.yRt(null),t.pRt(),t.zW(s,i),t.vD(e,n),t.qB(r),t.qb(h),t.eL(o),this.wRt(t),this.jW()}SRt(){return this.LOt}TRt(){this.bRt();const t=[...this.children()];for(const s of t)this.AY(s);const s=this.TY();s&&s.AY(this),this.pRt()}bRt(){if(this.vRt(),!this.DLt){const t=[...this.children()];t.length&&(this.DLt=[],this._Lt=new WeakMap);let s=0;for(const i of t){const t=i.UV();this.DLt.push(t),this._Lt.set(t,s),s++}}const t=this.TY();t&&t.bRt()}vRt(){if(-1!==this.LOt)return;const t=[...this.xY()];this.LOt=t.length;for(const s of t)s.vRt();const s=[...this.children()];for(const t of s)t.vRt()}kOt(){this.DLt&&(this.DLt.length=0),this.DLt=null,this._Lt=null;const t=this.TY();t&&t.kOt(),this.LOt=-1}OY(){return null!==this.TY()}TY(){const t=this.AOt;return null!==t?t.TY():null}vY(){let t=this;for(;t.OY();)t=t.TY();return t}*xY(){let t=this.TY();for(;t;)yield t,t=t.TY()}qAt(t){return this.l5().includes(t)}r3(){const t=this.AOt;return null!==t&&t.r3()}l5(){const t=this.AOt;return null!==t?t.l5():Xb}children(){return this.l5()}*NY(){for(const t of this.children())yield t,yield*t.NY()}IY(){return this.l5().length}eCt(){return[...this.NY()].length}EY(t){const s=this.l5();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}tLt(t){if(!t)return NaN;const s=this.l5();if(!s)return NaN;for(let i=0;i<s.length;i++)if(t===s[i])return i;return NaN}xRt(t){this.AOt||(this.AOt=jb.Yn(jb.c5,this)),t&&this.AOt.RLt(t)}uht(){return this.AOt}POt(){this.AOt&&(this.AOt.Qn(),this.AOt=null)}yRt(t){t?(t.xRt(null),this.xRt(t)):(this.AOt&&this.AOt.RLt(null),this.r3()||this.POt())}gRt(t){if(!this.OY())return!1;const s=this.TY();return s===t||s.gRt(t)}mRt(t){if(this.qAt(t))return!0;for(const s of this.l5())if(s.mRt(t))return!0;return!1}MRt(t){this.AOt.l5().push(t)}wRt(t){const s=this.AOt.l5(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this.OY()||this.POt(),t.r3()||t.POt()}iLt(){const t=Gv.get(this);return t?t.zOt:null}CRt(){const t=Gv.get(this);return t?t.BOt:NaN}n3(){const t=Ev.get(this);return jb.te(t)?t:NaN}IRt(t){Ev.set(this,t)}GRt(){this.rRt(524288,!0),this.$Ot()}$Ot(){if(!Kb)return;const t=this.Fc.cb();let s;this.NOt&&t.NS(this.NOt),s=524288&this.fvt?t.cS()||"<point>":t.aS()||"<default>",this.NOt=t.CS(s,this.cU(),this.EOt,this.Hb())}z2(){return this.NOt}D0(){return this.Db===Jb}Lb(t){if((t|=0)<0||t>31)throw new RangeError("invalid blend mode");this.cU()!==t&&(this.fvt=-2080374785&this.fvt|t<<26,this.$Ot())}cU(){return(2080374784&this.fvt)>>26}dj(t,s){const i=s&&this.fOt!==t;i&&this.l0(),this.idt.tAt(this,this.fOt,t),this.fOt=t,i&&this.ERt(),0!==this.Hb()&&this.fOt.c0()}lj(){return this.fOt}WF(){return this.lj().WF()}d0(t){this.dOt=0|t}uj(){return this.fOt.I1(),this.dOt}D1(t){this.pOt=0|t}IJ(){return this.fOt.E1(),this.pOt}cX(){return this.dOt}rRt(t,s){s?this.fvt|=t:this.fvt&=~t}R$(){return!!(1&this.fvt)}L$(t){if(this.rRt(1,t),this.r3())for(const s of this.l5())s.ZY()&&s.L$(t)}MY(){return!!(8&this.fvt)}wY(t){t=!!t,this.MY()!==t&&(this.rRt(8,t),t?this.jW():this.NRt())}DRt(t,s){if(this.rRt(32,t),this.GOt&&this.GOt.clear(),s.trim()){this.GOt||(this.GOt=new Set);for(const t of s.split(" "))t&&this.GOt.add(t.toLowerCase())}else this.GOt=null}_Rt(t){const s=!!(32&this.fvt),i=this.GOt;if(!t||!i)return!s;for(const e of i)if(t.has(e))return s;return!s}jW(){if(this.fvt|=65554,this.idt.Z_t(!0),this.Fc.mj(),this.fOt.WK()&&(this.tY(this.TOt,this.bOt,!0),this.fvt&=-3,this.ERt()),4&this.fvt&&this.di.Mf().dispatchEvent(Yb),null!==this.AOt){const t=this.AOt.l5();for(let s=0,i=t.length;s<i;++s)t[s].jW()}}tY(t,s,i){const e=this.Wb(),n=this.Vb(),r=this.$g(),h=this.Xg(),o=this.ZB();t.Wa(e-this.wOt*r,n-this.SOt*h,r,h),i&&this.oQ()&&this.ARt(t),0===o?s.Hl(t):(t.offset(-e,-n),s.Zl(t,this.oxt(),this.hxt()),s.offset(e,n),s.Xl(t)),t.normalize()}LRt(){const t=this.fvt;2&t&&(this.tY(this.TOt,this.bOt,!0),this.fvt=-3&t)}sY(){return this.LRt(),this.TOt}eY(){return this.LRt(),this.bOt}ORt(t){const s=this.Wb(),i=this.Vb(),e=Math.round(s)-s,n=Math.round(i)-i;return 0===e&&0===n?t:(Wb.M(t),Wb.offset(e,n),Wb)}RRt(t){this.TOt.M(t),this.bOt.Hl(this.TOt),this.fvt&=-3,this.K_t(),this.ERt()}PRt(t){this.rRt(4,t)}kRt(){return!!(4&this.fvt)}G2(t,s,i){return s&&0!==this.A2()?this.D2(this.lj().N2()):0===this.Hb()||i?t.bl(this.sY()):this.FRt()}FRt(){const t=this.lj(),s=this.XW();return!(s>=t.J0())&&(t.Q0(s,Ub),Ub.bl(this.sY()))}D2(t){const s=this.sY(),i=s.Xa(),e=s.tl(),n=s.Ka(),r=s.sl(),h=this.XW(),o=h+this.A2();return t.VM(i,n,h,e,r,o)}rY(){const t=this.lj();if(t.o1())return this.D2(t.N2());{const s=t.WF();return this.G2(t.mU(),s.I2(),s.x$())}}P2(t){this.rRt(1048576,t)}R2(t){this.rRt(2097152,t)}jRt(){return!!(1048576&this.fvt)}zRt(){return!!(2097152&this.fvt)}BRt(t){this.COt=t,this.$Rt(),this.oQ()&&(this.OOt.URt=null)}WRt(){return this.COt}YRt(){return null!==this.COt||this.oQ()}QRt(){return this.VRt(this.$g(),this.Xg(),this.ZB(),this.oxt(),this.hxt())}JRt(t,s,i){let e=0,n=1;return 0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.VRt(t,s,i,e,n)}VRt(t,s,i,e,n){let r=this.IOt;null===r&&(r={ROt:jb.Yn(jb.au),width:NaN,height:NaN,angle:NaN},this.IOt=r);const h=r.ROt;if(r.width===t&&r.height===s&&r.angle===i)return h;const o=this.COt;if(this.oQ()){const i=this.WW(),r=this.VW(),a=this.aQ();let l=this.OOt.URt;l||(o?(Vb.M(o),Vb.offset(i,r)):Vb.gu(),l=a.Rv(Vb),this.OOt.URt=l),a.Pv(l,h),h.offset(-i,-r),h.Su(t,s,e,n)}else o?(h.M(o),h.Su(t,s,e,n)):h.wu(this.eY(),-this.Wb(),-this.Vb());return r.width=t,r.height=s,r.angle=i,h}$Rt(){this.HRt(!0);const t=this.IOt;null!==t&&(t.width=NaN)}sQ(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.UV().wB().oB())throw new Error("object does not support mesh");this.eQ(),this.OOt={qRt:jb.Yn(jb.RM.lv,t,s),ZRt:jb.Yn(jb.RM.lv,t,s),URt:null}}oQ(){return null!==this.OOt}aQ(){if(!this.oQ())throw new Error("no mesh");return this.OOt.qRt}XRt(){if(!this.oQ())throw new Error("no mesh");return this.OOt.ZRt}KRt(t){this.rRt(65536,t)}tPt(){return!!(65536&this.fvt)}HRt(t){this.rRt(131072,t)}sPt(){return!!(131072&this.fvt)}ARt(t){const s=this.OOt.qRt,i=Math.min(s.Cv(),0),e=Math.min(s.Iv(),0),n=Math.max(s.Gv(),1),r=Math.max(s.Ev(),1),h=t.width(),o=t.height();t.offsetLeft(i*h),t.offsetTop(e*o),t.al((n-1)*h),t.ll((r-1)*o),this.Qx=s.Nv()}eQ(){this.OOt&&(this.OOt.qRt.Qn(),this.OOt.ZRt.Qn(),this.OOt=null,this.$Rt())}rQ(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!Zb.has(e))throw new Error("invalid mode");const n="relative"===e;let r=i.x,h=i.y;const o=i.iU;let a="number"==typeof i.lQ?i.lQ:n?0:-1,l="number"==typeof i.uQ?i.uQ:n?0:-1;if(!this.oQ())return!1;const u=this.aQ(),c=u._v(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.Hb()!==o&&(c.qb(o),f=!0),n&&(r+=t/(u.Sv()-1),h+=s/(u.Tv()-1)),-1!==a||n?(n&&(a+=t/(u.Sv()-1)),a=jb.Zn(a,0,1)):a=c.Zb(),-1!==l||n?(n&&(l+=s/(u.Tv()-1)),l=jb.Zn(l,0,1)):l=c.Kb(),c.Wb()===r&&c.Vb()===h&&c.Zb()===a&&c.Kb()===l?f:(c.Yb(r),c.Jb(h),c.Xb(a),c.tv(l),this.$Rt(),!0)}kAt(){return this.di.kAt()}SY(t,s){return!!this.sY().xl(t,s)&&!!this.eY().xl(t,s)&&(this.kAt()?this.di.yQ().wEt(t,s):!this.YRt()||this.QRt().xl(t-this.Wb(),s-this.Vb()))}iPt(){return!!(16&this.fvt)}K_t(){if(!this.iPt()||!this.MY()||256&this.fvt)return;const t=this.sY(),s=this.idt.q_t(),i=this.vOt;if(Ub.set(s.EX(t.Xa()),s.NX(t.Ka()),s.EX(t.tl()),s.NX(t.sl())),i.equals(Ub))return;const e=this.di;i===qb?(s.DX(e,null,Ub),this.vOt=jb.Yn(jb.Rect,Ub)):(s.DX(e,i,Ub),i.M(Ub)),this.fvt&=-17}ePt(){this.fvt|=16}NRt(){const t=this.vOt;t!==qb&&(this.idt.q_t().DX(this.di,t,null),this.vOt=qb)}ERt(){const t=this.lj();if(!t.WK()||256&this.fvt)return;const s=t.A0(),i=this.sY(),e=this.xOt;if(Ub.set(s.EX(i.Xa()),s.NX(i.Ka()),s.EX(i.tl()),s.NX(i.sl())),e.equals(Ub))return;const n=this.di;e===Hb?(s.DX(n,null,Ub),this.xOt=jb.Yn(jb.Rect,Ub)):(s.DX(n,e,Ub),e.M(Ub)),t.L0()}l0(){const t=this.xOt;t!==Hb&&(this.lj().A0().DX(this.di,t,null),this.xOt=Hb)}G1(){return this.xOt}uY(){const t=this.di,s=this.fOt,i=s.fj();i.length&&i.at(-1)===t||(s.a0(t,!1),s.r0(t,!1),this.Fc.mj())}fY(){const t=this.di,s=this.fOt,i=s.fj();i.length&&i[0]===t||(s.a0(t,!1),s.o0(t,!1),this.Fc.mj())}pY(t){const s=this.di,i=this.fOt;if(i.WF()!==t.WF())throw new Error("layer from different layout");t!==i&&(i.a0(s,!0),this.dj(t),t.r0(s,!0),this.Fc.mj())}gY(t,s){const i=this.di;let e=!1;const n=this.fOt;if(t.zU()===i.zU())return;const r=t.aj();if(!r)throw new Error("expected world instance");const h=r.lj();n.ek()!==h.ek()&&(n.a0(i,!0),this.dj(h),h.r0(i,!0),e=!0);const o=h.L1(i,t,!!s);(e||o)&&this.Fc.mj()}kW(){return this.DOt}nPt(t){this.rRt(64,t)}B1(){return!!(64&this.fvt)}s3(t,s=null){const i={x:this.Wb(),y:this.Vb(),w:this.$g(),h:this.Xg(),l:this.lj().I0(),zi:this.uj()};0!==this.Hb()&&(i.ze=this.Hb()),0!==this.ZB()&&(i.a=this.YOt()),this.D0()||(i.c=this.Db.toJSON()),.5!==this.WW()&&(i.oX=this.WW()),.5!==this.VW()&&(i.oY=this.VW()),0!==this.cU()&&(i.bm=this.cU()),this.R$()||(i.v=this.R$()),this.MY()||(i.ce=this.MY()),this.kRt()&&(i.be=this.kRt()),this.DOt&&(i.fx=this.DOt.s3());const e=!!(32&this.fvt);return e&&(i.sfi=e),this.GOt&&(i.sft=[...this.GOt].join(" ")),this.AOt&&"visual-state"!==t&&(i.sgi=this.AOt.s3(t,s),Gv.has(this)&&(i.sgcd=Gv.get(this).zOt,i.sgzid=Gv.get(this).BOt)),this.oQ()&&(i.mesh=this.aQ().nv()),i}HLt(){return{x:this.Na,y:this.Da,z:this._b,w:this.mOt,h:this.gOt,a:this.Eo,sgi:this.uht()?this.uht().WLt():null}}tOt(t){t&&(this.Na=t.x,this.Da=t.y,this._b=t.z,this.mOt=t.w,this.gOt=t.h,this.Eo=t.a,t.sgi&&this.uht()&&this.uht().i3(t.sgi),this.HOt(),this.jW())}lAt(){this.kOt(),this.TRt(),this.xRt(null),this.AOt&&this.AOt.ZLt(this.DLt,this._Lt)}p6(t){"visual-state"!==t&&this.TRt()}g6(t,s="full",i=null){if(t.hasOwnProperty("sgi")&&"visual-state"!==s){if(256&this.fvt)return;this.AOt.g6(t.sgi,i)}}SLt(t,s="full",i=null){if("visual-state"!==s)if(256&this.fvt)this.kOt();else{if(t.hasOwnProperty("sgi"))this.AOt.ZLt(null,null,t.sgi,i);else if(i?.WCt&&this.DLt)for(const t of this.DLt)t.AJ()||this.Fc.LU(t);this.kOt(),this.jW()}}i3(t,s,i=null){if(Kb=!1,this.Yb(t.x),this.Jb(t.y),this.Hg(t.w),this.Ug(t.h),this.d0(t.zi),this.qb(t.hasOwnProperty("ze")?t.ze:0),this.qB(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?Qb.Ma(t.c):t.hasOwnProperty("o")?(Qb.ko(this.Db),Qb.a=t.o):Qb.No(1,1,1,1),this.FOt(Qb),this.YW(t.hasOwnProperty("oX")?t.oX:.5),this.JW(t.hasOwnProperty("oY")?t.oY:.5),this.Lb(t.hasOwnProperty("bm")?t.bm:0),this.L$(!t.hasOwnProperty("v")||t.v),this.wY(!t.hasOwnProperty("ce")||t.ce),this.PRt(!!t.hasOwnProperty("be")&&t.be),this.DRt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.DOt&&t.hasOwnProperty("fx")&&this.DOt.i3(t.fx),t.hasOwnProperty("sgi")&&"visual-state"!==s){this.xRt(null);const s=this.AOt,i=t.sgi;s.i3(i),s.ZLt(this.DLt,this._Lt),t.sgcd&&jb.te(t.sgzid)&&Gv.set(this,{zOt:t.sgcd,BOt:t.sgzid})}if(t.hasOwnProperty("mesh")){const s=t.mesh;this.sQ(s.cols,s.rows),this.aQ().rv(s)}else this.eQ();this.jW(),Kb=!0,this.$Ot(),"visual-state"!==s&&this.Fc.rPt(this.UV(),t)}}}{const Nv=self.Gs;Nv.BDt=class extends Nv.Un{constructor(t,s){super();const i=t.Pj(),e=i.dSt(s[1]);i.hPt().mNt(e),this.Fc=i,this.idt=t,this.VEt=Nv.$z.AQ(e),this.AGt=null,this.oPt=null,this.MDt=e.Instance,this.VX=s[2],this.Hn=s[0],this.ZSt=this.Fc._mt(s[3]);const n=this.VEt.Ybt();if(n<2&&(this.AGt=Nv.Yn(e.n_t,this),!(this.AGt instanceof Nv.QEt)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(Nv.$z.pGt(this,n),n>=2){const t=e.n_t??globalThis.WJ;if(this.oPt=new t,!(this.oPt instanceof globalThis.WJ))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.oPt=new globalThis.DQ;Nv.$z.mGt(n),this.uGt()}static _C(t,s){return Nv.Yn(Nv.BDt,t,s)}Qn(){this.Fc=null,this.VEt=null,this.AGt&&(this.AGt.Qn(),this.AGt=null),this.MDt=null}Bvt(){return this.AGt}uGt(){this.AGt?this.AGt.uGt():this.oPt&&this.oPt.rJ()}Pj(){return this.Fc}GU(){return this.idt}xQ(){return this.VEt}I_t(){return this.MDt}Nc(){return this.Hn}I0(){return this.VX}IQ(){return this.oPt}_mt(){return this.ZSt}}}{const Dv=self.Gs,_v=self.bQ;Dv.bAt=class extends Dv.Un{constructor(t){super(),this.Fc=t.runtime,this.NTt=t.CQ,this.VEt=this.NTt.xQ(),this.di=t.EQ,this.EM=t.index,this.pAt=null,this.mAt=null,this.VEt.r0(this.di)}Qn(){this.mAt&&(this.mAt.AU(),this.mAt=null),this.VEt.a0(this.di),this.pAt&&(this.pAt.Qn(),this.pAt=null),this.Fc=null,this.NTt=null,this.VEt=null,this.di=null}T_t(t){if(this.pAt)throw new Error("already got sdk instance");if(this.xQ().Ybt()<2){if(this.pAt=Dv.Yn(this.NTt.I_t(),this,t),!(this.pAt instanceof Dv.JEt))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const s=this.xQ().cGt();this.dGt(s.Instance,t)}}yQ(){return this.pAt??this.mAt}NQ(){return this.di}Pj(){return this.Fc}GQ(){return this.NTt}xQ(){return this.VEt}krt(){return this.EM}XEt(){this.pAt?this.pAt.XEt():this.mAt.VJ()}iNt(t,s){this.pAt&&this.pAt.iNt(t,s)}wLt(){return this.pAt?this.pAt.KGt():this.mAt.xW()}nv(t="full"){return this.pAt?this.pAt.nv(t):this.mAt.IW(t)}rv(t,s="full"){if(this.pAt)return this.pAt.rv(t,s);this.mAt.GW(t,s)}static aPt(t,s,i){const e=globalThis.YJ;let n,r;n=s instanceof e?t.u$(s):s.ZEt(),r=i instanceof e?t.u$(i):i.ZEt();const h=n.NQ(),o=r.NQ(),a=h.GU().ek(),l=o.GU().ek();if(a!==l)return a-l;const u=h.oLt(),c=o.oLt();return u!==c?u-c:n.krt()-r.krt()}dGt(t,s){const i=_v,e=t??this.pAt.cGt(),n=e||i,r=this.xQ().Ybt();if(Dv.$z.pGt(this,r),Dv.$z.gNt(s),this.mAt=new n,Dv.$z.yNt(),Dv.$z.mGt(r),e&&!(this.mAt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);return this.mAt}RGt(){return this.mAt||this.dGt()}eEt(){return!!this.mAt}}}{const Av=self.Gs;Av.NK=class extends Av.Un{constructor(t,s){super(),this.fv=t,this.lPt=[],this.uPt=[],this.cPt=new Map,this.fPt=[],this.dPt=[],this.pPt=new Set,this.tb=!0;for(const t of s){const s=Av.Yn(Av.mPt,this,t,this.lPt.length);this.lPt.push(s),this.cPt.set(s.Nc().toLowerCase(),s),t.length>=3&&this.fPt.push(this.gPt(s,t[2]))}this.Pj().yPt(this)}Qn(){this.Pj().MPt(this);for(const t of this.dPt)t.Qn();Av.Sh(this.dPt),Av.Sh(this.lPt),Av.Sh(this.uPt),this.cPt.clear(),Av.Sh(this.fPt),this.fv=null}wPt(t){this.pPt.add(t)}SPt(t){this.pPt.delete(t)}TPt(t){t.sS()&&(this.dPt=this.lPt.map((t=>{const s=t.DI();return s.bPt()>0?Av.Yn(Av.RM.vPt,s):null})),this.xPt());for(const s of this.pPt)s.TPt(t)}w_t(t){if(t.length){this.lPt=t.concat(this.lPt);for(const s of t)this.cPt.set(s.Nc().toLowerCase(),s);for(let t=0,s=this.lPt.length;t<s;++t)this.lPt[t].T0(t)}}gPt(t,s){t.CPt(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=Av.Yn(Av.xo);e.Ma(s),i[t]=e}}return i}bv(){return this.fv}Pj(){return this.fv.Pj()}RQ(){Av.Sh(this.uPt);let t=!0;for(const s of this.lPt)s.Kyt()&&(this.uPt.push(s),s.DI().Mb()||(t=!1));this.tb=t}YB(){return this.lPt}O_t(){return this.lPt.length>0}znt(t){return this.cPt.get(t.toLowerCase())||null}IPt(t){if((t=Math.floor(+t))<0||t>=this.lPt.length)throw new RangeError("invalid effect type index");return this.lPt[t]}LQ(t){return this.IPt(t).Kyt()}OQ(t,s){this.IPt(t).CPt(s)}_0(){return this.uPt}B1(){return this.uPt.length>0}Mb(){return this.tb}jnt(t){return this.fPt[t]}LK(t){return t<this.dPt.length?this.dPt[t]:this.fPt[t]}PQ(t,s){if(t<0||t>=this.fPt.length)return null;const i=this.fPt[t];return s<0||s>=i.length?null:i[s]}kQ(t,s,i){if(t<0||t>=this.fPt.length)return!1;const e=this.fPt[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof Av.xo){if(n.Yo(i))return!1;n.ko(i)}else{if(n===i)return!1;e[s]=i}return t<this.dPt.length&&this.dPt[t].GPt(s,i),!0}xPt(){const t=this.fPt,s=this.dPt;for(let i=0,e=Math.min(t.length,s.length);i<e;++i){const e=s[i],n=t[i];for(let t=0,s=n.length;t<s;++t)e.GPt(t,n[t])}}static EPt(t){return t&&t instanceof Av.xo?{t:"color",v:t.toJSON()}:t}static NPt(t){if(null===t)return NaN;if("object"==typeof t){if("color"===t.t){const s=Av.Yn(Av.xo);return s.Ma(t.v),s}throw new Error("invalid effect parameter type")}return t}static DPt(t){return t.map(Av.NK.EPt)}static _Pt(t){return t.map(Av.NK.NPt)}nv(){return this.lPt.map((t=>({name:t.Nc(),active:t.Kyt(),params:Av.NK.DPt(this.fPt[t.ek()])})))}rv(t){for(const s of t){const t=this.znt(s.name);t&&(t.CPt(s.active),this.fPt[t.ek()]=Av.NK._Pt(s.params))}this.RQ(),this.xPt()}}}{const Lv=self.Gs;Lv.mPt=class extends Lv.Un{constructor(t,s,i){super(),this.EK=t,this.zc=s[0],this.Hn=s[1],this.EM=i,this.Gb=null,this.Ff=!0}Qn(){this.EK=null,this.Gb=null}M_t(t){const s=Lv.Yn(Lv.mPt,t,[this.zc,this.Hn],-1);return s.Gb=this.Gb,s.Ff=this.Ff,s}TPt(t){const s=t.oS(this.zc);if(!s)throw new Error("failed to find shader program '"+this.zc+"'");this.Gb=s}WB(){return this.EK}Nc(){return this.Hn}T0(t){this.EM=t}ek(){return this.EM}bv(){return this.EK.bv()}Pj(){return this.EK.Pj()}CPt(t){this.Ff=!!t}Kyt(){return this.Ff}DI(){return this.Gb}APt(){const t=[];for(let s=0,i=this.Gb._I();s<i;++s){const i=this.Gb.AI(s);if("float"===i||"percent"===i)t.push(0);else{if("color"!==i)throw new TypeError("unknown effect parameter type");t.push(Lv.Yn(Lv.xo,1,1,1,1))}}return t}}}{const Ov=self.Gs;Ov._Ot=class extends Ov.Un{constructor(t,s){super(),this.di=t,this.LPt=s,this.EK=t.GU().WB(),this.OPt=!0,this.PK=!0,this.RPt=!1,this.PPt=!1,this.kPt=!1,this.FPt=!1,this.KP=Ov.Yn(Ov.RM.UO,t.Pj().vj().DK(),{AO:(t,s)=>{const i=s.YP(),e=i.aj();t.Ob(e._K()),t.US(e.XW()),i.Lv(t),t.US(0)},LO:t=>{const s=t.pEt(),[i,e]=t.dEt();return{kP:s,FP:i,jP:e}},OO:t=>this.LK(t)}),this.jPt=[],this.uPt=[],this.tb=!0,this.fPt=[],this.dPt=[],this.TPt(t.Pj().cb());for(let t=0,s=this.EK.YB().length;t<s;++t)this.jPt.push(!0);this.RQ(),this.EK.wPt(this)}Qn(){this.EK.SPt(this);for(const t of this.dPt)t&&t.Qn();Ov.Sh(this.dPt),this.KP.Qn(),this.KP=null,Ov.Sh(this.jPt),Ov.Sh(this.uPt),Ov.Sh(this.fPt),this.di=null,this.EK=null}TPt(t){t.sS()&&(this.dPt=this.EK.YB().map((t=>{const s=t.DI();return s.bPt()>0?Ov.Yn(Ov.RM.vPt,s):null})))}jOt(t){let s=0;for(const i of t)this.fPt.push(this.gPt(s,i)),++s;this.xPt(),this.RQ()}gPt(t,s){this.jPt[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=Ov.Yn(Ov.xo);e.Ma(s),i[t]=e}}return i}NAt(){for(const t of this.EK.YB())this.fPt.push(t.APt());this.xPt()}bv(){return this.fv}WB(){return this.EK}ik(){return this.N0(),this.KP}Pj(){return this.di.Pj()}RQ(){Ov.Sh(this.uPt);const t=this.LPt,s=this.EK.YB(),i=this.uPt,e=this.jPt;let n=!0;for(let t=0,r=s.length;t<r;++t)if(e[t]){const e=s[t];i.push(e),e.DI().Mb()||(n=!1)}this.tb=n,t.nPt(!!i.length),this.OPt=!0}N0(){const t=this.di,s=this.LPt,i=s.D0(),e=t.wB().eB(),n=0!==s.ZB()||0!==s.lj().ZB()||s.$g()<0||s.Xg()<0,r=t.yEt(),h=t.yb();(this.OPt||i!==this.PK||e!==this.RPt||n!==this.PPt||r!==this.kPt||h!==this.FPt||this.KP.RR())&&(this.KP.PR(this.uPt.map((t=>t.DI())),{PO:this.uPt.map((t=>t.ek())),kO:!i||h,jO:e,zO:r,BO:n}),this.OPt=!1,this.PK=i,this.RPt=e,this.PPt=n,this.kPt=r,this.FPt=h)}_0(){return this.uPt}jnt(t){return this.fPt[t]}LK(t){return t<this.dPt.length?this.dPt[t]:this.fPt[t]}PQ(t,s){if(t<0||t>=this.fPt.length)return null;const i=this.fPt[t];return s<0||s>=i.length?null:i[s]}kQ(t,s,i){if(t<0||t>=this.fPt.length)return!1;const e=this.fPt[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof Ov.xo){if(n.Yo(i))return!1;n.ko(i)}else{if(n===i)return!1;e[s]=i}return t<this.dPt.length&&this.dPt[t].GPt(s,i),!0}xPt(){const t=this.fPt,s=this.dPt;for(let i=0,e=s.length;i<e;++i){const e=s[i],n=t[i];for(let t=0,s=n.length;t<s;++t)e.GPt(t,n[t])}}Mb(){return this.tb}zPt(){return this.uPt.some((t=>t.DI().Tb()))}LQ(t){return this.jPt[t]}OQ(t,s){this.jPt[t]=!!s}YB(){return this.EK.YB()}s3(){return this.EK.YB().map((t=>({name:t.Nc(),active:this.jPt[t.ek()],params:Ov.NK.DPt(this.fPt[t.ek()])})))}i3(t){for(const s of t){const t=this.EK.znt(s.name);t&&(this.jPt[t.ek()]=s.active,this.fPt[t.ek()]=Ov.NK._Pt(s.params))}this.RQ(),this.xPt()}}}{const Rv=self.Gs,Pv=[],kv=[],Fv=[],jv=Rv.Yn(Rv.au),zv=Rv.Yn(Rv.au),Bv=Rv.Yn(Rv.El),$v=Rv.Yn(Rv.Rect),Uv=Rv.Yn(Rv.Rect);let Wv=null,Yv=null,Qv=null;Rv.BPt=class extends Rv.Un{constructor(t){super(),this.Fc=t,this.$Pt=0,this.UPt=0,this.WPt=[],this.YPt=0,this.QPt=0,this.VPt=0,this.JPt=0,this.HPt=new self.sz(this)}Qn(){this.Fc=null}Pj(){return this.Fc}ck(){return this.HPt}qPt(){this.QPt=this.YPt,this.YPt=0,this.JPt=this.VPt,this.VPt=0}ZPt(){return this.QPt}XPt(){return this.JPt}KPt(t,s){const i=t.aj(),e=s.aj();i&&e&&i.MY()&&e.MY()&&this.WPt.push([t,s])}Wxt(t,s,i){for(const[e,n]of this.WPt){let r=null;if(t===e)r=n;else{if(t!==n)continue;r=e}r.Kxt(s)&&(i.includes(r)||i.push(r))}}Yxt(t,s){if(!this.WPt.length)return!1;for(const[i,e]of this.WPt)if(t===i&&s===e||t===e&&s===i)return!0;return!1}tkt(){Rv.Sh(this.WPt)}ez(t,s){if(!t||!s||t===s)return!1;const i=t.aj(),e=s.aj();if(!i.MY()||!e.MY())return!1;this.YPt++;const n=i.lj(),r=e.lj();return n.T1(r)?this.skt(i,e):this.ikt(i,e)}skt(t,s){if(!t.sY().bl(s.sY()))return!1;if(this.VPt++,!t.eY().tu(s.eY()))return!1;if(t.kAt()&&s.kAt())return!1;if(t.kAt())return this.ekt(t,s);if(s.kAt())return this.ekt(s,t);if(!t.YRt()&&!s.YRt())return!0;const i=t.QRt(),e=s.QRt();return i.Tu(e,s.Wb()-t.Wb(),s.Vb()-t.Vb())}ikt(t,s){const i=t.kAt(),e=s.kAt();if(i&&!e)return this.nkt(t,s);if(e&&!i)return this.nkt(s,t);if(e||i)return!1;{const i=t.lj(),e=s.lj();jv.M(t.QRt()),zv.M(s.QRt());const n=jv.du();for(let s=0,e=n.length;s<e;s+=2){const e=s+1,r=n[s],h=n[e],[o,a]=i.wU(r+t.Wb(),h+t.Vb());n[s]=o,n[e]=a}const r=zv.du();for(let t=0,i=r.length;t<i;t+=2){const i=t+1,n=r[t],h=r[i],[o,a]=e.wU(n+s.Wb(),h+s.Vb());r[t]=o,r[i]=a}return jv.yu(),zv.yu(),this.VPt++,jv.Tu(zv,0,0)}}nkt(t,s){const i=t.lj(),e=s.lj();Wv||(Wv=Rv.Yn(Rv.au)),Yv||(Yv=Rv.Yn(Rv.Rect)),Qv||(Qv=Rv.Yn(Rv.El));const n=s.Wb(),r=s.Vb(),[h,o]=e.wU(n,r),[a,l]=i.yU(h,o),u=a-n,c=l-r;if(Yv.M(s.sY()),Yv.offset(u,c),!t.sY().bl(Yv))return!1;if(Qv.M(s.eY()),Qv.offset(u,c),this.VPt++,!t.eY().tu(Qv))return!1;Wv.M(s.QRt());const f=Wv.du();for(let t=0,s=f.length;t<s;t+=2){const s=t+1;f[t]+=u,f[s]+=c}return Wv.yu(),this.ekt(t,s,a,l,Wv,Yv,Qv)}ekt(t,s,i,e,n,r,h){const o=void 0!==r?r:s.sY(),a=t.Wb(),l=t.Vb(),u=t.UV().yQ(),c=void 0!==i?i:s.Wb(),f=void 0!==e?e:s.Vb(),d=s.YRt(),p=void 0!==h?h:s.eY(),m=kv;u.rkt(o,m);for(let t=0,i=m.length;t<i;++t){const i=m[t],e=i.hkt();if(this.YPt++,o.vl(e,a,l)&&(Bv.Hl(e),Bv.offset(a,l),Bv.tu(p)))if(d){const t=void 0!==n?n:s.QRt();let r=c,h=f;void 0!==n&&(r=s.Wb(),h=s.Vb());const o=i.okt();if(o){if(this.VPt++,o.Tu(t,r-(a+e.Xa()),h-(l+e.Ka())))return Rv.Sh(m),!0}else if(jv.wu(Bv,0,0),jv.Tu(t,r,h))return Rv.Sh(m),!0}else{const t=i.okt();if(!t)return Rv.Sh(m),!0;if(jv.wu(p,0,0),t.Tu(jv,-(a+e.Xa()),-(l+e.Ka())))return Rv.Sh(m),!0}}return Rv.Sh(m),!1}akt(t,s,i){const e=t._B(),n=this.Fc.Yk();if(!n)throw new Error("cannot call outside event");const r=n._dt(),h=new Rv.lkt;if(e.pdt()){i||(e.Tdt(!1),Rv.Sh(e.bdt())),r&&Rv.Sh(e.vdt());for(const n of t.DB()){const t=n.aj(),o=t.lj();let a=!1;if(h.k$(o)&&t.rY()&&(a=s.some((([s,i])=>{const[e,n]=h.yU(o,s,i,t.XW());return t.SY(e,n)}))),a){if(i)return!1;e.wdt(n)}else r&&e.Sdt(n)}}else{let t,o=!1;r&&!n.vwt(this.Fc.bmt())?this.Fc.Qvt()&&!e.vdt().length&&e.bdt().length?t=e.bdt():(t=e.vdt(),o=!0):t=e.bdt();let a=0;for(let n=0,l=t.length;n<l;++n){const l=t[n],u=l.aj(),c=u.lj();let f=!1;if(h.k$(c)&&u.rY()&&(f=s.some((([t,s])=>{const[i,e]=h.yU(c,t,s,u.XW());return u.SY(i,e)}))),f){if(i)return!1;o?e.wdt(l):t[a++]=l}else o?t[a++]=l:r&&e.Sdt(l)}i||(t.length=a)}return t.nSt(),h.Qn(),!!i||e.mdt()}ukt(t,s){if(!t)return!0;for(const i of s.sAt())if(!t.T1(i))return!1;return!0}Yvt(t,s,i,e){if(s.M0())for(const n of s.qMt())this.ukt(t,n)?(n.X_t(),n.q_t()._X(i,e)):Rv.Ln(e,n.DB());else this.ukt(t,s)?(s.X_t(),s.q_t()._X(i,e)):Rv.Ln(e,s.DB())}dz(t,s,i,e){for(const n of s)this.Yvt(t,n,i,e)}ckt(t,s,i){const e=this.Fc.wNt();e&&this.dz(t,e.j6(),s,i)}fkt(t,s,i){const e=this.Fc.SNt();e&&this.dz(t,e.j6(),s,i)}_Rt(t,s){return t.zAt()&&(!s||s.aj()._Rt(t.Zbt().get("solidTags")))}hz(t){const s=t.aj();this.ckt(s.lj(),s.sY(),Pv);for(const s of Pv)if(this._Rt(s,t)&&this.ez(t,s))return Rv.Sh(Pv),s;return Rv.Sh(Pv),null}dkt(t,s){this.ckt(null,t,Pv);for(const i of Pv)if(this._Rt(i,s)&&this.pkt(t,i))return Rv.Sh(Pv),i;return Rv.Sh(Pv),null}mkt(t,s){let i=null;s&&(i=Fv,Rv.Sh(i));const e=t.aj();this.fkt(e.lj(),e.sY(),Pv);for(const e of Pv)if(e.$At()&&this.ez(t,e)){if(!s)return Rv.Sh(Pv),e;i.push(e)}return Rv.Sh(Pv),i}gkt(t,s,i,e,n){e=e||50;const r=t.aj(),h=r.Wb(),o=r.Vb();for(let a=0;a<e;++a)if(r.zW(h+s*a,o+i*a),r.jW(),!this.ez(t,n))return!0;return r.zW(h,o),r.jW(),!1}ykt(t,s,i,e,n,r){e=e||50;const h=t.aj(),o=h.Wb(),a=h.Vb();let l=null,u=null;for(let c=0;c<e;++c)if(h.zW(o+s*c,a+i*c),h.jW(),!this.ez(t,l))if(l=this.hz(t),l)u=l;else if(n&&(l=r?this.ez(t,r)?r:null:this.mkt(t),l&&(u=l)),!l)return u&&this.Mkt(t,s,i,u,16,!0),!0;return h.zW(o,a),h.jW(),!1}wkt(t,s,i,e){e=e||50;const n=t.aj(),r=n.Wb(),h=n.Vb();let o=null,a=null;for(let l=0;l<e;++l)for(let e=0;e<2;++e){const u=2*e-1;if(n.zW(r+s*l*u,h+i*l*u),n.jW(),!this.ez(t,o)){if(o=this.hz(t),!o)return a&&this.Mkt(t,s*u,i*u,a,16,!0),!0;a=o}}return n.zW(r,h),n.jW(),!1}Mkt(t,s,i,e,n,r){let h=2,o=!1,a=!1;const l=t.aj();let u=l.Wb(),c=l.Vb();for(;h<=n;){const n=1/h;h*=2,l.$W(s*n*(o?1:-1),i*n*(o?1:-1)),l.jW(),this.ez(t,e)||r&&this.hz(t)?(o=!0,a=!0):(o=!1,a=!1,u=l.Wb(),c=l.Vb())}a&&(l.zW(u,c),l.jW())}Skt(t,s=100){let i=0;const e=t.aj(),n=e.Wb(),r=e.Vb();let h=0,o=this.hz(t);if(!o)return!0;for(;i<=s;){let s=0,a=0;switch(h){case 0:s=0,a=-1,i++;break;case 1:s=1,a=-1;break;case 2:s=1,a=0;break;case 3:s=1,a=1;break;case 4:s=0,a=1;break;case 5:s=-1,a=1;break;case 6:s=-1,a=0;break;case 7:s=-1,a=-1}if(h=(h+1)%8,e.zW(Math.floor(n+s*i),Math.floor(r+a*i)),e.jW(),!this.ez(t,o)&&(o=this.hz(t),!o))return!0}return e.zW(n,r),e.jW(),!1}Tkt(t,s,i,e){const n=t.aj(),r=n.Wb(),h=n.Vb(),o=Math.max(10,Rv.er(s,i,r,h)),a=Rv.rr(s,i,r,h),l=e||this.hz(t);if(!l)return Rv.Xn(a+Math.PI);let u=l,c=0,f=0;const d=Rv.Kn(5);let p;for(p=1;p<36;++p){const r=a-p*d;if(n.zW(s+Math.cos(r)*o,i+Math.sin(r)*o),n.jW(),!this.ez(t,u)&&(u=e?null:this.hz(t),!u)){c=r;break}}for(36===p&&(c=Rv.Xn(a+Math.PI)),u=l,p=1;p<36;++p){const r=a+p*d;if(n.zW(s+Math.cos(r)*o,i+Math.sin(r)*o),n.jW(),!this.ez(t,u)&&(u=e?null:this.hz(t),!u)){f=r;break}}if(36===p&&(f=Rv.Xn(a+Math.PI)),n.zW(r,h),n.jW(),f===c)return f;const m=Rv.hr(f,c)/2;let g;g=Rv.lr(f,c)?Rv.Xn(c+m+Math.PI):Rv.Xn(f+m);const y=Math.cos(a),M=Math.sin(a),w=Math.cos(g),S=Math.sin(g),T=y*w+M*S,b=y-2*T*w,v=M-2*T*S;return Rv.rr(0,0,b,v)}bkt(t,s,i,e,n){if(!n)return!1;const r=n.aj();return!!r.MY()&&(this.YPt++,$v.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!!r.sY().bl($v)&&(n.kAt()?this.vkt(t,s,i,e,n,r):(this.VPt++,!!r.eY().Kl(t,s,i,e)&&(!r.YRt()||r.QRt().Kl(r.Wb(),r.Vb(),t,s,i,e)))))}vkt(t,s,i,e,n,r){const h=r.Wb(),o=r.Vb(),a=n.yQ(),l=kv;Uv.set(t,s,i,e),Uv.normalize(),a.rkt(Uv,l);for(let n=0,r=l.length;n<r;++n){const r=l[n],a=r.hkt();if(this.YPt++,$v.vl(a,h,o)&&(Bv.Hl(a),Bv.offset(h,o),Bv.Kl(t,s,i,e))){const n=r.okt();if(!n)return Rv.Sh(l),!0;if(this.VPt++,n.Kl(h+a.Xa(),o+a.Ka(),t,s,i,e))return Rv.Sh(l),!0}}return Rv.Sh(l),!1}pkt(t,s){if(!s)return!1;const i=s.aj();if(!i.MY())return!1;if(this.YPt++,!i.sY().bl(t))return!1;if(s.kAt())return this.xkt(t,s,i);if(this.VPt++,Bv.Hl(t),!i.eY().tu(Bv))return!1;if(!i.YRt())return!0;const e=jv;e.Hl(t,i.Wb(),i.Vb());const n=i.QRt();return e.Tu(n,0,0)}xkt(t,s,i){const e=i.Wb(),n=i.Vb(),r=s.yQ(),h=kv;r.rkt(t,h);for(let s=0,i=h.length;s<i;++s){const i=h[s],r=i.hkt();if(this.YPt++,t.vl(r,e,n)){const s=i.okt();if(!s)return Rv.Sh(h),!0;if(this.VPt++,jv.Hl(t,0,0),s.Tu(jv,-(e+r.Xa()),-(n+r.Ka())))return Rv.Sh(h),!0}}return Rv.Sh(h),!1}Ckt(t,s){if(!t)return;const i=t.aj();i.MY()&&(this.YPt++,i.sY().bl(s.rect)&&(t.kAt()?this.Ikt(t,i,s):(this.VPt++,i.YRt()?s.Gkt(t,i.Wb(),i.Vb(),i.QRt()):s.Ekt(t,i.eY()))))}Ikt(t,s,i){const e=s.Wb(),n=s.Vb(),r=kv;t.yQ().rkt(i.rect,r);for(let h=0,o=r.length;h<o;h++){const o=r[h],a=o.hkt();if(this.YPt++,i.rect.vl(a,e,n)){const r=o.okt();this.VPt++,r?i.Gkt(t,e+a.Xa(),n+a.Ka(),r):i.Nkt(t,s.Wb(),s.Vb(),a)}}Rv.Sh(r)}az(t,s){if(t===this.$Pt&&s===this.UPt)return;this.$Pt=t,this.UPt=s;const i=this.Fc.y0();for(const e of i)if(e.Jz()){for(const t of e.NB())t.aj().NRt();e.q_t().Dkt(t,s),e.Z_t();for(const t of e.NB()){const s=t.aj();s.ePt(),s.K_t()}}}uz(){return[this.$Pt,this.UPt]}_kt(t,s){this.$Pt=t,this.UPt=s}}}{const Vv=self.Gs;Vv.EDt=class extends Vv.Un{constructor(t,s){super(),this.xX=t,this.CX=s,this.IX=Vv.Yn(Vv.Gu)}Qn(){this.IX.Qn(),this.IX=null}Dkt(t,s){if(!this.IX.Du())throw new Error("grid not empty");this.xX=t,this.CX=s}GX(t,s,i){let e=this.IX.Qs(t,s);return e||(i?(e=Vv.Yn(Vv.Akt,this,t,s),this.IX.Set(t,s,e),e):null)}EX(t){const s=Math.floor(t/this.xX);return isFinite(s)?s:0}NX(t){const s=Math.floor(t/this.CX);return isFinite(s)?s:0}DX(t,s,i){if(s)for(let e=s.Xa(),n=s.tl();e<=n;++e)for(let n=s.Ka(),r=s.sl();n<=r;++n){if(i&&i.xl(e,n))continue;const s=this.GX(e,n,!1);s&&(s.Zf(t),s.Du()&&this.IX._u(e,n))}if(i)for(let e=i.Xa(),n=i.tl();e<=n;++e)for(let n=i.Ka(),r=i.sl();n<=r;++n)s&&s.xl(e,n)||this.GX(e,n,!0).SX(t)}_X(t,s){let i=this.EX(t.Xa());const e=this.NX(t.Ka()),n=this.EX(t.tl()),r=this.NX(t.sl());if(isFinite(n)&&isFinite(r))for(;i<=n;++i)for(let t=e;t<=r;++t){const e=this.GX(i,t,!1);e&&e.bX(s)}}}}{const Jv=self.Gs;Jv.Akt=class extends Jv.Un{constructor(t,s,i){super(),this.dX=t,this.Na=s,this.Da=i,this.pX=Jv.Yn(Jv.Ru)}Qn(){this.pX.Qn(),this.pX=null,this.dX=null}Du(){return this.pX.Du()}SX(t){this.pX.ju(t)}Zf(t){this.pX._u(t)}bX(t){Jv.Ln(t,this.pX.zu())}}}{const Hv=self.Gs,qv=1e-6,Zv=2;Hv.Lkt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Hv.Rect,this.Okt=2,this.Rkt=null,this.Pkt=0,this.kkt=0,this.Fkt=0,this.jkt=0,this.zkt=0,this.Tt=0,this.Bkt=1,this.$kt=0,this.Ukt=1,this.Wkt=0}Ykt(){return this.Okt<1.000001}jf(){this.Okt=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.Okt=2,this.Rkt=null,this.Pkt=0,this.kkt=0,this.Fkt=0,this.jkt=0,this.zkt=0,this.Tt=0,this.Bkt=1,this.$kt=0,this.Ukt=1,this.Wkt=0,this}Qkt(){if(!1===this.Ykt())return;const t=this.dx*this.Okt,s=this.dy*this.Okt,i=Hv.sr(t,s),e=t/i,n=s/i;this.Tt=i-qv,this.jkt=this.x1+e*this.Tt,this.zkt=this.y1+n*this.Tt,this.Pkt=Math.atan2(this.Fkt,this.kkt)+Math.PI/2,this.Bkt=Math.cos(this.Pkt),this.$kt=Math.sin(this.Pkt);const r=e*this.Bkt+n*this.$kt;if(this.Ukt=e-2*this.Bkt*r,this.Wkt=n-2*this.$kt*r,r>0){const t=Math.PI;this.Pkt=Hv.Xn(this.Pkt+t),this.Bkt=-this.Bkt,this.$kt=-this.$kt}}Vkt(t,s,i,e,n){const r=Hv.Jr(this.x1,this.y1,this.x2,this.y2,s,i,e,n);r>=0&&r<this.Okt&&(this.Okt=r,this.Rkt=t.zU(),this.kkt=s-e,this.Fkt=i-n)}Nkt(t,s,i,e){const n=s+e.Xa(),r=s+e.tl(),h=i+e.Ka(),o=i+e.sl();this.Vkt(t,n,h,r,h),this.Vkt(t,r,h,r,o),this.Vkt(t,r,o,n,o),this.Vkt(t,n,o,n,h)}Ekt(t,s){const i=s.jr(),e=s.zr(),n=s.Br(),r=s.$r(),h=s.Ur(),o=s.Wr(),a=s.Yr(),l=s.Qr();this.Vkt(t,i,e,n,r),this.Vkt(t,n,r,h,o),this.Vkt(t,h,o,a,l),this.Vkt(t,a,l,i,e)}Gkt(t,s,i,e){const n=e.du();for(let e=0,r=n.length;e<r;e+=2){const h=(e+2)%r,o=n[e]+s,a=n[e+1]+i,l=n[h]+s,u=n[h+1]+i;this.Vkt(t,o,a,l,u)}}}}{const Xv=self.Gs;Xv.lkt=class{constructor(){this.Jkt=new Map}Qn(){for(const t of this.Jkt.values())t.Hkt.Nu();this.Jkt.clear()}qkt(t){let s=this.Jkt.get(t);return void 0===s&&(s={P$:null,Hkt:new Xv.Gu},this.Jkt.set(t,s)),s}k$(t){const s=this.qkt(t);return null===s.P$&&(s.P$=t.U$()),s.P$}yU(t,s,i,e){if(0!==e)return t.yU(s,i,e);const n=this.qkt(t);let r=n.Hkt.Qs(s,i);return void 0===r&&(r=t.yU(s,i,e),n.Hkt.Set(s,i,r)),r}}}{const Kv=self.Gs,tx=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),sx=new Set(["high","low"]),ix=self.ls,ex=ix.ds,nx=ix.Ms,rx=ex.create(),hx=300,ox=200,ax=120,lx=8,ux=Kv.Yn(Kv.El),cx=Kv.Yn(Kv.Rect),fx=3e3,dx=200,px=300;Kv.Zkt=class extends Kv.Un{constructor(t){super(),this.Fc=t,this.Xkt=[],this.Kkt=!1,this.tFt=null,this.sFt=null,this.iFt=null,this.eFt="high-performance",this.nFt=!1,this.rFt="auto",this.hFt=0,this.oFt=0,this.aFt="",this.lFt=0,this.uFt=0,this.cFt=0,this.fFt=0,this.dFt=0,this.pFt=0,this.iw="normalized",this.mFt=0,this.gFt=1,this.yFt=1e4,this.Ow=!0,this.MFt=0,this.pR=0,this.mR=0,this.wFt="letterbox-scale",this.SFt="letterbox-scale",this.TFt=0,this.bFt=0,this.vFt=ex.create(),this.xFt="high",this.CFt=this.xFt,this.IFt=!1,this.GFt=[],this.EFt=new Set,this.NFt=self.C3_Shaders,this.DFt=Kv.Yn(Kv.RM.MO,{pO:()=>[this.n2(),this.h2()],mO:()=>this._Ft(),gO:t=>this.AFt(t),getTime:()=>this.Pj().fF(),yO:()=>this.Pj().mj()}),this.LFt=0,this.OFt=0,this.RFt=NaN,this.PFt=null,this.kFt=new Map,this.FFt=NaN,this.jFt=new Map,this.zFt="",this.BFt=1,this.$Ft=Kv.Yn(Kv.Rect),this.UFt="",this.WFt=null,this.YFt=null,this.QFt=0,this.VFt=0,this.JFt=-1,this.HFt=0,this.qFt=t=>this.HFt=t.progress,this.ZFt=null,this.XFt={KFt:null,tjt:null,sjt:null},this.ijt=0,this.ejt=0,this.njt=0,this.rjt="fade-in",this.hjt=null,this.ojt=new Promise((t=>this.hjt=t))}ajt(t){this.eFt=t}ljt(t){this.Kkt=!!t}ujt(t){this.iw=t}cjt(){return this.iw}fjt(t){this.mFt=t}djt(t,s){this.gFt=t,this.yFt=s}pjt(t){this.nFt=!!t}mjt(t){this.rFt=t}async co(t){let s=t.canvas;this.Xkt.push({canvas:s,gjt:null}),this.Fc.fW("runtime","window-resize",(t=>this.yjt(t))),this.Fc.fW("runtime","fullscreenchange",(t=>this.Mjt(t))),this.Fc.fW("runtime","fullscreenerror",(t=>this.wjt(t))),s.addEventListener("webglcontextlost",(t=>this.Sjt(t))),s.addEventListener("webglcontextrestored",(t=>this.Tjt(t))),this.IFt=!!t.isFullscreen,this.aFt=t.cssDisplayMode;const i=navigator.gpu&&this.Kkt;let e=!1;if(i)try{await this.bjt(!0)}catch(t){this.vjt("WebGPU",t),this.sFt=null}if(!this.cb())try{await this.xjt(!0)}catch(t){this.vjt("WebGL",t),this.tFt=null}if(this.cb()||(e=!0),!this.cb()&&i)try{await this.bjt(!1)}catch(t){this.vjt("WebGPU",t),this.sFt=null}if(!this.cb())try{await this.xjt(!1)}catch(t){this.vjt("WebGL",t),this.tFt=null}const n=this.cb();if(!n)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");n.RT(e),this.sFt&&(this.sFt.Cjt=()=>this.Ijt(),this.sFt.Gjt=()=>this.Ejt()),"normalized"===this.iw?n.Zw():(n.Xw(),n.Hw(this.mFt)),this.vD(t.windowInnerWidth,t.windowInnerHeight,!0),await this.TPt()}vjt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async bjt(t){const s={HM:this.gFt,qM:this.yFt};let i=!0;"no"===this.rFt?i=!1:"auto"===this.rFt&&(i=Kv.Xs.hi);const e={powerPreference:this.eFt,depth:this.Fc.h1(),failIfMajorPerformanceCaveat:t,Njt:this.Fc.g2(),Djt:this.Fc._jt(),A_:this.Fc.Ajt(),Ljt:i};this.sFt=Kv.Yn(Kv.RM.Ojt,s),await this.sFt._C(this.Xkt[0].canvas,e)}async xjt(t){const s={alpha:!0,powerPreference:this.eFt,__:"xbox-uwp-webview2"!==this.Fc.wz(),depth:this.Fc.h1(),A_:this.Fc.Ajt(),failIfMajorPerformanceCaveat:t,HM:this.gFt,qM:this.yFt};this.nFt&&(s.L_=1),this.tFt=Kv.Yn(Kv.RM.P_,this.Xkt[0].canvas,s),await this.tFt.jw()}async Rjt(){if(this.NFt){const t=[];for(const[s,i]of Object.entries(this.NFt)){i.src=i.Pjt;const e=Kv.RM.kjt.XI();t.push(this.sFt.BA(Object.assign({EC:e,name:s},i)))}await Promise.all(t)}}async Fjt(){if(this.NFt){const t=[];for(const[s,i]of Object.entries(this.NFt)){let e;if(i.jjt&&this.tFt.yx()>=2)i.src=i.jjt,e=Kv.RM.IC.KI();else{if(!i.zjt)throw new Error(`shader '${s}' does not support WebGL 1`);i.src=i.zjt,e=Kv.RM.IC.XI()}t.push(this.tFt.BA(Object.assign({EC:e,name:s},i)))}await Promise.all(t),this.tFt.$A(),this.tFt.lS()}this.tFt.sO()&&(this.PFt=Kv.Yn(Kv.RM.T_,this.tFt))}async TPt(){this.sFt?await this.Rjt():this.tFt&&await this.Fjt();const t=this.cb();t.LT(this.Ow),t.sO()&&(this.RFt=0);for(const s of this.Fc.Bjt()){for(const i of s.YB())i.TPt(t);s.TPt(t),s.RQ()}this.iFt=new self.GH(this.Fc,t)}Qn(){this.Fc=null,this.tFt=null,this.Xkt.length=0}vk(){return this.Fc.vk()}yjt(t){const s=this.Fc;if(s.$jt())return;const i=t.devicePixelRatio;this.vk()&&(self.devicePixelRatio=i),s.Ujt(i),this.IFt=!!t.isFullscreen,this.aFt=t.cssDisplayMode,this.vD(t.innerWidth,t.innerHeight),s.mj();const e=new Kv.Event("window-resize");e.data=t,s.Mf().Ef(e);const n=new Kv.Event("resize");n.Wjt=this.Dz(),n.Yjt=this.Az(),n.Qjt=this.Oz(),n.Vjt=this.Pz(),s.x5(n),s.yW()&&(s.ugt()||self.MW.Jjt())&&s.QR()}Mjt(t){this.IFt=!!t.isFullscreen,this.vD(t.innerWidth,t.innerHeight,!0),this.Fc.mj()}wjt(t){this.IFt=!!t.isFullscreen,this.vD(t.innerWidth,t.innerHeight,!0),this.Fc.mj()}vD(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.hFt===t&&this.oFt===s&&!i)return;this.hFt=t,this.oFt=s;const e=this.Hjt();"letterbox-scale"===e?this.qjt(t,s):"letterbox-integer-scale"===e?this.Zjt(t,s):"off"===e?this.Xjt(t,s):this.Kjt(t,s),this.tzt(e);for(const{canvas:t}of this.Xkt)t.width=this.cFt,t.height=this.fFt;this.Fc.Bc("canvas","update-size",{marginLeft:this.dFt,marginTop:this.pFt,styleWidth:this.lFt,styleHeight:this.uFt,displayScale:this.LJ()});const n=this.cb();n.vD(this.cFt,this.fFt,!0);for(const t of this.GFt)n.HL(t);Kv.Sh(this.GFt),this.szt();const r=this.Fc.UF();r.z5(),r.B5()}szt(){this.cb().tS(this.vFt,this.n2()/this.h2())}o2(){return this.vFt}qjt(t,s){const i=this.Fc.kz(),e=this.Fc.Ck(),n=this.Fc.Gk(),r=e/n;if(t/s>r){const i=s*r;this.lFt=Math.round(i),this.uFt=s,this.dFt=Math.floor((t-this.lFt)/2),this.pFt=0}else{const i=t/r;this.lFt=t,this.uFt=Math.round(i),this.dFt=0,this.pFt=Math.floor((s-this.uFt)/2)}this.cFt=Math.round(this.lFt*i),this.fFt=Math.round(this.uFt*i),this.Fc.izt(e,n)}Zjt(t,s){const i=this.Fc.kz();1!==i&&(t+=1,s+=1);const e=this.Fc.Ck(),n=this.Fc.Gk(),r=e/n;let h;h=t/s>r?s*r*i/e:t/r*i/n,h>1?h=Math.floor(h):h<1&&(h=1/Math.ceil(1/h)),this.cFt=Math.round(e*h),this.fFt=Math.round(n*h),this.lFt=this.cFt/i,this.uFt=this.fFt/i,this.dFt=Math.max(Math.floor((t-this.lFt)/2),0),this.pFt=Math.max(Math.floor((s-this.uFt)/2),0),this.Fc.izt(e,n)}Kjt(t,s){const i=this.Fc.kz();this.lFt=t,this.uFt=s,this.cFt=Math.round(this.lFt*i),this.fFt=Math.round(this.uFt*i),this.dFt=0,this.pFt=0;const e=this.LJ();this.Fc.izt(this.lFt/e,this.uFt/e)}Xjt(t,s){const i=this.Fc.kz();this.lFt=this.Fc.H0(),this.uFt=this.Fc.q0(),this.cFt=Math.round(this.lFt*i),this.fFt=Math.round(this.uFt*i),this.ezt()?(this.dFt=Math.floor((t-this.lFt)/2),this.pFt=Math.floor((s-this.uFt)/2)):(this.dFt=0,this.pFt=0),this.Fc.izt(this.Fc.H0(),this.Fc.q0())}tzt(t){if("high"===this.xFt)this.pR=this.cFt,this.mR=this.fFt,this.CFt="high";else{let s,i;if("off"===this.Hjt()?(s=this.Fc.H0(),i=this.Fc.q0()):(s=this.Fc.Ck(),i=this.Fc.Gk()),this.cFt<s||this.fFt<i)this.pR=this.cFt,this.mR=this.fFt,this.CFt="high";else if(this.pR=s,this.mR=i,this.CFt="low","scale-inner"===t){const t=s/i,e=this.hFt/this.oFt;e<t?this.pR=this.mR*e:e>t&&(this.mR=this.pR/e)}else if("scale-outer"===t){const t=s/i,e=this.hFt/this.oFt;e>t?this.pR=this.mR*e:e<t&&(this.mR=this.pR/e)}}}Pj(){return this.Fc}nzt(){return this.Xkt[0].canvas}DK(){return this.DFt}ezt(){return this.IFt}rzt(){return this.aFt}hzt(t){if(!tx.has(t))throw new Error("invalid fullscreen mode");this.wFt=t;const s=this.Fc.UF();s.z5(),s.B5()}_J(){return this.wFt}ozt(t){if(!tx.has(t))throw new Error("invalid fullscreen mode");this.SFt=t;const s=this.Fc.UF();s.z5(),s.B5()}azt(){return this.SFt}Hjt(){return this.ezt()?this.azt():this._J()}lzt(t){if(!sx.has(t))throw new Error("invalid fullscreen scaling quality");this.xFt=t,this.Fc.UF().z5()}uzt(){return this.xFt}M2(){return this.CFt}static czt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}MJ(){return this.hFt}wJ(){return this.oFt}n2(){return this.pR}h2(){return this.mR}LT(t){this.Ow=!!t}fzt(t){this.MFt=t}oX(){return this.MFt}dzt(){return this.cb().XD()}Sjt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.GFt=[],this.EFt.clear(),this.DFt.Rb(),this.tFt.Rb(),this.Fc.x4()}Ijt(){console.log("[Construct] WebGPU device lost"),this.GFt=[],this.EFt.clear(),this.DFt.Rb(),this.Fc.x4()}async Tjt(t){await this.tFt.Pb(),await this.TPt(),await this.Fc.pzt(),console.log("[Construct] WebGL context restored")}async Ejt(){await this.TPt(),await this.Fc.pzt(),console.log("[Construct] WebGPU device restored")}mzt(){return this.tFt}gzt(){return this.sFt}cb(){return this.sFt||this.tFt}C_t(){return this.iFt}bz(){let t="";return t=this.Fc.gzt()?"webgpu":"webgl"+this.Fc.mzt().yx(),this.Fc.cb().PT()&&(t+="-software"),t}xz(){return this.Fc.gzt()?this.Fc.gzt().yzt():this.Fc.mzt().uO()}CU(){return"low"===this.CFt?1/this.Fc.kz():this.LJ()}LJ(){const t=this.Hjt();if("off"===t||"crop"===t)return 1;const s=this.Fc.Ck(),i=this.Fc.Gk(),e=s/i,n=this.cFt/this.fFt;return"scale-inner"!==t&&n>e||"scale-inner"===t&&n<e?this.uFt/i:this.lFt/s}Y2(){return"low"===this.M2()?1:this.LJ()}U2(){return"low"===this.M2()?1:this.Fc.kz()}Mzt(t,s){this.TFt=t,this.bFt=s}fq(t,s,i,e=!0){s=s||this.pR,i=i||this.mR;const n=s/2+this.TFt,r=i/2+this.bFt;if(e){let e=this.o2();s===this.pR&&i===this.mR||(t.tS(rx,s/i),e=rx),t.WA(e)}const h=t.nS(n,r,t.Bw(i),n,r,0,i);t.qA(h)}wzt(t,s=!0){const i=this.Dz(),e=this.Az(),n=i/2,r=e/2;s&&t.WA(this.o2());const h=t.nS(n,r,t.Bw(e),n,r,0,e);t.qA(h)}Oz(){return this.cFt}Pz(){return this.fFt}Dz(){return this.lFt}Az(){return this.uFt}Iz(){return this.dFt}Ez(){return this.pFt}h4(){return this.Xkt.length}Szt(){return"undefined"!=typeof OffscreenCanvas&&this.nzt()instanceof OffscreenCanvas&&("Chromium"!==Kv.Xs.ni||Kv.Xs.ei>=124)}async N4(t,s=!1){if(t<1)throw new Error("invalid HTML layer count");if(this.Xkt.length===t)return;const i={count:t,layersDomState:this.Fc.UF().zF().C0().filter((t=>t.z$())).map((t=>t.A1())),immediate:s,marginLeft:this.dFt,marginTop:this.pFt,styleWidth:this.lFt,styleHeight:this.uFt};let e;if(e=this.vk()?await this.Fc.yj("canvas","set-html-layer-count",i):self.c3_runtimeInterface._OnSetHTMLLayerCount(i),t<this.Xkt.length)this.Xkt.length=t;else for(const t of e.addedCanvases){t.width=this.cFt,t.height=this.fFt;const s=this.Szt()?"bitmaprenderer":"2d",i=t.getContext(s);if(!i)throw new Error(`failed to acquire '${s}' canvas context`);this.Xkt.push({canvas:t,gjt:i})}this.Fc.mj()}S5(t){if(t>=this.Xkt.length)return;const s=this.nzt(),i=this.Xkt[t].gjt;this.Szt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}w2(t){t.depth=this.Fc.h1();const s=this.GFt,i=s.findIndex((s=>s.SC(t)));let e;return-1!==i?(e=s[i],s.splice(i,1)):e=this.cb().WL(t),this.EFt.add(e),e}AK(t){if(!this.EFt.has(t))throw new Error("render target not in use");this.EFt.delete(t),this.GFt.push(t)}_Ft(){const t={Wv:this.Fc.Ek()};return"low"===this.M2()&&(t.width=this.n2(),t.height=this.h2()),this.w2(t)}AFt(t){this.AK(t)}*Tzt(){for(const t of this.Fc.UF().k5())for(const s of t.h$()){const t=this.kFt.get(s);t&&(yield t)}}c2(t){if(!this.cb().sO())return null;let s=this.kFt.get(t);return s||(s={FW:t,name:t.Nc(),bzt:Kv.Yn(Kv.RM.T_,this.tFt),vzt:0,xzt:0,Czt:0},this.kFt.set(t,s)),s.bzt}Izt(){const t=this.cb();if(t.sO()&&0===this.OFt){this.OFt=t._T(),this.FFt=NaN;for(const t of this.Tzt())t.vzt=NaN}}Gzt(){this.tFt&&this.tFt.sO()&&this.Ezt(),this.sFt&&this.sFt.sO()&&this.Nzt()}Ezt(){if(isNaN(this.FFt)&&(this.FFt=this.PFt.E_(this.LFt,this.OFt),!isNaN(this.FFt))){if(this.Fc.yW())for(const t of this.Tzt())if(t.vzt=t.bzt.E_(this.LFt,this.OFt),isNaN(t.vzt))return;if(this.PFt.N_(this.OFt),this.RFt=Math.min(this.FFt,1),this.Fc.yW()){const t=new Map;for(const s of this.Tzt())s.bzt.N_(this.OFt),s.xzt=Math.min(s.vzt,1),t.set(s.FW,s.xzt);for(const s of this.Tzt()){const i=s.FW,e=(t.get(i)||0)-i.N$().reduce(((s,i)=>s+(t.get(i)||0)),0);s.Czt=Kv.Zn(e,0,1)}const s=this.Fc.zF(),i=this.RFt-s.C0().reduce(((s,i)=>s+(t.get(i)||0)),0);self.MW.Dzt(Kv.Zn(i,0,1),this.RFt,[...this.Tzt()])}this.LFt=this.OFt,this.OFt=0}}_zt(){return this.PFt}Nzt(){if(0===this.OFt)return;for(let t=this.LFt;t<this.OFt;++t){const s=this.jFt.get(t);if(s&&!s.u_())return}const t=this.Fc.zF(),s=Kv.vo(t.t4()+1,0);let i=0;for(let t=this.LFt;t<this.OFt;++t){const e=this.jFt.get(t);if(!e)continue;const n=e.c_();let r=BigInt(0),h=BigInt(0);const o=BigInt(0);for(let t=0,i=Math.min(s.length,n.length/2);t<i;++t){const i=n[2*t],e=n[2*t+1];i!==o&&(r===o||i<r)&&(r=i),e>h&&(h=e);const a=Number(e-i)/1e9;s[t]+=a}i+=Number(h-r)/1e9}if(this.RFt=Kv.Zn(i,0,1),this.Fc.yW()){const i=t.h$(),e=new Map;for(let t=0,n=Math.min(i.length,s.length-1);t<n;++t){const n=s[t+1];e.set(i[t],n)}const n=[],r=new Map;for(const[t,s]of e){const i=[...t._$()].reduce(((t,s)=>t+(e.get(s)||0)),0);r.set(t,i),n.push({name:t.Nc(),Czt:Kv.Zn(s,0,1),xzt:Kv.Zn(i,0,1)})}const h=this.RFt-t.C0().reduce(((t,s)=>t+(r.get(s)||0)),0);self.MW.Dzt(Kv.Zn(h,0,1),this.RFt,n)}for(let t=this.LFt;t<this.OFt;++t)this.jFt.delete(t);this.LFt=this.OFt,this.OFt=0}Azt(t){this.jFt.set(this.sFt._T(),t)}CF(){return this.RFt}xj(t,s,i,e,n,r){return this.zFt=t,this.BFt=s,this.$Ft.Wa(i,e,n,r),this.WFt||(this.WFt=new Promise((t=>{this.YFt=t}))),this.WFt}Lzt(){if(!this.zFt)return;let t=this.nzt();const s=this.$Ft,i=Kv.Zn(Math.floor(s.Xa()),0,t.width),e=Kv.Zn(Math.floor(s.Ka()),0,t.height);let n=s.width();n=0===n?t.width-i:Kv.Zn(Math.floor(n),0,t.width-i);let r=s.height();if(r=0===r?t.height-e:Kv.Zn(Math.floor(r),0,t.height-e),(0!==i||0!==e||n!==t.width||r!==t.height)&&n>0&&r>0){const s=Kv.co(n,r);s.getContext("2d").drawImage(t,i,e,n,r,0,0,n,r),t=s}Kv.fo(t,this.zFt,this.BFt).then((t=>{this.UFt&&URL.revokeObjectURL(this.UFt),this.UFt=URL.createObjectURL(t),this.WFt=null,this.YFt(t)})),this.zFt="",this.BFt=1}Ozt(){return this.UFt}Rzt(t){t?this.QFt++:this.QFt--}Pzt(){return this.QFt>0}kzt(t){const s=this.cb();if(2===t)this.ZFt=Kv.Yn(Kv.RM.UT,this.cb()),this.ZFt.KN("Arial"),this.ZFt.tD(16),this.ZFt.pD("center"),this.ZFt.gD("center"),this.ZFt.vD(300,200);else if(0===t){const t=this.Fc.Fzt();t&&t.nq(s).catch((t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t)))}else 4===t&&(this.jzt("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=").then((t=>{"done"===this.rjt?s.rC(t):this.XFt.KFt=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.zzt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFY0lEQVR42u2aPW/bVhSGn1iiPizZ8D+QgSJBNglFmiboQA0NUKAD1XotYA0BOspAkZnqx24vnTrIQNCpg4QkQMcYKDoW9j9w5y6qLNqWFDlvh3tJUa6ddHBhAuS7SKBIQffhuee851CQKVOmTJkyZcqUKXmqa8O+uyNlABKsFRmdP0o5AOle2gHoWdoBzFrpBHACwPeetJNmAFSlt6kGwGH0LqUAVqRuqgHkpEaqAVRkfvOWr+Dh9Rc4j6VvwnrhPNAbgK2ezj+yx7Z6GjUuASi4Ch4lHQAGwBeRK1rROQAdUx5K0hE4NUkaAdS02ZEuoms2wkCSgvYSgFJfkn6CobkSPG0mEcAOrHnGFOxAToHNjk/MygLgO/PxL0BN9yRdQKlufMQAoCdJGi8BOJYknXTJ269cu9HtdqNb4Ni6oimUbFb0dAZQ1DmULJ+TFtT0qQHwg73mLlCMfFUMQPR5VWrbmttNHICC1KDiSZ+w3pMOwFPDhP4IYFtv4ZX0nIorbUBNmjWAiqdZg5fmNFd6jvPhJQDjAV9LI0r28IpmycsBZalNWfoRWJcuoKY9c7cCkwpOwdcIqNT1BmrSgQkNbQAvpAGOF+aHOIBpCxhKR/TVBNjVOHkAOgrg2N6aoU7sklmVidtD7bNm/fIrjaBmk+Sxea142iBnTyguAfjZZscNXLOdXFM8EgVgXRpDz/6yonTEts6AXdV1APTVoKigFSXEmj3XN0kSV01WFQwAHC8O4Mhagye8NgHS137SALzsS3dxwhtXkQ4oaw64eqomOFKXbc2xJbFLTX8DOHYnsKsJu2Gdu8IIuTqjrMB8eyM5ACIFXQo2S5t7lNMM6AdFTaCgADqahHW8EQIohBk9rzEdE+JXAtjVmHWpDTmplUAA96Ea/bJDnVKSWjgaFTSHqubgmjVDXQchgFy4wBXNcXV6LYC8RjbEypomcCAyBopRShxqAn21yenM8WawqjOoKVbmLYBFndeImsnyVwJY1RR8NW1FTRiA6UNTCsP6fKwLONQBZTXx1WVbT0KbtwygvAxg81oAZU0xe2QYxkmyrDDx2DzWBXTUZFs7dNQwHUEMwN4VAKb47wOQ1wj8Gx0+/Y8A8powVJtt7XOoxn8A8N4IqCrA8cJUmzgAl3JAUWN8tSjqDX0NwI/XbwugGLe178oBK7bBaBesm0gggOUqwLrOHe8c1jV2NAMOw/XFAFRth2dr/burANS1cSc0C8kDsB7zAZvgKCjoLTiaFqwpmvwLQC7e2b3PB4CrZj48KXkAKktOEPr6VqeAr680udzEWACluK0LreJ1ThBe6+w4HkfJAhD1AtbAu3qgPcDVX2oCK9bqxwFQ1+fRsVW7va/uBZpAWaND652TCGBoM1rHHN6VmQlsq6cdE+4mC75oLAC49prKB1zTDd6NukHIKahbIkkEsGrmAQWZbZqXNLClrg04dTP4KnjnCwBfmgkZT7WD45k94C8BmA3MPGBgeqcbfQBxwwDsRMi3N7Iqc3dzsuVhV5ofkevpJOoGKUn6Ax5L92F49USoayZCls08uQDiM0ETCWPb8k7DMmH02SICGC7ayVhnsABwEpsZQkfxUpI4ALGpsFn4xCbHcVjnwgnvAkBh0U6CbzqrXgzA1E6FB9YOJGcacgUAfl36t0Ro/SIDUDEL/D1WBcJr5q0oRoJ2LQZgZJ4LPIu2RCPJAJafDLm2Yr2OHmQ4H0vzBksA2PKl38L3fY0aLAFYejK0ZpJhelVKzkj8dlRNzkj8dpRP0DTkVjTUXroB9PVnqtefS9I05BZU8NOdAyUl5q8RtwUg6KYcwP1Up8CanpMpU6ZMmTLdgP4BRYsi23xEdOAAAAAASUVORK5CYII=").then((t=>{"done"===this.rjt?s.rC(t):this.XFt.tjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.zzt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then((t=>{"done"===this.rjt?s.rC(t):this.XFt.sjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))))}async jzt(t){t=new URL(t,this.Fc.Bzt()).toString();const s=await Kv.no(t),i=await this.Fc.$zt(s,2048,2048);return await this.cb().UL(i,{Jv:"high"})}async zzt(t){t=new URL(t,this.Fc.Bzt()).toString();const s=await Kv.no(t);return await this.cb().UL(s,{Jv:"high"})}Uzt(){this.Fc.Bc("runtime","hide-cordova-splash")}Wzt(){this.VFt=Date.now(),this.Fc.Mf().addEventListener("loadingprogress",this.qFt),this.JFt=requestAnimationFrame((()=>this.Yzt())),3!==this.Fc.Qzt()&&this.Uzt()}async Vzt(){const t=this.cb();this.HFt=1;const s=this.Fc.Qzt();4===s&&await this.ojt,this.hjt=null,this.ojt=null,-1!==this.JFt&&(cancelAnimationFrame(this.JFt),this.JFt=-1),this.Fc.Mf().removeEventListener("loadingprogress",this.qFt),this.qFt=null,this.ZFt&&(this.ZFt.Qn(),this.ZFt=null),this.Fc.Jzt(),t.LL(),this.XFt.KFt&&(t.rC(this.XFt.KFt),this.XFt.KFt=null),this.XFt.tjt&&(t.rC(this.XFt.tjt),this.XFt.tjt=null),this.XFt.sjt&&(t.rC(this.XFt.sjt),this.XFt.sjt=null),t.AL(0,0,0,0),t.NT(),this.rjt="done",this.LFt=t._T(),3===s&&this.Uzt()}Yzt(){if(-1===this.JFt)return;const t=this.cb();t.LL(),this.JFt=-1;const s=this.Fc.lk()._Z(),i=this.Fc.Qzt();if(3!==i&&(this.wzt(t),t.AL(0,0,0,0),t.nL(),t.lS(),t.hL(null)),0===i)this.Hzt(s);else if(1===i)this.qzt(s,120,0);else if(2===i)this.Zzt(s);else if(3===i)Kv.gh();else{if(4!==i)throw new Error("invalid loader style");this.Xzt(s)}t.NT(),this.JFt=requestAnimationFrame((()=>this.Yzt()))}Zzt(t){t?this.ZFt.dD(1,0,0):this.ZFt.dD(.6,.6,.6),this.ZFt.$c(Math.round(100*this.HFt)+"%");const s=this.lFt/2,i=this.uFt/2;ux.kl(s-150,i-100,s+150,i+100);const e=this.cb();e.hL(this.ZFt.cC()),e.tT(ux,this.ZFt.t_())}qzt(t,s,i){const e=this.cb();e.mS(),t?e.iL(1,0,0,1):e.iL(.118,.565,1,1);const n=this.lFt/2,r=this.uFt/2,h=s/2;cx.Wa(n-h,r-4+i,Math.floor(s*this.HFt),8),e.Rect(cx),cx.Wa(n-h,r-4+i,s,8),cx.offset(-.5,-.5),cx.cl(.5,.5),e.iL(0,0,0,1),e.rT(cx),cx.cl(1,1),e.iL(1,1,1,1),e.rT(cx)}Hzt(t){const s=this.cb(),i=this.Fc.Fzt();if(!i)return void this.qzt(t,120,0);const e=i.cC();if(!e)return void this.qzt(t,120,0);const n=e.$g(),r=e.Xg(),h=this.lFt/2,o=this.uFt/2,a=n/2,l=r/2;ux.kl(h-a,o-l,h+a,o+l),s.hL(e),s.El(ux),this.qzt(t,n,l+16)}Xzt(t){const s=this.cb(),i=this.XFt.KFt,e=this.XFt.tjt,n=this.XFt.sjt,r=Date.now();0===this.ijt&&(this.VFt=r);const h=this.Fc.Kzt()||this.Fc.tBt()&&!this.Fc.sBt(),o=h?0:200,a=h?0:3e3;let l=1;"fade-in"===this.rjt?l=Math.min((r-this.VFt)/300,1):"fade-out"===this.rjt&&(l=Math.max(1-(r-this.njt)/300,0)),s.mS(),s.iL(.231*l,.251*l,.271*l,l),cx.set(0,0,this.lFt,this.uFt),s.Rect(cx);const u=Math.ceil(this.lFt),c=Math.ceil(this.uFt);let f,d;this.uFt>256?(s.iL(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),cx.Wa(0,.8*c-d/2,f,d),s.Rect(cx),t?s.iL(l,0,0,l):s.iL(.161*l,.953*l,.816*l,l),f=u*this.HFt,cx.Wa(.5*u-f/2,.8*c-d/2,f,d),s.Rect(cx),s.iL(l,l,l,l),s.lS(),e&&(f=1.5*Kv.Zn(.22*c,105,.6*u),d=f/8,cx.Wa(.5*u-f/2,.2*c-d/2,f,d),s.hL(e),s.Rect(cx)),i&&(f=Math.min(.395*c,.95*u),d=f,cx.Wa(.5*u-f/2,.485*c-d/2,f,d),s.hL(i),s.Rect(cx)),n&&(f=1.5*Kv.Zn(.22*c,105,.6*u),d=f/8,cx.Wa(.5*u-f/2,.868*c-d/2,f,d),s.hL(n),s.Rect(cx))):(s.iL(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),cx.Wa(0,.85*c-d/2,f,d),s.Rect(cx),t?s.iL(l,0,0,l):s.iL(.161*l,.953*l,.816*l,l),f=u*this.HFt,cx.Wa(.5*u-f/2,.85*c-d/2,f,d),s.Rect(cx),s.iL(l,l,l,l),s.lS(),i&&(f=.55*c,d=f,cx.Wa(.5*u-f/2,.45*c-d/2,f,d),s.hL(i),s.Rect(cx))),this.ijt++,"fade-in"===this.rjt&&r-this.VFt>=300&&this.ijt>=2&&(this.rjt="wait",this.ejt=r),"wait"===this.rjt&&r-this.ejt>=a&&this.HFt>=1&&(this.rjt="fade-out",this.njt=r),("fade-out"===this.rjt&&r-this.njt>=300+o||h&&this.HFt>=1&&r-this.VFt<500)&&this.hjt()}}}{const mx=self.Gs,gx=self.MW,yx=self.assert,Mx=self.YJ,wx={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let Sx=!0;mx.iBt=class extends mx.Un{constructor(t){t=Object.assign({},wx,t),super(),this.eBt=t.messagePort,this.nBt=t.runtimeBaseUrl,this.rBt=t.previewUrl,this.hBt=!!t.headless,this.oBt=!!t.hasDom,this.aBt=!!t.isInWorker,Sx=t.ife,this.lBt=!!t.useAudio,this.uBt=t.exportType,this.cBt=t.isNWjs,this.Oq=!!t.isiOSCordova,this.fBt=!!t.isiOSWebView,this.dBt=!!t.isWindowsWebView2,this.pBt=!!t.isAnyWebView2Wrapper,this.mBt=!!t.isFBInstantAvailable,this.gBt=!("preview"!==this.uBt||!t.isDebug),this.yBt=this.gBt,this.MBt=this.gBt,this.wBt=0,this.SBt=[],this.TBt=[],this.bBt=!1,this.vBt="",this.xBt="",this.CBt="",this.IBt="",this.GBt=0,this.EBt=0,this.NBt=0,this.vR=self.devicePixelRatio,this.DBt=0,this._Bt=0,this.ABt=0,this.LBt=0,this.OBt=0,this.RBt=!1,this.yM=!0,this.PBt=!1,this.kBt=!1,this.FBt=!1,this.jBt=null,this.JZ=mx.Yn(mx.Dq,this,t),this.o3=mx.Yn(mx.N5,this),this.Ldt=mx.Yn(mx.Dpt,this),this.zBt=mx.Yn(mx.$z,this,t.wrapperComponentIds),this.BBt=mx.Yn(mx.BPt,this),this.r9=mx.Yn(mx.U5,this),this.$Bt=mx.Yn(mx.Xlt,this),this.UBt=mx.Yn(mx.tut,this),this.mut=mx.Yn(mx.aut,this),this.fM=mx.Yn(mx.tM,{eM:t=>this.WBt(t),rM:t=>this.YBt(t)}),this.QBt=new Map,this.VBt=[],this.JBt=new Map,this.HBt=new Map,this.qBt=0,this.ZBt=[],this.XBt=new Set,this.KBt=[],this.t$t=[],this.s$t=new Map,this.i$t=!1,this.e$t=!1,this.n$t=0,this.r$t=0,this.h$t=new Map,this.o$t=new Set,this.a$t=new Set,this.l$t=[],this.u$t=[],this.c$t=null,this.f$t=!1,this.d$t="vsync",this.ix="trilinear",this.p$t=!1,this.m$t=!0,this.g$t=!1,this.y$t=!1,this.M$t=null,this.w$t={S$t:t=>{this.JFt=-1,this.T$t=-1,this.d8(t)},b$t:t=>{this.T$t=-1,this.d8(t,!1,"skip-render")},v$t:()=>{this.JFt=-1,this.QR()}},this.JFt=-1,this.T$t=-1,this.x$t=0,this.C$t=0,this.I$t=!1,this.G$t=!1,this.E$t=!1,this.N$t=!0,this.D$t=!0,this._$t=!1,this.A$t=0,this.L$t=new mx.Wd(1),this.O$t=()=>Math.random(),this.R$t=0,this.P$t=0,this.k$t=0,this.F$t=0,this.j$t=0,this.xAt=1,this.z$t=1/30,this.B$t=0,this.$$t=mx.Yn(mx.Kf),this.U$t=mx.Yn(mx.Kf),this.W$t=mx.Yn(mx.Kf),this.Y$t=new Map,this.Q$t=-1,this.V$t=0,this.J$t=0,this.H$t=-1,this.q$t=0,this.Z$t=0,this.X$t=0,this.K$t=!1,this.tUt="",this.sUt=!1,this.iUt="",this.GW=null,this.eUt="",this.nUt=null,this.rUt=null,this.IDt=mx.Yn(mx.Event.Mf),this.hUt=new Map,this.oUt=new Map,this.aUt=0,this.lUt=!1,this.uUt=!1,this.cUt=!1,this.fUt=[],this.dUt={pretick:mx.Yn(mx.Event,"pretick",!1),tick:mx.Yn(mx.Event,"tick",!1),tick2:mx.Yn(mx.Event,"tick2",!1),instancecreate:mx.Yn(mx.Event,"instancecreate",!1),instancedestroy:mx.Yn(mx.Event,"instancedestroy",!1),beforelayoutchange:mx.Yn(mx.Event,"beforelayoutchange",!1),layoutchange:mx.Yn(mx.Event,"layoutchange",!1)},this.dUt.instancecreate.EQ=null,this.dUt.instancedestroy.EQ=null,this.z3=mx.Yn(mx.Event.Mf),this.pUt=null;const s=(t,s)=>mx.bAt.aPt(this,t,s);this.mUt=mx.Yn(mx.ld,s),this.gUt=mx.Yn(mx.ld,s),this.yUt=mx.Yn(mx.ld,s),this.MUt=mx.Yn(mx.wUt,this,t.jobScheduler),t.canvas&&(this.c$t=mx.Yn(mx.Zkt,this)),this.eBt.onmessage=t=>this._OnMessageFromDOM(t.data),this.fW("runtime","visibilitychange",(t=>this.SUt(t))),this.fW("runtime","wrapper-extension-message",(t=>this.TUt(t))),this.fW("runtime","get-remote-preview-status-info",(()=>this.bUt())),this.fW("runtime","js-invoke-function",(t=>this.nmt(t))),this.fW("runtime","go-to-last-error-script",self.goToLastErrorScript),this.fW("runtime","offline-audio-render-completed",(t=>this.vUt(t))),this.IDt.addEventListener("window-blur",(t=>this.xUt(t))),this.IDt.addEventListener("window-focus",(()=>this.CUt())),this.r9.b6(),this.UBt.b6(),this.IUt=null,this.GUt=new WeakMap,this.EUt={keyboard:null,ZF:null,XF:null,KF:null},this.NUt=new WeakMap,this.DUt=[]}static _C(t){return mx.Yn(mx.iBt,t)}Qn(){mx.Sh(this.VBt),this.JBt.clear(),this.HBt.clear(),this.o3.Qn(),this.o3=null,this.Ldt.Qn(),this.Ldt=null,this.zBt.Qn(),this.zBt=null,this.JZ.Qn(),this.JZ=null,this.BBt.Qn(),this.BBt=null,this.r9.Qn(),this.r9=null,this.$Bt.Qn(),this.$Bt=null,this.UBt.Qn(),this.UBt=null,this.mut.Qn(),this.mut=null,this.fM.Qn(),this.fM=null,this.c$t&&(this.c$t.Qn(),this.c$t=null),this.IDt.Qn(),this.IDt=null,this._Ut=null}_OnMessageFromDOM(t){const s=t.type;if("event"===s)this.AUt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.LUt(t)}}AUt(t){if(!this.cUt)return void this.fUt.push(t);const s=t.component,i=t.handler,e=t.data,n=t.dispatchOpts,r=!(!n||!n.dispatchRuntimeEvent),h=!(!n||!n.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(r){const t=new mx.Event(i);t.data=e,this.IDt.Ef(t)}if(h){const t=new mx.Event(i,!0);for(const[s,i]of Object.entries(e))t[s]=i;this.x5(t)}}const a=this.hUt.get(s);if(!a)return void(r||h||console.warn(`[Runtime] No DOM event handlers for component '${s}'`));const l=a.get(i);if(!l)return void(r||h||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`));let u=null;try{u=l(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.OUt(o,!1,""+t))}null!==o&&(u&&u.then?u.then((t=>this.OUt(o,!0,t))).catch((t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.OUt(o,!1,""+t)})):this.OUt(o,!0,u))}OUt(t,s,i){this.eBt.postMessage({type:"result",responseId:t,isOk:s,result:i})}LUt(t){const s=t.responseId,i=t.isOk,e=t.result,n=this.oUt.get(s);i?n.resolve(e):n.reject(e),this.oUt.delete(s)}fW(t,s,i){let e=this.hUt.get(t);if(e||(e=new Map,this.hUt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}Bc(t,s,i,e){this.eBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}yj(t,s,i,e){const n=this.aUt++,r=new Promise(((t,s)=>{this.oUt.set(n,{resolve:t,reject:s})}));return this.eBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:n},e),r}iH(t,s,i,e=-1){this.Bc("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}eH(t,s,i){const e=this.aUt++,n=new Promise(((t,s)=>{this.oUt.set(e,{resolve:t,reject:s})}));return this.iH(t,s,i,e),n}TUt(t){if(-1!==t.asyncId){const s=t.asyncId;this.oUt.get(s).resolve(t.params),this.oUt.delete(s)}else this.AUt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}_W(t,s,i){this.fW("wrapper-extension:"+t,s,i)}NW(t){return this.zBt.NW(t)}RUt(t){if(!this.yW())throw new Error("not in debug mode");this.Bc("runtime","post-to-debugger",t)}async GAt(t){mx.Jvt(this),this.yW()?await gx.GAt(this):self.MW&&self.MW.PUt(this);const s=await this.JZ.eo("data.json");if(await this.kUt(s),await this.FUt(t),this.Kzt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.mzt()){const t=this.mzt();console.info(`[C3 runtime] Hosted in ${this.vk()?"worker":"DOM"}, rendering with WebGL ${t.yx()} [${t.uO()}]`)}else this.gzt()&&console.info(`[C3 runtime] Hosted in ${this.vk()?"worker":"DOM"}, rendering with WebGPU [${this.gzt().yzt()}]`);this.cb().PT()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.cUt=!0;for(const t of this.fUt)this.AUt(t);mx.Sh(this.fUt),this.c$t&&this.c$t.Wzt();for(const s of t.runOnStartupFunctions)this.SBt.push(this.jUt(s));if(await Promise.all([this.JZ.NZ(),...this.SBt]),mx.Sh(this.SBt),!this.JZ._Z())return this.c$t&&await this.c$t.Vzt(),await this.IDt.If(new mx.Event("beforeruntimestart")),await this.LL(),this.eBt.postMessage({type:"runtime-ready"}),this;this.c$t&&this.c$t.Uzt()}async jUt(t){try{await t(this.IUt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async kUt(t){const s=t.project;this.vBt=s[0],this.xBt=s[16],this.CBt=s[31],this.IBt=s[38],this.GBt=s[36];const i=s[39]||"loading-logo.png";this.p$t=!!s[9],this.EBt=this.ABt=s[10],this.NBt=this.LBt=s[11],this.BBt._kt(this.EBt,this.NBt),this.DBt=this.EBt/2,this._Bt=this.NBt/2,this.d$t=s[37],this.f$t=!!s[40],this.ix=s[14],this.PBt=s[15],this.kBt=s[42],this.FBt=s[17],this.RBt=!!s[18],this.OBt=s[19],this.r$t=s[21],this.g$t=s[22];const e=this.JZ;if(e.hZ(s[45]),e.FZ(s[7],s[25]),e.aZ(s[8]),e.lZ(s[32]),e.cZ(s[28]),e.OZ(s[29]),0===this.OBt){let t="";t="flat"===e.Wj()?e.fZ()+i:i,t&&(this.jBt=e.bZ({url:t}))}this.c$t&&(this.c$t.hzt(mx.Zkt.czt(s[12])),this.c$t.lzt(s[23]?"high":"low"),this.c$t.LT(0!==s[24]),this.c$t.ajt(s[34]),this.c$t.fzt(s[41]),this.c$t.ljt(s[13]),this.c$t.ujt(s[30]),this.c$t.djt(s[46],s[47]),this.c$t.fjt(s[26]),this.c$t.pjt(s[48]),this.c$t.mjt(s[50]));const n=s[43];n&&await this.zUt(n),this.BUt(),this.zBt.cNt(),this.l$t=self.$Ut();const r=s[2];for(const t of r[1])this.zBt.fNt(t);for(const t of r[0])this.zBt.uNt(t);this.l$t=self.$Ut(),this.UUt(),this.zBt.MNt();for(const t of s[3]){const s=mx.rut._C(this,this.VBt.length,t);this.VBt.push(s),this.JBt.set(s.Nc().toLowerCase(),s),this.HBt.set(s.I0(),s)}for(const t of s[4])this.VBt[t[0]].u_t(t);for(const t of s[27]){const s=t.map((t=>this.VBt[t]));this.ZBt.push(mx.Yn(mx.cAt,this,s))}this.WUt();for(const t of this.VBt)t.f_t();for(const t of s[5])this.o3._C(t);const h=s[1];if(h){const t=this.o3.A5(h);t&&this.o3.D5(t)}for(const t of s[35])this.$Bt._C(t);for(const t of s[33])this.r9._C(t);for(const t of s[44])this.UBt._C(t);this.UBt.eut()||(this.UBt.Qn(),this.UBt=null);for(const t of s[49])this.mut._C(t);this.mut.fut()||(this.mut.Qn(),this.mut=null);for(const t of s[6])this.Ldt._C(t);this.Ldt.omt(),this.YUt(),mx.Sh(this.l$t),this.$B();let o="any";const a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.Bc("runtime","set-target-orientation",{targetOrientation:o})}async zUt(t){const s=t.format;"image-sequence"===s?this.M$t=new self.QUt(this,t):"image-sequence-gif"===s?this.M$t=new self.VUt(this,t):"webm"===s?this.M$t=new self.JUt(this,t):"mp4"===s&&(this.M$t=new self.HUt(this,t)),this.d$t="unlimited-frame",this.c$t.hzt("off"),this.vR=1,self.devicePixelRatio=1,await this.yj("runtime","set-exporting-to-video",{message:this.M$t.qUt(0),duration:this.M$t.eV()})}Qzt(){return this.OBt}$jt(){return null!==this.M$t}ZUt(){return this.M$t.eV()}XUt(){return this.M$t.KUt()}tWt(){return this.M$t.GAt({width:this.c$t.Oz(),height:this.c$t.Pz()})}sWt(){const t=this.x$t/this.XUt();return this.M$t.iWt(this.c$t.nzt(),t)}eWt(){this.M$t&&this.M$t.zit()}vUt(t){this.M$t.nWt(t)}rWt(){return this.M$t.NT()}tBt(){return this.mBt}bM(){return this.yM}Tj(t){this.SBt.push(t)}_4(t){this.bBt=!!t}hWt(t){this.bBt&&this.TBt.push(t)}F4(){return this.TBt}e_t(){return this.qBt++}p_t(){return this.qBt}yPt(t){this.XBt.add(t)}MPt(t){this.XBt.delete(t)}Bjt(){return this.XBt}async FUt(t){this.c$t&&(await this.c$t.co(t),this.c$t.kzt(this.OBt))}async LL(){this.I$t=!0,this.R$t=Date.now();let t=null;const s=new Promise((s=>t=s));if(this.RBt){for(const t of this.VBt)t.M0()||t.v_t()||!t.Jz()||t.uGt();(async()=>{await this.JZ.NZ(),await s,this.yM=!1,this.oWt()})()}else this.yM=!1;this.JZ.DZ(),this.yW()&&gx.aWt(Sx);for(const t of this.o3.QF())t.t5();this.$jt()&&await this.tWt();const i=this.o3._5();await i.m4(null,this.cb()),await i.C4(!0),this.V$t=performance.now(),t(),this.RBt||this.oWt(),(await this.yj("runtime","before-start-ticking")).isSuspended&&!this.$jt()?(this.A$t++,this._$t=!0):this.d8()}oWt(){this.lW(mx.Nj.Ej.Gj.lWt,null,null),this.Bc("runtime","register-sw")}dSt(t){t=Math.floor(t);const s=this.l$t;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}UUt(){for(const t of self.uWt){const s=mx.zh(Object.keys(t));this.u$t.push(s)}}_mt(t){t=Math.floor(t);const s=this.u$t;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}cWt(){return this.oBt}fWt(){return this.hBt}vk(){return this.aBt}Bzt(){return this.nBt}dWt(){return this.rBt}jk(){return this.Ldt}Xk(){return this.Ldt.Xk()}Tmt(){return this.Ldt.Tmt()}Yk(){return this.Ldt.Yk()}bmt(){return this.Ldt.bmt()}Qvt(){return 0===this.Tmt().Xdt()}xmt(){return this.Ldt.xmt()}hPt(){return this.zBt}LZ(){return this.zBt.LZ()}JK(t){if((t=Math.floor(t))<0||t>=this.VBt.length)throw new RangeError("invalid index");return this.VBt[t]}pWt(t){return this.JBt.get(t.toLowerCase())||null}fH(t){return this.HBt.get(t)||null}rrt(t){const s=mx.$z.uB(t);return s?s.pB():null}y0(){return this.VBt}*mWt(){for(const t of this.VBt)t.M0()||(yield*t.TB())}Mf(){return this.IDt}Rk(){return this.z3}x5(t){t.runtime=this.Uz();const s=this.yW()&&!this.Ldt.zB();s&&gx.C5(),this.z3.dispatchEvent(t),s&&gx.I5()}Q4(t){return t.runtime=this.Uz(),this.z3.If(t)}Ck(){return this.EBt}Gk(){return this.NBt}gWt(t,s){if(this.EBt===t&&this.NBt===s)return;this.EBt=t,this.NBt=s;const i=this.UF();i.z5(),i.B5()}H0(){return this.ABt}q0(){return this.LBt}izt(t,s){if(this.ABt===t&&this.LBt===s)return;this.ABt=t,this.LBt=s;const i=this.UF();i.z5(),i.B5()}Ujt(t){this.$jt()||(this.vR=t)}kz(){return this.vR}Z1(){return this.DBt}X1(){return this._Bt}vj(){return this.c$t}n2(){return this.c$t?this.c$t.n2():this.ABt}h2(){return this.c$t?this.c$t.h2():this.LBt}CU(){return this.c$t?this.c$t.CU():1}LJ(){return this.c$t?this.c$t.LJ():1}Y2(){return this.c$t?this.c$t.Y2():1}U2(){return this.c$t?this.c$t.U2():1}Iz(){return this.c$t?this.c$t.Iz():0}Ez(){return this.c$t?this.c$t.Ez():0}yWt(){return this.c$t?this.c$t.Dz():0}MWt(){return this.c$t?this.c$t.Az():0}_J(){return this.c$t?this.c$t._J():"off"}w2(t){return this.c$t?this.c$t.w2(t):null}AK(t){this.c$t&&this.c$t.AK(t)}g2(){return this.PBt}_jt(){return this.kBt}Ajt(){return this.FBt}CF(){return this.c$t?this.c$t.CF():NaN}dC(){return"nearest"!==this.Ek()}GF(){return this.d$t}EF(t){this.d$t!==t&&(this.d$t=t,-1===this.JFt&&-1===this.T$t||(this.wWt(),this.SWt()))}Ek(){return this.ix}o_t(){return this.RBt}Fzt(){return this.jBt}Jzt(){this.jBt&&(this.jBt.YN(),this.jBt.Qn(),this.jBt=null)}UF(){return this.o3}zF(){return this.o3.zF()}Q9(){return this.r9}TWt(){return this.$Bt}eLt(){return this.UBt}Put(){return this.mut}lk(){return this.JZ}bZ(t){return this.JZ.bZ(t)}RB(t,s,i,e,n,r){if(r&&this.UBt){if(t instanceof mx.rut&&t.M0()){const h=t.qMt(),o=Math.floor(this.jF()*h.length);return this.RB(h[o],s,i,e,n,r)}const h=this.UBt.nut(t,r);if(h){const t=this.e0(h,s,!1,i,e,!1,n,void 0,n);return this.UBt.hut(t,r),t}}return this.e0(t,s,!1,i,e,!1,n,void 0,n)}e0(t,s,i,e,n,r,h,o,a){let l=null,u=null;if(t instanceof mx.rut){if(u=t,u.M0()){const t=u.qMt();u=t[Math.floor(this.jF()*t.length)]}l=u.qK()}else l=t,u=this.JK(l[1]);const c=u.wB().Jz();if(this.yM&&c&&!u.v_t())return null;const f=s;let d;c||(s=null),d=i&&!r&&l&&!this.h$t.has(l[2])?l[2]:this.r$t++;const p=l?l[0]:null,m=mx.Yn(mx.Instance,{runtime:this,objectType:u,FW:s,IAt:p,DAt:l?l[3]:null,uid:d,tags:l?l[6]:null});this.h$t.set(d,m);let g=null;if(c&&(g=m.aj(),void 0!==e&&void 0!==n&&(g.Yb(e),g.Jb(n)),u.Z_t(!0)),s&&(a||s.r0(m,!0),s.WF().y4(u)),this.n$t++,u.FU()&&!i&&!r){const t=new Set;for(const s of u.f4().Z4()){if(s===u)continue;const i=this.bWt(s,g,t);if(i){const t=this.e0(i,f,!1,g?g.Wb():e,g?g.Vb():n,!0,!1,void 0,a);m.X4(t)}else{const t=this.e0(s,f,!1,g?g.Wb():e,g?g.Vb():n,!0,!1,void 0,a);m.X4(t)}}for(const t of m.jU()){t.X4(m);for(const s of m.jU())t!==s&&t.X4(s)}}if(c&&!i&&h&&this.vWt(m,p,g,s,e,n,a),u.FU()&&!i&&!r&&h)for(const t of m.jU()){const i=t.aj();if(!i)continue;const e=t.wB(),n=t.GU().qK()[0];e.Jz()?this.vWt(t,n,i,s,i.Wb(),i.Vb(),a):this.vWt(t,n,i,s,void 0,void 0,a)}if(!r&&h){void 0===e&&(e=p[0]),void 0===n&&(n=p[1]);const t=g.vY(),s=e-g.Wb()+t.Wb(),i=n-g.Vb()+t.Vb();t.zW(s,i)}u.Q_t();const y=l?mx.Lh(l[5]):null,M=l?l[4].map((t=>mx.Lh(t))):null,w=c&&p&&p[13];if(w&&m.PAt(),m.T_t(y,M),w){const t=p[13];m.yQ().GGt(t[2],t[0],t[1])}this.t$t.push(m),this.i$t=!0,this.yW()&&gx.xWt(m);const S=this.dUt.instancecreate;return S.EQ=m,this.IDt.dispatchEvent(S),m}eOt(t){const s=t[0],i=t[1],e=t[2],n=t[6];return n||this.o3.L5(s).lj(i).KK(e)}bWt(t,s,i){const e=s?.iLt()??[];for(const s of e){const e=this.eOt(s),n=!!s[4],r=this.JK(e[1]);if(!i.has(e)&&t===r&&n)return i.add(e),e}}vWt(t,s,i,e,n,r,h){const o=i.CRt(),a=i.iLt();if(t.aj().IRt(o),!a)return;void 0===n&&(n=s[0]),void 0===r&&(r=s[1]);const l=new Set,u=s[0],c=s[1];for(const s of a){const i=s[0],o=s[1],a=s[2],f=s[3],d=!!s[4],p=s[5],m=s[6];let g;g=m||this.o3.L5(i).lj(o).KK(a);const y=this.JK(g[1]),M=t.rLt(y),w=l.has(y);if(M&&!w&&d){const s=t.hLt(y);s.aj().GAt(g[0]);const i=n+g[0][0]-u,e=r+g[0][1]-c;s.aj().zW(i,e),s.aj().IRt(p),t._Y(s,{PY:!!(1&f),FY:!!(f>>1&1),zY:!!(f>>2&1),$Y:!!(f>>3&1),WY:!!(f>>4&1),XY:!!(f>>5&1),QY:!!(f>>6&1),JY:!!(f>>7&1),qY:!!(f>>8&1)}),l.add(y)}else{const s=n+g[0][0]-u,i=r+g[0][1]-c,o=this.e0(g,e,!1,s,i,!1,!0,t,h);o.aj().IRt(p),t._Y(o,{PY:!!(1&f),FY:!!(f>>1&1),zY:!!(f>>2&1),$Y:!!(f>>3&1),WY:!!(f>>4&1),XY:!!(f>>5&1),QY:!!(f>>6&1),JY:!!(f>>7&1),qY:!!(f>>8&1)})}}}LU(t){if(this.o$t.has(t))return;const s=t.GU();let i=this.s$t.get(s);if(i){if(i.has(t))return;i.add(t)}else i=new Set,i.add(t),this.s$t.set(s,i);if(this.yW()&&gx.CWt(t),t.FAt(),this.i$t=!0,t.FU())for(const s of t.jU())this.LU(s);for(const s of t.children())s.KY()&&this.LU(s);if(!this.o3.BB()&&!this.K$t){const s=this.jk();s.kB(!0),t.gLt(),s.kB(!1)}t.yLt(this.o3.BB())}$B(){this.i$t&&(this.e$t=!0,this.IWt(),this.GWt(),this.e$t=!1,this.i$t=!1,this.mj())}IWt(){for(const t of this.t$t){const s=t.GU();s.r0(t);for(const i of s.Fmt())i.r0(t),i.Q_t()}mx.Sh(this.t$t)}GWt(){this.IDt.cf(!0);for(const[t,s]of this.s$t.entries())this.EWt(t,s),s.clear();this.s$t.clear(),this.IDt.cf(!1)}EWt(t,s){for(const t of s){const s=this.dUt.instancedestroy;s.EQ=t,this.IDt.dispatchEvent(s),this.h$t.delete(t.zU()),this.Y$t.delete(t);const i=t.aj();i&&(i.NRt(),i.l0(),i.FAt()),this.o$t.add(t),this.n$t--}mx.Dh(t.DB(),s),t.Q_t(),this.a$t.add(t);for(const i of t.Fmt())mx.Dh(i.DB(),s),i.Q_t(),this.a$t.add(i);if(t.wB().Jz()){const t=new Set([...s].map((t=>t.aj().lj())));for(const i of t)i.C1(s)}}J_t(){return this.t$t}*Xxt(t){for(const s of this.J_t())t.M0()?s.GU().Vvt(t)&&(yield s):s.GU()===t&&(yield s)}S_t(){return this.r$t++}b_t(t,s){this.h$t.set(t,s)}oH(t){t=!!t,this.D$t!==t&&(this.D$t=!!t,this.D$t&&this._$t&&(this.uH(!1),this._$t=!1))}aH(){return this.D$t}x4(){this.IDt.dispatchEvent(mx.Yn(mx.Event,"renderercontextlost")),this.uH(!0);for(const t of this.VBt)!t.M0()&&t.x_t()&&t.b4();const t=this.zF();t&&t.x4(),mx.TNt.hX(),mx.xZ.hX()}async pzt(){await this.zF().m4(null,this.cb()),this.IDt.dispatchEvent(mx.Yn(mx.Event,"renderercontextrestored")),this.uH(!1),this.mj()}SUt(t){if(!this.D$t)return;const s=t.hidden;this.uH(s),this._$t=s,s||this.mj()}xUt(t){this.Kzt()&&this.g$t&&!mx.Xs.oi&&(t.data.parentHasFocus||(this.uH(!0),this.y$t=!0))}CUt(){this.y$t&&(this.uH(!1),this.y$t=!1)}SWt(){const t=this.w$t;"vsync"===this.d$t?-1===this.JFt&&(this.JFt=self.requestAnimationFrame(t.S$t)):"unlimited-tick"===this.d$t?(-1===this.T$t&&(this.T$t=mx.Yh(t.b$t)),-1===this.JFt&&(this.JFt=self.requestAnimationFrame(t.v$t))):-1===this.T$t&&(this.T$t=mx.Yh(t.S$t))}wWt(){-1!==this.JFt&&(self.cancelAnimationFrame(this.JFt),this.JFt=-1),-1!==this.T$t&&(mx.Qh(this.T$t),this.T$t=-1)}hF(){return this.A$t>0}uH(t){if(this.$jt())return;const s=this.hF();this.A$t+=t?1:-1,this.A$t<0&&(this.A$t=0);const i=this.hF();if(!s&&i)console.log("[Construct] Suspending"),this.wWt(),this.IDt.dispatchEvent(mx.Yn(mx.Event,"suspend")),this.x5(mx.Yn(mx.Event,"suspend")),this.lW(mx.Nj.Ej.Gj.NWt,null,null);else if(s&&!i){console.log("[Construct] Resuming");const t=performance.now();this.P$t=t,this.V$t=t,this.Q$t=0,this.J$t=0,this.H$t=0,this.q$t=0,this.X$t=0,this.Z$t=0,this.IDt.dispatchEvent(mx.Yn(mx.Event,"resume")),this.x5(mx.Yn(mx.Event,"resume")),this.lW(mx.Nj.Ej.Gj.DWt,null,null),this.ugt()||this.d8(t)}}JJ(t){this.mUt.ju(t)}XJ(t){this.gUt.ju(t)}qJ(t){this.yUt.ju(t)}HJ(t){this.mUt.Zf(t)}KJ(t){this.gUt.Zf(t)}ZJ(t){this.yUt.Zf(t)}_Wt(t,s){const i=s?performance.now():0;let e;return t instanceof Mx?(e=t.wW(),s&&gx.AWt(t.behavior,performance.now()-i)):(e=t.d8(),s&&gx.AWt(t.xQ(),performance.now()-i)),e}LWt(){const t=this.yW();this.mUt.$d(!0);for(const s of this.mUt)this._Wt(s,t);this.mUt.$d(!1)}OWt(t,s){const i=s?performance.now():0;let e;return t instanceof Mx?(e=t.sH(),s&&gx.AWt(t.behavior,performance.now()-i)):(e=t.KEt(),s&&gx.AWt(t.xQ(),performance.now()-i)),e}RWt(){const t=this.yW();this.gUt.$d(!0);for(const s of this.gUt)this.OWt(s,t);this.gUt.$d(!1)}PWt(t,s){const i=s?performance.now():0;let e;return t instanceof Mx?(e=t.bW(),s&&gx.AWt(t.behavior,performance.now()-i)):(e=t.JGt(),s&&gx.AWt(t.xQ(),performance.now()-i)),e}kWt(){const t=this.yW();this.yUt.$d(!0);for(const s of this.yUt)this.PWt(s,t);this.yUt.$d(!1)}*FWt(){const t=this.yW();this.mUt.$d(!0);for(const s of this.mUt){const i=this._Wt(s,t);mx.bo(i)&&(yield*i)}this.mUt.$d(!1)}*jWt(){const t=this.yW();this.gUt.$d(!0);for(const s of this.gUt){const i=this.OWt(s,t);mx.bo(i)&&(yield*i)}this.gUt.$d(!1)}*zWt(){const t=this.yW();this.yUt.$d(!0);for(const s of this.yUt){const i=this.PWt(s,t);mx.bo(i)&&(yield*i)}this.yUt.$d(!1)}async d8(t,s,i){this.E$t=!0;const e="background-wake"===i,n="background-wake"!==i&&"skip-render"!==i,r=this.UF(),h=this.vj();if(!this.I$t||this.hF()&&!s&&!e)return;const o=performance.now();this.G$t=!0,this.BWt(t||0),this.H$t++,this.$Wt();const a=this.UWt();this.Vxt()&&await a;const l=this.IDt.Gf(this.dUt.pretick);l instanceof Promise&&await l,this.x5(this.pUt.pretick);const u=this.WWt();this.Vxt()&&await u,this.YWt()&&await this.QWt(),r.JF()&&await this.VWt();const c=this.JWt();this.Vxt()&&await c;const f=r.zF(),d=f.o4();let p=!1;if(-1!==d&&(f.a4(),h.h4()!==d)){const t=this.vj().N4(d);this.vk()&&(p=!0,await t)}this.Bc("canvas","update-html-layer-dom-state",{layersDomState:f.C0().filter((t=>t.z$())).map((t=>t.A1()))}),n&&this.QR(),p&&this.Bc("canvas","cleanup-html-layers"),this.$jt()&&(await this.sWt(),this.fF()>=this.ZUt())?this.rWt():(this.hF()||e||this.SWt(),this.x$t++,this.C$t++,this.G$t=!1,this.Z$t+=performance.now()-o)}async UWt(){const t=this.Ldt,s=this.yW();this.$B(),t.kB(!0),this.Xmt(this.zF()),s&&gx.HWt(),this.Vxt()?await t._gt():t.Igt(),s&&gx.qWt(),this.Kmt(),t.kB(!1),this.$B(),t.kB(!0)}async WWt(){const t=this.Ldt,s=this.yW(),i=this.Vxt(),e=this.IDt,n=this.dUt,r=this.pUt;s&&gx.HWt(),i?await this.ZWt(this.FWt()):this.LWt(),i?await this.ZWt(this.jWt()):this.RWt(),s&&gx.XWt(),s&&gx.HWt(),i?await this.KWt(n.tick):e.dispatchEvent(n.tick),s&&gx.tYt(),t.kB(!1),this.x5(r.tick)}async JWt(){const t=this.Ldt,s=this.IDt,i=this.dUt,e=this.pUt,n=this.yW(),r=this.Vxt();n&&gx.HWt(),r?await t.tgt(this.o3):t.Zmt(this.o3),n&&gx.qWt(),this.BBt.tkt(),this.$Wt(),this.N$t=!1,t.kB(!0),n&&gx.HWt(),r?await this.ZWt(this.zWt()):this.kWt(),n&&gx.XWt(),n&&gx.HWt(),r?await this.KWt(i.tick2):s.dispatchEvent(i.tick2),n&&gx.tYt(),t.kB(!1),this.x5(e.tick2),r&&await t.cgt(),this.$B(),this.$Wt()}$Wt(){if(0===this.o$t.size)return;const t=this.IDt;t.cf(!0);for(const t of this.a$t)t.Sgt().ldt(this.o$t);this.a$t.clear(),this.Ldt.Lgt(this.o$t);for(const t of this.o$t)t.Qn();this.o$t.clear(),t.cf(!1)}async VWt(){const t=this.UF();let s=0;for(;t.JF()&&s++<10;)await this.sYt(t.j5())}BWt(t){let s=0;this.$jt()?(s=1/this.XUt(),this.k$t=s,this.F$t=s):0!==this.P$t&&(s=Math.max(t-this.P$t,0)/1e3,s>.5&&(s=0),this.k$t=s,this.F$t=mx.Zn(s,this.B$t,this.z$t)),this.P$t=t,this.j$t=this.F$t*this.xAt,this.$$t.ju(this.j$t),this.U$t.ju(s*this.xAt),this.W$t.ju(this.F$t);for(const[t,s]of this.Y$t)s.ju(this.F$t*t.gF());this.c$t&&this.c$t.Gzt(),t-this.V$t>=1e3&&(this.V$t+=1e3,t-this.V$t>=1e3&&(this.V$t=t),this.J$t=this.Q$t,this.Q$t=0,this.q$t=this.H$t,this.H$t=0,this.X$t=Math.min(this.Z$t/1e3,1),this.Z$t=0,this.c$t&&this.c$t.Izt(),this.BBt.qPt(),this.yW()&&gx.iYt())}OAt(t,s){if(s){if(!this.Y$t.has(t)){const s=mx.Yn(mx.Kf);s.rd(this.$$t),this.Y$t.set(t,s)}}else this.Y$t.delete(t)}RAt(t){const s=this.Y$t.get(t);return s?s.Qs():this.fF()}async sYt(t){const s=this.IDt,i=this.UF().zF();await i.i5(),i.v4(t,this.cb()),i===t&&this.Ldt.r5(),this.BBt.tkt(),this.$Wt(),s.dispatchEvent(this.dUt.beforelayoutchange),mx.df.Df(!0),await t.m4(i,this.cb()),mx.df.Df(!1),await t.C4(!1),s.dispatchEvent(this.dUt.layoutchange),this.mj(),this.N$t=!0,this.$B(),this.eWt()}mj(){this.m$t=!0}mzt(){return this.c$t?this.c$t.mzt():null}gzt(){return this.c$t?this.c$t.gzt():null}cb(){return this.c$t?this.c$t.cb():null}QR(){const t=this.c$t;if(!t||t.dzt())return;const s=this.cb(),i=s.sO(),e=i&&s.kT(),n=i&&s.sS();if(e&&s.BL(),!this.m$t&&!this.$jt())return void s.AT();const r=this.o3.zF();this.Q$t++,s.LL();const h=this.yW();h&&gx.HWt(),this.m$t=!1;let o=null;e&&(o=t._zt().I_(),s.tO(o));let a=null;n&&(a=s.eYt(2*(1+r.t4())),s.d2(0,1)),this.h1()&&"low"===t.M2()?s.QA(t.n2(),t.h2()):s.VA(),this.nYt(this.cb(),r),o&&s.iO(o),n&&(s.rYt(),this.c$t.Azt(a)),s.NT(),h&&(gx.hYt(),gx.oYt()),t&&t.Lzt()}m5(t){return"low"===this.vj().M2()||t.kT()&&(this.g2()||this.h1())}nYt(t,s){t.lS(),t.uL(),t.iL(1,1,1,1),t.YL(null),t.hL(null),t.RL(this.h1()),this.m5(t)&&s.d5(t);const i=s.h4();for(let e=1;e<i;++e)s.w5(t,e),t.sS()&&t.aYt();this.m5(t)||s.d5(t),s.M5(t)}lW(t,s,i){if(!this.I$t)return!1;const e=!this.G$t&&!this.Ldt.mgt();let n=0;e&&(n=performance.now());const r=this.yW();r&&this.MH(!1);const h=this.Ldt.ngt(this.o3,t,s,i);if(e){const t=performance.now()-n;this.Z$t+=t,r&&gx.lYt(t)}return r&&this.MH(!0),h}PGt(t,s,i){if(!this.Vxt())return this.lW(t,s,i);if(this.ugt())throw new Error("called DebugTrigger() while stopped on breakpoint");if(!this.G$t&&!this.Ldt.mgt())throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this.Ldt.ogt(this.o3,t,s,i)}async Cj(t,s,i){if(!this.Vxt())return this.lW(t,s,i);if(!this.I$t)return!1;if(this.ugt())return this.Ldt.agt(t,s,i);if(!this.zF())return this.Ldt.rgt(t,s,i);const e=performance.now(),n=this.Ldt.ogt(this.o3,t,s,i);let r=n.next();for(;!r.done;)await this.igt(r.value),r=n.next();return this.hF()||this.Ldt.mgt()||(await this.Ldt.cgt(),this.E$t&&!this.G$t&&this.SWt()),this.Z$t+=performance.now()-e,r.value}kGt(t,s,i){const e=this.yW();e&&this.MH(!1);const n=this.Ldt.fgt(this.o3,t,s,i);return e&&this.MH(!0),n}FGt(t,s,i){return this.Ldt.dgt(this.o3,t,s,i)}jGt(t){return this.L$t.ju(t)}Xmt(t){this.KBt.push(t)}Kmt(){if(!this.KBt.length)throw new Error("layout stack empty");this.KBt.pop()}hj(){return this.KBt.length?this.KBt.at(-1):this.zF()}aF(t){return t&&-1!==t.gF()?this.F$t*t.gF():this.j$t}c8(){return this.j$t}f8(){return this.F$t}uF(){return this.k$t}gF(){return this.xAt}yF(t){(isNaN(t)||t<0)&&(t=0),this.xAt=t}_F(t){this.B$t=Math.max(t,0)}DF(){return this.B$t}OF(t){this.z$t=Math.max(t,0)}LF(){return this.z$t}wF(){return this.J$t}TF(){return this.q$t}vF(){return this.X$t}uYt(){return this.R$t}fF(){return this.$$t.Qs()}cYt(){return this.U$t.Qs()}pF(){return this.W$t.Qs()}btt(){return this.x$t}fYt(){return this.C$t}dYt(){return this.n$t}gk(){return this.vBt}Mk(){return this.xBt}pYt(){return this.CBt}mYt(){return this.IBt}Sk(){return this.GBt}ej(t){if(this.K$t)throw new Error("cannot call while loading state - wait until afterload event");return this.h$t.get(t)||null}XLt(t){if(this.K$t)throw new Error("cannot call while loading state - wait until afterload event");this.h$t.delete(t)}q4(){this.h$t.clear();for(const t of this.VBt)if(!t.M0())for(const s of t.DB())this.h$t.set(s.zU(),s)}Kzt(){return"preview"===this.uBt}yW(){return this.gBt}wz(){return this.uBt}Sz(){return"nwjs"===this.wz()||this.cBt}sBt(){return"cordova"===this.uBt}gYt(){return"Android"===mx.Xs.Ks&&("cordova"===this.uBt||"playable-ad-single-file"===this.uBt||"playable-ad-zip"===this.uBt||"instant-games"===this.uBt)}yYt(){return this.Oq}MYt(){return this.fBt}Tz(){return this.dBt}wYt(){return this.pBt}fk(){return this.BBt}wNt(){return this.zBt.wNt()}SNt(){return this.zBt.SNt()}h1(){return this.f$t}SYt(){return this.cb().Ww(this.q0())}Bw(t){return this.cb().Bw(t||this.q0())}TYt(){return this.N$t}bYt(t){t=!!t,this.p$t!==t&&(this.p$t=t,this.UF().B5(),this.mj())}Dk(){return this.p$t}vYt(t){if(!this.QBt.has(t)){const s=()=>this.xYt(t);this.QBt.set(t,s),t.Mf().addEventListener("animationframeimagechange",s)}const s=this.fM.hM(t);return s.TM()||s.vM().then((()=>this.mj())),s}xYt(t){this.fM.uM(t)}WBt(t){const s=[];for(const i of t.P_t())for(const t of i.qQ()){const i=t.iV();s.push({source:t,width:i.$g(),height:i.Xg(),tag:t.gV()})}return{wM:s}}async YBt(t){const s=mx.Yn(mx.Wd),i=[],e=new Map;for(const n of t.P_t())for(const t of n.qQ()){const n=t.iV().BNt();e.has(n)||(e.set(n,null),i.push(s.ju((async()=>{const t=await n.uX();e.set(n,t)}))))}await Promise.all(i);const n=[];for(const i of t.P_t())for(const t of i.qQ())n.push(s.ju((async()=>{const s=t.iV(),i=e.get(s.BNt()),n=await s.$Nt(i);return{CM:await createImageBitmap(n)}})));const r=await Promise.all(n);for(const t of e.values())t instanceof ImageBitmap&&t.close&&t.close();return{wM:r}}CYt(t){this.tUt=t,this.sUt=!1}IYt(){this.tUt="",this.sUt=!0}GYt(t){this.iUt=t}BCt(t){this.GW=t}EYt(){return this.eUt}YWt(){return!!(this.tUt||this.sUt||this.iUt||null!==this.GW)}async QWt(){if(this.tUt&&(this.$B(),await this.NYt(this.tUt),this.DYt()),this.iUt&&(await this._Yt(this.iUt),this.DYt(),this.yW()&&gx.AYt()),this.sUt){const t=await this.LYt();this.eUt=t,await this.Cj(mx.Nj.Ej.Gj.OYt,null),this.eUt="",this.DYt()}if(null!==this.GW){this.$B();try{await this.RYt(this.GW),this.eUt=this.GW,await this.Cj(mx.Nj.Ej.Gj.PYt,null),this.eUt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.Cj(mx.Nj.Ej.Gj.kYt,null)}this.DYt()}}DYt(){this.tUt="",this.sUt=!1,this.iUt="",this.GW=null}jz(){return this.nUt||(this.nUt=localforage.Ii({name:"c3-localstorage-"+this.pYt(),description:this.gk()})),this.nUt}FYt(){return this.rUt||(this.rUt=localforage.Ii({name:"c3-savegames-"+this.pYt(),description:this.gk()})),this.rUt}async NYt(t){const s=await this.LYt();try{await this.FYt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.eUt=s,await this.Cj(mx.Nj.Ej.Gj.OYt,null),this.eUt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.Cj(mx.Nj.Ej.Gj.jYt,null)}}async _Yt(t){try{const s=await this.FYt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.RYt(s),this.eUt=s,await this.Cj(mx.Nj.Ej.Gj.PYt,null),this.eUt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.Cj(mx.Nj.Ej.Gj.kYt,null)}}async LYt(){const t={c3save:!0,version:1,rt:{time:this.fF(),timeRaw:this.cYt(),walltime:this.pF(),timescale:this.gF(),tickcount:this.btt(),next_uid:this.r$t,running_layout:this.zF().I0(),start_time_offset:Date.now()-this.R$t},types:{},layouts:{},events:this.Ldt.s3(),timelines:this.r9.s3(),user_script_data:null};for(const s of this.VBt)s.M0()||s.nAt()||(t.types[s.I0().toString()]=s.s3());for(const s of this.o3.QF())t.layouts[s.I0().toString()]=s.s3();const s=this.zYt("save");return s.saveData=null,await this.Q4(s),t.user_script_data=s.saveData,JSON.stringify(t)}j4(){return this.K$t}async RYt(t){const s=this.UF(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(i.version>1)throw new Error("C3 save data from future version");this.$Ct(),this.IDt.dispatchEvent(mx.Yn(mx.Event,"beforeload"));for(const t of this.mWt())t.GU().nAt()||t.p6();const e=i.rt;this.$$t.Set(e.time),e.hasOwnProperty("timeRaw")&&this.U$t.Set(e.timeRaw),this.W$t.Set(e.walltime),this.xAt=e.timescale,this.x$t=e.tickcount,this.R$t=Date.now()-e.start_time_offset;const n=e.running_layout;this.K$t=!0;let r=!1;if(n!==this.zF().I0()){const t=s.L5(n);if(!t)return;await this.sYt(t),r=!0}for(const[t,e]of Object.entries(i.layouts)){const i=parseInt(t,10),n=s.L5(i);n&&n.i3(e)}const h=new Set;for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.fH(i);!e||e.M0()||e.nAt()||e.i3(s,h)}for(const t of this.o3.QF())for(const s of t.o$())s.e3();if(this.$B(),this.q4(),this.K$t=!1,r){for(const t of this.mWt())t.z4();for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.fH(i);!e||e.M0()||e.nAt()||e.lAt(s)}}this.r$t=e.next_uid,this.Ldt.i3(i.events);for(const t of this.VBt)if(!t.M0()&&t.FU())for(const s of t.DB()){const i=s.$U();s.nLt();for(const e of t.f4().Z4()){if(e===t)continue;const n=e.DB();if(i<0||i>=n.length)throw new Error("missing sibling instance");s.X4(n[i])}}this.r9.i3(i.timelines),s.z5(),s.B5();for(const t of h)t.mLt();this.UCt(),this.IDt.dispatchEvent(mx.Yn(mx.Event,"afterload")),this.x5(this.zYt("afterload"));for(const[t,s]of Object.entries(i.types)){const s=parseInt(t,10),i=this.fH(s);i&&i.aAt()}const o=this.zYt("load");o.saveData=i.user_script_data,await this.Q4(o),this.mj()}BYt(t,s){return s.aj().SRt()-t.aj().SRt()}rPt(t,s){t.aj()&&(this.NUt.has(t)||(this.NUt.set(t,s),this.DUt.push(t)))}$Ct(){this.NUt=new WeakMap,mx.Sh(this.DUt)}UCt(t="full",s=null){this.DUt.sort(this.BYt);const i=this.DUt.length;for(const i of this.DUt)i.g6(this.NUt.get(i),t,s);for(const i of this.DUt)i.SLt(this.NUt.get(i),t,s);if(this.$Ct(),i){this.$B(),this.q4();for(const t of this.o3.QF())for(const s of t.o$())s.f0(),s.pj()}}async $Yt(t){const s=await Promise.all(t.map((async t=>{if(this.sBt()&&this.JZ.dZ()||"playable-ad-single-file"===this.wz()){const s=await this.JZ.no(t);return URL.createObjectURL(s)}return new URL(t,location.href).toString()})));this.MUt.UYt(s)}WYt(t,s){this.MUt.YYt(t,s)}QYt(t,s){this.MUt.VYt(t,s)}JYt(t,s,i,e){return this.MUt.JYt(t,s,i,null,null,e)}HYt(t,s,i,e){return this.MUt.HYt(t,s,i,e)}qYt(){return this.MUt.ZYt()}sj(t,s){this.Bc("runtime","invoke-download",{url:t,filename:s})}async $zt(t,s,i,e,n,r){if(e=e||s,n=n||i,this.vk())return(await this.yj("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:n,imageBitmapOpts:r})).imageBitmap;{const h=await self.C3_RasterSvgImageBlob(t,s,i,e,n);return r?await self.createImageBitmap(h,r):h}}async XYt(t){return this.vk()?await this.yj("runtime","get-svg-image-size",{blob:t}):await self.C3_GetSvgImageSize(t)}KYt(){this.lUt||(this.lUt=!0,this.Bc("runtime","enable-device-orientation"))}tQt(){this.uUt||(this.uUt=!0,this.Bc("runtime","enable-device-motion"))}jF(){return this.O$t()}sQt(t){this.O$t=t}bUt(){const t=this.cb();return{fps:this.wF(),tps:this.TF(),cpu:this.vF(),gpu:this.CF(),layout:this.zF()?this.zF().Nc():"",renderer:t.kT()?t.uO():t.yzt()}}ugt(){return!!this.yW()&&gx.ugt()}igt(t){return this.Vxt()?gx.igt(t):Promise.resolve()}Fwt(){return!!this.Vxt()&&gx.iQt()}eQt(t){this.yBt=!!t,this.nQt()}rQt(){return this.yBt}Vxt(){return this.MBt}MH(t){t?this.wBt--:this.wBt++,this.nQt()}nQt(){this.MBt=this.yW()&&this.yBt&&0===this.wBt}iMt(){return this.yW()&&gx.iMt()}u2(){return this.yW()&&this.cb().sO()&&gx.u2()}async ZWt(t){if(t)for(const s of t)await this.igt(s)}KWt(t){return this.ZWt(this.IDt.Nf(t))}nmt(t){return this.Ldt.nmt(t.name,t.params)}wj(t){if(this.vk())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}Uz(){return this.IUt}zYt(t){const s=mx.Yn(mx.Event,t,!1);return s.runtime=this.IUt,s}BUt(){this.IUt=new self.rk(this),this.pUt={pretick:this.zYt("pretick"),tick:this.zYt("tick"),tick2:this.zYt("tick2")}}WUt(){const t={};for(const s of this.VBt)t[s._mt()]={value:s.dB(),enumerable:!0,writable:!1};this.IUt.Pk(t)}YUt(){const t={};for(const s of this.jk().jmt())t[s._mt()]=s.Amt();this.IUt.kk(t)}qF(){return this.EUt}aB(t,s){this.GUt.set(t,s)}u$(t){return this.GUt.get(t)}fz(t){if(!(t instanceof self.yB))throw new TypeError("expected IObjectClass");const s=this.u$(t);if(!(s&&s instanceof mx.rut))throw new Error("invalid IObjectClass");return s}GB(t){if(!(t instanceof self.IU))throw new TypeError("expected IInstance");const s=this.u$(t);if(!(s&&s instanceof mx.Instance))throw new Error("invalid IInstance");return s}oj(t){if(!(t instanceof self.fQ))throw new TypeError("expected IWorldInstance");const s=this.u$(t);if(!(s&&s instanceof mx.Instance))throw new Error("invalid IInstance");return s}},self.C3_CreateRuntime=mx.iBt._C,self.C3_InitRuntime=(t,s)=>t.GAt(s)}{const Tx=self.Gs;Tx.wUt=class extends Tx.Un{constructor(t,s){super(),this.Fc=t,this.hQt=new Map,this.oQt=0,this.aQt=s.inputPort,s.outputPort.onmessage=t=>this.lQt(t),this.uQt=s.maxNumWorkers,this.cQt=1,this.fQt=!1,this.dQt=!1}ZYt(){return this.uQt}UYt(t){this.aQt.postMessage({type:"_import_scripts",scripts:t})}YYt(t,s){this.aQt.postMessage({type:"_send_blob",blob:t,id:s})}VYt(t,s){this.aQt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}JYt(t,s,i,e,n,r){if(i||(i=[]),"number"==typeof r&&(r=Math.floor(r))<=0)throw new Error("invalid maxWorkerNum");const h=this.oQt++,o={type:t,isBroadcast:!1,maxWorkerNum:r,jobId:h,params:s,transferables:i},a=new Promise(((t,s)=>{this.hQt.set(h,{resolve:t,progress:e,reject:s,pQt:!1,mQt:r})}));return n&&n.Hf((()=>this.gQt(h))),this.aQt.postMessage(o,i),this.yQt(),a}HYt(t,s,i,e){if(i||(i=[]),"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const n={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:this.oQt++,params:s,transferables:i};this.aQt.postMessage(n,i)}gQt(t){const s=this.hQt.get(t);s&&(s.pQt=!0,s.resolve=null,s.progress=null,s.reject=null,this.aQt.postMessage({type:"_cancel",jobId:t}))}lQt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.MQt(e,s.result);break;case"progress":this.wQt(e,s.progress);break;case"error":this.SQt(e,s.error);break;case"ready":this.TQt();break;default:throw new Error(`unknown message from worker '${i}'`)}}MQt(t,s){const i=this.hQt.get(t);if(!i)throw new Error("invalid job ID");i.pQt||i.resolve(s),this.hQt.delete(t)}wQt(t,s){const i=this.hQt.get(t);if(!i)throw new Error("invalid job ID");!i.pQt&&i.progress&&i.progress(s)}SQt(t,s){const i=this.hQt.get(t);if(!i)throw new Error("invalid job ID");i.pQt||i.reject(s),this.hQt.delete(t)}TQt(){this.fQt&&(this.fQt=!1,this.cQt++,this.cQt<this.uQt?this.yQt():this.aQt.postMessage({type:"_no_more_workers"}))}bQt(){let t=0;const s=[...this.hQt.values()].sort(((t,s)=>(t.mQt||1/0)-(s.mQt||1/0)));for(const i of s)t<(i.mQt||1/0)&&t++;return t}async yQt(){if(!(this.cQt>=this.uQt||this.fQt||this.dQt||this.bQt()<=this.cQt))try{this.fQt=!0,(await this.Fc.yj("runtime","create-job-worker")).outputPort.onmessage=t=>this.lQt(t)}catch(t){this.dQt=!0,this.fQt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.cQt} so far)`,t)}}}}self.C3_Shaders={};{let bx=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const t=""+i,s=""+e;return t<s?-1:t>s?1:0}};ForEachOrdered_SortInstances=bx;const vx=self.Gs;let xx=null,Cx="",Ix="",Gx=[],Ex="",Nx="",Dx="";const _x=vx.Yn(vx.Npt);vx.Nj.Ej=class extends vx.BIt{constructor(t){super(t),this.xpt=this.Fc.jk().gH(),this.udt=this.Fc.jk().Xk(),this.vQt=0,this.xQt=0,this.CQt=new Map}Qn(){super.Qn()}mj(){this.Fc.mj()}lW(t){this.Fc.lW(t,null,null)}IQt(t,s){return xx&&t===Cx&&s===Ix||(xx=new RegExp(t,s),Cx=t,Ix=s),xx.lastIndex=0,xx}GQt(t,s,i){if(t===Ex&&s===Nx&&i===Dx)return Gx;const e=this.IQt(s,i);return Gx=t.match(e),Ex=t,Nx=s,Dx=i,Gx}async EQt(t,s){if(!s.length)return;this.vQt+=s.length;const i=[];for(const e of s)i.push(t.y4(e));await vx.$h(i,(()=>{this.xQt++})),this.xQt++,this.xQt===this.vQt&&(this.xQt=0,this.vQt=0,this.Fc.lW(vx.Nj.Ej.Gj.NQt,null,null))}AZ(){return 0===this.vQt?1:this.xQt/this.vQt}DQt(t,s){for(const i of s)0===i.LB()&&t.T4(i)}_Qt(){return _x}AQt(t){const s=this.Fc.jk(),i=s.Xk(),e=i.pH(),n=e.Yk(),r=n.dH(),h=e.upt(),o=i.mH(n),a=s.gH(),l=a.mH();if(l.Gpt(t),h)for(let i=0;i<t&&!l.CH();++i)s.SH(r),l.vH(i),n.TH(e,o),s.bH(r);else for(let s=0;s<t&&!l.CH();++s)l.vH(s),n.TH(e,o);return i.IH(),a.IH(),!1}*LQt(t){const s=this.Fc.jk(),i=s.Xk(),e=i.pH(),n=e.Yk(),r=n.dH(),h=e.upt(),o=i.mH(n),a=s.gH(),l=a.mH();if(l.Gpt(t),h)for(let i=0;i<t&&!l.CH();++i)s.SH(r),l.vH(i),yield*n.Hwt(e,o),s.bH(r);else for(let s=0;s<t&&!l.CH();++s)l.vH(s),yield*n.Hwt(e,o);return i.IH(),a.IH(),!1}OQt(){const t=this.Fc.jk(),s=t.Xk(),i=s.pH(),e=i.Yk(),n=e.dH(),r=i.upt(),h=s.mH(e),o=t.gH(),a=o.mH();if(r)for(let s=0;!a.CH();++s)t.SH(n),a.vH(s),e.TH(i,h)||a.wV(),t.bH(n);else for(let t=0;!a.CH();++t)a.vH(t),e.TH(i,h)||a.wV();return s.IH(),o.IH(),!1}*RQt(){const t=this.Fc.jk(),s=t.Xk(),i=s.pH(),e=i.Yk(),n=e.dH(),r=i.upt(),h=s.mH(e),o=t.gH(),a=o.mH();if(r)for(let s=0;!a.CH();++s)t.SH(n),a.vH(s),(yield*e.Hwt(i,h))||a.wV(),t.bH(n);else for(let t=0;!a.CH();++t)a.vH(t),(yield*e.Hwt(i,h))||a.wV();return s.IH(),o.IH(),!1}PQt(t,s,i){const e=this.Fc.jk(),n=e.Xk(),r=n.pH(),h=r.Yk(),o=h.dH(),a=r.upt(),l=n.mH(h),u=e.gH(),c=u.mH();if(c.yH(t),c.Gpt(i),i<s)if(a)for(let t=s;t>=i&&!c.CH();--t)e.SH(o),c.vH(t),h.TH(r,l),e.bH(o);else for(let t=s;t>=i&&!c.CH();--t)c.vH(t),h.TH(r,l);else if(a)for(let t=s;t<=i&&!c.CH();++t)e.SH(o),c.vH(t),h.TH(r,l),e.bH(o);else for(let t=s;t<=i&&!c.CH();++t)c.vH(t),h.TH(r,l);return n.IH(),u.IH(),!1}*kQt(t,s,i){const e=this.Fc.jk(),n=e.Xk(),r=n.pH(),h=r.Yk(),o=h.dH(),a=r.upt(),l=n.mH(h),u=e.gH(),c=u.mH();if(c.yH(t),c.Gpt(i),i<s)if(a)for(let t=s;t>=i&&!c.CH();--t)e.SH(o),c.vH(t),yield*h.Hwt(r,l),e.bH(o);else for(let t=s;t>=i&&!c.CH();--t)c.vH(t),yield*h.Hwt(r,l);else if(a)for(let t=s;t<=i&&!c.CH();++t)e.SH(o),c.vH(t),yield*h.Hwt(r,l),e.bH(o);else for(let t=s;t<=i&&!c.CH();++t)c.vH(t),yield*h.Hwt(r,l);return n.IH(),u.IH(),!1}FQt(t){const s=t._B(),i=s.DB();if(0===i.length)return!1;const e=this.Fc.jk(),n=e.Xk(),r=n.pH(),h=r.Yk(),o=h.dH(),a=r.upt(),l=n.mH(h),u=e.gH(),c=u.mH(),f=t.FU(),d=_x.mH();if(vx.Ch(d,i),c.Gpt(d.length),a)for(let s=0,i=d.length;s<i&&!c.CH();++s){e.SH(o);const i=d[s];t._B().xdt(i),f&&i.aMt(),c.vH(s),h.TH(r,l),e.bH(o)}else{s.Tdt(!1);const t=s.bdt();vx.Sh(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.CH();++s){const i=d[s];t[0]=i,f&&i.aMt(),c.vH(s),h.TH(r,l)}}return n.IH(),u.IH(),vx.Sh(d),_x.IH(),!1}*jQt(t){const s=t._B(),i=s.DB();if(0===i.length)return!1;const e=this.Fc.jk(),n=e.Xk(),r=n.pH(),h=r.Yk(),o=h.dH(),a=r.upt(),l=n.mH(h),u=e.gH(),c=u.mH(),f=t.FU(),d=_x.mH();if(vx.Ch(d,i),c.Gpt(d.length),a)for(let s=0,i=d.length;s<i&&!c.CH();++s){e.SH(o);const i=d[s];t._B().xdt(i),f&&i.aMt(),c.vH(s),yield*h.Hwt(r,l),e.bH(o)}else{s.Tdt(!1);const t=s.bdt();vx.Sh(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.CH();++s){const i=d[s];t[0]=i,f&&i.aMt(),c.vH(s),yield*h.Hwt(r,l)}}return n.IH(),u.IH(),vx.Sh(d),_x.IH(),!1}zQt(t,s){const i=t._B(),e=i.DB();if(0===e.length)return!1;const n=this.Fc.jk(),r=n.Xk(),h=n.bmt(),o=r.pH(),a=o.Yk(),l=a.dH(),u=o.upt(),c=r.mH(a),f=n.gH(),d=f.mH(),p=t.FU(),m=_x.mH();vx.Sh(m),d.Gpt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h.uvt(1,t)]);if(m.sort(bx),1===s&&m.reverse(),u)for(let s=0,i=m.length;s<i&&!d.CH();++s){n.SH(l);const i=m[s][0];t._B().xdt(i),p&&i.aMt(),d.vH(s),a.TH(o,c),n.bH(l)}else{i.Tdt(!1);const t=i.bdt();vx.Sh(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.CH();++s){const i=m[s][0];t[0]=i,p&&i.aMt(),d.vH(s),a.TH(o,c)}}return r.IH(),f.IH(),vx.Sh(m),_x.IH(),!1}*BQt(t,s){const i=t._B(),e=i.DB();if(0===e.length)return!1;const n=this.Fc.jk(),r=n.Xk(),h=n.bmt(),o=r.pH(),a=o.Yk(),l=a.dH(),u=o.upt(),c=r.mH(a),f=n.gH(),d=f.mH(),p=t.FU(),m=_x.mH();vx.Sh(m),d.Gpt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h.uvt(1,t)]);if(m.sort(bx),1===s&&m.reverse(),u)for(let s=0,i=m.length;s<i&&!d.CH();++s){n.SH(l);const i=m[s][0];t._B().xdt(i),p&&i.aMt(),d.vH(s),yield*a.Hwt(o,c),n.bH(l)}else{i.Tdt(!1);const t=i.bdt();vx.Sh(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.CH();++s){const i=m[s][0];t[0]=i,p&&i.aMt(),d.vH(s),yield*a.Hwt(o,c)}}return r.IH(),f.IH(),vx.Sh(m),_x.IH(),!1}$Qt(t,s){let i=this.CQt.get(t);return i||(s?(i={UQt:null,WQt:new Map},this.CQt.set(t,i),i):null)}YQt(t,s,i,e,n){s.Uk().cSt(i,s.Jk()),e&&t.bH(n)}*QQt(t,s,i,e,n){yield*s.Uk().fSt(i,s.Jk()),e&&t.bH(n)}}}{const Ax=self.Gs;Ax.Nj.Ej.n_t=class extends Ax.Un{constructor(t){super(),this.idt=t,this.Fc=t.Pj(),this.IGt=t.wB()}uGt(){}Qn(){this.idt=null,this.Fc=null,this.IGt=null}}}{const Lx=self.Gs;Lx.Nj.Ej.Instance=class extends Lx.Un{constructor(t,s){super(),this.di=t,this.idt=this.di.GU(),this.AGt=this.idt.Bvt(),this.Fc=this.di.Pj()}Qn(){this.di=null,this.idt=null,this.AGt=null,this.Fc=null}}}{const Ox=self.Gs,Rx=[];Ox.Nj.Ej.Gj={VQt:()=>!0,J4:()=>!0,e5:()=>!0,NWt:()=>!0,DWt:()=>!0,hF(){return this.Fc.hF()},QMt(){const t=this.Fc.Tmt();return!t.rpt()&&!t.ept()},JQt(){const t=this.Fc.bmt().Zbt();let s=t.get("TriggerOnce_lastTick");void 0===s&&(s=-1,t.set("TriggerOnce_lastTick",-1));const i=this.Fc.btt();return t.set("TriggerOnce_lastTick",i),this.Fc.TYt()||s!==i-1},HQt(t){const s=this.Fc.bmt().Zbt(),i=s.get("Every_lastTime")||0,e=this.Fc.fF();s.has("Every_seconds")||s.set("Every_seconds",t);const n=s.get("Every_seconds");return e>=i+n?(s.set("Every_lastTime",i+n),e>=s.get("Every_lastTime")+.04&&s.set("Every_lastTime",e),s.set("Every_seconds",t),!0):(e<i-.1&&s.set("Every_lastTime",e),!1)},ayt(t){const s=this.Fc.jk().Umt(t);return s&&s.ayt()},Kzt(){return this.Fc.Kzt()},oi:()=>Ox.Xs.oi,lWt:()=>!0,Ij:()=>!0,qQt:()=>!0,OYt:()=>!0,jYt:()=>!0,PYt:()=>!0,kYt:()=>!0,ZQt(t){return!!this.Fc.ej(t)},XQt(t){switch(t){case 0:return"browser"===Ox.Xs.ri;case 1:return"iOS"===Ox.Xs.Ks;case 2:return"Android"===Ox.Xs.Ks;case 8:return"cordova"===Ox.Xs.ri;case 9:return"scirra-arcade"===this.Fc.wz();case 10:return"nwjs"===Ox.Xs.ri;case 13:return"windows-uwp"===this.Fc.wz();default:return!1}},KQt(t,s,i){return this.IQt(s,i).test(t)},tVt:(t,s,i)=>Ox.compare(t,s,i),sVt:(t,s,i)=>t>=s&&t<=i,iVt:(t,s,i)=>Ox.compare(t.Aet(),s,i),eVt:t=>!!t.Aet(),nVt(t,s){const i=this.Fc.fF();if(0===t){const t=this.Fc.bmt().Zbt();return!t.get("CompareTime_executed")&&i>=s&&(t.set("CompareTime_executed",!0),!0)}return Ox.compare(i,t,s)},rVt:t=>isNaN(t),lIt:(t,s,i)=>Ox.hr(Ox.Kn(t),Ox.Kn(i))<=Ox.Kn(s),uIt:(t,s)=>Ox.lr(Ox.Kn(t),Ox.Kn(s)),wxt(t,s,i){let e=Ox.Kn(t),n=Ox.Kn(s),r=Ox.Kn(i);return Ox.lr(r,n)?Ox.lr(e,n)&&!Ox.lr(e,r):!(!Ox.lr(e,n)&&Ox.lr(e,r))},hVt:(t,s)=>"number"==typeof t?0===s:1===s,oVt:t=>!!t,zgt(t){return t.toLowerCase()===this.Fc.jk().Wgt()},aVt(t,s,i,e){if(!t)return!1;const n=this._Qt(),r=n.mH(),h=t._B();Ox.Ch(r,h.DB()),h.pdt()&&Ox.Sh(h.vdt());const o=this.Fc.bmt();let a=0;for(let t=0,n=r.length;t<n;++t){const n=r[t];r[a]=n,s=o.uvt(1,t),e=o.uvt(3,t),Ox.compare(s,i,e)?++a:h.Sdt(n)}Ox.wh(r,a),h.Cdt(r);const l=!!r.length;return Ox.Sh(r),n.IH(),t.nSt(),l},lVt(t,s){if(!t)return!1;const i=this._Qt(),e=i.mH(),n=t._B();Ox.Ch(e,n.DB()),n.pdt()&&Ox.Sh(n.vdt());const r=this.Fc.bmt();let h=0;for(let t=0,s=e.length;t<s;++t){const s=e[t];e[h]=s,r.uvt(1,t)?++h:n.Sdt(s)}Ox.wh(e,h),n.Cdt(e);const o=!!e.length;return Ox.Sh(e),i.IH(),t.nSt(),o},uVt(t,s,i){if(!t)return!1;const e=t._B(),n=e.DB();if(0===n.length)return!1;const r=this.Fc.bmt();let h=null,o=0;for(let t=0,e=n.length;t<e;++t){const e=n[t];i=r.uvt(2,t),(null===h||0===s&&i<o||1===s&&i>o)&&(o=i,h=e)}return e.Ddt(h),t.nSt(),!0},cVt(t,s){if(!t)return!1;const i=t._B(),e=i.DB();if((s=Math.floor(s))>=e.length)return!1;const n=e[s];return i.Ddt(n),t.nSt(),!0},fVt(t){if(!t)return!1;const s=t._B(),i=s.DB(),e=Math.floor(this.Fc.jF()*i.length);if(e>=i.length)return!1;const n=i[e];return s.Ddt(n),t.nSt(),!0},dVt:t=>!!t&&(!!t.LB()&&(t._B().Tdt(!0),t.nSt(),!0)),pVt(t,s,i){if(!t)return!1;const e=t._B(),n=e.DB(),r=this.Fc.Yk()._dt(),h=this.Fc.bmt().Qbt();e.pdt()?(Ox.Ch(Rx,n),e.ddt(),e.Tdt(!1)):r?(Ox.Ch(Rx,e.vdt()),Ox.Sh(e.vdt())):(Ox.Ch(Rx,e.bdt()),Ox.Sh(e.bdt()));for(let t=0,n=Rx.length;t<n;++t){const n=Rx[t];Ox.xor(n.aj().SY(s,i),h)?e.wdt(n):e.Sdt(n)}return t.nSt(),Ox.xor(!!e.bdt().length,h)},mVt(t){if(!t)return!1;const s=t.M0();let i=null;const e=this.Fc.J_t();for(let n=e.length-1;n>=0;--n){const r=e[n];if(s){if(r.GU().Vvt(t)){i=r;break}}else if(r.GU()===t){i=r;break}}if(!i){const s=t.DB();s.length&&(i=s.at(-1))}return!!i&&(t._B().Ddt(i),t.nSt(),!0)},gVt(t){return this.Fc.Vxt()?this.LQt(t):this.AQt(t)},yVt(){return this.Fc.Vxt()?this.RQt():this.OQt()},MVt(t,s,i){return this.Fc.Vxt()?this.kQt(t,s,i):this.PQt(t,s,i)},Ud(t){return this.Fc.Vxt()?this.jQt(t):this.FQt(t)},wVt(t,s,i){return this.Fc.Vxt()?this.BQt(t,i):this.zQt(t,i)},SVt:t=>!!t&&t.R$(),TVt:t=>!!t&&t.U$(),bVt:t=>!!t&&t.z$(),vVt:t=>!!t&&!t.LB(),xVt:(t,s,i)=>!!t&&Ox.compare(100*t.sL(),s,i),CVt(t){const s=this.Fc.zF();return!!s&&s.s4(t)},NQt:()=>!0,IVt(){return this.vQt>0},GVt(t,s){const i=this.Fc.eLt();return!!i&&!!s&&!!i.nut(t,s)}}}{let Px=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]},kx=function(t,s){return t[1]-s[1]};SortZOrderList=Px,SortInstancesByValue=kx;const Fx=self.Gs,jx=[],zx=[],Bx=Fx.Yn(Fx.Rect),$x=Fx.Yn(Fx.xo),Ux=[];Fx.Nj.Ej.hrt={EVt(t,s){t.pnt(s)},NVt(t,s){t.Ki()&&"number"!=typeof s&&(s=parseFloat(s)),t.pnt(t.Aet()+s)},DVt(t,s){t.Ki()&&t.pnt(t.Aet()-s)},_Vt(t,s){t.pnt(!!s)},AVt(t){t.pnt(!t.Aet())},LVt(t){t.pnt(t.Smt())},OVt(t){this.Fc.jk().Bmt(t)},RVt(t,s,i,e,n,r){if(!t||!s)return;const h=this.Fc.RB(t,s,i,e,n,r);if(!h)return;n&&s.PB(h);const o=this.Fc.jk();o.kB(!0),h.jB(),o.kB(!1);const a=new Map;h.JAt(a,t,n);for(const[t,s]of a)t._B().Idt(s)},PVt(t,s,i,e,n,r){if(!t||!s)return;const h=this.Fc.pWt(t);h&&Fx.Nj.Ej.hrt.RVt.call(this,h,s,i,e,n,r)},g0(t,s,i,e,n,r,h,o,a,l,u){if(!t)return;const c=this.Fc.hj();let f=c;if(r){const t=this.Fc.UF().A5(r);if(!t)return;f=t}let d=null;if(("number"!=typeof h||h>=0)&&(d=f.lj(h),!d))return;let p=null;if(("number"!=typeof o||o>=0)&&(p=c.lj(o),!p))return;Bx.set(s,i,e,n);const m=f.g0(t,Bx,d,p,a,l,u);t._B().Cdt(m),t.nSt()},kVt(){const t=this.xpt;t.Spt()&&t.Mpt().wV()},lyt(t,s){const i=this.Fc.jk().Umt(t);i&&(0===s?i.lyt(!1):1===s?i.lyt(!0):i.lyt(!i.ayt()))},FVt(t){this.Fc.yF(t)},jVt(t,s){if(s<0&&(s=0),!t)return;const i=t._B().DB();for(const t of i)t.yF(s)},zVt(t){if(!t)return;const s=t._B().DB();for(const t of s)t.VU()},ph(t,s){if(t<0)return;const i=this.Fc.jk().vgt();return s?i.AIt(t):i.LIt(t),!0},eF(t){return this.Fc.jk().vgt().OIt(t),!0},BVt(){const t=this.Fc.jk();return t.vgt().RIt(t.jgt()),!0},sF(t){this.Fc.jk().sF(t)},async xj(t,s,i,e,n,r){const h=this.Fc.vj();h&&(this.mj(),await h.xj(0===t?"image/png":"image/jpeg",s/100,i,e,n,r),await this.Fc.Cj(Fx.Nj.Ej.Gj.Ij,null))},$Vt(t,s){if(t<=0||s<=0)return;this.Fc.izt(t,s),this.Fc.hj().V2();const i=this.Fc.vj();i&&("off"===i.Hjt()||this.Fc.gWt(t,s),i.vD(i.MJ(),i.wJ(),!0),this.Fc.mj())},UVt(t){const s=this.Fc.vj();s&&"off"!==s.Hjt()&&(s.lzt(0!==t?"high":"low"),s.vD(s.MJ(),s.wJ(),!0))},Vit(t){this.Fc.CYt(t)},WVt(){this.Fc.IYt()},YVt(t){this.Fc.GYt(t)},QVt(t){this.Fc.BCt(t)},VVt(t){},JVt(){for(const t of this.Fc.UF().QF())t.f5()},HVt(t){this.Fc.bYt(0!==t)},qVt(t,s){this.Fc.OF(1/t),this.Fc._F(1/s)},ZVt(t,s){this.Fc._F(t),this.Fc.OF(s)},XVt(t){this.Fc.EF(["vsync","unlimited-tick","unlimited-frame"][t])},KVt(t,s){if(!t)return;const i=t._B().DB(),e=jx,n=zx,r=this.Fc.hj(),h=t.M0(),o=t.GTt();for(let t=0,r=i.length;t<r;++t){const r=i[t],a=r.aj();if(!a)continue;let l;l=h?r.Krt(s+r.GU().ITt(o)):r.Krt(s),e.push([a.lj().ek(),a.uj()]),n.push([r,l])}if(!e.length)return;e.sort(Px),n.sort(kx);let a=!1;for(let t=0,s=e.length;t<s;++t){const s=n[t][0],i=r.cj(e[t][0]),h=e[t][1],o=i.fj();o[h]!==s&&(o[h]=s,s.aj().dj(i,!0),i.pj(s),a=!0)}a&&this.Fc.mj(),Fx.Sh(jx),Fx.Sh(zx)},az(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.Fc.fk().az(t,s)},tJt(t){if(this.Fc.bM())return;const s=this.Fc.UF();s.JF()||s.HF(t)},sJt(t){if(this.Fc.bM())return;const s=this.Fc.UF();if(s.JF())return;const i=s.A5(t);i&&s.HF(i)},iJt(t){if(this.Fc.bM())return;const s=this.Fc.UF();if(s.JF())return;const i=s.QF(),e=i.indexOf(s.zF());if(t&&0===e)return;if(!t&&e===i.length-1)return;const n=i[e+(t?-1:1)];s.HF(n)},eJt(){if(this.Fc.bM())return;const t=this.Fc.UF();t.JF()||(t.HF(t.zF()),this.Fc.jk().Vmt())},nJt(t,s){t&&t.L$(s)},rJt(t,s){t&&t.F$(s)},hJt(t,s){t&&t.B$(s)},oJt(t,s){t&&t.eL(s/100)},aJt(t,s){t&&t.W$(s)},lJt(t,s){t&&t.V$(s)},uJt(t,s){t&&t.qB(Fx.Kn(+s))},cJt(t,s,i){t&&(t.dU(!0),t.XB(s),t.t$(i))},fJt(t){t&&t.dU(!1)},dJt(t,s,i){t&&t.Z0(s/100,i/100)},pJt(t,s){t&&t.qb(+s)},mJt(t,s){t&&t.eU(1===s)},gJt(t,s){if(!t)return;$x.Ko(s),$x.Zn();const i=t.fU();i.Yo($x)||(i.ko($x),this.mj())},yJt(t,s){t&&t.hU(s)},MJt(t,s){t&&t.Lb(s)},wJt(t,s,i){if(!t)return;const e=t.WB().znt(i);if(!e)return;const n=1===s;e.Kyt()!==n&&(e.CPt(n),t.RQ(),this.Fc.mj())},SJt(t,s,i,e){if(!t)return;const n=t.WB(),r=n.znt(s);if(!r)return;i=Math.floor(i);const h=r.DI().AI(i);h&&("color"===h?($x.Ko(e),e=$x):"percent"===h&&(e/=100),n.kQ(r.ek(),i,e)&&r.Kyt()&&this.Fc.mj())},TJt(t,s){t&&t.lU(s)},bJt(t){this.Fc.hj().JB(+t)},vJt(t){this.Fc.hj().qB(Fx.Kn(+t))},xJt(t,s){const i=this.Fc.hj(),e=i.WB().znt(s);if(!e)return;const n=1===t;e.Kyt()!==n&&(e.CPt(n),i.RQ(),this.Fc.mj())},CJt(t,s,i){const e=this.Fc.hj().WB(),n=e.znt(t);if(!n)return;s=Math.floor(s);const r=n.DI().AI(s);r&&("color"===r?($x.Ko(i),i=$x):"percent"===r&&(i/=100),e.kQ(n.ek(),s,i)&&n.Kyt()&&this.Fc.mj())},IJt(t,s){this.Fc.hj().w$(t/100,s/100)},GJt(t){const s=this.Fc.hj();0===t?s.b$():s.v$()},EJt(t){this.Fc.hj().XB(t)},NJt(t){this.Fc.hj().t$(t)},DJt(t,s){const i=this.Fc.hj();i.XB(t),i.t$(s)},_Jt(t){if(!t)return;const s=t.Rxt();if(!s)return;const i=s.aj();if(!i)return;const e=this.Fc.hj();e.XB(i.Wb()),e.t$(i.Vb())},c$(t,s,i){const e=this.Fc.hj();try{e.c$(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},d$(t,s,i){if(!t)return;const e=this.Fc.hj();try{e.d$(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}},m$(t){t&&this.Fc.hj().m$(t)},y$(){this.Fc.hj().y$()},async AJt(t){const s=this.Fc.zF();if(!s||!t||this.Fc.bM())return;const i=t.M0()?t.qMt():[t];await this.EQt(s,i)},async LJt(t){await Fx.Nj.Ej.hrt.AJt.call(this,this.Fc.pWt(t))},OJt(t){const s=this.Fc.zF();if(!s||!t)return;const i=t.M0()?t.qMt():[t];this.DQt(s,i)},RJt(t){Fx.Nj.Ej.hrt.OJt.call(this,this.Fc.pWt(t))},PJt(){const t=this.Fc.zF();if(!t)return;const s=t.d4();this.DQt(t,s)},async kJt(t){const s=this.Fc.zF();t&&s&&!this.Fc.bM()&&await this.EQt(s,t.u4())},async FJt(t){const s=this.Fc.zF(),i=this.Fc.UF().A5(t);i&&s&&!this.Fc.bM()&&await this.EQt(s,i.u4())},tF(t){const s=this.udt.Zk();if(s)switch(s.Kk()){case 1:"number"==typeof t&&s.tF(t);break;case 2:"string"==typeof t&&s.tF(t);break;case 3:s.tF(t)}},jJt(t,s,i){const e=this.$Qt(t.toLowerCase(),!0),n=e.WQt,r=s.toLowerCase();n.has(r)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`);const h=Fx.zh(n.values())||e.UQt;h&&0!==h.Hk()!=(0!==i.Hk())?console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`):n.set(r,i)},zJt(t,s){const i=this.$Qt(t.toLowerCase(),!0);i.UQt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`);const e=Fx.zh(i.WQt.values())||i.UQt;e&&0!==e.Hk()!=(0!==s.Hk())?console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`):i.UQt=s},BJt(t,s,i){const e=this.Fc,n=e.Vxt()?Ux:null;i=Math.floor(i);const r=this.$Qt(t.toLowerCase(),!1);if(!r)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),n;let h=r.WQt.get(s.toLowerCase());if(!h){if(!r.UQt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),n;h=r.UQt,i=0}if(!h.Iu())return n;if(0!==h.Hk())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),n;const o=e.jk(),a=o.Yk(),l=a.Wk(),u=l.length>0;u&&(h.Jk()?o.SH(l):o.Tgt(l));const c=[],f=o.myt(a);if(f){const t=f.yyt();for(let s=i,e=t.length;s<e;++s)c.push(t[s].Aet())}const d=h.yyt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].Smt());return e.Vxt()?this.QQt(o,h,c,u,l):this.YQt(o,h,c,u,l)}}}{const Wx=self.Gs;Wx.Nj.Ej.ort={$Jt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t)&&(t=0)),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t)&&(t=0)),t},D:t=>t.toString(),kt:t=>"string"==typeof t?t.length:0,random(t,s){return void 0===s?this.Fc.jF()*t:this.Fc.jF()*(s-t)+t},cTt(...t){return t[Math.floor(this.Fc.jF()*t.length)]},UJt:(t,...s)=>("number"!=typeof t&&(t=0),s[t=Wx.Zn(Math.floor(t),0,s.length-1)]),WJt:()=>Math.PI,YJt:()=>1/0,sqrt:t=>Math.sqrt(t),abs:t=>Math.abs(t),round:t=>Math.round(t),QJt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor:t=>Math.floor(t),ceil:t=>Math.ceil(t),sign:t=>Math.sign(t),sin:t=>Math.sin(Wx.Kn(t)),cos:t=>Math.cos(Wx.Kn(t)),tan:t=>Math.tan(Wx.Kn(t)),asin:t=>Wx.tr(Math.asin(t)),acos:t=>Wx.tr(Math.acos(t)),atan:t=>Wx.tr(Math.atan(t)),exp:t=>Math.exp(t),Ut:t=>Math.log(t),log10:t=>Math.log10(t),max(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s<e&&(s=e)}return s},min(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s>e&&(s=e)}return s},Zn:(t,s,i)=>Wx.Zn(t,s,i),Tt:(t,s,i,e)=>Wx.er(t,s,i,e),angle:(t,s,i,e)=>Wx.tr(Wx.rr(t,s,i,e)),Gt:(t,s,i)=>Wx.Gt(t,s,i),mr:(t,s,i)=>Wx.mr(t,s,i),yr:(t,s,i,e)=>Wx.yr(t,s,i,e),Mr:(t,s,i,e,n)=>Wx.Mr(t,s,i,e,n),wr:(t,s,i)=>Wx.wr(t,s,i),VJt:(t,s)=>Wx.tr(Wx.hr(Wx.Kn(t),Wx.Kn(s))),JJt:(t,s,i)=>Wx.tr(Wx.ur(Wx.Kn(t),Wx.Kn(s),i)),HJt:(t,s,i)=>Wx.tr(Wx.ar(Wx.Kn(t),Wx.Kn(s),Wx.Kn(i))),qJt:(t,s,i)=>(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s,ZJt:(t,s)=>(t|=0)^1<<s,XJt:(t,s)=>(t|=0)&1<<(s|=0)?1:0,KJt:()=>"\n",tHt:t=>"string"==typeof t?t.toUpperCase():"",sHt:t=>"string"==typeof t?t.toLowerCase():"",left:(t,s)=>"string"==typeof t?t.substr(0,s):"",mid:(t,s,i)=>"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i),right:(t,s)=>"string"==typeof t?t.substr(Math.max(t.length-s,0)):"",trim:t=>"string"==typeof t?t.trim():"",iHt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},eHt:(t,s)=>"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0,find:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(Wx.Zi(s),"i")):-1,nHt:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(Wx.Zi(s),"")):-1,replace:(t,s,i)=>"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(Wx.Zi(s),"gi"),i):"string"==typeof t?t:"",rHt(t,...s){let i=t;for(let t=0,e=s.length;t<e;++t)i=i.replaceAll(`{${t}}`,s[t].toString());return i},hHt(t,s,i){const e=this.IQt(s,i);return t?t.search(e):-1},oHt(t,s,i,e){const n=this.IQt(s,i);return t?t.replace(n,e):""},aHt(t,s,i){const e=this.GQt(t.toString(),s,i);return e?e.length:0},lHt(t,s,i,e){e=Math.floor(e);const n=this.GQt(t.toString(),s,i);return!n||e<0||e>=n.length?"":n[e]},uHt(t,s){let i=t<0?"-":"";t<0&&(t=-t);const e=s-t.toString().length;return i+="0".repeat(Math.max(e,0)),i+t.toString()},cHt:t=>encodeURIComponent(t),fHt:t=>decodeURIComponent(t),oF(){return this.Fc.c8()},dHt(){return this.Fc.f8()},pHt(){return this.Fc.gF()},mHt(){return(Date.now()-this.Fc.uYt())/1e3},gHt:()=>Date.now(),time(){return this.Fc.fF()},yHt(){return this.Fc.btt()},MHt(){return this.Fc.dYt()},MF(){return this.Fc.wF()},wHt(){return this.Fc.vF()},SHt(){return this.Fc.CF()},THt(){return this.Fc.vj().Oz()},bHt(){return this.Fc.vj().Pz()},vHt(){return this.Fc.Ck()},xHt(){return this.Fc.Gk()},CHt(){return this.Fc.Ck()},IHt(){return this.Fc.Gk()},GHt(){return this.Fc.hj().KB()},EHt(){return this.Fc.hj().s$()},NHt(){return this.Fc.hj().Nc()},DHt(){return this.Fc.hj().HB()},_Ht(){return Wx.tr(this.Fc.hj().ZB())},AHt(){return this.Fc.hj().$g()},LHt(){return this.Fc.hj().Xg()},OHt(){return 100*this.Fc.hj().W0()},RHt(){return 100*this.Fc.hj().Y0()},PHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().Xa():0},kHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().Ka():0},FHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().tl():0},jHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().sl():0},zHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().width():0},BHt(t){const s=this.Fc.hj().lj(t);return s?s.U0().height():0},$Ht(t){const s=this.Fc.hj().lj(t);if(s){const t=s.U0();return(t.Xa()+t.tl())/2}return 0},UHt(t){const s=this.Fc.hj().lj(t);if(s){const t=s.U0();return(t.Ka()+t.sl())/2}return 0},WHt(t,s,i){const e=this.Fc.hj().lj(t);return e?e.yU(s,i)[0]:0},YHt(t,s,i){const e=this.Fc.hj().lj(t);return e?e.yU(s,i)[1]:0},QHt(t,s,i){const e=this.Fc.hj().lj(t);return e?e.wU(s,i)[0]:0},VHt(t,s,i){const e=this.Fc.hj().lj(t);return e?e.wU(s,i)[1]:0},JHt(t,s,i,e){const n=this.Fc.hj(),r=n.lj(t),h=n.lj(s);if(!r||!h||r===h)return i;const[o,a]=r.wU(i,e);return h.yU(o,a)[0]},HHt(t,s,i,e){const n=this.Fc.hj(),r=n.lj(t),h=n.lj(s);if(!r||!h||r===h)return e;const[o,a]=r.wU(i,e);return h.yU(o,a)[1]},qHt(t){const s=this.Fc.hj().lj(t);return s?s.Y$():0},ZHt(t){const s=this.Fc.hj().lj(t);return s?Wx.tr(s.H$()):0},XHt(t){const s=this.Fc.hj().lj(t);return s?100*s.sL():0},KHt(t){const s=this.Fc.hj().lj(t);return s?s.J$():0},tqt(t){const s=this.Fc.hj().lj(t);return s?s.KB():0},sqt(t){const s=this.Fc.hj().lj(t);return s?s.s$():0},iqt(t){const s=this.Fc.hj().lj(t);return s?100*s.X$():0},eqt(t){const s=this.Fc.hj().lj(t);return s?100*s.sU():0},nqt(t){const s=this.Fc.hj().lj(t);return s?s.Hb():0},rqt(t){const s=this.Fc.hj().lj(t);return s?s.ek():-1},hqt(){const t=this.Fc.vj();return t?t.Ozt():""},oqt(t){const s=this.xpt;if(!s.Spt())return 0;if(t){const i=s.bpt(t);return i?i.ek():0}return s.Mpt().ek()},aqt(){return this.Fc.EYt()},lqt(t,s,...i){const e=this.$Qt(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let n=e.WQt.get(s.toLowerCase());if(!n){if(!e.UQt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;n=e.UQt}const r=n.Hk(),h=n.Bk();if(0===r)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!n.Iu())return h;const o=this.Fc.jk(),a=o.Yk().Wk(),l=a.length>0;l&&(n.Jk()?o.SH(a):o.Tgt(a));const u=n.yyt();for(let t=i.length,s=u.length;t<s;++t)i.push(u[t].Smt());const c=n.Uk(),f=c.Vk(c.Wk(),n.Jk(),r,h,...i);return l&&o.bH(a),f},uqt(){return this.Fc.lk().PF()},cqt(){return this.AZ()},_G(){return this.Fc.gzt()?"webgpu":"webgl"},fqt(){return this.Fc.gzt()?this.Fc.gzt().yzt():this.Fc.mzt().uO()},dqt(){let t=this.Fc.cb().zT();return Math.round(100*t/1048576)/100},pqt:(t,s,i)=>Wx.Gr(t,s,i),mqt:(t,s,i)=>Wx.Nr(t/100,s/100,i/100),gqt:(t,s,i,e)=>Wx.Er(t/100,s/100,i/100,e/100),yqt:(t,s,i)=>Wx.Nr(t/255,s/255,i/255),Mqt:(t,s,i,e)=>Wx.Er(t/255,s/255,i/255,e/255),wqt(){return this.Fc.gk()},Sqt(){return this.Fc.Mk()},Tqt(){return this.Fc.Yk().K3().Nc()},bqt(){return this.Fc.Yk().pwt()}}}{const Yx=self.Gs;Yx.Nj.SpeechSynthesis=class extends Yx.BIt{constructor(t){super(t)}Qn(){super.Qn()}}}{const Qx=self.Gs;Qx.Nj.SpeechSynthesis.n_t=class extends Qx.CGt{constructor(t){super(t)}Qn(){super.Qn()}uGt(){}}}{const Vx=self.Gs,Jx="speech-synthesis";Vx.Nj.SpeechSynthesis.Instance=class extends Vx.DGt{constructor(t,s){super(t,Jx),this.vqt=!1,this.xqt=0,this.Cqt=[],this.zGt("speech-ended",(()=>this.Iqt())),this.zGt("speech-error",(()=>this.Gqt())),this.Fc.Tj(this.UGt("get-voices").then((t=>{this.vqt=t.isSupported,this.Cqt=t.voices})))}Qn(){super.Qn()}Eqt(t){return(t=Math.floor(t))<0||t>=this.Cqt.length?null:this.Cqt[t]}async Iqt(){this.xqt--,await this.Cj(Vx.Nj.SpeechSynthesis.Gj.Nqt)}async Gqt(){await this.Cj(Vx.Nj.SpeechSynthesis.Gj.Dqt)}KGt(){return[{title:"plugins.speechsynthesis.debugger.voices",properties:this.Cqt.map(((t,s)=>({name:"$"+s,value:t.name+" ("+t.lang+")"})))}]}}}self.Gs.Nj.SpeechSynthesis.Gj={_qt(){return this.vqt},Aqt(){return this.xqt>0},Nqt:()=>!0,Dqt:()=>!0};{let Hx=function(t){const s=Math.pow(10,t/20);return qx.Zn(s,0,1)};DbToLinear=Hx;const qx=self.Gs;qx.Nj.SpeechSynthesis.hrt={Lqt(t,s,i,e,n,r){this.vqt&&(this.xqt++,this.WGt("speak-text",{text:t,lang:s,voiceURI:i,volume:Hx(e),rate:n,pitch:r}))},Oqt(){this.vqt&&(this.xqt=0,this.$Gt("stop-speaking"))},Rqt(){this.vqt&&this.$Gt("pause-speaking")},Pqt(){this.vqt&&this.$Gt("resume-speaking")}}}self.Gs.Nj.SpeechSynthesis.ort={kqt(){return this.Cqt.length},Fqt(t){const s=this.Eqt(t);return s?s.name:""},jqt(t){const s=this.Eqt(t);return s?s.lang:""},zqt(t){const s=this.Eqt(t);return s?s.voiceURI:""}};{const Zx=self.Gs;Zx.Nj.Date=class extends Zx.BIt{constructor(t){super(t)}Qn(){super.Qn()}}}{const Xx=self.Gs;Xx.Nj.Date.n_t=class extends Xx.CGt{constructor(t){super(t)}Qn(){super.Qn()}uGt(){}}}{const Kx=self.Gs;Kx.Nj.Date.Instance=class extends Kx.DGt{constructor(t,s){super(t)}}}{const tC=self.Gs,sC=[];sC[0]=[t=>tC.Nj.Date.ort.Bqt(t),t=>tC.Nj.Date.ort.$qt(t),t=>tC.Nj.Date.ort.Uqt(t),t=>tC.Nj.Date.ort.Wqt(t),t=>tC.Nj.Date.ort.Yqt(t),t=>tC.Nj.Date.ort.Qqt(t),t=>tC.Nj.Date.ort.Vqt(t),t=>tC.Nj.Date.ort.Jqt(t)],sC[1]=[t=>tC.Nj.Date.ort.Hqt(t),t=>tC.Nj.Date.ort.qqt(t),t=>tC.Nj.Date.ort.Zqt(t),t=>tC.Nj.Date.ort.Xqt(t),t=>tC.Nj.Date.ort.Kqt(t),t=>tC.Nj.Date.ort.tZt(t),t=>tC.Nj.Date.ort.sZt(t),t=>tC.Nj.Date.ort.iZt(t)];const iC=t=>tC.Nj.Date.ort.eZt(t);tC.Nj.Date.Gj={nZt:(t,s,i)=>tC.compare(t,s,i),rZt:(t,s,i)=>tC.compare(iC(t),s,iC(i)),hZt:(t,s,i,e)=>tC.compare(sC[1][e](t),s,sC[1][e](i)),oZt:(t,s,i,e,n)=>tC.compare(sC[n][e](iC(t)),s,sC[n][e](iC(i)))}}self.Gs.Nj.Date.hrt={};{const eC=self.Gs,nC=self.Intl,rC=new Map;rC.set("local",new Map([["year",t=>new Date(t).getFullYear()],["month",t=>new Date(t).getMonth()],["date",t=>new Date(t).getDate()],["day",t=>new Date(t).getDay()],["hours",t=>new Date(t).getHours()],["minutes",t=>new Date(t).getMinutes()],["seconds",t=>new Date(t).getSeconds()],["milliseconds",t=>new Date(t).getMilliseconds()]])),rC.set("universal",new Map([["year",t=>new Date(t).getUTCFullYear()],["month",t=>new Date(t).getUTCMonth()],["date",t=>new Date(t).getUTCDate()],["day",t=>new Date(t).getUTCDay()],["hours",t=>new Date(t).getUTCHours()],["minutes",t=>new Date(t).getUTCMinutes()],["seconds",t=>new Date(t).getUTCSeconds()],["milliseconds",t=>new Date(t).getUTCMilliseconds()]]));const hC=new Map;hC.set("local",new Map([["year",(t,s)=>new Date(t).setFullYear(s)],["month",(t,s)=>new Date(t).setMonth(s)],["date",(t,s)=>new Date(t).setDate(s)],["hours",(t,s)=>new Date(t).setHours(s)],["minutes",(t,s)=>new Date(t).setMinutes(s)],["seconds",(t,s)=>new Date(t).setSeconds(s)],["milliseconds",(t,s)=>new Date(t).setMilliseconds(s)]])),hC.set("universal",new Map([["year",(t,s)=>new Date(t).setUTCFullYear(s)],["month",(t,s)=>new Date(t).setUTCMonth(s)],["date",(t,s)=>new Date(t).setUTCDate(s)],["hours",(t,s)=>new Date(t).setUTCHours(s)],["minutes",(t,s)=>new Date(t).setUTCMinutes(s)],["seconds",(t,s)=>new Date(t).setUTCSeconds(s)],["milliseconds",(t,s)=>new Date(t).setUTCMilliseconds(s)]]));const oC=function(t,s,i,e){i.includes(t)&&(e[s]=t)},aC=function(t,s){t&&("12"===t?s.hour12=!0:"24"===t&&(s.hour12=!1))},lC=function(t){try{return nC.getCanonicalLocales(t)}catch(t){return self.navigator.language}},uC=["full","long","medium","short"],cC=["full","long","medium","short"],fC=["long","short","narrow"],dC=["numeric","2-digit"],pC=["numeric","2-digit","long","short","narrow"],mC=["numeric","2-digit"],gC=["numeric","2-digit"],yC=["numeric","2-digit"],MC=["numeric","2-digit"];eC.Nj.Date.ort={aZt:t=>new Date(t).toString(),lZt:t=>new Date(t).toDateString(),uZt:t=>new Date(t).toTimeString(),cZt:t=>new Date(t).toLocaleString(),fZt:t=>new Date(t).toLocaleDateString(),dZt:t=>new Date(t).toLocaleTimeString(),pZt:t=>new Date(t).toUTCString(),eZt:t=>Date.parse(t),Qs:(t,s,i,e,n,r,h)=>Date.UTC(t,s,i,e,n,r,h),mZt:()=>Date.now(),gZt(){return this.Pj().Sk()},yZt:()=>new Date(Date.now()).getTimezoneOffset(),Bqt:t=>rC.get("local").get("year")(t),Hqt:t=>rC.get("universal").get("year")(t),$qt:t=>rC.get("local").get("month")(t),qqt:t=>rC.get("universal").get("month")(t),Uqt:t=>rC.get("local").get("date")(t),Zqt:t=>rC.get("universal").get("date")(t),Wqt:t=>rC.get("local").get("day")(t),Xqt:t=>rC.get("universal").get("day")(t),Yqt:t=>rC.get("local").get("hours")(t),Kqt:t=>rC.get("universal").get("hours")(t),Qqt:t=>rC.get("local").get("minutes")(t),tZt:t=>rC.get("universal").get("minutes")(t),Vqt:t=>rC.get("local").get("seconds")(t),sZt:t=>rC.get("universal").get("seconds")(t),Jqt:t=>rC.get("local").get("milliseconds")(t),iZt:t=>rC.get("universal").get("milliseconds")(t),MZt:(t,s)=>hC.get("local").get("year")(t,s),wZt:(t,s)=>hC.get("universal").get("year")(t,s),SZt:(t,s)=>hC.get("local").get("month")(t,s),TZt:(t,s)=>hC.get("universal").get("month")(t,s),bZt:(t,s)=>hC.get("local").get("date")(t,s),vZt:(t,s)=>hC.get("universal").get("date")(t,s),xZt(t,s){const i=eC.Nj.Date.ort.Bqt(t),e=eC.Nj.Date.ort.$qt(t),n=eC.Nj.Date.ort.Uqt(t),r=eC.Nj.Date.ort.Yqt(t),h=eC.Nj.Date.ort.Qqt(t),o=eC.Nj.Date.ort.Vqt(t),a=eC.Nj.Date.ort.Jqt(t),l=eC.Nj.Date.ort.Wqt(t);return new Date(i,e,n+(s-l),r,h,o,a).getTime()},CZt(t,s){const i=eC.Nj.Date.ort.Hqt(t),e=eC.Nj.Date.ort.qqt(t),n=eC.Nj.Date.ort.Zqt(t),r=eC.Nj.Date.ort.Kqt(t),h=eC.Nj.Date.ort.tZt(t),o=eC.Nj.Date.ort.sZt(t),a=eC.Nj.Date.ort.iZt(t),l=s-eC.Nj.Date.ort.Xqt(t);return eC.Nj.Date.ort.Qs(i,e,n+l,r,h,o,a)},IZt:(t,s)=>hC.get("local").get("hours")(t,s),GZt:(t,s)=>hC.get("universal").get("hours")(t,s),EZt:(t,s)=>hC.get("local").get("minutes")(t,s),NZt:(t,s)=>hC.get("universal").get("minutes")(t,s),DZt:(t,s)=>hC.get("local").get("seconds")(t,s),_Zt:(t,s)=>hC.get("universal").get("seconds")(t,s),AZt:(t,s)=>hC.get("local").get("milliseconds")(t,s),LZt:(t,s)=>hC.get("universal").get("milliseconds")(t,s),OZt:(t,s)=>s-t,RZt:t=>Math.trunc(eC.Nj.Date.ort.PZt(t)),kZt:t=>Math.trunc(eC.Nj.Date.ort.FZt(t))%60,jZt:t=>Math.trunc(eC.Nj.Date.ort.zZt(t))%60,BZt:t=>t%1e3,PZt:t=>t/36e5,FZt:t=>t/6e4,zZt:t=>t/1e3,$Zt(t,s,i,e,n){const r=lC(t);if(!r)return;let h={};return oC.call(this,i,"dateStyle",uC,h),oC.call(this,e,"timeStyle",cC,h),aC.call(this,n,h),new nC.DateTimeFormat(r,h).format(s)},UZt(t,s,i,e,n,r,h,o,a,l){const u=lC(t);if(!u)return;const c={};return oC.call(this,i,"weekday",fC,c),oC.call(this,e,"year",dC,c),oC.call(this,n,"month",pC,c),oC.call(this,r,"day",mC,c),oC.call(this,h,"hour",gC,c),oC.call(this,o,"minute",yC,c),oC.call(this,a,"second",MC,c),aC.call(this,l,c),new nC.DateTimeFormat(u,c).format(s)}}}{const wC=self.Gs;wC.Nj.Text=class extends wC.BIt{constructor(t){super(t)}Qn(){super.Qn()}}}{const SC=self.Gs;SC.Nj.Text.n_t=class extends SC.CGt{constructor(t){super(t)}Qn(){super.Qn()}uGt(){}g4(t){}b4(){}}}{const TC=self.Gs,bC=self.Fs,vC=[0,0,0],xC=0,CC=1,IC=2,GC=3,EC=4,NC=5,DC=6,_C=7,AC=8,LC=9,OC=10,RC=11,PC=12,kC=13,FC=15,jC=["left","center","right"],zC=["top","center","bottom"],BC=["ltr","rtl"],$C=["word","cjk","character"],UC=new TC.Rect,WC=new TC.El,YC=new TC.xo,QC=TC.Yn(TC.Ea),VC=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);TC.Nj.Text.Instance=class extends TC.nEt{constructor(t,s){if(super(t),this.jc="",this.WZt=!0,this.YZt="Arial",this.QZt=12,this.VZt=0,this.aN=!1,this.lN=!1,this.Db=TC.Yn(TC.xo),this.mN=0,this.gN=0,this.wN="word",this.SN=0,this.JZt="auto",this.HZt=1,this.qZt=null,this.ZZt="",this.XZt=!1,this.KZt=!1,this.tXt=null,this.sXt=-1,this.iXt=-1,this.eXt=0,this.nXt=TC.Yn(TC.RM.UT,this.Fc.cb(),{timeout:5}),this.nXt.VN=()=>this.Fc.mj(),this.rXt=()=>this.hXt(),this.oXt=!1,s){this.jc=s[xC],this.WZt=!!s[CC],this.YZt=s[IC],this.QZt=s[GC],this.VZt=s[EC],this.aN=!!s[NC],this.lN=!!s[DC],this.mN=s[AC],this.gN=s[LC],this.wN=$C[s[OC]],this.SN=s[RC],this.aXt(this.Fc.fH(s[PC]));const t=s[_C];this.Db.Do(t[0],t[1],t[2]),this.aj().L$(s[kC]),this.KZt=!!s[FC]}this.lXt(),this.uXt()}Qn(){this.aXt(null),this.cXt(),this.tXt&&(this.tXt.Qn(),this.tXt=null),this.nXt.Qn(),this.nXt=null,super.Qn()}lXt(){const t=this.nXt;t.$c(this.jc),t.ZN(this.WZt),this.nXt.sN()&&this.qZt?this.nXt.zg(this.Pj().vYt(this.qZt)):this.nXt.zg(null),t.XN("nearest"!==this.Fc.Ek()),t.KN(this.YZt),t.eD(this.VZt),t.rD(this.aN),t.oD(this.lN),t.Ob(this.Db),t.pD(jC[this.mN]),t.gD(zC[this.gN]),t.MD(this.wN),t.SD(BC[this.SN])}fXt(){const t=this.aj();this.nXt.tD(this.QZt),this.nXt.iD(t.ZOt());const s=t.lj();let i;"auto"===this.JZt?i=s.Y1(t.XW()):"fixed"===this.JZt&&(i=this.HZt),t.oQ()&&i!==this.nXt.xD()&&t.KRt(!0),this.nXt.vD(t.$g(),t.Xg(),i)}aXt(t){t&&(t.M0()||t.wB().constructor!==TC.Nj.Unt)||t!==this.qZt&&(this.qZt&&this.qZt.Mf().removeEventListener("animationframeimagechange",this.rXt),this.qZt=t,this.qZt&&this.qZt.Mf().addEventListener("animationframeimagechange",this.rXt),this.lXt(),this.XZt=!1,this.Fc.mj())}hXt(){this.Fc.xYt(this.qZt),this.Fc.mj(),this.oXt=!0}uXt(){if(this.KZt){let t=this.jc;this.WZt&&(t=TC.pn.Og(t)),this.tXt?this.tXt.$c(t):this.tXt=TC.Yn(TC.kc,this.Fc,t)}else this.tXt&&(this.tXt.Qn(),this.tXt=null)}Lv(t){const s=this.aj();this.fXt(),this.oXt&&(this.oXt=!1,this.nXt.sN()&&this.qZt&&this.nXt.zg(this.Pj().vYt(this.qZt)));const i=this.nXt.cC();if(!i)return;const e=s.lj();if(0===s.ZB()&&0===e.ZB()&&0===s.XW()&&!s.oQ()&&e.n1()){const n=s.eY(),[r,h]=e.vU(n.jr(),n.zr()),[o,a]=e.vU(n.Ur(),n.Wr()),l=r-Math.round(r),u=h-Math.round(h);UC.set(r,h,o,a),UC.offset(-l,-u),WC.Hl(UC);const[c,f]=t.SL(t.jL());this.Fc.vj().fq(t,c,f),t.hL(i),t.tT(WC,this.nXt.t_()),e.mq(t)}else t.hL(i),s.oQ()?this.dXt(s,t):this.pXt(s,t)}pXt(t,s){let i=t.eY();this.Fc.Dk()&&(i=this.mXt(i)),s.tT(i,this.nXt.t_())}dXt(t,s){const i=t.XRt();if(t.tPt()){t.tY(UC,WC,!1);let s=WC;this.Fc.Dk()&&(s=this.mXt(s)),i.Av(t.aQ(),s,this.nXt.t_()),t.KRt(!1)}i.Lv(s)}mXt(t){const s=t.jr()-Math.round(t.jr()),i=t.zr()-Math.round(t.zr());return 0===s&&0===i?t:(WC.M(t),WC.offset(-s,-i),WC)}dEt(){const t=this.nXt.cC();return t?[t.$g(),t.Xg()]:[100,100]}pEt(){return this.nXt.t_()}yEt(){return!1}nv(){const t={t:this.jc,c:this.Db.toJSON(),fn:this.YZt,ps:this.QZt};return this.WZt&&(t.bbc=this.WZt),0!==this.mN&&(t.ha=this.mN),0!==this.gN&&(t.va=this.gN),"word"!==this.wN&&(t.wr=this.wN),0!==this.VZt&&(t.lho=this.VZt),this.aN&&(t.b=this.aN),this.lN&&(t.i=this.lN),-1!==this.iXt&&(t.tw={st:this.sXt,en:this.iXt,l:this.eXt}),this.qZt&&(t.ioc=this.qZt.I0()),"fixed"===this.JZt&&(t.fs=this.HZt),t}rv(t){if(this.cXt(),this.jc=t.t,this.Db.Ma(t.c),this.YZt=t.fn,this.QZt=t.ps,this.WZt=!!t.hasOwnProperty("bbc")&&t.bbc,this.mN=t.hasOwnProperty("ha")?t.ha:0,this.gN=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.wN="boolean"==typeof s?s?"word":"character":s}else this.wN="word";if(this.VZt=t.hasOwnProperty("lho")?t.lho:0,this.aN=!!t.hasOwnProperty("b")&&t.b,this.lN=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const s=t.tw;this.sXt=s.st,this.iXt=s.en,this.eXt=s.l}if(t.hasOwnProperty("ioc")){const s=this.Pj().fH(t.ioc);s&&this.aXt(s)}else this.aXt(null);t.hasOwnProperty("fs")?(this.JZt="fixed",this.HZt=t.fs):this.JZt="auto",this.lXt(),this.uXt(),this.XZt=!1,-1!==this.iXt&&this.HGt()}Wrt(t){switch(t){case xC:return this.bD();case CC:return this.WZt;case IC:return this.gXt();case GC:return this.yXt();case EC:return this.MXt();case NC:return this.wXt();case DC:return this.SXt();case _C:return vC[0]=this.Db.Fo(),vC[1]=this.Db.jo(),vC[2]=this.Db.zo(),vC;case AC:return this.TXt();case LC:return this.bXt();case OC:return this.vXt();case FC:return this.xXt()}}qrt(t,s){switch(t){case xC:this.CXt(s);break;case CC:if(this.WZt===!!s)return;this.WZt=!!s,this.lXt();break;case IC:this.IXt(s);break;case GC:this.GXt(s);break;case EC:this.EXt(s);break;case NC:this.NXt(s);break;case DC:this.DXt(s);break;case _C:const t=this.Db,i=s;if(t.Fo()===i[0]&&t.jo()===i[1]&&t.zo()===i[2])return;this.Db.Do(i[0],i[1],i[2]),this.lXt();break;case AC:this._Xt(s);break;case LC:this.AXt(s);break;case OC:this.LXt(s)}}tEt(t,s,i,e){0===s&&0===i&&0===e||t!==_C||(this.Db._o(s,i,e),this.lXt())}CXt(t){this.jc!==t&&(this.jc=t,this.nXt.$c(t),this.uXt(),this.XZt=!1,this.Fc.mj())}bD(){return this.jc}OXt(t,s){this.fXt(),this.CXt(t),this.sXt=this.Fc.pF(),this.iXt=this.sXt+s/this.UV().YU(),this.eXt=this.nXt.ED(),this.nXt.lD(0),this.HGt()}cXt(){this.sXt=-1,this.iXt=-1,this.eXt=0,this.nXt.lD(-1),this.LGt()}RXt(){-1!==this.iXt&&(this.cXt(),this.lW(TC.Nj.Text.Gj.PXt),this.Fc.mj())}IXt(t){this.YZt!==t&&(this.YZt=t,this.nXt.KN(t),this.Fc.mj())}gXt(){return this.YZt}NXt(t){t=!!t,this.aN!==t&&(this.aN=t,this.nXt.rD(t),this.Fc.mj())}wXt(){return this.aN}DXt(t){t=!!t,this.lN!==t&&(this.lN=t,this.nXt.oD(t),this.Fc.mj())}SXt(){return this.lN}GXt(t){this.QZt!==t&&(this.QZt=t,this.Fc.mj())}yXt(){return this.QZt}kXt(t){this.Db.Yo(t)||(this.Db.ko(t),this.nXt.Ob(this.Db),this.Fc.mj())}FXt(){return this.Db}EXt(t){this.VZt!==t&&(this.VZt=t,this.lXt(),this.Fc.mj())}MXt(){return this.VZt}_Xt(t){this.mN!==t&&(this.mN=t,this.lXt(),this.Fc.mj())}TXt(){return this.mN}AXt(t){this.gN!==t&&(this.gN=t,this.lXt(),this.Fc.mj())}bXt(){return this.gN}jXt(t){this.LXt($C[t])}LXt(t){this.wN!==t&&(this.wN=t,this.lXt(),this.Fc.mj())}vXt(){return this.wN}zXt(t){this.SN!==t&&(this.SN=t,this.lXt(),this.Fc.mj())}BXt(){return this.SN}$Xt(t){this.KZt=!!t,this.uXt()}xXt(){return this.KZt}UXt(t){this.JZt!==t&&(this.JZt=t,this.Fc.mj())}WXt(){return this.JZt}YXt(t){this.HZt!==t&&(this.HZt=t,"fixed"===this.JZt&&this.Fc.mj())}QXt(){return this.HZt}VXt(){return this.fXt(),this.nXt.CD()}JXt(){return this.fXt(),this.nXt.GD()}HXt(t,s){this.fXt();const i=this.aj();QC.set(t-i.Wb(),s-i.Vb()),QC.rotate(-i.ZB()),QC.offset(i.$g()*i.WW(),i.Xg()*i.VW()),QC.wt(i.$g(),i.Xg()),QC.scale(this.nXt.$g(),this.nXt.Xg());const e=this.nXt.DD(QC.La(),QC.Ra());if(e){const t=e.Wy("tag");if(t)return t.Eg}return""}qXt(t,s,i){const e=this.HXt(s,i);return e&&TC.Xe(t,e)}ZXt(t,s){this.fXt(),s=Math.floor(s);const i=this.nXt.AD(t,s);if(!i)return null;const e=this.aj(),n=this.nXt.fD(),r=i.jy(),h=i.By()-(i.Xg()-i.ty())*n,o=i.$g()*n/this.nXt.$g()*e.$g(),a=i.Xg()*n/this.nXt.Xg()*e.Xg();return QC.set(r,h),QC.wt(this.nXt.$g(),this.nXt.Xg()),QC.scale(e.$g(),e.Xg()),QC.offset(-e.$g()*e.WW(),-e.Xg()*e.VW()),QC.rotate(e.ZB()),QC.offset(e.Wb(),e.Vb()),{x:QC.La(),y:QC.Ra(),width:o,height:a}}XXt(t){return this.fXt(),this.nXt.LD(t)}KXt(t){let s=VC.get(t);return null===s?"":(s||(s="span"),`</${s||"span"}>`)}tKt(t,s){let i=VC.get(t);if(null===i)return"";switch(i||(i="span"),t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async sKt(){if(this.XZt)return this.ZZt;const t=new TC.pn(this.jc,{dg:!0}).Ig(),s=new Map;let i='<span class="c3-text"';const e=[];e.push(`font-family: '${this.gXt()}';`),this.wXt()&&e.push("font-weight: bold;"),this.SXt()&&e.push("font-style: italic;"),"character"===this.vXt()&&e.push("word-break: break-all;"),i+=` style="${e.join(" ")}">`;const n=this.qZt?this.Pj().vYt(this.qZt):null;if(this.qZt){const i=TC.Yn(TC.Wd),e=[],r=new Map;for(const s of t)if(s.qg()){const t=s.qy(n);if(t){const s=t._M().iV().BNt();if(r.has(s))continue;r.set(s,null),e.push(i.ju((async()=>{const t=await s.uX();r.set(s,t)})))}}await Promise.all(e);const h=[];for(const e of t)if(e.qg()){const t=e.qy(n);if(t){const e=t._M(),n=e.iV().BNt();h.push(i.ju((async()=>{const i=await e.iV().UNt(r.get(n));s.set(t,i)})))}}await Promise.all(h);for(const t of r.values())t instanceof ImageBitmap&&t.close&&t.close()}const r=new Map;for(const e of t){const t=e.Qy();let h=[...r.keys()];h.reverse();for(const s of h)t.has(s)&&t.get(s)===r.get(s)||(r.delete(s),i+=this.KXt(s));for(const[s,e]of t)r.has(s)||(r.set(s,e),i+=this.tKt(s,e));if(e.Jg()&&(i+=TC.Nm(TC.Gm(e.yy().join("")),"\n","<br>")),e.qg()&&n){const r=e.qy(n);if(r){const n=s.get(r);if(n){const s=[];let h="0.2em";const o=t.get("iconoffsety");if(o){let t=o.trim();h=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}s.push(`top: ${h}`),"nearest"===this.Fc.Ek()&&s.push("image-rendering: pixelated"),i+=`<img class="c3-text-icon" data-icon="${e.Hy()}" width="${r.$g()}" height="${r.Xg()}" style="${s.join(";")}" src="${n}">`}}}}const h=[...r.keys()];h.reverse();for(const t of h)i+=this.KXt(t);return i+="</span>",this.ZZt=i,this.XZt=!0,this.ZZt}d8(){const t=this.Fc.pF();if(t>=this.iXt)this.cXt(),this.lW(TC.Nj.Text.Gj.PXt),this.Fc.mj();else{let s=TC.gr(this.sXt,this.iXt,t,0,this.eXt);s=Math.floor(s),s!==this.nXt.uD()&&(this.nXt.lD(s),this.Fc.mj())}}KGt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.bD(),iKt:t=>this.CXt(t)},{name:t+".properties.font.name",value:this.gXt(),iKt:t=>this.IXt(t)},{name:t+".properties.size.name",value:this.yXt(),iKt:t=>this.GXt(t)},{name:t+".properties.line-height.name",value:this.MXt(),iKt:t=>this.EXt(t)},{name:t+".properties.bold.name",value:this.wXt(),iKt:t=>this.NXt(t)},{name:t+".properties.italic.name",value:this.SXt(),iKt:t=>this.DXt(t)}]}]}cGt(){return self.eKt}};const JC=new WeakMap,HC=new Map([["left",0],["center",1],["right",2]]),qC=new Map([["top",0],["center",1],["bottom",2]]),ZC=["ltr","rtl"];self.eKt=class extends self.fQ{constructor(){super(),JC.set(this,self.IU.DU().yQ())}get text(){return JC.get(this).bD()}set text(t){bC.ue(t);const s=JC.get(this);s.cXt(),s.CXt(t)}nKt(t,s){bC.ue(t),bC.he(s);const i=JC.get(this);i.cXt(),i.OXt(t,s)}rKt(){JC.get(this).RXt()}set yq(t){bC.ue(t),JC.get(this).IXt(t)}get yq(){return JC.get(this).gXt()}set wq(t){JC.get(this).NXt(t)}get wq(){return JC.get(this).wXt()}set Sq(t){JC.get(this).DXt(t)}get Sq(){return JC.get(this).SXt()}set Mq(t){bC.he(t),JC.get(this).GXt(t)}get Mq(){return JC.get(this).yXt()}set hKt(t){if(bC.Ce(t),t.length<3)throw new Error("expected 3 elements");YC.Do(t[0],t[1],t[2]),JC.get(this).kXt(YC)}get hKt(){const t=JC.get(this).FXt();return[t.Fo(),t.jo(),t.zo()]}set lineHeight(t){bC.he(t),JC.get(this).EXt(t)}get lineHeight(){return JC.get(this).MXt()}set vq(t){bC.ue(t);const s=HC.get(t);if(void 0===s)throw new Error("invalid mode");JC.get(this)._Xt(s)}get vq(){return jC[JC.get(this).TXt()]}set verticalAlign(t){bC.ue(t);const s=qC.get(t);if(void 0===s)throw new Error("invalid mode");JC.get(this).AXt(s)}get verticalAlign(){return zC[JC.get(this).bXt()]}set xq(t){if(!$C.includes(t))throw new Error("invalid mode");JC.get(this).LXt(t)}get xq(){return JC.get(this).vXt()}set Cq(t){bC.ue(t);const s=ZC.indexOf(t);if(-1===s)throw new Error("invalid text direction");JC.get(this).zXt(s)}get Cq(){return ZC[JC.get(this).BXt()]}set oKt(t){JC.get(this).$Xt(!!t)}get oKt(){return JC.get(this).xXt()}aKt(t){bC.he(t);const s=JC.get(this);s.UXt("fixed"),s.YXt(t)}lKt(){JC.get(this).UXt("auto")}get Eq(){return JC.get(this).VXt()}get Nq(){return JC.get(this).JXt()}uKt(){const t=JC.get(this);return[t.VXt(),t.JXt()]}cKt(t,s,i){return bC.ue(t),bC.he(s),bC.he(i),JC.get(this).qXt(t,s,i)}fKt(t,s){return bC.he(t),bC.he(s),JC.get(this).HXt(t,s)}dKt(t,s=0){return bC.ue(t),bC.he(s),JC.get(this).ZXt(t,s)}pKt(t){return bC.ue(t),JC.get(this).XXt(t)}mKt(t){const s=JC.get(this),i=s.Pj().fz(t);s.aXt(i)}gKt(){return JC.get(this).sKt()}}}{const XC=self.Gs;XC.Nj.Text.Gj={yKt(t,s){return s?this.jc===t:XC.Xe(this.jc,t)},MKt(){return-1!==this.iXt},PXt:()=>!0,wKt(t,s,i){return this.qXt(t,s,i)}}}{const KC=self.Gs,tI=KC.Yn(KC.xo);KC.Nj.Text.hrt={$c(t){this.cXt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.CXt(t.toString())},SKt(t){this.cXt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),(t=t.toString())&&this.CXt(this.jc+t)},TKt(t,s){this.cXt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.OXt(t.toString(),s)},bKt(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.YZt&&i===this.aN&&e===this.lN||(this.IXt(t),this.NXt(i),this.DXt(e))},tD(t){this.GXt(t)},vKt(t){tI.Ko(t),tI.Zn(),this.kXt(tI)},xKt(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},CKt(t){this.aj().Lb(t),this.Fc.mj()},IKt(){this.RXt()},eD(t){this.EXt(t)},GKt(t){this._Xt(t)},EKt(t){this.AXt(t)},NKt(t){this.jXt(t)},SD(t){this.zXt(t)},DKt(t){this.aXt(t)},_Kt(){return this.sKt()},AKt(t){this.$Xt(t)},LKt(t,s){this.UXt(["auto","fixed"][t]),this.YXt(s)}}}{const sI=self.Gs;sI.Nj.Text.ort={Text(){return this.jc},OKt(){return this.WZt?sI.pn.Og(this.jc):this.jc},RKt(){return this.YZt},PKt(){return this.QZt},kKt(){return this.VXt()},FKt(){return this.JXt()},jKt(){return this.VZt},zKt(t,s){return this.HXt(t,s)},BKt(t){return this.XXt(t)},$Kt(t,s){const i=this.ZXt(t,s);return i?i.x:0},UKt(t,s){const i=this.ZXt(t,s);return i?i.y:0},WKt(t,s){const i=this.ZXt(t,s);return i?i.width:0},YKt(t,s){const i=this.ZXt(t,s);return i?i.height:0},QKt(){return this.ZZt}}}{const iI=self.Gs;iI.Nj.si=class extends iI.BIt{constructor(t){super(t)}Qn(){super.Qn()}}}{const eI=self.Gs;eI.Nj.si.n_t=class extends eI.CGt{constructor(t){super(t)}Qn(){super.Qn()}uGt(){}}}{const nI=self.Gs,rI="browser";nI.Nj.si.Instance=class extends nI.DGt{constructor(t,s){super(t,rI),this.VKt="",this.JKt=!1,this.HKt="",this.qKt="",this.ZKt=!1,this.XKt=0,this.KKt=0,this.t0t=0,this.s0t=0,this.i0t=!1,this.e0t=!1,this.n0t=new Map,this.r0t=!1,this.h0t="",this.o0t=!1,this.BGt([["online-state",t=>this.a0t(t)],["backbutton",()=>this.l0t()],["sw-message",t=>this.u0t(t)],["hashchange",t=>this.c0t(t)],["install-available",()=>this.f0t()],["app-installed",t=>this.d0t(t)]]);const i=this.Pj().Mf();this.qf=new nI.Vf(nI.Bf.Qf(i,"afterfirstlayoutstart",(()=>this.p0t())),nI.Bf.Qf(i,"window-resize",(()=>this.yjt())),nI.Bf.Qf(i,"window-focus",(()=>this.CUt())),nI.Bf.Qf(i,"window-blur",(()=>this.xUt())),nI.Bf.Qf(i,"suspend",(()=>this.m0t())),nI.Bf.Qf(i,"resume",(()=>this.g0t()))),this.Fc.Tj(this.UGt("get-initial-state",{exportType:this.Fc.wz()}).then((t=>{this.VKt=t.location,this.JKt=t.isOnline,this.HKt=t.referrer,this.qKt=t.title,this.ZKt=t.isCookieEnabled,this.XKt=t.screenWidth,this.KKt=t.screenHeight,this.t0t=t.windowOuterWidth,this.s0t=t.windowOuterHeight,this.i0t=t.windowHasFocus,this.e0t=t.isConstructArcade})))}Qn(){super.Qn()}p0t(){this.$Gt("ready-for-sw-messages")}async a0t(t){const s=!!t.isOnline;this.JKt!==s&&(this.JKt=s,this.JKt?await this.Cj(nI.Nj.si.Gj.y0t):await this.Cj(nI.Nj.si.Gj.M0t))}async yjt(){await this.Cj(nI.Nj.si.Gj.w0t)}async CUt(){this.i0t=!0,await this.Cj(nI.Nj.si.Gj.S0t)}async xUt(){this.i0t=!1,await this.Cj(nI.Nj.si.Gj.T0t)}m0t(){this.lW(nI.Nj.si.Gj.b0t)}g0t(){this.lW(nI.Nj.si.Gj.v0t)}async l0t(){await this.Cj(nI.Nj.si.Gj.x0t)}u0t(t){const s=t.type;"downloading-update"===s?this.lW(nI.Nj.si.Gj.C0t):"update-ready"===s||"update-pending"===s?this.lW(nI.Nj.si.Gj.I0t):"offline-ready"===s&&this.lW(nI.Nj.si.Gj.G0t)}c0t(t){this.VKt=t.location,this.lW(nI.Nj.si.Gj.E0t)}f0t(){this.r0t=!0,this.lW(nI.Nj.si.Gj.N0t)}d0t(t){this.r0t=!1,this.lW(nI.Nj.si.Gj.D0t)}_0t(){return this.o0t}A0t(t){t=!!t,this.o0t!==t&&(this.o0t=t,this.$Gt("set-warn-on-close",{enabled:t}))}KGt(){const t="plugins.browser.debugger";return[{title:"plugins.browser.name",properties:[{name:t+".user-agent",value:navigator.userAgent},{name:t+".is-online",value:this.JKt},{name:t+".is-fullscreen",value:this.Fc.vj().ezt()}]}]}}}{const hI=self.Gs;hI.Nj.si.Gj={L0t(){return this.JKt},y0t:()=>!0,M0t:()=>!0,w0t:()=>!0,S0t:()=>!0,T0t:()=>!0,O0t(){return this.i0t},R0t(){return this.ZKt},P0t(){return this.Fc.vj().ezt()},x0t:()=>!0,k0t(t){return(this.Fc.vj().MJ()<=this.Fc.vj().wJ()?0:1)===t},C0t:()=>!0,I0t:()=>!0,G0t:()=>!0,E0t:()=>!0,N0t:()=>!0,F0t(){return this.r0t},j0t(t){switch(t){case 0:return"accepted"===this.h0t;case 1:return"dismissed"===this.h0t;case 2:return"error"===this.h0t;case 3:return!0;default:return!1}},D0t:()=>!0,z0t(t){const s=this.Fc.vj().rzt();switch(t){case 0:return"browser"===s;case 1:return"minimal-ui"===s;case 2:return"standalone"===s;case 3:return"fullscreen"===s;default:return!1}},B0t(){return this._0t()},$0t(){return!this.Fc.hF()},b0t:()=>!0,v0t:()=>!0,U0t:()=>!1,W0t:()=>!1,Y0t:()=>!1,Q0t:()=>!1,V0t:()=>!1,J0t:()=>!0,H0t:()=>!0}}{const C3=self.Gs,ORIENTATIONS=["portrait","landscape","portrait-primary","portrait-secondary","landscape-primary","landscape-secondary"];C3.Nj.si.hrt={q0t(t){this.$Gt("alert",{message:t.toString()})},Z0t(){this.e0t||(this.Fc.yW()?self.MW.X0t():this.$Gt("close"))},K0t(){this.$Gt("set-focus",{isFocus:!0})},t1t(){this.$Gt("set-focus",{isFocus:!1})},s1t(){this.e0t||this.$Gt("navigate",{type:"back"})},i1t(){this.e0t||this.$Gt("navigate",{type:"forward"})},e1t(){},n1t(){this.e0t||(this.Fc.yW()?this.Fc.RUt({type:"reload"}):this.$Gt("navigate",{type:"reload"}))},r1t(t,s){this.WGt("navigate",{type:"url",url:t,target:s,exportType:this.Fc.wz()})},h1t(t,s){this.WGt("navigate",{type:"new-window",url:t,tag:s,exportType:this.Fc.wz()})},o1t(t,s){t>=2&&(t+=1),6===t&&(t=2),1===t&&(t=0);const i=C3.Zkt.czt(t);this.Fc.vj().ozt(i),this.WGt("request-fullscreen",{navUI:s})},a1t(){this.WGt("exit-fullscreen")},l1t(t){const s=t.split(",");for(let t=0,i=s.length;t<i;++t)s[t]=parseInt(s[t],10);this.WGt("vibrate",{pattern:s})},async sj(t,s){if(!t||!s)return;const i=await this.Fc.lk().$j(t);this.Fc.sj(i,s)},u1t(t,s,i){if(!i)return;const e=`data:${s},${encodeURIComponent(t)}`;this.Fc.sj(e,i)},c1t(t,s){s=s.toString(),0===t?console.log(s):1===t?console.warn(s):2===t&&console.error(s)},f1t(t){console.group(t)},d1t(){console.groupEnd()},p1t(jsStr){try{eval(jsStr)}catch(t){console.error("Error executing JavaScript: ",t)}},m1t(t){if((t=Math.floor(t))<0||t>=ORIENTATIONS.length)return;const s=ORIENTATIONS[t];this.WGt("lock-orientation",{orientation:s})},g1t(){this.WGt("unlock-orientation")},tz(t){this.Fc.lk().tz(t)},async y1t(t,s,i,e){await this.UGt("set-document-css-style",{prop:C3.To(t),value:s,selector:i,"is-all":0!==e})},async M1t(t,s,i){const e=await this.UGt("get-document-css-style",{prop:t,selector:s});e.isOk&&this.n0t.set(i.toLowerCase(),e.result.trim())},w1t(t){this.$Gt("set-hash",{hash:t})},S1t(t,s){this.$Gt("set-window-size",{windowWidth:t,windowHeight:s})},T1t(t,s){this.$Gt("set-window-position",{windowX:t,windowY:s})},async b1t(){const t=await this.UGt("request-install");this.h0t=t.result,this.lW(C3.Nj.si.Gj.j0t)},v1t(t){this.A0t(t)}}}{const C3=self.Gs;C3.Nj.si.ort={URL(){return this.Fc.vk()?this.VKt:location.toString()},x1t(){return this.Fc.vk()?new URL(this.VKt).protocol:location.protocol},C1t(){return this.Fc.vk()?new URL(this.VKt).hostname:location.hostname},Port(){return this.Fc.vk()?new URL(this.VKt).port:location.port},I1t(){return this.Fc.vk()?new URL(this.VKt).pathname:location.pathname},G1t(){return this.Fc.vk()?new URL(this.VKt).hash:location.hash},Hs(){return this.Fc.vk()?new URL(this.VKt).search:location.search},E1t(t){const s=this.Fc.vk()?new URL(this.VKt).search:location.search,i=RegExp("[?&]"+t+"=([^&]*)").exec(s);return i?decodeURIComponent(i[1].replace(/\+/g," ")):""},N1t(){return this.HKt},D1t(){return this.qKt},_1t:()=>navigator.language,Xs:()=>navigator.platform,A1t:()=>navigator.userAgent,L1t(jsStr){let result=0;try{result=eval(jsStr)}catch(t){console.error("Error executing JavaScript: ",t)}return"number"==typeof result||"string"==typeof result?result:"boolean"==typeof result&&result?1:0},CSSStyleValue(t){return this.n0t.get(t)||""},O1t:()=>navigator.appName,R1t:()=>navigator.appVersion,P1t:()=>navigator.product,k1t:()=>navigator.vendor,F1t:()=>1,j1t:()=>1/0,z1t(){const t=navigator.connection;return t&&(t.downlink||t.downlinkMax||t.bandwidth)||1/0},ConnectionType(){const t=navigator.connection;return t&&t.type||"unknown"},B1t:()=>self.devicePixelRatio,$1t(){return this.XKt},U1t(){return this.KKt},W1t(){return this.Fc.vj().MJ()},Y1t(){return this.Fc.vj().wJ()},Q1t(){return this.t0t},V1t(){return this.t0t},J1t(){return this.Fc.vj().rzt()},H1t(){return this.h0t}}}{let oI=function(t){return"number"==typeof t?-t:t},aI=function(t,s){return"number"==typeof t&&"number"==typeof s},lI=function(t,s){return aI(t,s)?t+s:t},uI=function(t,s){return aI(t,s)?t-s:t},cI=function(t,s){return aI(t,s)?t*s:t},fI=function(t,s){return aI(t,s)?t/s:t},dI=function(t,s){return aI(t,s)?t%s:t},pI=function(t,s){return aI(t,s)?Math.pow(t,s):t},mI=function(t,s){if("string"==typeof t||"string"==typeof s){let i,e;return i="number"==typeof t?(Math.round(1e10*t)/1e10).toString():t,e="number"==typeof s?(Math.round(1e10*s)/1e10).toString():s,i+e}return t&&s?1:0},gI=function(t,s){return aI(t,s)?t||s?1:0:t};unaryminus=oI,bothNumbers=aI,add=lI,subtract=uI,multiply=cI,divide=fI,mod=dI,pow=pI,and=mI,or=gI;const yI=self.Gs;self.kTt=[()=>1,t=>{const s=t.VTt(0).dTt(),i=t.VTt(1).dTt(),e=t.VTt(2).dTt(),n=t.VTt(3).dTt(),r=t.VTt(4).dTt(),h=t.VTt(5).dTt(),o=t.VTt(6).dTt(),a=t.VTt(7).dTt(),l=t.VTt(8).dTt(),u=t.VTt(9).dTt(),c=t.VTt(10).dTt(),f=t.VTt(11).dTt(),d=t.VTt(12).dTt();return()=>mI(mI(mI(mI(12===s(i())?"12":e(n())>12?r(h())-12:o(a()),":"),l(u(c()),2)),"[size=120]"),f(d())<12?"AM":"PM")},t=>{const s=t.VTt(0);return()=>s.wTt()},t=>{const s=t.VTt(0).dTt(),i=t.VTt(1).dTt(),e=t.VTt(2).dTt(),n=t.VTt(3).dTt(),r=t.VTt(4).dTt(),h=t.VTt(5).dTt(),o=t.VTt(6).dTt(),a=t.VTt(7).dTt(),l=t.VTt(8).dTt(),u=t.VTt(9).dTt(),c=t.VTt(10).dTt();return()=>mI(mI(12===s(i())?"12":e(n())>12?r(h())-12:o(a()),":"),l(u(c()),2))},()=>"",()=>0]}}}),import_c3runtime=__toESM(require_c3runtime()),C32=self.Gs;self.$Ut=function(){return[C32.Nj.SpeechSynthesis,C32.Nj.Date,C32.Nj.Text,C32.Nj.si,C32.Nj.Ej.Gj.HQt,C32.Nj.Ej.Gj.J4,C32.Nj.Text.hrt.$c,C32.Nj.Date.ort.Yqt,C32.Nj.Date.ort.mZt,C32.Nj.Ej.ort.uHt,C32.Nj.Date.ort.Qqt,C32.Nj.Text.Gj.vCt,C32.Nj.Text.ort.Text,C32.Nj.SpeechSynthesis.hrt.Lqt,C32.Nj.Text.hrt.PCt,C32.Nj.si.Gj.C0t,C32.Nj.si.Gj.I0t,C32.Nj.si.hrt.n1t]},self.uWt=[{SpeechSynthesis:0},{Date:0},{q1t:0},{Text:0},{si:0}],self.Z1t={SpeechSynthesis:class extends self.IU{},Date:class extends self.IU{},Text:class extends self.eKt{},si:class extends self.IU{}};
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 3.4.1

Copyright (c) 2015-2021, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/